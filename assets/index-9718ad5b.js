//6
var fM=Object.defineProperty;var mM=(t,e,n)=>e in t?fM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pb=(t,e,n)=>(mM(t,typeof e!="symbol"?e+"":e,n),n);import{j as hp,R as fe,r as l,a as Bd}from"./react-11ad9974.js";import{d as sn,c as hM,a as gM,w as pM,l as vM,b as bM,e as wM,f as yM,r as CM,u as SM}from"./dayjs-58c5dd90.js";import{i as Or,t as O}from"./i18next-c73dc616.js";import{l as ar}from"./localforage-42b533ed.js";import{i as xM,u as Qi}from"./react-i18next-61ba1977.js";import{l as vb}from"./electron-log-39892505.js";import{R as td,r as Wi,a as AM,c as V1}from"./react-dom-ad405c1c.js";import{_ as st,d as Zo,o as ei,f as Vn,b as jn,p as W,m as pe,e as q,l as K,q as Ee,k as j1,j as Pt,r as ht,s as Ji,t as Ar,u as EM,v as Zi,w as z1,g as U1}from"./@babel-260269db.js";import{u as Ts,a as bb,Q as IM,b as _M,d as PM}from"./react-query-c78ce74a.js";import{c as MM,R as kM}from"./react-router-dom-28f205e1.js";import{c as X}from"./classnames-c74120a4.js";import{m as nc,u as RM}from"./@emotion-c0b5c018.js";import{s as TM,c as OM,a as NM}from"./stylis-5efc5547.js";import{i as fl,r as DM,a as $M,T as rn}from"./@ctrl-03fa0c70.js";import{u as xr,a as qo,b as va,c as gp,d as pp,e as FM,f as vp,g as LM,h as H1,i as BM,j as W1,k as wb,l as VM}from"./ahooks-0f0ed15d.js";import{S as ln,M as ge,L as G1,P as _h,g as jM,A as Ph,a as zM,b as Ko,c as uo,G as mi,C as Ue,d as UM,e as Lu,f as Mh,h as bp,i as nd,O as q1}from"./@openim-a63ca2b1.js";import{c as Vd}from"./zustand-14da06db.js";import{t as kh}from"./twemoji-540bbbe7.js";import{a as HM}from"./axios-26ac709a.js";import{v as On}from"./uuid-4a60fe23.js";import{m as WM}from"./mitt-f7ef348c.js";import{b as jd,c as GM,O as K1,d as wp,e as qM,f as KM,N as YM,g as XM}from"./react-router-e84d70e0.js";import{i as QM,a as JM,b as ZM}from"./date-fns-27ddccf6.js";import{c as Mt}from"./clsx-a2f71979.js";import{I as ek}from"./react-image-file-resizer-3cc20154.js";import{i as tk}from"./resize-observer-polyfill-0f9f8adb.js";import{e as nk}from"./scroll-into-view-if-needed-247ac2f3.js";import{d as rk}from"./throttle-debounce-87e7e444.js";import{m as yb}from"./md5-ffbe311d.js";import{V as No}from"./react-virtuoso-e1d9e9c1.js";import{D as Y1}from"./react-draggable-a9e3b63d.js";import{u as yp}from"./react-use-cc94cbd6.js";import{P as ok,a as Cb,b as ik}from"./react-resizable-panels-2ebb3bd3.js";import{I as X1,Z as sk,P as Q1,S as J1,a as Z1,M as eS,b as tS,c as nS,T as rS,E as oS,F as iS,d as ak}from"./xgplayer-ac1eb2ea.js";import{i as wi,a as Sb,b as Eo,c as Cp,d as Es,e as rd,m as Sp,f as sS,u as lk,g as od,s as ck,h as uk,j as Sa,k as dk,l as Bo,n as xb,t as id,o as fk,p as mk}from"./lodash-es-039c886b.js";import{b as hk,c as gk,a as pk,d as vk,e as bk,f as wk,g as yk,h as Ck,i as Sk,j as xk,k as Ak,l as Ek,m as Ik,t as _k,n as Pk,p as Mk,o as kk,q as Rk,r as Tk,s as Ok,u as Nk,v as Dk,w as $k,x as Fk,y as Lk,z as Bk,A as Vk,B as jk,C as zk,D as Uk,E as Hk,F as Wk,G as Gk,H as qk,I as Kk,J as Yk,K as Xk,L as Qk,M as Jk,N as Zk,O as eR,P as tR,Q as nR,R as rR,S as oR,T as iR,U as sR,V as aR,W as lR,X as cR,Y as uR,Z as dR,_ as fR,$ as mR,a0 as hR,a1 as gR,a2 as pR,a3 as vR,a4 as bR,a5 as wR,a6 as yR,a7 as CR,a8 as SR,a9 as Ab,aa as zd,ab as xR,ac as AR,ad as ER,ae as IR,af as _R}from"./@ckeditor-6ab12b32.js";import"./color-convert-d47c3cb3.js";import{P as PR}from"./emoji-picker-element-ec9d8710.js";import"./scheduler-765c72db.js";import"./@remix-run-1f835eaf.js";import"./tslib-b745fb4d.js";import"./lodash-858845ea.js";import"./intersection-observer-90e9e37b.js";import"./react-fast-compare-922b1222.js";import"./use-sync-external-store-0e343eac.js";import"./compute-scroll-into-view-ff36de3a.js";import"./crypt-5ea4a8e1.js";import"./charenc-bfd911d6.js";import"./is-buffer-793dba8c.js";import"./prop-types-08c7c3df.js";import"./copy-to-clipboard-5e8b3f9a.js";import"./toggle-selection-93f4ad84.js";import"./color-name-b7949e8c.js";function que(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const to=hp.Fragment,A=hp.jsx,Z=hp.jsxs;ar.config({name:"OpenIM-Config"});const qde=t=>localStorage.setItem("IM_AREA_CODE",t),Kde=t=>localStorage.setItem("IM_PHONE_NUM",t),Yde=t=>localStorage.setItem("IM_EMAIL",t),Xde=t=>localStorage.setItem("IM_LOGIN_METHOD",t),MR=t=>ar.setItem("IM_TOKEN",t),kR=t=>ar.setItem("IM_CHAT_TOKEN",t),RR=t=>ar.setItem("IM_USERID",t),Qde=({chatToken:t,imToken:e,userID:n})=>{MR(e),kR(t),RR(n)},Jde=async t=>ar.setItem("".concat(await yi(),"_accessedFriendApplications"),t),Zde=async t=>ar.setItem("".concat(await yi(),"_accessedGroupApplications"),t),Rh=async t=>ar.setItem("".concat(await yi(),"_customEmojis"),t),TR=t=>localStorage.setItem("IM_LOCALE",t),OR=t=>localStorage.setItem("IM_SEND_ACTION",t),Eb=async t=>ar.setItem("imageCache",t),aS=()=>{ar.removeItem("IM_TOKEN"),ar.removeItem("IM_CHAT_TOKEN"),ar.removeItem("IM_USERID")},efe=()=>localStorage.getItem("IM_PHONE_NUM"),tfe=()=>localStorage.getItem("IM_EMAIL"),nfe=()=>{var t;return(t=localStorage.getItem("IM_LOGIN_METHOD"))!=null?t:"phone"},rc=async()=>await ar.getItem("IM_TOKEN"),Ic=async()=>await ar.getItem("IM_CHAT_TOKEN"),yi=async()=>await ar.getItem("IM_USERID"),lS=async()=>{var t;return(t=await ar.getItem("".concat(await yi(),"_accessedFriendApplications")))!=null?t:[]},cS=async()=>{var t;return(t=await ar.getItem("".concat(await yi(),"_accessedGroupApplications")))!=null?t:[]},Th=async()=>{var t;return(t=await ar.getItem("".concat(await yi(),"_customEmojis")))!=null?t:[]},NR=async()=>{var t;return(t=await ar.getItem("imageCache"))!=null?t:{}},uS=()=>{var t;return((t=window.electronAPI)==null?void 0:t.ipcSendSync("getKeyStoreSync",{key:"language"}))||localStorage.getItem("IM_LOCALE")||window.navigator.language||"en-US"},DR=()=>localStorage.getItem("IM_SEND_ACTION")||"enter",$R="I",FR="You",LR="Yes",BR="No",VR="Confirm",jR="Cancel",zR="Canceled",UR="Pieces",HR="Open",WR="Close",GR="Clear",qR="Click to view",KR="Jump to message",YR={syncing:"Syncing",syncFailed:"Sync Failed",connecting:"Connecting",connectFailed:"Connect Failed"},XR={accessSuccess:"Operation successful!",accessFailed:"Operation failed!",getConversationFailed:"Failed to get conversation list!",getGroupInfoFailed:"Failed to get group information!",getGroupMemberFailed:"Failed to get group member information!",getHistoryMessageFailed:"Failed to get history messages!",getSelfInfoFailed:"Failed to get personal information!",getFriendListFailed:"Failed to get friend list!",getBlackListFailed:"Failed to get blacklist!",getGroupListFailed:"Failed to get group list!",getOnlineStatusFailed:"Failed to get online status!",getMemberListFailed:"Failed to get group members!",getUserInfoFailed:"Failed to get user information!",pinConversationFailed:"Failed to modify pinned conversation status!",setConversationRecvMessageOptFailed:"Failed to modify conversation message reception status!",clearConversationMessagesFailed:"Failed to delete conversation messages!",deleteConversationFailed:"Failed to delete conversation!",updateGroupVerificationFailed:"Failed to modify group verification method!",updateGroupInfoFailed:"Failed to modify group information!",updateConversationPrivateStateFailed:"Failed to modify after-reading burn status!",updateBlackStateFailed:"Failed to modify blacklist status!",unfriendFailed:"Failed to unfriend!",getMessageListFailed:"Failed to get message list!",sendApplicationFailed:"Failed to send request!",loading:"Logging in...",syncing:"Syncing...",syncFailed:"Sync failed!",appUpdate:"App update",updateVersion:"New version {{version}} found. {{description}}. Update now?",clearChatHistory:"Clear chat history",confirmClearChatHistory:"Are you sure you want to clear chat history?",applyUpdateSuccess:"Update successful, effective after restart!",applyDownloadSuccess:"Download complete, follow the installer to update!",applyDownloadFailed:"Download failed!",loginExpiration:"Current login has expired, please log in again!",accountKicked:"Your account has logged in on another device, please log in again!",updatePasswordSuccess:"Password updated successfully, please log in again!",inputOldPassword:"Please enter your old password!",passwordRules:"6-20 characters ,at least including numbers and letters",reconfirmPassword:"Please confirm your password again",passwordsDifferent:"Passwords do not match!",confirmlogOut:"Are you sure you want to log out of the current account?",updateAvatarFailed:"Failed to change avatar!",notCanSendMessage:"Cannot send messages in a group chat that you have quit!",groupMuted:"The administrator or group owner has muted everyone!",currentMuted:"You have been muted by the administrator or group owner!",messagesDeleteFailed:"Some messages failed to delete!",confirmkickMember:"Are you sure you want to kick {{name}} from the group chat?",addSuccess:"Added successfully!",copySuccess:"Copied successfully!",copyFailed:"Copy failed!",confirmAllMuted:"Are you sure you want to mute everyone?",confirmDisbandGroup:"Are you sure you want to disband this group?",confirmExitGroup:"Are you sure you want to exit this group?",confirmMoveBlacklist:"Are you sure you want to add this friend to the blacklist?",userBlacked:"This user has been added to the blacklist!",confirmUnfriend:"Are you sure you want to unfriend?",selectLeastOne:"Please select at least one option!",inputGroupName:"Please enter a group name",sendSuccess:"Sent successfully!",beyondSelectionLimit:"Selection limit exceeded!",sendJoinGroupRequestSuccess:"Sent group join request successfully!",inputNickName:"Please enter a nickname",inputPhoneNumber:"Please enter phone number",inputCorrectPhoneNumber:"Please enter a valid phone number!",inputEmail:"Please enter email address",inputCorrectEmail:"Please enter a valid email address!",inputVerifyCode:"Please enter your verification code",inputPassword:"Please enter your password",sendFreiendRequestSuccess:"Friend request sent successfully!",registerSuccess:"Registration successful!",inputInvitationCode:"Please enter your invitation code",downloadFailed:"Download failed!",beingBlacklist:"The other party has added you to the blacklist!",usingFriendVerification:"Friend verification is enabled, you are not yet their friend!",confirmDeleteMoment:"Are you sure you want to delete this moment?",uploadFailed:"Upload failed!",somethingError:"Seems like there was a small issue~",getLogFailed:"Failed to retrieve the log file!",publishFailed:"Failed to publish!",notCanAddFriend:"The other party has been set up not to be added as a friend!",fileTypeError:"Unsupported file type or folder!"},QR={conversation:"Conversation",leaveMessage:"Leave a message",recover:"Click to recover",selectMember:"Select member",setInfo:"Set information",regain:"Retrieve again",optional:"(Optional)",invitationCode:"Invitation code",getBack:"Return",nextStep:"Next step",register:"Register new user",registerToast:"Don't have an account yet?",toRegister:"Register now",login:"Login",pleaseEnterSendTo:"Please enter sent to",verifyCode:"Verification code",verifyValidity:"6-digit verification code, valid for 10 minutes",sendVerifyCode:"Send verification code",qrCodeLogin:"QR code login",qrCodeLoginTitle:"Please scan the QR code using OpenIM mobile",welcome:"Welcome to 聊聊唄",title:"Online office collaboration",subTitle:"多國伺服器、打造隱私天堂",myCreated:"I created",myJoined:"I joined",newFriends:"New friends",groupNotification:"Group notification",friendVerification:"Friend verification",groupInfo:"Group information",personalInfo:"Personal information",inviteToGroup:" Invite to group",qrCodeToGroup:"Join group by scanning QR code",selectIDToGroup:"Search group ID",remark:"Remark",email:"Email",phoneNumber:"Phone Number",verifyPhoneNumber:"Verify phone number",verifyEmail:"Verify email",birth:"Birthday",gender:"Gender",man:"Male",female:"Female",unknown:"Unknown",nickName:"Nickname",groupNickName:"Group Nickname",joinGroupTime:"Joined Time",joinGroupMode:"Joined Method",editInfo:"Edit profile",message:"Chat information",relevantMessage:"{{count}} related chat records",overview:"Overview",latestChat:"Recent Chats",myFriend:"My Friends",myGroup:"My Groups",groupName:"Group Name",groupAvatar:"Group Avatar",groupMember:"Group Members",selected:"Selected",moveBlacklist:"Add to Blacklist",willFilterThisUserMessage:"You will not receive messages from this friend.",unfriend:"Unfriend",setStarFriend:"Set as Starred Friend",shieldConversation:"Block this Conversation",privateChat:"Burn after Reading",privateChatTime:"Burn after Reading Time",isRead:"Read",isReadList:"Message Read List",allIsRead:"All Read",isReadNum:"{{num}} have read",unreadNum:"{{num}} unread",unread:"Unread",revoke:"Revoke",copy:"Copy",check:"Multiple Selection",sendMessage:"Send Message",save:"Save",group:"Group",groupTppe:"Group Type",workGroup:"Work Group",myGroupNickname:"My Group Nickname",notNotify:"Mute Notifications",allMuted:"Mute All",allMutedClose:"Unmute All",groupVerification:"Group Verification",groupMemberPermissions:"Group Member Permissions",transferGroup:"Transfer Group",exitGroup:"Leave Group",exitGroupToast:"After exiting, you will no longer receive messages from this group.",disbandGroup:"Disband Group",disbandGroupToast:"All group members will be removed.",and:"{{someone}} and {{otherone}}",groupOwner:"Group Owner",administrator:"Administrator",setAdministrator:"Set as Administrator",mute:"Mute",cancelMute:"Unmute",setMute:"Set Mute",onlyManageCanSend:"Only group owner and administrators can send messages.",publish:"Publish",edit:"Edit",call:"Call",file:"File",document:"Documents",emoji:"Emoji",image:"Image",video:"Video",card:"Card",personalCard:"Personal Card",screenshot:"Screenshot",sticky:"Sticky on Top",removeSticky:"Remove from Top",draft:"Draft",pleaseEnter:"Please Enter",enterGroupName:"Choose a group name for easy to searches",clickToModify:"Click to Modify",search:"Search",about:"About Us",password:"Password",forgetPassword:"Forget Password",changePassword:"Change Password",checkNewVersion:"Check for New Version",viewMore:"View More",add:"Add",remove:"Remove",delete:"Delete",close:"Close",finder:"View",blackList:"Contact Blacklist",oldPassword:"Old Password:",newPassword:"New Password:",confirmPassword:"Confirm Password:",chat:"Messages",contact:"Contacts",contacts:"Contacts",myInfo:"My Information",accountSetting:"Account Settings",logOut:"Log Out",personalSetting:"Personal Settings",chooseLanguage:"Choose Language",closeButtonEvent:"Event when clicking the close button",exitApplication:"Exit Application",minimize:"Minimize to Tray",messageToast:"Message Alert",messageAllowBeep:"New Message Sound Alert",messageNotNotify:"Do Not Disturb Mode",addFriends:"Add Friends",verifyAdd:"Add",addGroup:"Add Group",createGroup:"Create Group Chat",createNow:"Create Now",createGroupToast:"Create a group to start online collaboration.",addFriendsSetting:"Add Friend Settings",refuseAddFriend:"Disallow Adding Me as a Friend",markAsRead:"Mark as Read",send:"Send",sendTo:"Send To:",groupAnnouncement:"Group Announcement",noGroupAnnouncement:"No group announcements yet~",needManageEdit:"Only the group owner and administrators can edit",loosenToSend:"Release to Send",reEdit:"Re-edit",multipleNewMessages:"{{count}} new messages",reply:"Reply",sendShortcutkey:"Enter to Send/Shift+Enter for New Line",sendWithEnter:"Send with Enter",sendWithShiftEnter:"Send with Shift+Enter",mentionAll:"Everyone",forward:"Forward",mergeForward:"Merge and Forward",messageHistory:"Chat History",whosMessageHistory:"Chat History for {{who}} ",screenshotHideWindow:"Hide current window screenshot",historyList:"History",memberList:"Group member list",invitation:"Invite",share:"Share contact card",selectUser:"Select user",setting:"Settings",offLine:"Offline",online:"Online",typing:"Typing...",kick:"Kick out",kickMember:"Kick out member",forbidLookMemberInfo:"Forbidden to view other group member's details",forbidAddMember:"Forbidden to add group members as friends",applyNeedInvite:"Group member invitation doesn't need verification",applyNeedVerification:"Verification message required",applyAll:"Allow everyone to join the group"},JR={noMoments:"No moments available",noMoreMessage:"No more messages",showAllResults:"All results displayed!",noSearchResults:"No relevant results found!",fileContentEmpty:"File is empty!"},ZR={imageMessage:"[Image]",voiceMessage:"[Voice]",fileMessage:"[File]{{file}}",locationMessage:"[Location]{{location}}",videoMessage:"[Video]",cardMessage:"[Card]",faceMessage:"[Emoji]",rtcMessage:"[Call]",quoteMessage:"[Quoted Message]",massMessage:"[Group Notification]",mergeMessage:"[Chat History]",callMessage:"[Call]",meetingMessage:"[Meeting Invitation]",customMessage:"[Custom Message]",notSupMessage:"[Unsupported Message Type]",drftPrefix:"[Draft]",atAllPrefix:"[Everyone]",atYouPrefix:"[Someone @you]",unreadCount:"[{{count}} messages]",catchMessage:"[Unsupported Message Type]",forwardMessage:"[Forward] {{additional}}",addtionalCardMessage:"[Card] {{additional}}",quoteMessageRevoke:"The cited content has been deleted",groupAnnouncementPrefix:"[Group Announcement]",revokeMessage:"{{revoker}} recalled a message",advanceRevokeMessage:"{{operator}} recalled a message sent by {{revoker}}",alreadyFriendMessage:"You are now friends and can start chatting!",createGroupMessage:"{{creator}} created a group chat",updateGroupInfoMessage:"{{operator}} updated the group info",updateGroupNameMessage:"{{operator}} changed the group name to {{name}}",updateGroupAnnouncementMessage:"{{operator}} updated the group announcement",transferGroupMessage:"{{owner}} transferred group ownership to {{newOwner}}",quitGroupMessage:"{{name}} quit the group chat",invitedToGroupMessage:"{{operator}} invited {{invitedUser}} to join the group chat",kickInGroupMessage:"{{operator}} was removed from the group by {{kickedUser}}",joinGroupMessage:"{{name}} joined the group chat",disbanedGroupMessage:"{{operator}} disbanded the group chat",allMuteMessage:"{{operator}} enabled group mute",cancelAllMuteMessage:"{{operator}} disabled group mute",singleMuteMessage:"{{name}} was muted by {{operator}} for {{muteTime}}",cancelSingleMuteMessage:"{{name}} had their mute canceled by {{operator}}",burnReadStatus:"Burn after reading is {{status}}"},eT={day:"Day",week:"Week",month:"Month",today:"Today",yesterday:"Yesterday",startTime:"Start Time"},tT={second:"{{num}} second(s)",minute:"{{num}} minute(s)",hour:"{{num}} hour(s)",day:"{{num}} day(s)",weeks:"{{num}} week(s)",month:"{{num}} month(s)",justNow:"Just now",thisWeek:"This week",thisMonth:"This month",earlier:"Earlier",custom:"Custom"},nT={agree:"Agree",refuse:"Refuse",agreed:"Agreed",refused:"Refused",information:"Verification Information",pending:"Pending Verification",applyToJoin:"Apply to Join",applyToFriend:"Applied to Add You as a Friend"},rT={passwordError:"Password error",accountNotExist:"Account doesn't exist",phoneNumberRegistered:"Phone already register",accountRegistered:"Account already registered",operationTooFrequent:"Operation too frequent, please try again later",verificationCodeError:"Incorrect verification code",verificationCodeExpired:"Verification code expired",verificationCodeErrorLimitExceed:"Verification code error limit exceeded, please try again later",verificationCodeUsed:"Verification code already used",invitationCodeUsed:"Invitation code already used",invitationCodeNotExist:"Invitation code does not exist",operationRestriction:"Operation restricted"},oT={me:$R,you:FR,yes:LR,no:BR,confirm:VR,cancel:jR,canceled:zR,pieces:UR,open:HR,close:WR,clear:GR,clickToView:qR,jumpToMessage:KR,connect:YR,toast:XR,placeholder:QR,empty:JR,messageDescription:ZR,time:eT,date:tT,application:nT,errCode:rT},iT="我",sT="你",aT="是",lT="否",cT="確認",uT="取消",dT="已取消",fT="條",mT="開啟",hT="關閉",gT="清空",pT="點擊查看",vT="跳轉到消息",bT={syncing:"同步中",syncFailed:"同步失敗",connecting:"連接中",connectFailed:"連接失敗"},wT={accessSuccess:"操作成功！",accessFailed:"操作失敗！",getConversationFailed:"獲取會話列表失敗！",getGroupInfoFailed:"獲取群資訊失敗！",getGroupMemberFailed:"獲取群成員資訊失敗！",getHistoryMessageFailed:"獲取歷史消息失敗！",getSelfInfoFailed:"獲取個人資訊失敗！",getFriendListFailed:"獲取好友列表失敗！",getBlackListFailed:"獲取黑名單列表失敗！",getGroupListFailed:"獲取群列表失敗！",getOnlineStatusFailed:"獲取線上狀態失敗！",getMemberListFailed:"獲取群成員失敗！",getUserInfoFailed:"獲取用戶資訊失敗！",pinConversationFailed:"修改會話置頂狀態失敗！",setConversationRecvMessageOptFailed:"修改會話消息接收狀態失敗！",clearConversationMessagesFailed:"刪除會話消息失敗！",deleteConversationFailed:"刪除會話失敗！",updateGroupVerificationFailed:"修改群驗證方式失敗！",updateGroupInfoFailed:"修改群資訊失敗！",updateConversationPrivateStateFailed:"修改閱後即焚狀態失敗！",updateBlackStateFailed:"修改黑名單狀態失敗！",unfriendFailed:"解除好友失敗！",getMessageListFailed:"獲取消息列表失敗！",sendApplicationFailed:"發送請求失敗！",loading:"登錄中...",syncing:"同步中...",syncFailed:"同步失敗！",appUpdate:"應用程式更新",updateVersion:"發現新版本{{version}}，{{description}}，是否立即更新？",clearChatHistory:"清空聊天記錄",confirmClearChatHistory:"確認清空聊天記錄嗎？",applyUpdateSuccess:"更新成功，重啟後生效！",applyDownloadSuccess:"下載完成，請跟隨安裝程式繼續更新！",applyDownloadFailed:"下載失敗！",loginExpiration:"當前登錄已過期,請重新登錄！",accountKicked:"您的帳號已在其他設備登錄,請重新登錄！",updatePasswordSuccess:"修改密碼成功，請重新登錄！",inputOldPassword:"請輸入原密碼！",passwordRules:"6-20位，至少包含數字、字母",reconfirmPassword:"請再次確認您的密碼",passwordsDifferent:"兩次輸入的密碼不一致！",confirmlogOut:"確認退出登錄當前帳號嗎？",updateAvatarFailed:"修改頭像失敗！",notCanSendMessage:"無法在已退出的群聊發消息！",groupMuted:"管理員或群主已開啟全體禁言！",currentMuted:"您已被管理員或群主禁言！",messagesDeleteFailed:"部分消息刪除失敗！",confirmkickMember:"確認將{{name}}踢出群聊嗎？",addSuccess:"添加成功！",copySuccess:"複製成功！",copyFailed:"複製失敗！",confirmAllMuted:"確認開啟全體禁言嗎？",confirmDisbandGroup:"確認解散該群組嗎？",confirmExitGroup:"確認退出該群組嗎？",confirmMoveBlacklist:"確認將好友加入黑名單嗎？",userBlacked:"該用戶已被加入黑名單！",confirmUnfriend:"確認解除好友嗎？",selectLeastOne:"請至少選擇一項！",inputGroupName:"請輸入群名稱",sendSuccess:"發送成功！",beyondSelectionLimit:"超出選擇限制！",sendJoinGroupRequestSuccess:"發送入群請求成功！",inputNickName:"請輸入昵稱",inputPhoneNumber:"請輸入手機號",inputCorrectPhoneNumber:"請輸入正確的手機號！",inputEmail:"請輸入郵箱帳號",inputCorrectEmail:"請輸入正確的郵箱帳號！",inputVerifyCode:"請輸入您的驗證碼",inputPassword:"請輸入您的密碼",sendFreiendRequestSuccess:"發送好友請求成功！",registerSuccess:"註冊成功！",inputInvitationCode:"請輸入您的邀請碼",downloadFailed:"下載失敗！",beingBlacklist:"對方已將你加入黑名單",usingFriendVerification:"對方開啟了好友驗證，你還不是他的好友",confirmDeleteMoment:"確認刪除該條朋友圈嗎？",uploadFailed:"上傳失敗！",somethingError:"似乎出現了一點問題~",getLogFailed:"獲取日誌檔失敗！",publishFailed:"發佈失敗！",notCanAddFriend:"對方已設置不允許被添加為好友！",fileTypeError:"不支持的檔類型或檔夾！"},yT={conversation:"會話",leaveMessage:"留言",recover:"點擊恢復",selectMember:"選擇成員",setInfo:"設置資訊",regain:"重新獲取",optional:"（選填）",invitationCode:"邀請碼",getBack:"返回",nextStep:"下一步",register:"新用戶註冊",registerToast:"還沒有註冊？",toRegister:"立即註冊",login:"登錄",pleaseEnterSendTo:"請輸入發送至",verifyCode:"驗證碼",verifyValidity:"的 6 位驗證碼，有效期 10 分鐘",sendVerifyCode:"發送驗證碼",qrCodeLogin:"掃碼登錄",qrCodeLoginTitle:"請使用OpenIM移動端掃描二維碼",welcome:"歡迎使用聊聊唄",title:"秘密聊天",subTitle:"多國伺服器、打造隱私天堂",myCreated:"我創建的",myJoined:"我加入的",newFriends:"新的好友",groupNotification:"群通知",friendVerification:"好友驗證",groupInfo:"群組資訊",personalInfo:"個人資訊",inviteToGroup:"邀請入群",qrCodeToGroup:"掃碼入群",selectIDToGroup:"搜索群組ID",remark:"備註",email:"郵箱",phoneNumber:"手機號",verifyPhoneNumber:"驗證手機號",verifyEmail:"驗證郵箱",birth:"生日",gender:"性別",man:"男",female:"女",unknown:"未知",nickName:"昵稱",groupNickName:"群昵稱",joinGroupTime:"入群時間",joinGroupMode:"入群方式",editInfo:"編輯資料",message:"聊天資訊",relevantMessage:"{{count}}條相關聊天記錄",overview:"綜合",latestChat:"最近聊天",myFriend:"我的好友",myGroup:"我的群組",groupName:"群名稱",groupAvatar:"群頭像",groupMember:"群成員",selected:"已選擇",moveBlacklist:"加入黑名單",willFilterThisUserMessage:"將無法接收該好友消息。",unfriend:"解除好友",setStarFriend:"設置為星標好友",shieldConversation:"遮罩該會話",privateChat:"閱後即焚",privateChatTime:"閱後即焚時間",isRead:"已讀",isReadList:"消息已讀列表",allIsRead:"全部已讀",isReadNum:"{{num}}人已讀",unreadNum:"{{num}}人未讀",unread:"未讀",revoke:"撤回",copy:"複製",check:"多選",sendMessage:"發送消息",save:"保存",group:"群組",groupTppe:"群類型",workGroup:"工作群",myGroupNickname:"我的群聊昵稱",notNotify:"消息免打擾",allMuted:"全體禁言",allMutedClose:"解除全體靜音",groupVerification:"群聊驗證",groupMemberPermissions:"群成員許可權",transferGroup:"轉讓群組",exitGroup:"退出群組",exitGroupToast:"退出後你將不再接收該群組消息。",disbandGroup:"解散群組",disbandGroupToast:"解除後將移除所有群成員。",and:"{{someone}}和{{otherone}}",groupOwner:"群主",administrator:"管理員",setAdministrator:"設為管理員",mute:"禁言",cancelMute:"取消禁言",setMute:"設置禁言",onlyManageCanSend:"開啟後僅群主和管理員可發言。",publish:"發佈",edit:"編輯",call:"通話",file:"檔",document:"文檔",emoji:"表情",image:"圖片",video:"視頻",card:"名片",personalCard:"個人名片",screenshot:"截圖",sticky:"置頂",removeSticky:"取消置頂",draft:"草稿",pleaseEnter:"請輸入",enterGroupName:"取個群名稱方便後續搜索",clickToModify:"點擊修改",search:"搜索",about:"關於我們",password:"密碼",forgetPassword:"忘記密碼",changePassword:"修改密碼",checkNewVersion:"檢查新版本",viewMore:"查看更多",add:"添加",remove:"移除",delete:"刪除",close:"關閉",finder:"查看",blackList:"通訊錄黑名單",oldPassword:"原密碼:",newPassword:"新密碼:",confirmPassword:"確認密碼:",chat:"消息",contact:"通訊錄",contacts:"聯繫人",myInfo:"我的資訊",accountSetting:"帳號設置",logOut:"退出登錄",personalSetting:"個人設置",chooseLanguage:"選擇語言",closeButtonEvent:"點擊關閉按鈕時的事件",exitApplication:"退出應用",minimize:"最小化託盤",messageToast:"消息提示",messageAllowBeep:"新消息提示音",messageNotNotify:"勿擾模式",addFriends:"添加好友",verifyAdd:"驗證添加",addGroup:"添加群組",createGroup:"創建群聊",createNow:"立即創建",createGroupToast:"創建群組，立即開啟線上化辦公",addFriendsSetting:"添加好友設置",refuseAddFriend:"禁止添加我為好友",markAsRead:"標為已讀",send:"發送",sendTo:"發送給：",groupAnnouncement:"群公告",noGroupAnnouncement:"還沒有群公告哦～",needManageEdit:"只有群主及管理員可以編輯",loosenToSend:"鬆開發送給",reEdit:"重新編輯",multipleNewMessages:"{{count}}條新消息",reply:"回復",sendShortcutkey:"Enter發送/Shift+Enter換行",sendWithEnter:"按Enter發送",sendWithShiftEnter:"按Shift+Enter發送",mentionAll:"所有人",forward:"轉發",mergeForward:"合併轉發",messageHistory:"聊天記錄",whosMessageHistory:"{{who}}的聊天記錄",screenshotHideWindow:"隱藏當前窗口截圖",historyList:"歷史記錄",memberList:"群成員列表",invitation:"邀請",share:"分享名片",selectUser:"選擇用戶",setting:"設置",offLine:"離線",online:"線上",typing:"正在輸入",kick:"踢出",kickMember:"踢出成員",forbidLookMemberInfo:"不允許查看其他群成員資料",forbidAddMember:"不允許添加群成員為好友",applyNeedInvite:"群成員邀請無需驗證",applyNeedVerification:"需要發送驗證消息",applyAll:"允許所有人加群"},CT={noMoments:"暫無動態",noMoreMessage:"沒有更多消息了",showAllResults:"已展示全部結果！",noSearchResults:"未搜索到相關結果",fileContentEmpty:"檔為空！"},ST={imageMessage:"[圖片]",voiceMessage:"[語音]",fileMessage:"[檔]{{file}}",locationMessage:"[位置]{{location}}",videoMessage:"[視頻]",cardMessage:"[名片]",faceMessage:"[表情]",rtcMessage:"[通話]",quoteMessage:"[引用消息]",massMessage:"[群發通知]",mergeMessage:"[聊天記錄]",callMessage:"[通話]",meetingMessage:"[會議邀請]",customMessage:"[自定義消息]",notSupMessage:"[暫不支持的消息類型]",drftPrefix:"[草稿]",atAllPrefix:"[所有人]",atYouPrefix:"[有人@你]",unreadCount:"[{{count}}條]",catchMessage:"[暫未支持的消息類型]",forwardMessage:"[轉發] {{additional}}",addtionalCardMessage:"[名片] {{additional}}",quoteMessageRevoke:"引用內容已被刪除",groupAnnouncementPrefix:"[群公告]",revokeMessage:"{{revoker}}撤回了一條消息",advanceRevokeMessage:"{{operator}}撤回了一條{{revoker}}發送的消息",alreadyFriendMessage:"你們已經成為好友，可以開始聊天了！",createGroupMessage:"{{creator}}創建了群聊",updateGroupInfoMessage:"{{operator}}修改了群資訊",updateGroupNameMessage:"{{operator}}修改了群名稱為{{name}}",updateGroupAnnouncementMessage:"{{operator}}修改了群公告",transferGroupMessage:"{{owner}}轉讓了群主給{{newOwner}}",quitGroupMessage:"{{name}}退出了群聊",invitedToGroupMessage:"{{operator}}邀請了{{invitedUser}}加入群聊",kickInGroupMessage:"{{kickedUser}}被{{operator}}踢出群聊",joinGroupMessage:"{{name}}加入了群聊",disbanedGroupMessage:"{{operator}}解散了群聊",allMuteMessage:"{{operator}}開啟了全體禁言",cancelAllMuteMessage:"{{operator}}關閉了全體禁言",singleMuteMessage:"{{name}}被{{operator}}禁言{{muteTime}}",cancelSingleMuteMessage:"{{name}}被{{operator}}取消了禁言",burnReadStatus:"已{{status}}閱後即焚"},xT={day:"天",week:"周",month:"月",today:"今日",yesterday:"昨日",startTime:"開始時間"},AT={second:"{{num}}秒",minute:"{{num}}分鐘",hour:"{{num}}小時",day:"{{num}}天",weeks:"{{num}}周",month:"{{num}}月",justNow:"剛剛",thisWeek:"本周",thisMonth:"本月",earlier:"更早",custom:"自定義"},ET={agree:"同意",refuse:"拒絕",agreed:"已同意",refused:"已拒絕",information:"驗證資訊",pending:"等待驗證",applyToJoin:"申請加入",applyToFriend:"申請添加您為好友"},IT={passwordError:"密碼錯誤",accountNotExist:"帳號不存在",phoneNumberRegistered:"手機號已註冊",accountRegistered:"帳號已註冊",operationTooFrequent:"操作過於頻繁，請稍後再試",verificationCodeError:"驗證碼錯誤",verificationCodeExpired:"驗證碼已過期",verificationCodeErrorLimitExceed:"驗證碼錯誤次數超過限制，請稍後再試",verificationCodeUsed:"驗證碼已被使用",invitationCodeUsed:"邀請碼已被使用",invitationCodeNotExist:"邀請碼不存在",operationRestriction:"操作限制"},Ib={me:iT,you:sT,yes:aT,no:lT,confirm:cT,cancel:uT,canceled:dT,pieces:fT,open:mT,close:hT,clear:gT,clickToView:pT,jumpToMessage:vT,connect:bT,toast:wT,placeholder:yT,empty:CT,messageDescription:ST,time:xT,date:AT,application:ET,errCode:IT},_T={"en-US":{translation:oT},"zh-CN":{translation:Ib},zh:{translation:Ib}};Or.use(xM).init({resources:_T,lng:uS(),fallbackLng:"en-US",interpolation:{escapeValue:!1}}).then(()=>sn.locale(Or.language)).catch(()=>console.error("i18n init error"));Or.on("languageChanged",()=>sn.locale(Or.language));var dS={exports:{}},hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=Symbol.for("react.element"),Ap=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),qd=Symbol.for("react.context"),PT=Symbol.for("react.server_context"),Kd=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),Jd=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),fS;fS=Symbol.for("react.module.reference");function po(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xp:switch(t=t.type,t){case Ud:case Wd:case Hd:case Yd:case Xd:return t;default:switch(t=t&&t.$$typeof,t){case PT:case qd:case Kd:case Jd:case Qd:case Gd:return t;default:return e}}case Ap:return e}}}hn.ContextConsumer=qd;hn.ContextProvider=Gd;hn.Element=xp;hn.ForwardRef=Kd;hn.Fragment=Ud;hn.Lazy=Jd;hn.Memo=Qd;hn.Portal=Ap;hn.Profiler=Wd;hn.StrictMode=Hd;hn.Suspense=Yd;hn.SuspenseList=Xd;hn.isAsyncMode=function(){return!1};hn.isConcurrentMode=function(){return!1};hn.isContextConsumer=function(t){return po(t)===qd};hn.isContextProvider=function(t){return po(t)===Gd};hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xp};hn.isForwardRef=function(t){return po(t)===Kd};hn.isFragment=function(t){return po(t)===Ud};hn.isLazy=function(t){return po(t)===Jd};hn.isMemo=function(t){return po(t)===Qd};hn.isPortal=function(t){return po(t)===Ap};hn.isProfiler=function(t){return po(t)===Wd};hn.isStrictMode=function(t){return po(t)===Hd};hn.isSuspense=function(t){return po(t)===Yd};hn.isSuspenseList=function(t){return po(t)===Xd};hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ud||t===Wd||t===Hd||t===Yd||t===Xd||t===MT||typeof t=="object"&&t!==null&&(t.$$typeof===Jd||t.$$typeof===Qd||t.$$typeof===Gd||t.$$typeof===qd||t.$$typeof===Kd||t.$$typeof===fS||t.getModuleId!==void 0)};hn.typeOf=po;dS.exports=hn;var Ll=dS.exports;function Nr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return fe.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(Nr(r)):Ll.isFragment(r)&&r.props?n=n.concat(Nr(r.props.children,e)):n.push(r))}),n}var Oh={},kT=function(e){};function RT(t,e){}function TT(t,e){}function OT(){Oh={}}function mS(t,e,n){!e&&!Oh[n]&&(t(!1,n),Oh[n]=!0)}function nr(t,e){mS(RT,t,e)}function hS(t,e){mS(TT,t,e)}nr.preMessage=kT;nr.resetWarned=OT;nr.noteOnce=hS;function oc(t){return t instanceof HTMLElement||t instanceof SVGElement}function gS(t){return t&&st(t)==="object"&&oc(t.nativeElement)?t.nativeElement:oc(t)?t:null}function Bl(t){var e=gS(t);if(e)return e;if(t instanceof fe.Component){var n;return(n=td.findDOMNode)===null||n===void 0?void 0:n.call(td,t)}return null}function _c(t,e,n){var r=l.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var Ep=function(e,n){typeof e=="function"?e(n):st(e)==="object"&&e&&"current"in e&&(e.current=n)},oo=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(i){n.forEach(function(s){Ep(s,i)})}},Ii=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _c(function(){return oo.apply(void 0,n)},n,function(o,i){return o.length!==i.length||o.every(function(s,a){return s!==i[a]})})},_i=function(e){var n,r,o=Ll.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==Ll.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Ll.ForwardRef)};function Nh(t){return l.isValidElement(t)&&!Ll.isFragment(t)}var NT=function(e){return Nh(e)&&_i(e)};Number(l.version.split(".")[0])>=19;var Dh=l.createContext(null);function DT(t){var e=t.children,n=t.onBatchResize,r=l.useRef(0),o=l.useRef([]),i=l.useContext(Dh),s=l.useCallback(function(a,c,u){r.current+=1;var d=r.current;o.current.push({size:a,element:c,data:u}),Promise.resolve().then(function(){d===r.current&&(n==null||n(o.current),o.current=[])}),i==null||i(a,c,u)},[n,i]);return l.createElement(Dh.Provider,{value:s},e)}var ji=new Map;function $T(t){t.forEach(function(e){var n,r=e.target;(n=ji.get(r))===null||n===void 0||n.forEach(function(o){return o(r)})})}var pS=new tk($T);function FT(t,e){ji.has(t)||(ji.set(t,new Set),pS.observe(t)),ji.get(t).add(e)}function LT(t,e){ji.has(t)&&(ji.get(t).delete(e),ji.get(t).size||(pS.unobserve(t),ji.delete(t)))}var BT=function(t){Zo(n,t);var e=ei(n);function n(){return Vn(this,n),e.apply(this,arguments)}return jn(n,[{key:"render",value:function(){return this.props.children}}]),n}(l.Component);function VT(t,e){var n=t.children,r=t.disabled,o=l.useRef(null),i=l.useRef(null),s=l.useContext(Dh),a=typeof n=="function",c=a?n(o):n,u=l.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!a&&l.isValidElement(c)&&_i(c),f=d?c.ref:null,m=Ii(f,o),h=function(){var v;return Bl(o.current)||(o.current&&st(o.current)==="object"?Bl((v=o.current)===null||v===void 0?void 0:v.nativeElement):null)||Bl(i.current)};l.useImperativeHandle(e,function(){return h()});var g=l.useRef(t);g.current=t;var p=l.useCallback(function(w){var v=g.current,y=v.onResize,b=v.data,C=w.getBoundingClientRect(),S=C.width,x=C.height,I=w.offsetWidth,E=w.offsetHeight,_=Math.floor(S),P=Math.floor(x);if(u.current.width!==_||u.current.height!==P||u.current.offsetWidth!==I||u.current.offsetHeight!==E){var M={width:_,height:P,offsetWidth:I,offsetHeight:E};u.current=M;var T=I===Math.round(S)?S:I,k=E===Math.round(x)?x:E,R=W(W({},M),{},{offsetWidth:T,offsetHeight:k});s==null||s(R,w,b),y&&Promise.resolve().then(function(){y(R,w)})}},[]);return l.useEffect(function(){var w=h();return w&&!r&&FT(w,p),function(){return LT(w,p)}},[o.current,r]),l.createElement(BT,{ref:i},d?l.cloneElement(c,{ref:m}):c)}var jT=l.forwardRef(VT),zT="rc-observer-key";function UT(t,e){var n=t.children,r=typeof n=="function"?[n]:Nr(n);return r.map(function(o,i){var s=(o==null?void 0:o.key)||"".concat(zT,"-").concat(i);return l.createElement(jT,pe({},t,{key:s,ref:i===0?e:void 0}),o)})}var Lr=l.forwardRef(UT);Lr.Collection=DT;function Nn(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}var vS=function(e){return+setTimeout(e,16)},bS=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(vS=function(e){return window.requestAnimationFrame(e)},bS=function(e){return window.cancelAnimationFrame(e)});var _b=0,Ip=new Map;function wS(t){Ip.delete(t)}var zt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;_b+=1;var r=_b;function o(i){if(i===0)wS(r),e();else{var s=vS(function(){o(i-1)});Ip.set(r,s)}}return o(n),r};zt.cancel=function(t){var e=Ip.get(t);return wS(t),bS(e)};function Er(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function $h(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var Pb="data-rc-order",Mb="data-rc-priority",HT="rc-util-key",Fh=new Map;function yS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):HT}function Zd(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function WT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function _p(t){return Array.from((Fh.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function CS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Er())return null;var n=e.csp,r=e.prepend,o=e.priority,i=o===void 0?0:o,s=WT(r),a=s==="prependQueue",c=document.createElement("style");c.setAttribute(Pb,s),a&&i&&c.setAttribute(Mb,"".concat(i)),n!=null&&n.nonce&&(c.nonce=n==null?void 0:n.nonce),c.innerHTML=t;var u=Zd(e),d=u.firstChild;if(r){if(a){var f=(e.styles||_p(u)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(Pb)))return!1;var h=Number(m.getAttribute(Mb)||0);return i>=h});if(f.length)return u.insertBefore(c,f[f.length-1].nextSibling),c}u.insertBefore(c,d)}else u.appendChild(c);return c}function SS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Zd(e);return(e.styles||_p(n)).find(function(r){return r.getAttribute(yS(e))===t})}function ic(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=SS(t,e);if(n){var r=Zd(e);r.removeChild(n)}}function GT(t,e){var n=Fh.get(t);if(!n||!$h(document,n)){var r=CS("",e),o=r.parentNode;Fh.set(t,o),t.removeChild(r)}}function gi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Zd(n),o=_p(r),i=W(W({},n),{},{styles:o});GT(r,i);var s=SS(e,i);if(s){var a,c;if((a=i.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((c=i.csp)===null||c===void 0?void 0:c.nonce)){var u;s.nonce=(u=i.csp)===null||u===void 0?void 0:u.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var d=CS(t,i);return d.setAttribute(yS(i),e),d}function xa(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=r.has(i);if(nr(!c,"Warning: There may be circular references"),c)return!1;if(i===s)return!0;if(n&&a>1)return!1;r.add(i);var u=a+1;if(Array.isArray(i)){if(!Array.isArray(s)||i.length!==s.length)return!1;for(var d=0;d<i.length;d++)if(!o(i[d],s[d],u))return!1;return!0}if(i&&s&&st(i)==="object"&&st(s)==="object"){var f=Object.keys(i);return f.length!==Object.keys(s).length?!1:f.every(function(m){return o(i[m],s[m],u)})}return!1}return o(t,e)}var qT="%";function Lh(t){return t.join(qT)}var KT=function(){function t(e){Vn(this,t),q(this,"instanceId",void 0),q(this,"cache",new Map),this.instanceId=e}return jn(t,[{key:"get",value:function(n){return this.opGet(Lh(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Lh(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),i=r(o);i===null?this.cache.delete(n):this.cache.set(n,i)}}]),t}(),Aa="data-token-hash",ko="data-css-hash",zi="__cssinjs_instance__";function YT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ko,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[zi]=o[zi]||t,o[zi]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ko,"]"))).forEach(function(o){var i=o.getAttribute(ko);if(r[i]){if(o[zi]===t){var s;(s=o.parentNode)===null||s===void 0||s.removeChild(o)}}else r[i]=!0})}return new KT(t)}var ef=l.createContext({hashPriority:"low",cache:YT(),defaultCache:!0});function XT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Pp=function(){function t(){Vn(this,t),q(this,"cache",void 0),q(this,"keys",void 0),q(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return jn(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var c;s=(c=s)===null||c===void 0||(c=c.map)===null||c===void 0?void 0:c.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&i&&(s.value[1]=this.cacheCallTimes++),(o=s)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(u,d){var f=K(u,2),m=f[1];return o.internalGet(d)[1]<m?[d,o.internalGet(d)[1]]:u},[this.keys[0],this.cacheCallTimes]),s=K(i,1),a=s[0];this.delete(a)}this.keys.push(n)}var c=this.cache;n.forEach(function(u,d){if(d===n.length-1)c.set(u,{value:[r,o.cacheCallTimes++]});else{var f=c.get(u);f?f.map||(f.map=new Map):c.set(u,{map:new Map}),c=c.get(u).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var i;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(i=o.value)===null||i===void 0?void 0:i[0]}var s=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!XT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();q(Pp,"MAX_CACHE_SIZE",20);q(Pp,"MAX_CACHE_OFFSET",5);var kb=0,xS=function(){function t(e){Vn(this,t),q(this,"derivatives",void 0),q(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=kb,e.length===0&&(e.length>0,void 0),kb+=1}return jn(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),gm=new Pp;function Bh(t){var e=Array.isArray(t)?t:[t];return gm.has(e)||gm.set(e,new xS(e)),gm.get(e)}var QT=new WeakMap,pm={};function JT(t,e){for(var n=QT,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(pm)||n.set(pm,t()),n.get(pm)}var Rb=new WeakMap;function Vl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Rb.get(t)||"";return n||(Object.keys(t).forEach(function(r){var o=t[r];n+=r,o instanceof xS?n+=o.id:o&&st(o)==="object"?n+=Vl(o,e):n+=o}),e&&(n=nc(n)),Rb.set(t,n)),n}function Tb(t,e){return nc("".concat(e,"_").concat(Vl(t,!0)))}var Vh=Er();function re(t){return typeof t=="number"?"".concat(t,"px"):t}function sd(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return t;var i=W(W({},r),{},q(q({},Aa,e),ko,n)),s=Object.keys(i).map(function(a){var c=i[a];return c?"".concat(a,'="').concat(c,'"'):null}).filter(function(a){return a}).join(" ");return"<style ".concat(s,">").concat(t,"</style>")}var Bu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ZT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var i=K(o,2),s=i[0],a=i[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},AS=function(e,n,r){var o={},i={};return Object.entries(e).forEach(function(s){var a,c,u=K(s,2),d=u[0],f=u[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[d])i[d]=f;else if((typeof f=="string"||typeof f=="number")&&!(r!=null&&(c=r.ignore)!==null&&c!==void 0&&c[d])){var m,h=Bu(d,r==null?void 0:r.prefix);o[h]=typeof f=="number"&&!(r!=null&&(m=r.unitless)!==null&&m!==void 0&&m[d])?"".concat(f,"px"):String(f),i[d]="var(".concat(h,")")}}),[i,ZT(o,n,{scope:r==null?void 0:r.scope})]},Ob=Er()?l.useLayoutEffect:l.useEffect,Kt=function(e,n){var r=l.useRef(!0);Ob(function(){return e(r.current)},n),Ob(function(){return r.current=!1,function(){r.current=!0}},[])},ad=function(e,n){Kt(function(r){if(!r)return e()},n)},eO=W({},Bd),Nb=eO.useInsertionEffect,tO=function(e,n,r){l.useMemo(e,r),Kt(function(){return n(!0)},r)},nO=Nb?function(t,e,n){return Nb(function(){return t(),e()},n)}:tO,rO=W({},Bd),oO=rO.useInsertionEffect,iO=function(e){var n=[],r=!1;function o(i){r||n.push(i)}return l.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(i){return i()})}},e),o},sO=function(){return function(e){e()}},aO=typeof oO<"u"?iO:sO;function Mp(t,e,n,r,o){var i=l.useContext(ef),s=i.cache,a=[t].concat(Ee(e)),c=Lh(a),u=aO([c]),d=function(g){s.opUpdate(c,function(p){var w=p||[void 0,void 0],v=K(w,2),y=v[0],b=y===void 0?0:y,C=v[1],S=C,x=S||n(),I=[b,x];return g?g(I):I})};l.useMemo(function(){d()},[c]);var f=s.opGet(c),m=f[1];return nO(function(){o==null||o(m)},function(h){return d(function(g){var p=K(g,2),w=p[0],v=p[1];return h&&w===0&&(o==null||o(m)),[w+1,v]}),function(){s.opUpdate(c,function(g){var p=g||[],w=K(p,2),v=w[0],y=v===void 0?0:v,b=w[1],C=y-1;return C===0?(u(function(){(h||!s.opGet(c))&&(r==null||r(b,!1))}),null):[y-1,b]})}},[c]),m}var lO={},cO="css",gs=new Map;function uO(t){gs.set(t,(gs.get(t)||0)+1)}function dO(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Aa,'="').concat(t,'"]'));n.forEach(function(r){if(r[zi]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var fO=0;function mO(t,e){gs.set(t,(gs.get(t)||0)-1);var n=Array.from(gs.keys()),r=n.filter(function(o){var i=gs.get(o)||0;return i<=0});n.length-r.length>fO&&r.forEach(function(o){dO(o,e),gs.delete(o)})}var hO=function(e,n,r,o){var i=r.getDerivativeToken(e),s=W(W({},i),n);return o&&(s=o(s)),s},ES="token";function gO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=l.useContext(ef),o=r.cache.instanceId,i=r.container,s=n.salt,a=s===void 0?"":s,c=n.override,u=c===void 0?lO:c,d=n.formatToken,f=n.getComputedToken,m=n.cssVar,h=JT(function(){return Object.assign.apply(Object,[{}].concat(Ee(e)))},e),g=Vl(h),p=Vl(u),w=m?Vl(m):"",v=Mp(ES,[a,t.id,g,p,w],function(){var y,b=f?f(h,u,t):hO(h,u,t,d),C=W({},b),S="";if(m){var x=AS(b,m.key,{prefix:m.prefix,ignore:m.ignore,unitless:m.unitless,preserve:m.preserve}),I=K(x,2);b=I[0],S=I[1]}var E=Tb(b,a);b._tokenKey=E,C._tokenKey=Tb(C,a);var _=(y=m==null?void 0:m.key)!==null&&y!==void 0?y:E;b._themeKey=_,uO(_);var P="".concat(cO,"-").concat(nc(E));return b._hashId=P,[b,P,C,S,(m==null?void 0:m.key)||""]},function(y){mO(y[0]._themeKey,o)},function(y){var b=K(y,4),C=b[0],S=b[3];if(m&&S){var x=gi(S,nc("css-variables-".concat(C._themeKey)),{mark:ko,prepend:"queue",attachTo:i,priority:-999});x[zi]=o,x.setAttribute(Aa,C._themeKey)}});return v}var pO=function(e,n,r){var o=K(e,5),i=o[2],s=o[3],a=o[4],c=r||{},u=c.plain;if(!s)return null;var d=i._tokenKey,f=-999,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},h=sd(s,a,d,m,u);return[f,d,h]},Db="data-ant-cssinjs-cache-path",IS="_FILE_STYLE__",ws,_S=!0;function vO(){if(!ws&&(ws={},Er())){var t=document.createElement("div");t.className=Db,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var i=o.split(":"),s=K(i,2),a=s[0],c=s[1];ws[a]=c});var n=document.querySelector("style[".concat(Db,"]"));if(n){var r;_S=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function bO(t){return vO(),!!ws[t]}function wO(t){var e=ws[t],n=null;if(e&&Er())if(_S)n=IS;else{var r=document.querySelector("style[".concat(ko,'="').concat(ws[t],'"]'));r?n=r.innerHTML:delete ws[t]}return[n,e]}var yO="_skip_check_",PS="_multi_value_";function Vu(t){var e=TM(OM(t),NM);return e.replace(/\{%%%\:[^;];}/g,";")}function CO(t){return st(t)==="object"&&t&&(yO in t||PS in t)}function SO(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,i=t.split(",").map(function(s){var a,c=s.trim().split(/\s+/),u=c[0]||"",d=((a=u.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return u="".concat(d).concat(o).concat(u.slice(d.length)),[u].concat(Ee(c.slice(1))).join(" ")});return i.join(",")}var xO=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,i=r.injectHash,s=r.parentSelectors,a=n.hashId,c=n.layer;n.path;var u=n.hashPriority,d=n.transformers,f=d===void 0?[]:d;n.linters;var m="",h={};function g(v){var y=v.getName(a);if(!h[y]){var b=t(v.style,n,{root:!1,parentSelectors:s}),C=K(b,1),S=C[0];h[y]="@keyframes ".concat(v.getName(a)).concat(S)}}function p(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.forEach(function(b){Array.isArray(b)?p(b,y):b&&y.push(b)}),y}var w=p(Array.isArray(e)?e:[e]);return w.forEach(function(v){var y=typeof v=="string"&&!o?{}:v;if(typeof y=="string")m+="".concat(y,"\n");else if(y._keyframe)g(y);else{var b=f.reduce(function(C,S){var x;return(S==null||(x=S.visit)===null||x===void 0?void 0:x.call(S,C))||C},y);Object.keys(b).forEach(function(C){var S=b[C];if(st(S)==="object"&&S&&(C!=="animationName"||!S._keyframe)&&!CO(S)){var x=!1,I=C.trim(),E=!1;(o||i)&&a?I.startsWith("@")?x=!0:I=SO(C,a,u):o&&!a&&(I==="&"||I==="")&&(I="",E=!0);var _=t(S,n,{root:E,injectHash:x,parentSelectors:[].concat(Ee(s),[I])}),P=K(_,2),M=P[0],T=P[1];h=W(W({},h),T),m+="".concat(I).concat(M)}else{let D=function(L,$){var j=L.replace(/[A-Z]/g,function(z){return"-".concat(z.toLowerCase())}),U=$;!RM[L]&&typeof U=="number"&&U!==0&&(U="".concat(U,"px")),L==="animationName"&&$!==null&&$!==void 0&&$._keyframe&&(g($),U=$.getName(a)),m+="".concat(j,":").concat(U,";")};var k,R=(k=S==null?void 0:S.value)!==null&&k!==void 0?k:S;st(S)==="object"&&S!==null&&S!==void 0&&S[PS]&&Array.isArray(R)?R.forEach(function(L){D(C,L)}):D(C,R)}})}}),o?c&&(m="@layer ".concat(c.name," {").concat(m,"}"),c.dependencies&&(h["@layer ".concat(c.name)]=c.dependencies.map(function(v){return"@layer ".concat(v,", ").concat(c.name,";")}).join("\n"))):m="{".concat(m,"}"),[m,h]};function MS(t,e){return nc("".concat(t.join("%")).concat(e))}function AO(){return null}var kS="style";function jh(t,e){var n=t.token,r=t.path,o=t.hashId,i=t.layer,s=t.nonce,a=t.clientOnly,c=t.order,u=c===void 0?0:c,d=l.useContext(ef),f=d.autoClear;d.mock;var m=d.defaultCache,h=d.hashPriority,g=d.container,p=d.ssrInline,w=d.transformers,v=d.linters,y=d.cache,b=d.layer,C=n._tokenKey,S=[C];b&&S.push("layer"),S.push.apply(S,Ee(r));var x=Vh,I=Mp(kS,S,function(){var T=S.join("|");if(bO(T)){var k=wO(T),R=K(k,2),D=R[0],L=R[1];if(D)return[D,C,L,{},a,u]}var $=e(),j=xO($,{hashId:o,hashPriority:h,layer:b?i:void 0,path:r.join("-"),transformers:w,linters:v}),U=K(j,2),z=U[0],F=U[1],V=Vu(z),N=MS(S,V);return[V,C,N,F,a,u]},function(T,k){var R=K(T,3),D=R[2];(k||f)&&Vh&&ic(D,{mark:ko})},function(T){var k=K(T,4),R=k[0];k[1];var D=k[2],L=k[3];if(x&&R!==IS){var $={mark:ko,prepend:b?!1:"queue",attachTo:g,priority:u},j=typeof s=="function"?s():s;j&&($.csp={nonce:j});var U=[],z=[];Object.keys(L).forEach(function(V){V.startsWith("@layer")?U.push(V):z.push(V)}),U.forEach(function(V){gi(Vu(L[V]),"_layer-".concat(V),W(W({},$),{},{prepend:!0}))});var F=gi(R,D,$);F[zi]=y.instanceId,F.setAttribute(Aa,C),z.forEach(function(V){gi(Vu(L[V]),"_effect-".concat(V),$)})}}),E=K(I,3),_=E[0],P=E[1],M=E[2];return function(T){var k;return!p||x||!m?k=l.createElement(AO,null):k=l.createElement("style",pe({},q(q({},Aa,P),ko,M),{dangerouslySetInnerHTML:{__html:_}})),l.createElement(l.Fragment,null,k,T)}}var EO=function(e,n,r){var o=K(e,6),i=o[0],s=o[1],a=o[2],c=o[3],u=o[4],d=o[5],f=r||{},m=f.plain;if(u)return null;var h=i,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)};return h=sd(i,s,a,g,m),c&&Object.keys(c).forEach(function(p){if(!n[p]){n[p]=!0;var w=Vu(c[p]),v=sd(w,s,"_effect-".concat(p),g,m);p.startsWith("@layer")?h=v+h:h+=v}}),[d,a,h]},RS="cssVar",IO=function(e,n){var r=e.key,o=e.prefix,i=e.unitless,s=e.ignore,a=e.token,c=e.scope,u=c===void 0?"":c,d=l.useContext(ef),f=d.cache.instanceId,m=d.container,h=a._tokenKey,g=[].concat(Ee(e.path),[r,u,h]),p=Mp(RS,g,function(){var w=n(),v=AS(w,r,{prefix:o,unitless:i,ignore:s,scope:u}),y=K(v,2),b=y[0],C=y[1],S=MS(g,C);return[b,C,S,r]},function(w){var v=K(w,3),y=v[2];Vh&&ic(y,{mark:ko})},function(w){var v=K(w,3),y=v[1],b=v[2];if(y){var C=gi(y,b,{mark:ko,prepend:"queue",attachTo:m,priority:-999});C[zi]=f,C.setAttribute(Aa,r)}});return p},_O=function(e,n,r){var o=K(e,4),i=o[1],s=o[2],a=o[3],c=r||{},u=c.plain;if(!i)return null;var d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},m=sd(i,a,s,f,u);return[d,s,m]};q(q(q({},kS,EO),ES,pO),RS,_O);var Rt=function(){function t(e,n){Vn(this,t),q(this,"name",void 0),q(this,"style",void 0),q(this,"_keyframe",!0),this.name=e,this.style=n}return jn(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Gs(t){return t.notSplit=!0,t}Gs(["borderTop","borderBottom"]),Gs(["borderTop"]),Gs(["borderBottom"]),Gs(["borderLeft","borderRight"]),Gs(["borderLeft"]),Gs(["borderRight"]);var PO=l.createContext({});const kp=PO;function Go(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function TS(t,e,n,r){if(!e.length)return n;var o=j1(e),i=o[0],s=o.slice(1),a;return!t&&typeof i=="number"?a=[]:Array.isArray(t)?a=Ee(t):a=W({},t),r&&n===void 0&&s.length===1?delete a[i][s[0]]:a[i]=TS(a[i],s,n,r),a}function xo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Go(t,e.slice(0,-1))?t:TS(t,e,n,r)}function MO(t){return st(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function $b(t){return Array.isArray(t)?[]:{}}var kO=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function ua(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=$b(e[0]);return e.forEach(function(o){function i(s,a){var c=new Set(a),u=Go(o,s),d=Array.isArray(u);if(d||MO(u)){if(!c.has(u)){c.add(u);var f=Go(r,s);d?r=xo(r,s,[]):(!f||st(f)!=="object")&&(r=xo(r,s,$b(u))),kO(u).forEach(function(m){i([].concat(Ee(s),[m]),c)})}}else r=xo(r,s,u)}i([])}),r}function RO(){}const TO=l.createContext({}),Os=()=>{const t=()=>{};return t.deprecated=RO,t},OS=l.createContext(void 0);var OO={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},NO={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},DO=W(W({},NO),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const $O={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},NS=$O,FO={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},DO),timePickerLocale:Object.assign({},NS)},ld=FO,qr="${label} is not a valid ${type}",LO={locale:"en",Pagination:OO,DatePicker:ld,TimePicker:NS,Calendar:ld,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:qr,method:qr,array:qr,object:qr,number:qr,date:qr,boolean:qr,integer:qr,float:qr,regexp:qr,email:qr,url:qr,hex:qr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},Do=LO;let ju=Object.assign({},Do.Modal),zu=[];const Fb=()=>zu.reduce((t,e)=>Object.assign(Object.assign({},t),e),Do.Modal);function BO(t){if(t){const e=Object.assign({},t);return zu.push(e),ju=Fb(),()=>{zu=zu.filter(n=>n!==e),ju=Fb()}}ju=Object.assign({},Do.Modal)}function DS(){return ju}const VO=l.createContext(void 0),Rp=VO,jO=(t,e)=>{const n=l.useContext(Rp),r=l.useMemo(()=>{var i;const s=e||Do[t],a=(i=n==null?void 0:n[t])!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),o=l.useMemo(()=>{const i=n==null?void 0:n.locale;return n!=null&&n.exist&&!i?Do.locale:i},[n]);return[r,o]},es=jO,zO="internalMark",UO=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;l.useEffect(()=>BO(e==null?void 0:e.Modal),[e]);const o=l.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return l.createElement(Rp.Provider,{value:o},n)},HO=UO;var su=2,Lb=.16,WO=.05,GO=.05,qO=.15,$S=5,FS=4,KO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Bb(t){var e=t.r,n=t.g,r=t.b,o=DM(e,n,r);return{h:o.h*360,s:o.s,v:o.v}}function au(t){var e=t.r,n=t.g,r=t.b;return"#".concat($M(e,n,r,!1))}function YO(t,e,n){var r=n/100,o={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return o}function Vb(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-su*e:Math.round(t.h)+su*e:r=n?Math.round(t.h)+su*e:Math.round(t.h)-su*e,r<0?r+=360:r>=360&&(r-=360),r}function jb(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Lb*e:e===FS?r=t.s+Lb:r=t.s+WO*e,r>1&&(r=1),n&&e===$S&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function zb(t,e,n){var r;return n?r=t.v+GO*e:r=t.v-qO*e,r>1&&(r=1),Number(r.toFixed(2))}function sc(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=fl(t),o=$S;o>0;o-=1){var i=Bb(r),s=au(fl({h:Vb(i,o,!0),s:jb(i,o,!0),v:zb(i,o,!0)}));n.push(s)}n.push(au(r));for(var a=1;a<=FS;a+=1){var c=Bb(r),u=au(fl({h:Vb(c,a),s:jb(c,a),v:zb(c,a)}));n.push(u)}return e.theme==="dark"?KO.map(function(d){var f=d.index,m=d.opacity,h=au(YO(fl(e.backgroundColor||"#141414"),fl(n[f]),m*100));return h}):n}var ba={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},zh=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];zh.primary=zh[5];var Uh=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Uh.primary=Uh[5];var Hh=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Hh.primary=Hh[5];var Wh=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Wh.primary=Wh[5];var Gh=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Gh.primary=Gh[5];var qh=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];qh.primary=qh[5];var Kh=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Kh.primary=Kh[5];var Yh=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Yh.primary=Yh[5];var Ea=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Ea.primary=Ea[5];var Xh=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Xh.primary=Xh[5];var Qh=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Qh.primary=Qh[5];var Jh=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Jh.primary=Jh[5];var Zh=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Zh.primary=Zh[5];var vm={red:zh,volcano:Uh,orange:Hh,gold:Wh,yellow:Gh,lime:qh,green:Kh,cyan:Yh,blue:Ea,geekblue:Xh,purple:Qh,magenta:Jh,grey:Zh};const LS={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},XO=Object.assign(Object.assign({},LS),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),ac=XO;function QO(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:i,colorError:s,colorInfo:a,colorPrimary:c,colorBgBase:u,colorTextBase:d}=t,f=n(c),m=n(o),h=n(i),g=n(s),p=n(a),w=r(u,d),v=t.colorLink||t.colorInfo,y=n(v);return Object.assign(Object.assign({},w),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new rn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const JO=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}},ZO=JO;function eN(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:"".concat((n+e).toFixed(1),"s"),motionDurationMid:"".concat((n+e*2).toFixed(1),"s"),motionDurationSlow:"".concat((n+e*3).toFixed(1),"s"),lineWidthBold:o+1},ZO(r))}const tN=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},nN=tN;function Uu(t){return(t+8)/t}function rN(t){const e=new Array(10).fill(null).map((n,r)=>{const o=r-1,i=t*Math.pow(Math.E,o/5),s=r>1?Math.floor(i):Math.ceil(i);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:Uu(n)}))}const oN=t=>{const e=rN(t),n=e.map(d=>d.size),r=e.map(d=>d.lineHeight),o=n[1],i=n[0],s=n[2],a=r[1],c=r[0],u=r[2];return{fontSizeSM:i,fontSize:o,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:u,lineHeightSM:c,fontHeight:Math.round(a*o),fontHeightLG:Math.round(u*s),fontHeightSM:Math.round(c*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},iN=oN;function sN(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const ii=(t,e)=>new rn(t).setAlpha(e).toRgbString(),ml=(t,e)=>new rn(t).darken(e).toHexString(),aN=t=>{const e=sc(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},lN=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:ii(r,.88),colorTextSecondary:ii(r,.65),colorTextTertiary:ii(r,.45),colorTextQuaternary:ii(r,.25),colorFill:ii(r,.15),colorFillSecondary:ii(r,.06),colorFillTertiary:ii(r,.04),colorFillQuaternary:ii(r,.02),colorBgLayout:ml(n,4),colorBgContainer:ml(n,0),colorBgElevated:ml(n,0),colorBgSpotlight:ii(r,.85),colorBgBlur:"transparent",colorBorder:ml(n,15),colorBorderSecondary:ml(n,6)}};function cN(t){ba.pink=ba.magenta,vm.pink=vm.magenta;const e=Object.keys(LS).map(n=>{const r=t[n]===ba[n]?vm[n]:sc(t[n]);return new Array(10).fill(1).reduce((o,i,s)=>(o["".concat(n,"-").concat(s+1)]=r[s],o["".concat(n).concat(s+1)]=r[s],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),QO(t,{generateColorPalettes:aN,generateNeutralColorPalettes:lN})),iN(t.fontSize)),sN(t)),nN(t)),eN(t))}const BS=Bh(cN),eg={token:ac,override:{override:ac},hashed:!0},VS=fe.createContext(eg),lc="ant",Tp="anticon",uN=["outlined","borderless","filled"],dN=(t,e)=>e||(t?"".concat(lc,"-").concat(t):lc),Ge=l.createContext({getPrefixCls:dN,iconPrefixCls:Tp}),fN="-ant-".concat(Date.now(),"-").concat(Math.random());function mN(t,e){const n={},r=(s,a)=>{let c=s.clone();return c=(a==null?void 0:a(c))||c,c.toRgbString()},o=(s,a)=>{const c=new rn(s),u=sc(c.toRgbString());n["".concat(a,"-color")]=r(c),n["".concat(a,"-color-disabled")]=u[1],n["".concat(a,"-color-hover")]=u[4],n["".concat(a,"-color-active")]=u[6],n["".concat(a,"-color-outline")]=c.clone().setAlpha(.2).toRgbString(),n["".concat(a,"-color-deprecated-bg")]=u[0],n["".concat(a,"-color-deprecated-border")]=u[2]};if(e.primaryColor){o(e.primaryColor,"primary");const s=new rn(e.primaryColor),a=sc(s.toRgbString());a.forEach((u,d)=>{n["primary-".concat(d+1)]=u}),n["primary-color-deprecated-l-35"]=r(s,u=>u.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,u=>u.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,u=>u.tint(20)),n["primary-color-deprecated-t-50"]=r(s,u=>u.tint(50)),n["primary-color-deprecated-f-12"]=r(s,u=>u.setAlpha(u.getAlpha()*.12));const c=new rn(a[0]);n["primary-color-active-deprecated-f-30"]=r(c,u=>u.setAlpha(u.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(c,u=>u.darken(2))}e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info");const i=Object.keys(n).map(s=>"--".concat(t,"-").concat(s,": ").concat(n[s],";"));return"\n  :root {\n    ".concat(i.join("\n"),"\n  }\n  ").trim()}function hN(t,e){const n=mN(t,e);Er()&&gi(n,"".concat(fN,"-dynamic-theme"))}const tg=l.createContext(!1),Op=t=>{let{children:e,disabled:n}=t;const r=l.useContext(tg);return l.createElement(tg.Provider,{value:n!=null?n:r},e)},Vo=tg,ng=l.createContext(void 0),gN=t=>{let{children:e,size:n}=t;const r=l.useContext(ng);return l.createElement(ng.Provider,{value:n||r},e)},Pc=ng;function pN(){const t=l.useContext(Vo),e=l.useContext(Pc);return{componentDisabled:t,componentSize:e}}var jS=jn(function t(){Vn(this,t)}),zS="CALC_UNIT",vN=new RegExp(zS,"g");function bm(t){return typeof t=="number"?"".concat(t).concat(zS):t}var bN=function(t){Zo(n,t);var e=ei(n);function n(r,o){var i;Vn(this,n),i=e.call(this),q(Pt(i),"result",""),q(Pt(i),"unitlessCssVar",void 0),q(Pt(i),"lowPriority",void 0);var s=st(r);return i.unitlessCssVar=o,r instanceof n?i.result="(".concat(r.result,")"):s==="number"?i.result=bm(r):s==="string"&&(i.result=r),i}return jn(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(bm(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(bm(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var i=this,s=o||{},a=s.unit,c=!0;return typeof a=="boolean"?c=a:Array.from(this.unitlessCssVar).some(function(u){return i.result.includes(u)})&&(c=!1),this.result=this.result.replace(vN,c?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(jS),wN=function(t){Zo(n,t);var e=ei(n);function n(r){var o;return Vn(this,n),o=e.call(this),q(Pt(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return jn(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(jS),yN=function(e,n){var r=e==="css"?bN:wN;return function(o){return new r(o,n)}},Ub=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Gt(t){var e=l.useRef();e.current=t;var n=l.useCallback(function(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return n}function Is(t){var e=l.useRef(!1),n=l.useState(t),r=K(n,2),o=r[0],i=r[1];l.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,c){c&&e.current||i(a)}return[o,s]}function wm(t){return t!==void 0}function on(t,e){var n=e||{},r=n.defaultValue,o=n.value,i=n.onChange,s=n.postState,a=Is(function(){return wm(o)?o:wm(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),c=K(a,2),u=c[0],d=c[1],f=o!==void 0?o:u,m=s?s(f):f,h=Gt(i),g=Is([f]),p=K(g,2),w=p[0],v=p[1];ad(function(){var b=w[0];u!==b&&h(u,b)},[w]),ad(function(){wm(o)||d(o)},[o]);var y=Gt(function(b,C){d(b,C),v([f],C)});return[m,y]}function Hb(t,e,n,r){var o=W({},e[t]);if(r!=null&&r.deprecatedTokens){var i=r.deprecatedTokens;i.forEach(function(a){var c=K(a,2),u=c[0],d=c[1];if(o!=null&&o[u]||o!=null&&o[d]){var f;(f=o[d])!==null&&f!==void 0||(o[d]=o==null?void 0:o[u])}})}var s=W(W({},n),o);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var US=typeof CSSINJS_STATISTIC<"u",rg=!0;function Dt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!US)return Object.assign.apply(Object,[{}].concat(e));rg=!1;var r={};return e.forEach(function(o){if(st(o)==="object"){var i=Object.keys(o);i.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return o[s]}})})}}),rg=!0,r}var Wb={};function CN(){}var SN=function(e){var n,r=e,o=CN;return US&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(s,a){return rg&&n.add(a),s[a]}}),o=function(s,a){var c;Wb[s]={global:Array.from(n),component:W(W({},(c=Wb[s])===null||c===void 0?void 0:c.component),a)}}),{token:r,keys:n,flush:o}};function Gb(t,e,n){if(typeof n=="function"){var r;return n(Dt(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n!=null?n:{}}function xN(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(i){return re(i)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(i){return re(i)}).join(","),")")}}}var AN=1e3*60*10,EN=function(){function t(){Vn(this,t),q(this,"map",new Map),q(this,"objectIDMap",new WeakMap),q(this,"nextID",0),q(this,"lastAccessBeat",new Map),q(this,"accessBeat",0)}return jn(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(i){return i&&st(i)==="object"?"obj_".concat(r.getObjectID(i)):"".concat(st(i),"_").concat(i)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,i){r-o>AN&&(n.map.delete(i),n.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),t}(),qb=new EN;function IN(t,e){return fe.useMemo(function(){var n=qb.get(e);if(n)return n;var r=t();return qb.set(e,r),r},e)}var _N=function(){return{}};function PN(t){var e=t.useCSP,n=e===void 0?_N:e,r=t.useToken,o=t.usePrefix,i=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function c(m,h,g,p){var w=Array.isArray(m)?m[0]:m;function v(E){return"".concat(String(w)).concat(E.slice(0,1).toUpperCase()).concat(E.slice(1))}var y=(p==null?void 0:p.unitless)||{},b=typeof a=="function"?a(m):{},C=W(W({},b),{},q({},v("zIndexPopup"),!0));Object.keys(y).forEach(function(E){C[v(E)]=y[E]});var S=W(W({},p),{},{unitless:C,prefixToken:v}),x=d(m,h,g,S),I=u(w,g,S);return function(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,P=x(E,_),M=K(P,2),T=M[1],k=I(_),R=K(k,2),D=R[0],L=R[1];return[D,T,L]}}function u(m,h,g){var p=g.unitless,w=g.injectStyle,v=w===void 0?!0:w,y=g.prefixToken,b=g.ignore,C=function(I){var E=I.rootCls,_=I.cssVar,P=_===void 0?{}:_,M=r(),T=M.realToken;return IO({path:[m],prefix:P.prefix,key:P.key,unitless:p,ignore:b,token:T,scope:E},function(){var k=Gb(m,T,h),R=Hb(m,T,k,{deprecatedTokens:g==null?void 0:g.deprecatedTokens});return Object.keys(k).forEach(function(D){R[y(D)]=R[D],delete R[D]}),R}),null},S=function(I){var E=r(),_=E.cssVar;return[function(P){return v&&_?fe.createElement(fe.Fragment,null,fe.createElement(C,{rootCls:I,cssVar:_,component:m}),P):P},_==null?void 0:_.key]};return S}function d(m,h,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=Array.isArray(m)?m:[m,m],v=K(w,1),y=v[0],b=w.join("-");return function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,x=r(),I=x.theme,E=x.realToken,_=x.hashId,P=x.token,M=x.cssVar,T=o(),k=T.rootPrefixCls,R=T.iconPrefixCls,D=n(),L=M?"css":"js",$=IN(function(){var N=new Set;return M&&Object.keys(p.unitless||{}).forEach(function(B){N.add(Bu(B,M.prefix)),N.add(Bu(B,Ub(y,M.prefix)))}),yN(L,N)},[L,y,M==null?void 0:M.prefix]),j=xN(L),U=j.max,z=j.min,F={theme:I,token:P,hashId:_,nonce:function(){return D.nonce},clientOnly:p.clientOnly,layer:{name:"antd"},order:p.order||-999};jh(W(W({},F),{},{clientOnly:!1,path:["Shared",k]}),function(){return typeof i=="function"?i(P):[]});var V=jh(W(W({},F),{},{path:[b,C,R]}),function(){if(p.injectStyle===!1)return[];var N=SN(P),B=N.token,H=N.flush,Q=Gb(y,E,g),G=".".concat(C),Y=Hb(y,E,Q,{deprecatedTokens:p.deprecatedTokens});M&&st(Q)==="object"&&Object.keys(Q).forEach(function(se){Q[se]="var(".concat(Bu(se,Ub(y,M.prefix)),")")});var te=Dt(B,{componentCls:G,prefixCls:C,iconCls:".".concat(R),antCls:".".concat(k),calc:$,max:U,min:z},M?Q:Y),ee=h(te,{hashId:_,prefixCls:C,rootPrefixCls:k,iconPrefixCls:R});H(y,Y);var J=typeof s=="function"?s(te,C,S,p.resetFont):null;return[p.resetStyle===!1?null:J,ee]});return[V,_]}}function f(m,h,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=d(m,h,g,W({resetStyle:!1,order:-998},p)),v=function(b){var C=b.prefixCls,S=b.rootCls,x=S===void 0?C:S;return w(C,x),null};return v}return{genStyleHooks:c,genSubStyleComponent:f,genComponentStyleHook:d}}const cc=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],MN="5.20.0";function ym(t){return t>=0&&t<=255}function lu(t,e){const{r:n,g:r,b:o,a:i}=new rn(t).toRgb();if(i<1)return t;const{r:s,g:a,b:c}=new rn(e).toRgb();for(let u=.01;u<=1;u+=.01){const d=Math.round((n-s*(1-u))/u),f=Math.round((r-a*(1-u))/u),m=Math.round((o-c*(1-u))/u);if(ym(d)&&ym(f)&&ym(m))return new rn({r:d,g:f,b:m,a:Math.round(u*100)/100}).toRgbString()}return new rn({r:n,g:r,b:o,a:1}).toRgbString()}var kN=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function HS(t){const{override:e}=t,n=kN(t,["override"]),r=Object.assign({},e);Object.keys(ac).forEach(m=>{delete r[m]});const o=Object.assign(Object.assign({},n),r),i=480,s=576,a=768,c=992,u=1200,d=1600;if(o.motion===!1){const m="0s";o.motionDurationFast=m,o.motionDurationMid=m,o.motionDurationSlow=m}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:lu(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:lu(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:lu(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*4,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:lu(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:i,screenXSMin:i,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:c-1,screenLG:c,screenLGMin:c,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new rn("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new rn("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new rn("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Kb=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const WS={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},RN={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},TN={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},GS=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,i=Kb(e,["override"]);let s=Object.assign(Object.assign({},r),{override:o});return s=HS(s),i&&Object.entries(i).forEach(a=>{let[c,u]=a;const{theme:d}=u,f=Kb(u,["theme"]);let m=f;d&&(m=GS(Object.assign(Object.assign({},s),f),{override:f},d)),s[c]=m}),s};function Dr(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=fe.useContext(VS),i="".concat(MN,"-").concat(e||""),s=n||BS,[a,c,u]=gO(s,[ac,t],{salt:i,override:r,getComputedToken:GS,formatToken:HS,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:WS,ignore:RN,preserve:TN}});return[s,u,e?c:"",a,o]}const Ci={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},cn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},tf=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Ia=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),ON=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(t.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),NN=(t,e,n,r)=>{const o='[class^="'.concat(e,'"], [class*=" ').concat(e,'"]'),i=n?".".concat(n):o,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},a),s),{[o]:s})}},Np=t=>({outline:"".concat(re(t.lineWidthFocus)," solid ").concat(t.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Qo=t=>({"&:focus-visible":Object.assign({},Np(t))}),DN=(t,e)=>{const[n,r]=Dr();return jh({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[".".concat(t)]:Object.assign(Object.assign({},tf()),{[".".concat(t," .").concat(t,"-icon")]:{display:"block"}})}])},qS=DN,{genStyleHooks:Jt,genComponentStyleHook:$N,genSubStyleComponent:Dp}=PN({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=l.useContext(Ge);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Dr();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=l.useContext(Ge);return qS(e,t),t!=null?t:{}},getResetStyles:t=>[{"&":ON(t)}],getCommonStyle:NN,getCompUnitless:()=>WS});function $p(t,e){return cc.reduce((n,r)=>{const o=t["".concat(r,"1")],i=t["".concat(r,"3")],s=t["".concat(r,"6")],a=t["".concat(r,"7")];return Object.assign(Object.assign({},n),e(r,{lightColor:o,lightBorderColor:i,darkColor:s,textColor:a}))},{})}const FN=Object.assign({},Bd),{useId:Yb}=FN,LN=()=>"",BN=typeof Yb>"u"?LN:Yb,VN=BN;function jN(t,e,n){var r;Os();const o=t||{},i=o.inherit===!1||!e?Object.assign(Object.assign({},eg),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:eg.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=VN();return _c(()=>{var a,c;if(!t)return e;const u=Object.assign({},i.components);Object.keys(t.components||{}).forEach(m=>{u[m]=Object.assign(Object.assign({},u[m]),t.components[m])});const d="css-var-".concat(s.replace(/:/g,"")),f=((a=o.cssVar)!==null&&a!==void 0?a:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof i.cssVar=="object"?i.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((c=o.cssVar)===null||c===void 0?void 0:c.key)||d});return Object.assign(Object.assign(Object.assign({},i),o),{token:Object.assign(Object.assign({},i.token),o.token),components:u,cssVar:f})},[o,i],(a,c)=>a.some((u,d)=>{const f=c[d];return!xa(u,f,!0)}))}var zN=["children"],KS=l.createContext({});function UN(t){var e=t.children,n=ht(t,zN);return l.createElement(KS.Provider,{value:n},e)}var HN=function(t){Zo(n,t);var e=ei(n);function n(){return Vn(this,n),e.apply(this,arguments)}return jn(n,[{key:"render",value:function(){return this.props.children}}]),n}(l.Component);function WN(t){var e=l.useReducer(function(a){return a+1},0),n=K(e,2),r=n[1],o=l.useRef(t),i=Gt(function(){return o.current}),s=Gt(function(a){o.current=typeof a=="function"?a(o.current):a,r()});return[i,s]}var $i="none",cu="appear",uu="enter",du="leave",Xb="none",Ao="prepare",da="start",fa="active",Fp="end",YS="prepared";function Qb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function GN(t,e){var n={animationend:Qb("Animation","AnimationEnd"),transitionend:Qb("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var qN=GN(Er(),typeof window<"u"?window:{}),XS={};if(Er()){var KN=document.createElement("div");XS=KN.style}var fu={};function QS(t){if(fu[t])return fu[t];var e=qN[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(e,i)&&i in XS)return fu[t]=e[i],fu[t]}return""}var JS=QS("animationend"),ZS=QS("transitionend"),ex=!!(JS&&ZS),Jb=JS||"animationend",Zb=ZS||"transitionend";function e0(t,e){if(!t)return null;if(st(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const YN=function(t){var e=l.useRef();function n(o){o&&(o.removeEventListener(Zb,t),o.removeEventListener(Jb,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(Zb,t),o.addEventListener(Jb,t),e.current=o)}return l.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var tx=Er()?l.useLayoutEffect:l.useEffect;const XN=function(){var t=l.useRef(null);function e(){zt.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var i=zt(function(){o<=1?r({isCanceled:function(){return i!==t.current}}):n(r,o-1)});t.current=i}return l.useEffect(function(){return function(){e()}},[]),[n,e]};var QN=[Ao,da,fa,Fp],JN=[Ao,YS],nx=!1,ZN=!0;function rx(t){return t===fa||t===Fp}const e4=function(t,e,n){var r=Is(Xb),o=K(r,2),i=o[0],s=o[1],a=XN(),c=K(a,2),u=c[0],d=c[1];function f(){s(Ao,!0)}var m=e?JN:QN;return tx(function(){if(i!==Xb&&i!==Fp){var h=m.indexOf(i),g=m[h+1],p=n(i);p===nx?s(g,!0):g&&u(function(w){function v(){w.isCanceled()||s(g,!0)}p===!0?v():Promise.resolve(p).then(v)})}},[t,i]),l.useEffect(function(){return function(){d()}},[]),[f,i]};function t4(t,e,n,r){var o=r.motionEnter,i=o===void 0?!0:o,s=r.motionAppear,a=s===void 0?!0:s,c=r.motionLeave,u=c===void 0?!0:c,d=r.motionDeadline,f=r.motionLeaveImmediately,m=r.onAppearPrepare,h=r.onEnterPrepare,g=r.onLeavePrepare,p=r.onAppearStart,w=r.onEnterStart,v=r.onLeaveStart,y=r.onAppearActive,b=r.onEnterActive,C=r.onLeaveActive,S=r.onAppearEnd,x=r.onEnterEnd,I=r.onLeaveEnd,E=r.onVisibleChanged,_=Is(),P=K(_,2),M=P[0],T=P[1],k=WN($i),R=K(k,2),D=R[0],L=R[1],$=Is(null),j=K($,2),U=j[0],z=j[1],F=D(),V=l.useRef(!1),N=l.useRef(null);function B(){return n()}var H=l.useRef(!1);function Q(){L($i),z(null,!0)}var G=Gt(function(Me){var be=D();if(be!==$i){var ke=B();if(!(Me&&!Me.deadline&&Me.target!==ke)){var we=H.current,le;be===cu&&we?le=S==null?void 0:S(ke,Me):be===uu&&we?le=x==null?void 0:x(ke,Me):be===du&&we&&(le=I==null?void 0:I(ke,Me)),we&&le!==!1&&Q()}}}),Y=YN(G),te=K(Y,1),ee=te[0],J=function(be){switch(be){case cu:return q(q(q({},Ao,m),da,p),fa,y);case uu:return q(q(q({},Ao,h),da,w),fa,b);case du:return q(q(q({},Ao,g),da,v),fa,C);default:return{}}},se=l.useMemo(function(){return J(F)},[F]),ie=e4(F,!t,function(Me){if(Me===Ao){var be=se[Ao];return be?be(B()):nx}if(de in se){var ke;z(((ke=se[de])===null||ke===void 0?void 0:ke.call(se,B(),null))||null)}return de===fa&&F!==$i&&(ee(B()),d>0&&(clearTimeout(N.current),N.current=setTimeout(function(){G({deadline:!0})},d))),de===YS&&Q(),ZN}),oe=K(ie,2),ue=oe[0],de=oe[1],he=rx(de);H.current=he,tx(function(){T(e);var Me=V.current;V.current=!0;var be;!Me&&e&&a&&(be=cu),Me&&e&&i&&(be=uu),(Me&&!e&&u||!Me&&f&&!e&&u)&&(be=du);var ke=J(be);be&&(t||ke[Ao])?(L(be),ue()):L($i)},[e]),l.useEffect(function(){(F===cu&&!a||F===uu&&!i||F===du&&!u)&&L($i)},[a,i,u]),l.useEffect(function(){return function(){V.current=!1,clearTimeout(N.current)}},[]);var ye=l.useRef(!1);l.useEffect(function(){M&&(ye.current=!0),M!==void 0&&F===$i&&((ye.current||M)&&(E==null||E(M)),ye.current=!0)},[M,F]);var Se=U;return se[Ao]&&de===da&&(Se=W({transition:"none"},Se)),[F,de,Se,M!=null?M:e]}function n4(t){var e=t;st(t)==="object"&&(e=t.transitionSupport);function n(o,i){return!!(o.motionName&&e&&i!==!1)}var r=l.forwardRef(function(o,i){var s=o.visible,a=s===void 0?!0:s,c=o.removeOnLeave,u=c===void 0?!0:c,d=o.forceRender,f=o.children,m=o.motionName,h=o.leavedClassName,g=o.eventProps,p=l.useContext(KS),w=p.motion,v=n(o,w),y=l.useRef(),b=l.useRef();function C(){try{return y.current instanceof HTMLElement?y.current:Bl(b.current)}catch(U){return null}}var S=t4(v,a,C,o),x=K(S,4),I=x[0],E=x[1],_=x[2],P=x[3],M=l.useRef(P);P&&(M.current=!0);var T=l.useCallback(function(U){y.current=U,Ep(i,U)},[i]),k,R=W(W({},g),{},{visible:a});if(!f)k=null;else if(I===$i)P?k=f(W({},R),T):!u&&M.current&&h?k=f(W(W({},R),{},{className:h}),T):d||!u&&!h?k=f(W(W({},R),{},{style:{display:"none"}}),T):k=null;else{var D;E===Ao?D="prepare":rx(E)?D="active":E===da&&(D="start");var L=e0(m,"".concat(I,"-").concat(D));k=f(W(W({},R),{},{className:X(e0(m,I),q(q({},L,L&&D),m,typeof m=="string")),style:_}),T)}if(l.isValidElement(k)&&_i(k)){var $=k,j=$.ref;j||(k=l.cloneElement(k,{ref:T}))}return l.createElement(HN,{ref:b},k)});return r.displayName="CSSMotion",r}const Ir=n4(ex);var og="add",ig="keep",sg="remove",Cm="removed";function r4(t){var e;return t&&st(t)==="object"&&"key"in t?e=t:e={key:t},W(W({},e),{},{key:String(e.key)})}function ag(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(r4)}function o4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,i=ag(t),s=ag(e);i.forEach(function(u){for(var d=!1,f=r;f<o;f+=1){var m=s[f];if(m.key===u.key){r<f&&(n=n.concat(s.slice(r,f).map(function(h){return W(W({},h),{},{status:og})})),r=f),n.push(W(W({},m),{},{status:ig})),r+=1,d=!0;break}}d||n.push(W(W({},u),{},{status:sg}))}),r<o&&(n=n.concat(s.slice(r).map(function(u){return W(W({},u),{},{status:og})})));var a={};n.forEach(function(u){var d=u.key;a[d]=(a[d]||0)+1});var c=Object.keys(a).filter(function(u){return a[u]>1});return c.forEach(function(u){n=n.filter(function(d){var f=d.key,m=d.status;return f!==u||m!==sg}),n.forEach(function(d){d.key===u&&(d.status=ig)})}),n}var i4=["component","children","onVisibleChanged","onAllRemoved"],s4=["status"],a4=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function l4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ir,n=function(r){Zo(i,r);var o=ei(i);function i(){var s;Vn(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return s=o.call.apply(o,[this].concat(c)),q(Pt(s),"state",{keyEntities:[]}),q(Pt(s),"removeKey",function(d){var f=s.state.keyEntities,m=f.map(function(h){return h.key!==d?h:W(W({},h),{},{status:Cm})});return s.setState({keyEntities:m}),m.filter(function(h){var g=h.status;return g!==Cm}).length}),s}return jn(i,[{key:"render",value:function(){var a=this,c=this.state.keyEntities,u=this.props,d=u.component,f=u.children,m=u.onVisibleChanged,h=u.onAllRemoved,g=ht(u,i4),p=d||l.Fragment,w={};return a4.forEach(function(v){w[v]=g[v],delete g[v]}),delete g.keys,l.createElement(p,g,c.map(function(v,y){var b=v.status,C=ht(v,s4),S=b===og||b===ig;return l.createElement(e,pe({},w,{key:C.key,visible:S,eventProps:C,onVisibleChanged:function(I){if(m==null||m(I,{key:C.key}),!I){var E=a.removeKey(C.key);E===0&&h&&h()}}}),function(x,I){return f(W(W({},x),{},{index:y}),I)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,c){var u=a.keys,d=c.keyEntities,f=ag(u),m=o4(d,f);return{keyEntities:m.filter(function(h){var g=d.find(function(p){var w=p.key;return h.key===w});return!(g&&g.status===Cm&&h.status===sg)})}}}]),i}(l.Component);return q(n,"defaultProps",{component:"div"}),n}const Lp=l4(ex);function c4(t){const{children:e}=t,[,n]=Dr(),{motion:r}=n,o=l.useRef(!1);return o.current=o.current||r===!1,o.current?l.createElement(UN,{motion:r},e):e}const u4=()=>null;var d4=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const f4=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let cd,ox,ix,sx;function Hu(){return cd||lc}function m4(){return ox||Tp}function h4(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const g4=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(cd=e),n!==void 0&&(ox=n),"holderRender"in t&&(sx=o),r&&(h4(r)?hN(Hu(),r):ix=r)},p4=()=>({getPrefixCls:(t,e)=>e||(t?"".concat(Hu(),"-").concat(t):Hu()),getIconPrefixCls:m4,getRootPrefixCls:()=>cd||Hu(),getTheme:()=>ix,holderRender:sx}),v4=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:i,form:s,locale:a,componentSize:c,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:m,popupMatchSelectWidth:h,popupOverflow:g,legacyLocale:p,parentContext:w,iconPrefixCls:v,theme:y,componentDisabled:b,segmented:C,statistic:S,spin:x,calendar:I,carousel:E,cascader:_,collapse:P,typography:M,checkbox:T,descriptions:k,divider:R,drawer:D,skeleton:L,steps:$,image:j,layout:U,list:z,mentions:F,modal:V,progress:N,result:B,slider:H,breadcrumb:Q,menu:G,pagination:Y,input:te,textArea:ee,empty:J,badge:se,radio:ie,rate:oe,switch:ue,transfer:de,avatar:he,message:ye,tag:Se,table:Me,card:be,tabs:ke,timeline:we,timePicker:le,upload:Ce,notification:Ae,tree:Be,colorPicker:Fe,datePicker:De,rangePicker:ze,flex:at,wave:We,dropdown:Re,warning:me,tour:xe,floatButtonGroup:_e,variant:Ne,inputNumber:He,treeSelect:ne}=t,Pe=l.useCallback((Te,Le)=>{const{prefixCls:Ve}=t;if(Le)return Le;const it=Ve||w.getPrefixCls("");return Te?"".concat(it,"-").concat(Te):it},[w.getPrefixCls,t.prefixCls]),je=v||w.iconPrefixCls||Tp,nt=n||w.csp;qS(je,nt);const gt=jN(y,w.theme,{prefixCls:Pe("")}),lt={csp:nt,autoInsertSpaceInButton:r,alert:o,anchor:i,locale:a||p,direction:u,space:d,virtual:f,popupMatchSelectWidth:h!=null?h:m,popupOverflow:g,getPrefixCls:Pe,iconPrefixCls:je,theme:gt,segmented:C,statistic:S,spin:x,calendar:I,carousel:E,cascader:_,collapse:P,typography:M,checkbox:T,descriptions:k,divider:R,drawer:D,skeleton:L,steps:$,image:j,input:te,textArea:ee,layout:U,list:z,mentions:F,modal:V,progress:N,result:B,slider:H,breadcrumb:Q,menu:G,pagination:Y,empty:J,badge:se,radio:ie,rate:oe,switch:ue,transfer:de,avatar:he,message:ye,tag:Se,table:Me,card:be,tabs:ke,timeline:we,timePicker:le,upload:Ce,notification:Ae,tree:Be,colorPicker:Fe,datePicker:De,rangePicker:ze,flex:at,wave:We,dropdown:Re,warning:me,tour:xe,floatButtonGroup:_e,variant:Ne,inputNumber:He,treeSelect:ne},Ze=Object.assign({},w);Object.keys(lt).forEach(Te=>{lt[Te]!==void 0&&(Ze[Te]=lt[Te])}),f4.forEach(Te=>{const Le=t[Te];Le&&(Ze[Te]=Le)}),typeof r<"u"&&(Ze.button=Object.assign({autoInsertSpace:r},Ze.button));const Ye=_c(()=>Ze,Ze,(Te,Le)=>{const Ve=Object.keys(Te),it=Object.keys(Le);return Ve.length!==it.length||Ve.some(Ct=>Te[Ct]!==Le[Ct])}),Xe=l.useMemo(()=>({prefixCls:je,csp:nt}),[je,nt]);let $e=l.createElement(l.Fragment,null,l.createElement(u4,{dropdownMatchSelectWidth:m}),e);const pt=l.useMemo(()=>{var Te,Le,Ve,it;return ua(((Te=Do.Form)===null||Te===void 0?void 0:Te.defaultValidateMessages)||{},((Ve=(Le=Ye.locale)===null||Le===void 0?void 0:Le.Form)===null||Ve===void 0?void 0:Ve.defaultValidateMessages)||{},((it=Ye.form)===null||it===void 0?void 0:it.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[Ye,s==null?void 0:s.validateMessages]);Object.keys(pt).length>0&&($e=l.createElement(OS.Provider,{value:pt},$e)),a&&($e=l.createElement(HO,{locale:a,_ANT_MARK__:zO},$e)),(je||nt)&&($e=l.createElement(kp.Provider,{value:Xe},$e)),c&&($e=l.createElement(gN,{size:c},$e)),$e=l.createElement(c4,null,$e);const bt=l.useMemo(()=>{const Te=gt||{},{algorithm:Le,token:Ve,components:it,cssVar:Ct}=Te,Ot=d4(Te,["algorithm","token","components","cssVar"]),tn=Le&&(!Array.isArray(Le)||Le.length>0)?Bh(Le):BS,Wt={};Object.entries(it||{}).forEach(et=>{let[wt,Bt]=et;const Ft=Object.assign({},Bt);"algorithm"in Ft&&(Ft.algorithm===!0?Ft.theme=tn:(Array.isArray(Ft.algorithm)||typeof Ft.algorithm=="function")&&(Ft.theme=Bh(Ft.algorithm)),delete Ft.algorithm),Wt[wt]=Ft});const It=Object.assign(Object.assign({},ac),Ve);return Object.assign(Object.assign({},Ot),{theme:tn,token:It,components:Wt,override:Object.assign({override:It},Wt),cssVar:Ct})},[gt]);return y&&($e=l.createElement(VS.Provider,{value:bt},$e)),Ye.warning&&($e=l.createElement(TO.Provider,{value:Ye.warning},$e)),b!==void 0&&($e=l.createElement(Op,{disabled:b},$e)),l.createElement(Ge.Provider,{value:Ye},$e)},Ba=t=>{const e=l.useContext(Ge),n=l.useContext(Rp);return l.createElement(v4,Object.assign({parentContext:e,legacyLocale:n},t))};Ba.ConfigContext=Ge;Ba.SizeContext=Pc;Ba.config=g4;Ba.useConfig=pN;Object.defineProperty(Ba,"SizeContext",{get:()=>Pc});const nf=Ba;var b4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const w4=b4;function ax(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function y4(t){return ax(t)instanceof ShadowRoot}function ud(t){return y4(t)?ax(t):null}function C4(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function S4(t,e){nr(t,"[@ant-design/icons] ".concat(e))}function t0(t){return st(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(st(t.icon)==="object"||typeof t.icon=="function")}function n0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[C4(n)]=r}return e},{})}function lg(t,e,n){return n?fe.createElement(t.tag,W(W({key:e},n0(t.attrs)),n),(t.children||[]).map(function(r,o){return lg(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):fe.createElement(t.tag,W({key:e},n0(t.attrs)),(t.children||[]).map(function(r,o){return lg(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function lx(t){return sc(t)[0]}function cx(t){return t?Array.isArray(t)?t:[t]:[]}var x4="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",A4=function(e){var n=l.useContext(kp),r=n.csp,o=n.prefixCls,i=x4;o&&(i=i.replace(/anticon/g,o)),l.useEffect(function(){var s=e.current,a=ud(s);gi(i,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},E4=["icon","className","onClick","style","primaryColor","secondaryColor"],jl={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function I4(t){var e=t.primaryColor,n=t.secondaryColor;jl.primaryColor=e,jl.secondaryColor=n||lx(e),jl.calculated=!!n}function _4(){return W({},jl)}var rf=function(e){var n=e.icon,r=e.className,o=e.onClick,i=e.style,s=e.primaryColor,a=e.secondaryColor,c=ht(e,E4),u=l.useRef(),d=jl;if(s&&(d={primaryColor:s,secondaryColor:a||lx(s)}),A4(u),S4(t0(n),"icon should be icon definiton, but got ".concat(n)),!t0(n))return null;var f=n;return f&&typeof f.icon=="function"&&(f=W(W({},f),{},{icon:f.icon(d.primaryColor,d.secondaryColor)})),lg(f.icon,"svg-".concat(f.name),W(W({className:r,onClick:o,style:i,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c),{},{ref:u}))};rf.displayName="IconReact";rf.getTwoToneColors=_4;rf.setTwoToneColors=I4;const Bp=rf;function ux(t){var e=cx(t),n=K(e,2),r=n[0],o=n[1];return Bp.setTwoToneColors({primaryColor:r,secondaryColor:o})}function P4(){var t=Bp.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var M4=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ux(Ea.primary);var of=l.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,i=t.rotate,s=t.tabIndex,a=t.onClick,c=t.twoToneColor,u=ht(t,M4),d=l.useContext(kp),f=d.prefixCls,m=f===void 0?"anticon":f,h=d.rootClassName,g=X(h,m,q(q({},"".concat(m,"-").concat(r.name),!!r.name),"".concat(m,"-spin"),!!o||r.name==="loading"),n),p=s;p===void 0&&a&&(p=-1);var w=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,v=cx(c),y=K(v,2),b=y[0],C=y[1];return l.createElement("span",pe({role:"img","aria-label":r.name},u,{ref:e,tabIndex:p,onClick:a,className:g}),l.createElement(Bp,{icon:r,primaryColor:b,secondaryColor:C,style:w}))});of.displayName="AntdIcon";of.getTwoToneColor=P4;of.setTwoToneColor=ux;const Yt=of;var k4=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:w4}))},R4=l.forwardRef(k4);const Va=R4;var T4={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const O4=T4;var N4=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:O4}))},D4=l.forwardRef(N4);const ts=D4;var $4={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const F4=$4;var L4=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:F4}))},B4=l.forwardRef(L4);const fr=B4;var V4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const j4=V4;var z4=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:j4}))},U4=l.forwardRef(z4);const ja=U4;var H4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const W4=H4;var G4=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:W4}))},q4=l.forwardRef(G4);const Vp=q4;var K4="accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap",Y4="onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError",X4="".concat(K4," ").concat(Y4).split(/[\s\n]+/),Q4="aria-",J4="data-";function r0(t,e){return t.indexOf(e)===0}function cr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=W({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||r0(o,Q4))||n.data&&r0(o,J4)||n.attr&&X4.includes(o))&&(r[o]=t[o])}),r}function dx(t){return t&&fe.isValidElement(t)&&t.type===fe.Fragment}const Z4=(t,e,n)=>fe.isValidElement(t)?fe.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function ur(t,e){return Z4(t,t,e)}const eD=t=>{const[,,,,e]=Dr();return e?"".concat(t,"-css-var"):""},Dn=eD;var Ie={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=Ie.F1&&n<=Ie.F12)return!1;switch(n){case Ie.ALT:case Ie.CAPS_LOCK:case Ie.CONTEXT_MENU:case Ie.CTRL:case Ie.DOWN:case Ie.END:case Ie.ESC:case Ie.HOME:case Ie.INSERT:case Ie.LEFT:case Ie.MAC_FF_META:case Ie.META:case Ie.NUMLOCK:case Ie.NUM_CENTER:case Ie.PAGE_DOWN:case Ie.PAGE_UP:case Ie.PAUSE:case Ie.PRINT_SCREEN:case Ie.RIGHT:case Ie.SHIFT:case Ie.UP:case Ie.WIN_KEY:case Ie.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Ie.ZERO&&e<=Ie.NINE||e>=Ie.NUM_ZERO&&e<=Ie.NUM_MULTIPLY||e>=Ie.A&&e<=Ie.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Ie.SPACE:case Ie.QUESTION_MARK:case Ie.NUM_PLUS:case Ie.NUM_MINUS:case Ie.NUM_PERIOD:case Ie.NUM_DIVISION:case Ie.SEMICOLON:case Ie.DASH:case Ie.EQUALS:case Ie.COMMA:case Ie.PERIOD:case Ie.SLASH:case Ie.APOSTROPHE:case Ie.SINGLE_QUOTE:case Ie.OPEN_SQUARE_BRACKET:case Ie.BACKSLASH:case Ie.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},tD=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,i=t.duration,s=i===void 0?4.5:i,a=t.showProgress,c=t.pauseOnHover,u=c===void 0?!0:c,d=t.eventKey,f=t.content,m=t.closable,h=t.closeIcon,g=h===void 0?"x":h,p=t.props,w=t.onClick,v=t.onNoticeClose,y=t.times,b=t.hovering,C=l.useState(!1),S=K(C,2),x=S[0],I=S[1],E=l.useState(0),_=K(E,2),P=_[0],M=_[1],T=l.useState(0),k=K(T,2),R=k[0],D=k[1],L=b||x,$=s>0&&a,j=function(){v(d)},U=function(H){(H.key==="Enter"||H.code==="Enter"||H.keyCode===Ie.ENTER)&&j()};l.useEffect(function(){if(!L&&s>0){var B=Date.now()-R,H=setTimeout(function(){j()},s*1e3-R);return function(){u&&clearTimeout(H),D(Date.now()-B)}}},[s,L,y]),l.useEffect(function(){if(!L&&$&&(u||R===0)){var B=performance.now(),H,Q=function G(){cancelAnimationFrame(H),H=requestAnimationFrame(function(Y){var te=Y+R-B,ee=Math.min(te/(s*1e3),1);M(ee*100),ee<1&&G()})};return Q(),function(){u&&cancelAnimationFrame(H)}}},[s,R,L,$,y]);var z=l.useMemo(function(){return st(m)==="object"&&m!==null?m:m?{closeIcon:g}:{}},[m,g]),F=cr(z,!0),V=100-(!P||P<0?0:P>100?100:P),N="".concat(n,"-notice");return l.createElement("div",pe({},p,{ref:e,className:X(N,o,q({},"".concat(N,"-closable"),m)),style:r,onMouseEnter:function(H){var Q;I(!0),p==null||(Q=p.onMouseEnter)===null||Q===void 0||Q.call(p,H)},onMouseLeave:function(H){var Q;I(!1),p==null||(Q=p.onMouseLeave)===null||Q===void 0||Q.call(p,H)},onClick:w}),l.createElement("div",{className:"".concat(N,"-content")},f),m&&l.createElement("a",pe({tabIndex:0,className:"".concat(N,"-close"),onKeyDown:U,"aria-label":"Close"},F,{onClick:function(H){H.preventDefault(),H.stopPropagation(),j()}}),z.closeIcon),$&&l.createElement("progress",{className:"".concat(N,"-progress"),max:"100",value:V},V+"%"))}),fx=fe.createContext({}),mx=function(e){var n=e.children,r=e.classNames;return fe.createElement(fx.Provider,{value:{classNames:r}},n)},o0=8,i0=3,s0=16,nD=function(e){var n={offset:o0,threshold:i0,gap:s0};if(e&&st(e)==="object"){var r,o,i;n.offset=(r=e.offset)!==null&&r!==void 0?r:o0,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:i0,n.gap=(i=e.gap)!==null&&i!==void 0?i:s0}return[!!e,n]},rD=["className","style","classNames","styles"],oD=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,i=e.className,s=e.style,a=e.motion,c=e.onAllNoticeRemoved,u=e.onNoticeClose,d=e.stack,f=l.useContext(fx),m=f.classNames,h=l.useRef({}),g=l.useState(null),p=K(g,2),w=p[0],v=p[1],y=l.useState([]),b=K(y,2),C=b[0],S=b[1],x=n.map(function(L){return{config:L,key:String(L.key)}}),I=nD(d),E=K(I,2),_=E[0],P=E[1],M=P.offset,T=P.threshold,k=P.gap,R=_&&(C.length>0||x.length<=T),D=typeof a=="function"?a(r):a;return l.useEffect(function(){_&&C.length>1&&S(function(L){return L.filter(function($){return x.some(function(j){var U=j.key;return $===U})})})},[C,x,_]),l.useEffect(function(){var L;if(_&&h.current[(L=x[x.length-1])===null||L===void 0?void 0:L.key]){var $;v(h.current[($=x[x.length-1])===null||$===void 0?void 0:$.key])}},[x,_]),fe.createElement(Lp,pe({key:r,className:X(o,"".concat(o,"-").concat(r),m==null?void 0:m.list,i,q(q({},"".concat(o,"-stack"),!!_),"".concat(o,"-stack-expanded"),R)),style:s,keys:x,motionAppear:!0},D,{onAllRemoved:function(){c(r)}}),function(L,$){var j=L.config,U=L.className,z=L.style,F=L.index,V=j,N=V.key,B=V.times,H=String(N),Q=j,G=Q.className,Y=Q.style,te=Q.classNames,ee=Q.styles,J=ht(Q,rD),se=x.findIndex(function(le){return le.key===H}),ie={};if(_){var oe=x.length-1-(se>-1?se:F-1),ue=r==="top"||r==="bottom"?"-50%":"0";if(oe>0){var de,he,ye;ie.height=R?(de=h.current[H])===null||de===void 0?void 0:de.offsetHeight:w==null?void 0:w.offsetHeight;for(var Se=0,Me=0;Me<oe;Me++){var be;Se+=((be=h.current[x[x.length-1-Me].key])===null||be===void 0?void 0:be.offsetHeight)+k}var ke=(R?Se:oe*M)*(r.startsWith("top")?1:-1),we=!R&&w!==null&&w!==void 0&&w.offsetWidth&&(he=h.current[H])!==null&&he!==void 0&&he.offsetWidth?((w==null?void 0:w.offsetWidth)-M*2*(oe<3?oe:3))/((ye=h.current[H])===null||ye===void 0?void 0:ye.offsetWidth):1;ie.transform="translate3d(".concat(ue,", ").concat(ke,"px, 0) scaleX(").concat(we,")")}else ie.transform="translate3d(".concat(ue,", 0, 0)")}return fe.createElement("div",{ref:$,className:X("".concat(o,"-notice-wrapper"),U,te==null?void 0:te.wrapper),style:W(W(W({},z),ie),ee==null?void 0:ee.wrapper),onMouseEnter:function(){return S(function(Ce){return Ce.includes(H)?Ce:[].concat(Ee(Ce),[H])})},onMouseLeave:function(){return S(function(Ce){return Ce.filter(function(Ae){return Ae!==H})})}},fe.createElement(tD,pe({},J,{ref:function(Ce){se>-1?h.current[H]=Ce:delete h.current[H]},prefixCls:o,classNames:te,styles:ee,className:X(G,m==null?void 0:m.notice),style:Y,times:B,key:N,eventKey:N,onNoticeClose:u,hovering:_&&C.length>0})))})},iD=l.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,i=t.motion,s=t.maxCount,a=t.className,c=t.style,u=t.onAllRemoved,d=t.stack,f=t.renderNotifications,m=l.useState([]),h=K(m,2),g=h[0],p=h[1],w=function(_){var P,M=g.find(function(T){return T.key===_});M==null||(P=M.onClose)===null||P===void 0||P.call(M),p(function(T){return T.filter(function(k){return k.key!==_})})};l.useImperativeHandle(e,function(){return{open:function(_){p(function(P){var M=Ee(P),T=M.findIndex(function(D){return D.key===_.key}),k=W({},_);if(T>=0){var R;k.times=(((R=P[T])===null||R===void 0?void 0:R.times)||0)+1,M[T]=k}else k.times=0,M.push(k);return s>0&&M.length>s&&(M=M.slice(-s)),M})},close:function(_){w(_)},destroy:function(){p([])}}});var v=l.useState({}),y=K(v,2),b=y[0],C=y[1];l.useEffect(function(){var E={};g.forEach(function(_){var P=_.placement,M=P===void 0?"topRight":P;M&&(E[M]=E[M]||[],E[M].push(_))}),Object.keys(b).forEach(function(_){E[_]=E[_]||[]}),C(E)},[g]);var S=function(_){C(function(P){var M=W({},P),T=M[_]||[];return T.length||delete M[_],M})},x=l.useRef(!1);if(l.useEffect(function(){Object.keys(b).length>0?x.current=!0:x.current&&(u==null||u(),x.current=!1)},[b]),!o)return null;var I=Object.keys(b);return Wi.createPortal(l.createElement(l.Fragment,null,I.map(function(E){var _=b[E],P=l.createElement(oD,{key:E,configList:_,placement:E,prefixCls:r,className:a==null?void 0:a(E),style:c==null?void 0:c(E),motion:i,onNoticeClose:w,onAllNoticeRemoved:S,stack:d});return f?f(P,{prefixCls:r,key:E}):P})),o)}),sD=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],aD=function(){return document.body},a0=0;function lD(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(i){var s=o[i];s!==void 0&&(t[i]=s)})}),t}function hx(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?aD:e,r=t.motion,o=t.prefixCls,i=t.maxCount,s=t.className,a=t.style,c=t.onAllRemoved,u=t.stack,d=t.renderNotifications,f=ht(t,sD),m=l.useState(),h=K(m,2),g=h[0],p=h[1],w=l.useRef(),v=l.createElement(iD,{container:g,ref:w,prefixCls:o,motion:r,maxCount:i,className:s,style:a,onAllRemoved:c,stack:u,renderNotifications:d}),y=l.useState([]),b=K(y,2),C=b[0],S=b[1],x=l.useMemo(function(){return{open:function(E){var _=lD(f,E);(_.key===null||_.key===void 0)&&(_.key="rc-notification-".concat(a0),a0+=1),S(function(P){return[].concat(Ee(P),[{type:"open",config:_}])})},close:function(E){S(function(_){return[].concat(Ee(_),[{type:"close",key:E}])})},destroy:function(){S(function(E){return[].concat(Ee(E),[{type:"destroy"}])})}}},[]);return l.useEffect(function(){p(n())}),l.useEffect(function(){w.current&&C.length&&(C.forEach(function(I){switch(I.type){case"open":w.current.open(I.config);break;case"close":w.current.close(I.key);break;case"destroy":w.current.destroy();break}}),S(function(I){return I.filter(function(E){return!C.includes(E)})}))},[C]),[x,v]}var cD={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const uD=cD;var dD=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:uD}))},fD=l.forwardRef(dD);const Si=fD,mD=fe.createContext(void 0),Mc=mD,ms=100,hD=10,jp=ms*hD,gx={Modal:ms,Drawer:ms,Popover:ms,Popconfirm:ms,Tooltip:ms,Tour:ms},gD={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function pD(t){return t in gx}function ti(t,e){const[,n]=Dr(),r=fe.useContext(Mc),o=pD(t);let i;if(e!==void 0)i=[e,e];else{let s=r!=null?r:0;o?s+=(r?0:n.zIndexPopupBase)+gx[t]:s+=gD[t],i=[r===void 0?e:s,s]}return i}const vD=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:i,colorError:s,colorWarning:a,colorInfo:c,fontSizeLG:u,motionEaseInOutCirc:d,motionDurationSlow:f,marginXS:m,paddingXS:h,borderRadiusLG:g,zIndexPopup:p,contentPadding:w,contentBg:v}=t,y="".concat(e,"-notice"),b=new Rt("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),C=new Rt("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),S={padding:h,textAlign:"center",["".concat(e,"-custom-content")]:{display:"flex",alignItems:"center"},["".concat(e,"-custom-content > ").concat(n)]:{marginInlineEnd:m,fontSize:u},["".concat(y,"-content")]:{display:"inline-block",padding:w,background:v,borderRadius:g,boxShadow:r,pointerEvents:"all"},["".concat(e,"-success > ").concat(n)]:{color:i},["".concat(e,"-error > ").concat(n)]:{color:s},["".concat(e,"-warning > ").concat(n)]:{color:a},["".concat(e,"-info > ").concat(n,",\n      ").concat(e,"-loading > ").concat(n)]:{color:c}};return[{[e]:Object.assign(Object.assign({},cn(t)),{color:o,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:p,["".concat(e,"-move-up")]:{animationFillMode:"forwards"},["\n        ".concat(e,"-move-up-appear,\n        ").concat(e,"-move-up-enter\n      ")]:{animationName:b,animationDuration:f,animationPlayState:"paused",animationTimingFunction:d},["\n        ".concat(e,"-move-up-appear").concat(e,"-move-up-appear-active,\n        ").concat(e,"-move-up-enter").concat(e,"-move-up-enter-active\n      ")]:{animationPlayState:"running"},["".concat(e,"-move-up-leave")]:{animationName:C,animationDuration:f,animationPlayState:"paused",animationTimingFunction:d},["".concat(e,"-move-up-leave").concat(e,"-move-up-leave-active")]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{["".concat(y,"-wrapper")]:Object.assign({},S)}},{["".concat(e,"-notice-pure-panel")]:Object.assign(Object.assign({},S),{padding:0,textAlign:"start"})}]},bD=t=>({zIndexPopup:t.zIndexPopupBase+jp+10,contentBg:t.colorBgElevated,contentPadding:"".concat((t.controlHeightLG-t.fontSize*t.lineHeight)/2,"px ").concat(t.paddingSM,"px")}),wD=Jt("Message",t=>{const e=Dt(t,{height:150});return[vD(e)]},bD);globalThis&&globalThis.__rest;const yD={info:l.createElement(Vp,null),success:l.createElement(Va,null),error:l.createElement(ts,null),warning:l.createElement(ja,null),loading:l.createElement(Si,null)},CD=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return l.createElement("div",{className:X("".concat(e,"-custom-content"),"".concat(e,"-").concat(n))},r||yD[n],l.createElement("span",null,o))};function SD(t,e){return{motionName:e!=null?e:"".concat(t,"-move-up")}}function xD(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,i)=>n.then(o,i),r.promise=n,r}var AD=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const ED=8,ID=3,_D=t=>{let{children:e,prefixCls:n}=t;const r=Dn(n),[o,i,s]=wD(n,r);return o(l.createElement(mx,{classNames:{list:X(i,s,r)}},e))},PD=(t,e)=>{let{prefixCls:n,key:r}=e;return l.createElement(_D,{prefixCls:n,key:r},t)},MD=l.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:i,duration:s=ID,rtl:a,transitionName:c,onAllRemoved:u}=t,{getPrefixCls:d,getPopupContainer:f,message:m,direction:h}=l.useContext(Ge),g=r||d("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:n!=null?n:ED}),w=()=>X({["".concat(g,"-rtl")]:a!=null?a:h==="rtl"}),v=()=>SD(g,c),y=l.createElement("span",{className:"".concat(g,"-close-x")},l.createElement(fr,{className:"".concat(g,"-close-icon")})),[b,C]=hx({prefixCls:g,style:p,className:w,motion:v,closable:!1,closeIcon:y,duration:s,getContainer:()=>(o==null?void 0:o())||(f==null?void 0:f())||document.body,maxCount:i,onAllRemoved:u,renderNotifications:PD});return l.useImperativeHandle(e,()=>Object.assign(Object.assign({},b),{prefixCls:g,message:m})),C});let l0=0;function kD(t){const e=l.useRef(null);return Os(),[l.useMemo(()=>{const r=c=>{var u;(u=e.current)===null||u===void 0||u.close(c)},o=c=>{if(!e.current){const x=()=>{};return x.then=()=>{},x}const{open:u,prefixCls:d,message:f}=e.current,m="".concat(d,"-notice"),{content:h,icon:g,type:p,key:w,className:v,style:y,onClose:b}=c,C=AD(c,["content","icon","type","key","className","style","onClose"]);let S=w;return S==null&&(l0+=1,S="antd-message-".concat(l0)),xD(x=>(u(Object.assign(Object.assign({},C),{key:S,content:l.createElement(CD,{prefixCls:d,type:p,icon:g},h),placement:"top",className:X(p&&"".concat(m,"-").concat(p),v,f==null?void 0:f.className),style:Object.assign(Object.assign({},f==null?void 0:f.style),y),onClose:()=>{b==null||b(),x()}})),()=>{r(S)}))},s={open:o,destroy:c=>{var u;c!==void 0?r(c):(u=e.current)===null||u===void 0||u.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const u=(d,f,m)=>{let h;d&&typeof d=="object"&&"content"in d?h=d:h={content:d};let g,p;typeof f=="function"?p=f:(g=f,p=m);const w=Object.assign(Object.assign({onClose:p,duration:g},h),{type:c});return o(w)};s[c]=u}),s},[]),l.createElement(MD,Object.assign({key:"message-holder"},t,{ref:e}))]}function RD(t){return kD(t)}function TD(){const[t,e]=l.useState([]),n=l.useCallback(r=>(e(o=>[].concat(Ee(o),[r])),()=>{e(o=>o.filter(i=>i!==r))}),[]);return[t,n]}var kc=W({},AM),OD=kc.version,ND=kc.render,DD=kc.unmountComponentAtNode,sf;try{var $D=Number((OD||"").split(".")[0]);$D>=18&&(sf=kc.createRoot)}catch(t){}function c0(t){var e=kc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&st(e)==="object"&&(e.usingClientEntryPoint=t)}var dd="__rc_react_root__";function FD(t,e){c0(!0);var n=e[dd]||sf(e);c0(!1),n.render(t),e[dd]=n}function LD(t,e){ND(t,e)}function px(t,e){if(sf){FD(t,e);return}LD(t,e)}function BD(t){return cg.apply(this,arguments)}function cg(){return cg=Ji(Ar().mark(function t(e){return Ar().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[dd])===null||o===void 0||o.unmount(),delete e[dd]}));case 1:case"end":return r.stop()}},t)})),cg.apply(this,arguments)}function VD(t){DD(t)}function vx(t){return ug.apply(this,arguments)}function ug(){return ug=Ji(Ar().mark(function t(e){return Ar().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(sf===void 0){r.next=2;break}return r.abrupt("return",BD(e));case 2:VD(e);case 3:case"end":return r.stop()}},t)})),ug.apply(this,arguments)}const Sm=()=>({height:0,opacity:0}),u0=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},jD=t=>({height:t?t.offsetHeight:0}),xm=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",fd=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lc;return{motionName:"".concat(t,"-motion-collapse"),onAppearStart:Sm,onEnterStart:Sm,onAppearActive:u0,onEnterActive:u0,onLeaveStart:jD,onLeaveActive:Sm,onAppearEnd:xm,onEnterEnd:xm,onLeaveEnd:xm,motionDeadline:500}},jr=(t,e,n)=>n!==void 0?n:"".concat(t,"-").concat(e),Rc=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),i=o.width,s=o.height;if(i||s)return!0}}return!1},zD=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(t.motionEaseOutCirc),"opacity 2s ".concat(t.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut),"opacity ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut)].join(",")}}}}},UD=$N("Wave",t=>[zD(t)]),zp="".concat(lc,"-wave-target");function HD(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function Am(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&HD(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function WD(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return Am(e)?e:Am(n)?n:Am(r)?r:null}function Em(t){return Number.isNaN(t)?0:t}const GD=t=>{const{className:e,target:n,component:r}=t,o=l.useRef(null),[i,s]=l.useState(null),[a,c]=l.useState([]),[u,d]=l.useState(0),[f,m]=l.useState(0),[h,g]=l.useState(0),[p,w]=l.useState(0),[v,y]=l.useState(!1),b={left:u,top:f,width:h,height:p,borderRadius:a.map(x=>"".concat(x,"px")).join(" ")};i&&(b["--wave-color"]=i);function C(){const x=getComputedStyle(n);s(WD(n));const I=x.position==="static",{borderLeftWidth:E,borderTopWidth:_}=x;d(I?n.offsetLeft:Em(-parseFloat(E))),m(I?n.offsetTop:Em(-parseFloat(_))),g(n.offsetWidth),w(n.offsetHeight);const{borderTopLeftRadius:P,borderTopRightRadius:M,borderBottomLeftRadius:T,borderBottomRightRadius:k}=x;c([P,M,k,T].map(R=>Em(parseFloat(R))))}if(l.useEffect(()=>{if(n){const x=zt(()=>{C(),y(!0)});let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(C),I.observe(n)),()=>{zt.cancel(x),I==null||I.disconnect()}}},[]),!v)return null;const S=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(zp));return l.createElement(Ir,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(x,I)=>{var E;if(I.deadline||I.propertyName==="opacity"){const _=(E=o.current)===null||E===void 0?void 0:E.parentElement;vx(_).then(()=>{_==null||_.remove()})}return!1}},(x,I)=>{let{className:E}=x;return l.createElement("div",{ref:oo(o,I),className:X(e,E,{"wave-quick":S}),style:b})})},qD=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",t==null||t.insertBefore(o,t==null?void 0:t.firstChild),px(l.createElement(GD,Object.assign({},e,{target:t})),o)},KD=qD,YD=(t,e,n)=>{const{wave:r}=l.useContext(Ge),[,o,i]=Dr(),s=Gt(u=>{const d=t.current;if(r!=null&&r.disabled||!d)return;const f=d.querySelector(".".concat(zp))||d,{showEffect:m}=r||{};(m||KD)(f,{className:e,token:o,component:n,event:u,hashId:i})}),a=l.useRef();return u=>{zt.cancel(a.current),a.current=zt(()=>{s(u)})}},XD=YD,QD=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:o}=l.useContext(Ge),i=l.useRef(null),s=o("wave"),[,a]=UD(s),c=XD(i,X(s,a),r);if(fe.useEffect(()=>{const d=i.current;if(!d||d.nodeType!==1||n)return;const f=m=>{!Rc(m.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||c(m)};return d.addEventListener("click",f,!0),()=>{d.removeEventListener("click",f,!0)}},[n]),!fe.isValidElement(e))return e!=null?e:null;const u=_i(e)?oo(e.ref,i):i;return ur(e,{ref:u})},Up=QD,JD=t=>{const e=fe.useContext(Pc);return fe.useMemo(()=>t?typeof t=="string"?t!=null?t:e:t instanceof Function?t(e):e:e,[t,e])},io=JD,ZD=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},e3=ZD,t3=t=>{const{componentCls:e,antCls:n}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(e,"-item:empty")]:{display:"none"},["".concat(e,"-item > ").concat(n,"-badge-not-a-wrapper:only-child")]:{display:"block"}}}},n3=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},bx=Jt("Space",t=>{const e=Dt(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[t3(e),n3(e),e3(e)]},()=>({}),{resetStyle:!1});var wx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const af=l.createContext(null),Ns=(t,e)=>{const n=l.useContext(af),r=l.useMemo(()=>{if(!n)return"";const{compactDirection:o,isFirstItem:i,isLastItem:s}=n,a=o==="vertical"?"-vertical-":"-";return X("".concat(t,"-compact").concat(a,"item"),{["".concat(t,"-compact").concat(a,"first-item")]:i,["".concat(t,"-compact").concat(a,"last-item")]:s,["".concat(t,"-compact").concat(a,"item-rtl")]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},r3=t=>{let{children:e}=t;return l.createElement(af.Provider,{value:null},e)},o3=t=>{var{children:e}=t,n=wx(t,["children"]);return l.createElement(af.Provider,{value:n},e)},i3=t=>{const{getPrefixCls:e,direction:n}=l.useContext(Ge),{size:r,direction:o,block:i,prefixCls:s,className:a,rootClassName:c,children:u}=t,d=wx(t,["size","direction","block","prefixCls","className","rootClassName","children"]),f=io(b=>r!=null?r:b),m=e("space-compact",s),[h,g]=bx(m),p=X(m,g,{["".concat(m,"-rtl")]:n==="rtl",["".concat(m,"-block")]:i,["".concat(m,"-vertical")]:o==="vertical"},a,c),w=l.useContext(af),v=Nr(u),y=l.useMemo(()=>v.map((b,C)=>{const S=(b==null?void 0:b.key)||"".concat(m,"-item-").concat(C);return l.createElement(o3,{key:S,compactSize:f,compactDirection:o,isFirstItem:C===0&&(!w||(w==null?void 0:w.isFirstItem)),isLastItem:C===v.length-1&&(!w||(w==null?void 0:w.isLastItem))},b)}),[r,v,w]);return v.length===0?null:h(l.createElement("div",Object.assign({className:p},d),y))},s3=i3;var a3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const yx=l.createContext(void 0),l3=t=>{const{getPrefixCls:e,direction:n}=l.useContext(Ge),{prefixCls:r,size:o,className:i}=t,s=a3(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,c]=Dr();let u="";switch(o){case"large":u="lg";break;case"small":u="sm";break}const d=X(a,{["".concat(a,"-").concat(u)]:u,["".concat(a,"-rtl")]:n==="rtl"},i,c);return l.createElement(yx.Provider,{value:o},l.createElement("div",Object.assign({},s,{className:d})))},c3=l3,d0=/^[\u4e00-\u9fa5]{2}$/,dg=d0.test.bind(d0);function Cx(t){return t==="danger"?{danger:!0}:{type:t}}function f0(t){return typeof t=="string"}function Im(t){return t==="text"||t==="link"}function u3(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&f0(t.type)&&dg(t.props.children)?ur(t,{children:t.props.children.split("").join(n)}):f0(t)?dg(t)?fe.createElement("span",null,t.split("").join(n)):fe.createElement("span",null,t):dx(t)?fe.createElement("span",null,t):t}function d3(t,e){let n=!1;const r=[];return fe.Children.forEach(t,o=>{const i=typeof o,s=i==="string"||i==="number";if(n&&s){const a=r.length-1,c=r[a];r[a]="".concat(c).concat(o)}else r.push(o);n=s}),fe.Children.map(r,o=>u3(o,e))}const f3=l.forwardRef((t,e)=>{const{className:n,style:r,children:o,prefixCls:i}=t,s=X("".concat(i,"-icon"),n);return fe.createElement("span",{ref:e,className:s,style:r},o)}),Sx=f3,m0=l.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:o,iconClassName:i}=t,s=X("".concat(n,"-loading-icon"),r);return fe.createElement(Sx,{prefixCls:n,className:s,style:o,ref:e},fe.createElement(Si,{className:i}))}),_m=()=>({width:0,opacity:0,transform:"scale(0)"}),Pm=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),m3=t=>{const{prefixCls:e,loading:n,existIcon:r,className:o,style:i}=t,s=!!n;return r?fe.createElement(m0,{prefixCls:e,className:o,style:i}):fe.createElement(Ir,{visible:s,motionName:"".concat(e,"-loading-icon-motion"),motionLeave:s,removeOnLeave:!0,onAppearStart:_m,onAppearActive:Pm,onEnterStart:_m,onEnterActive:Pm,onLeaveStart:Pm,onLeaveActive:_m},(a,c)=>{let{className:u,style:d}=a;return fe.createElement(m0,{prefixCls:e,className:o,style:Object.assign(Object.assign({},i),d),ref:c,iconClassName:u})})},h3=m3,h0=(t,e)=>({["> span, > ".concat(t)]:{"&:not(:last-child)":{["&, & > ".concat(t)]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{["&, & > ".concat(t)]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),g3=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:o,colorErrorHover:i}=t;return{["".concat(e,"-group")]:[{position:"relative",display:"inline-flex",["> span, > ".concat(e)]:{"&:not(:last-child)":{["&, & > ".concat(e)]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),["&, & > ".concat(e)]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},["".concat(e,"-icon-only")]:{fontSize:n}},h0("".concat(e,"-primary"),o),h0("".concat(e,"-danger"),i)]}},p3=g3,xx=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return Dt(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},Ax=t=>{var e,n,r,o,i,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,c=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,u=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,d=(o=t.contentLineHeight)!==null&&o!==void 0?o:Uu(a),f=(i=t.contentLineHeightSM)!==null&&i!==void 0?i:Uu(c),m=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:Uu(u);return{fontWeight:400,defaultShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.controlTmpOutline),primaryShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.controlOutline),dangerShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.colorErrorOutline),primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,contentFontSize:a,contentFontSizeSM:c,contentFontSizeLG:u,contentLineHeight:d,contentLineHeightSM:f,contentLineHeightLG:m,paddingBlock:Math.max((t.controlHeight-a*d)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-c*f)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-u*m)/2-t.lineWidth,0)}},v3=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:"".concat(re(t.lineWidth)," ").concat(t.lineType," transparent"),cursor:"pointer",transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut),userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},["".concat(e,"-icon")]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Qo(t)),["&".concat(e,"-two-chinese-chars::first-letter")]:{letterSpacing:"0.34em"},["&".concat(e,"-two-chinese-chars > *:not(").concat(n,")")]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},xi=(t,e,n)=>({["&:not(:disabled):not(".concat(t,"-disabled)")]:{"&:hover":e,"&:active":n}}),b3=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),w3=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),y3=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),uc=(t,e,n,r,o,i,s,a)=>({["&".concat(t,"-background-ghost")]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},xi(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:i||void 0}})}),Hp=t=>({["&:disabled, &".concat(t.componentCls,"-disabled")]:Object.assign({},y3(t))}),Ex=t=>Object.assign({},Hp(t)),md=t=>({["&:disabled, &".concat(t.componentCls,"-disabled")]:{cursor:"not-allowed",color:t.colorTextDisabled}}),Ix=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ex(t)),{background:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),xi(t.componentCls,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),uc(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{["&".concat(t.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},xi(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),uc(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),Hp(t))}),C3=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ex(t)),{color:t.primaryColor,background:t.colorPrimary,boxShadow:t.primaryShadow}),xi(t.componentCls,{color:t.colorTextLightSolid,background:t.colorPrimaryHover},{color:t.colorTextLightSolid,background:t.colorPrimaryActive})),uc(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{["&".concat(t.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({background:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},xi(t.componentCls,{background:t.colorErrorHover},{background:t.colorErrorActive})),uc(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Hp(t))}),S3=t=>Object.assign(Object.assign({},Ix(t)),{borderStyle:"dashed"}),x3=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},xi(t.componentCls,{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),md(t)),{["&".concat(t.componentCls,"-dangerous")]:Object.assign(Object.assign({color:t.colorError},xi(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),md(t))}),A3=t=>Object.assign(Object.assign(Object.assign({},xi(t.componentCls,{color:t.colorText,background:t.textHoverBg},{color:t.colorText,background:t.colorBgTextActive})),md(t)),{["&".concat(t.componentCls,"-dangerous")]:Object.assign(Object.assign({color:t.colorError},md(t)),xi(t.componentCls,{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive}))}),E3=t=>{const{componentCls:e}=t;return{["".concat(e,"-default")]:Ix(t),["".concat(e,"-primary")]:C3(t),["".concat(e,"-dashed")]:S3(t),["".concat(e,"-link")]:x3(t),["".concat(e,"-text")]:A3(t),["".concat(e,"-ghost")]:uc(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},Wp=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:o,lineHeight:i,borderRadius:s,buttonPaddingHorizontal:a,iconCls:c,buttonPaddingVertical:u}=t,d="".concat(n,"-icon-only");return[{["".concat(e)]:{fontSize:o,lineHeight:i,height:r,padding:"".concat(re(u)," ").concat(re(a)),borderRadius:s,["&".concat(d)]:{width:r,paddingInline:0,["&".concat(n,"-compact-item")]:{flex:"none"},["&".concat(n,"-round")]:{width:"auto"},[c]:{fontSize:t.buttonIconOnlyFontSize}},["&".concat(n,"-loading")]:{opacity:t.opacityLoading,cursor:"default"},["".concat(n,"-loading-icon")]:{transition:"width ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut,", opacity ").concat(t.motionDurationSlow," ").concat(t.motionEaseInOut)}}},{["".concat(n).concat(n,"-circle").concat(e)]:b3(t)},{["".concat(n).concat(n,"-round").concat(e)]:w3(t)}]},I3=t=>{const e=Dt(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return Wp(e,t.componentCls)},_3=t=>{const e=Dt(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Wp(e,"".concat(t.componentCls,"-sm"))},P3=t=>{const e=Dt(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Wp(e,"".concat(t.componentCls,"-lg"))},M3=t=>{const{componentCls:e}=t;return{[e]:{["&".concat(e,"-block")]:{width:"100%"}}}},k3=Jt("Button",t=>{const e=xx(t);return[v3(e),I3(e),_3(e),P3(e),M3(e),E3(e),p3(e)]},Ax,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function R3(t,e,n){const{focusElCls:r,focus:o,borderElCls:i}=n,s=i?"> *":"",a=["hover",o?"focus":null,"active"].filter(Boolean).map(c=>"&:".concat(c," ").concat(s)).join(",");return{["&-item:not(".concat(e,"-last-item)")]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{["&".concat(r)]:{zIndex:2}}:{}),{["&[disabled] ".concat(s)]:{zIndex:0}})}}function T3(t,e,n){const{borderElCls:r}=n,o=r?"> ".concat(r):"";return{["&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item) ").concat(o)]:{borderRadius:0},["&-item:not(".concat(e,"-last-item)").concat(e,"-first-item")]:{["& ".concat(o,", &").concat(t,"-sm ").concat(o,", &").concat(t,"-lg ").concat(o)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(e,"-first-item)").concat(e,"-last-item")]:{["& ".concat(o,", &").concat(t,"-sm ").concat(o,", &").concat(t,"-lg ").concat(o)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function lf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r="".concat(n,"-compact");return{[r]:Object.assign(Object.assign({},R3(t,r,e)),T3(n,r,e))}}function O3(t,e){return{["&-item:not(".concat(e,"-last-item)")]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function N3(t,e){return{["&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item)")]:{borderRadius:0},["&-item".concat(e,"-first-item:not(").concat(e,"-last-item)")]:{["&, &".concat(t,"-sm, &").concat(t,"-lg")]:{borderEndEndRadius:0,borderEndStartRadius:0}},["&-item".concat(e,"-last-item:not(").concat(e,"-first-item)")]:{["&, &".concat(t,"-sm, &").concat(t,"-lg")]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function D3(t){const e="".concat(t.componentCls,"-compact-vertical");return{[e]:Object.assign(Object.assign({},O3(t,e)),N3(t.componentCls,e))}}const $3=t=>{const{componentCls:e,calc:n}=t;return{[e]:{["&-compact-item".concat(e,"-primary")]:{["&:not([disabled]) + ".concat(e,"-compact-item").concat(e,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:"calc(100% + ".concat(re(t.lineWidth)," * 2)"),backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{["&".concat(e,"-primary")]:{["&:not([disabled]) + ".concat(e,"-compact-vertical-item").concat(e,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:"calc(100% + ".concat(re(t.lineWidth)," * 2)"),height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},F3=Dp(["Button","compact"],t=>{const e=xx(t);return[lf(e),D3(e),$3(e)]},Ax);var L3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function B3(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const V3=fe.forwardRef((t,e)=>{var n,r,o;const{loading:i=!1,prefixCls:s,type:a,danger:c=!1,shape:u="default",size:d,styles:f,disabled:m,className:h,rootClassName:g,children:p,icon:w,iconPosition:v="start",ghost:y=!1,block:b=!1,htmlType:C="button",classNames:S,style:x={},autoInsertSpace:I}=t,E=L3(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),_=a||"default",{getPrefixCls:P,direction:M,button:T}=l.useContext(Ge),k=(n=I!=null?I:T==null?void 0:T.autoInsertSpace)!==null&&n!==void 0?n:!0,R=P("btn",s),[D,L,$]=k3(R),j=l.useContext(Vo),U=m!=null?m:j,z=l.useContext(yx),F=l.useMemo(()=>B3(i),[i]),[V,N]=l.useState(F.loading),[B,H]=l.useState(!1),G=oo(e,l.createRef()),Y=l.Children.count(p)===1&&!w&&!Im(_);l.useEffect(()=>{let le=null;F.delay>0?le=setTimeout(()=>{le=null,N(!0)},F.delay):N(F.loading);function Ce(){le&&(clearTimeout(le),le=null)}return Ce},[F]),l.useEffect(()=>{if(!G||!G.current||!k)return;const le=G.current.textContent;Y&&dg(le)?B||H(!0):B&&H(!1)},[G]);const te=le=>{const{onClick:Ce}=t;if(V||U){le.preventDefault();return}Ce==null||Ce(le)},{compactSize:ee,compactItemClassnames:J}=Ns(R,M),se={large:"lg",small:"sm",middle:void 0},ie=io(le=>{var Ce,Ae;return(Ae=(Ce=d!=null?d:ee)!==null&&Ce!==void 0?Ce:z)!==null&&Ae!==void 0?Ae:le}),oe=ie&&se[ie]||"",ue=V?"loading":w,de=Nn(E,["navigate"]),he=X(R,L,$,{["".concat(R,"-").concat(u)]:u!=="default"&&u,["".concat(R,"-").concat(_)]:_,["".concat(R,"-").concat(oe)]:oe,["".concat(R,"-icon-only")]:!p&&p!==0&&!!ue,["".concat(R,"-background-ghost")]:y&&!Im(_),["".concat(R,"-loading")]:V,["".concat(R,"-two-chinese-chars")]:B&&k&&!V,["".concat(R,"-block")]:b,["".concat(R,"-dangerous")]:c,["".concat(R,"-rtl")]:M==="rtl",["".concat(R,"-icon-end")]:v==="end"},J,h,g,T==null?void 0:T.className),ye=Object.assign(Object.assign({},T==null?void 0:T.style),x),Se=X(S==null?void 0:S.icon,(r=T==null?void 0:T.classNames)===null||r===void 0?void 0:r.icon),Me=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),((o=T==null?void 0:T.styles)===null||o===void 0?void 0:o.icon)||{}),be=w&&!V?fe.createElement(Sx,{prefixCls:R,className:Se,style:Me},w):fe.createElement(h3,{existIcon:!!w,prefixCls:R,loading:V}),ke=p||p===0?d3(p,Y&&k):null;if(de.href!==void 0)return D(fe.createElement("a",Object.assign({},de,{className:X(he,{["".concat(R,"-disabled")]:U}),href:U?void 0:de.href,style:ye,onClick:te,ref:G,tabIndex:U?-1:0}),be,ke));let we=fe.createElement("button",Object.assign({},E,{type:C,className:he,style:ye,onClick:te,disabled:U,ref:G}),be,ke,!!J&&fe.createElement(F3,{key:"compact",prefixCls:R}));return Im(_)||(we=fe.createElement(Up,{component:"Button",disabled:V},we)),D(we)}),Gp=V3;Gp.Group=c3;Gp.__ANT_BUTTON=!0;const un=Gp;function Mm(t){return!!(t!=null&&t.then)}const j3=t=>{const{type:e,children:n,prefixCls:r,buttonProps:o,close:i,autoFocus:s,emitEvent:a,isSilent:c,quitOnNullishReturnValue:u,actionFn:d}=t,f=l.useRef(!1),m=l.useRef(null),[h,g]=Is(!1),p=function(){i==null||i.apply(void 0,arguments)};l.useEffect(()=>{let y=null;return s&&(y=setTimeout(()=>{var b;(b=m.current)===null||b===void 0||b.focus()})),()=>{y&&clearTimeout(y)}},[]);const w=y=>{Mm(y)&&(g(!0),y.then(function(){g(!1,!0),p.apply(void 0,arguments),f.current=!1},b=>{if(g(!1,!0),f.current=!1,!(c!=null&&c()))return Promise.reject(b)}))},v=y=>{if(f.current)return;if(f.current=!0,!d){p();return}let b;if(a){if(b=d(y),u&&!Mm(b)){f.current=!1,p(y);return}}else if(d.length)b=d(i),f.current=!1;else if(b=d(),!Mm(b)){p();return}w(b)};return l.createElement(un,Object.assign({},Cx(e),{onClick:v,loading:h,prefixCls:r},o,{ref:m}),n)},_x=j3,Tc=fe.createContext({}),{Provider:Px}=Tc,z3=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:o,rootPrefixCls:i,close:s,onCancel:a,onConfirm:c}=l.useContext(Tc);return o?fe.createElement(_x,{isSilent:r,actionFn:a,close:function(){s==null||s.apply(void 0,arguments),c==null||c(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:"".concat(i,"-btn")},n):null},g0=z3,U3=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:o,okTextLocale:i,okType:s,onConfirm:a,onOk:c}=l.useContext(Tc);return fe.createElement(_x,{isSilent:n,type:s||"primary",actionFn:c,close:function(){e==null||e.apply(void 0,arguments),a==null||a(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:"".concat(o,"-btn")},i)},p0=U3;var Mx=l.createContext(null),v0=[];function H3(t,e){var n=l.useState(function(){if(!Er())return null;var g=document.createElement("div");return g}),r=K(n,1),o=r[0],i=l.useRef(!1),s=l.useContext(Mx),a=l.useState(v0),c=K(a,2),u=c[0],d=c[1],f=s||(i.current?void 0:function(g){d(function(p){var w=[g].concat(Ee(p));return w})});function m(){o.parentElement||document.body.appendChild(o),i.current=!0}function h(){var g;(g=o.parentElement)===null||g===void 0||g.removeChild(o),i.current=!1}return Kt(function(){return t?s?s(m):m():h(),h},[t]),Kt(function(){u.length&&(u.forEach(function(g){return g()}),d(v0))},[u]),[o,f]}function W3(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var o,i;if(t){var s=getComputedStyle(t);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(t,"::-webkit-scrollbar"),c=parseInt(a.width,10),u=parseInt(a.height,10);try{var d=c?"width: ".concat(a.width,";"):"",f=u?"height: ".concat(a.height,";"):"";gi("\n#".concat(e,"::-webkit-scrollbar {\n").concat(d,"\n").concat(f,"\n}"),e)}catch(g){console.error(g),o=c,i=u}}document.body.appendChild(n);var m=t&&o&&!isNaN(o)?o:n.offsetWidth-n.clientWidth,h=t&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),ic(e),{width:m,height:h}}function G3(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:W3(t)}function q3(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var K3="rc-util-locker-".concat(Date.now()),b0=0;function Y3(t){var e=!!t,n=l.useState(function(){return b0+=1,"".concat(K3,"_").concat(b0)}),r=K(n,1),o=r[0];Kt(function(){if(e){var i=G3(document.body).width,s=q3();gi("\nhtml body {\n  overflow-y: hidden;\n  ".concat(s?"width: calc(100% - ".concat(i,"px);"):"","\n}"),o)}else ic(o);return function(){ic(o)}},[e,o])}var w0=!1;function X3(t){return typeof t=="boolean"&&(w0=t),w0}var y0=function(e){return e===!1?!1:!Er()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Oc=l.forwardRef(function(t,e){var n=t.open,r=t.autoLock,o=t.getContainer;t.debug;var i=t.autoDestroy,s=i===void 0?!0:i,a=t.children,c=l.useState(n),u=K(c,2),d=u[0],f=u[1],m=d||n;l.useEffect(function(){(s||n)&&f(n)},[n,s]);var h=l.useState(function(){return y0(o)}),g=K(h,2),p=g[0],w=g[1];l.useEffect(function(){var M=y0(o);w(M!=null?M:null)});var v=H3(m&&!p),y=K(v,2),b=y[0],C=y[1],S=p!=null?p:b;Y3(r&&n&&Er()&&(S===b||S===document.body));var x=null;if(a&&_i(a)&&e){var I=a;x=I.ref}var E=Ii(x,e);if(!m||!Er()||p===void 0)return null;var _=S===!1||X3(),P=a;return e&&(P=l.cloneElement(a,{ref:E})),l.createElement(Mx.Provider,{value:C},_?P:Wi.createPortal(P,S))}),kx=l.createContext({});function Q3(){var t=W({},Bd);return t.useId}var C0=0,S0=Q3();const Rx=S0?function(e){var n=S0();return e||n}:function(e){var n=l.useState("ssr-id"),r=K(n,2),o=r[0],i=r[1];return l.useEffect(function(){var s=C0;C0+=1,i("rc_unique_".concat(s))},[]),e||o};function x0(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function A0(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var o=t.document;n=o.documentElement[r],typeof n!="number"&&(n=o.body[r])}return n}function J3(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=A0(o),n.top+=A0(o,!0),n}const Z3=l.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var E0={width:0,height:0,overflow:"hidden",outline:"none"},e$={outline:"none"},Tx=fe.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,o=t.style,i=t.title,s=t.ariaId,a=t.footer,c=t.closable,u=t.closeIcon,d=t.onClose,f=t.children,m=t.bodyStyle,h=t.bodyProps,g=t.modalRender,p=t.onMouseDown,w=t.onMouseUp,v=t.holderRef,y=t.visible,b=t.forceRender,C=t.width,S=t.height,x=t.classNames,I=t.styles,E=fe.useContext(kx),_=E.panel,P=Ii(v,_),M=l.useRef(),T=l.useRef(),k=l.useRef();fe.useImperativeHandle(e,function(){return{focus:function(){var N;(N=k.current)===null||N===void 0||N.focus({preventScroll:!0})},changeActive:function(N){var B=document,H=B.activeElement;N&&H===T.current?M.current.focus({preventScroll:!0}):!N&&H===M.current&&T.current.focus({preventScroll:!0})}}});var R={};C!==void 0&&(R.width=C),S!==void 0&&(R.height=S);var D=a?fe.createElement("div",{className:X("".concat(n,"-footer"),x==null?void 0:x.footer),style:W({},I==null?void 0:I.footer)},a):null,L=i?fe.createElement("div",{className:X("".concat(n,"-header"),x==null?void 0:x.header),style:W({},I==null?void 0:I.header)},fe.createElement("div",{className:"".concat(n,"-title"),id:s},i)):null,$=l.useMemo(function(){return st(c)==="object"&&c!==null?c:c?{closeIcon:u!=null?u:fe.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[c,u,n]),j=cr($,!0),U=st(c)==="object"&&c.disabled,z=c?fe.createElement("button",pe({type:"button",onClick:d,"aria-label":"Close"},j,{className:"".concat(n,"-close"),disabled:U}),$.closeIcon):null,F=fe.createElement("div",{className:X("".concat(n,"-content"),x==null?void 0:x.content),style:I==null?void 0:I.content},z,L,fe.createElement("div",pe({className:X("".concat(n,"-body"),x==null?void 0:x.body),style:W(W({},m),I==null?void 0:I.body)},h),f),D);return fe.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:P,style:W(W({},o),R),className:X(n,r),onMouseDown:p,onMouseUp:w},fe.createElement("div",{tabIndex:0,ref:M,style:E0,"aria-hidden":"true"}),fe.createElement("div",{ref:k,tabIndex:-1,style:e$},fe.createElement(Z3,{shouldUpdate:y||b},g?g(F):F)),fe.createElement("div",{tabIndex:0,ref:T,style:E0,"aria-hidden":"true"}))}),Ox=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,o=t.style,i=t.className,s=t.visible,a=t.forceRender,c=t.destroyOnClose,u=t.motionName,d=t.ariaId,f=t.onVisibleChanged,m=t.mousePosition,h=l.useRef(),g=l.useState(),p=K(g,2),w=p[0],v=p[1],y={};w&&(y.transformOrigin=w);function b(){var C=J3(h.current);v(m&&(m.x||m.y)?"".concat(m.x-C.left,"px ").concat(m.y-C.top,"px"):"")}return l.createElement(Ir,{visible:s,onVisibleChanged:f,onAppearPrepare:b,onEnterPrepare:b,forceRender:a,motionName:u,removeOnLeave:c,ref:h},function(C,S){var x=C.className,I=C.style;return l.createElement(Tx,pe({},t,{ref:e,title:r,ariaId:d,prefixCls:n,holderRef:S,style:W(W(W({},I),o),y),className:X(i,x)}))})});Ox.displayName="Content";var t$=function(e){var n=e.prefixCls,r=e.style,o=e.visible,i=e.maskProps,s=e.motionName,a=e.className;return l.createElement(Ir,{key:"mask",visible:o,motionName:s,leavedClassName:"".concat(n,"-mask-hidden")},function(c,u){var d=c.className,f=c.style;return l.createElement("div",pe({ref:u,style:W(W({},f),r),className:X("".concat(n,"-mask"),d,a)},i))})},n$=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,o=e.zIndex,i=e.visible,s=i===void 0?!1:i,a=e.keyboard,c=a===void 0?!0:a,u=e.focusTriggerAfterClose,d=u===void 0?!0:u,f=e.wrapStyle,m=e.wrapClassName,h=e.wrapProps,g=e.onClose,p=e.afterOpenChange,w=e.afterClose,v=e.transitionName,y=e.animation,b=e.closable,C=b===void 0?!0:b,S=e.mask,x=S===void 0?!0:S,I=e.maskTransitionName,E=e.maskAnimation,_=e.maskClosable,P=_===void 0?!0:_,M=e.maskStyle,T=e.maskProps,k=e.rootClassName,R=e.classNames,D=e.styles,L=l.useRef(),$=l.useRef(),j=l.useRef(),U=l.useState(s),z=K(U,2),F=z[0],V=z[1],N=Rx();function B(){$h($.current,document.activeElement)||(L.current=document.activeElement)}function H(){if(!$h($.current,document.activeElement)){var ue;(ue=j.current)===null||ue===void 0||ue.focus()}}function Q(ue){if(ue)H();else{if(V(!1),x&&L.current&&d){try{L.current.focus({preventScroll:!0})}catch(de){}L.current=null}F&&(w==null||w())}p==null||p(ue)}function G(ue){g==null||g(ue)}var Y=l.useRef(!1),te=l.useRef(),ee=function(){clearTimeout(te.current),Y.current=!0},J=function(){te.current=setTimeout(function(){Y.current=!1})},se=null;P&&(se=function(de){Y.current?Y.current=!1:$.current===de.target&&G(de)});function ie(ue){if(c&&ue.keyCode===Ie.ESC){ue.stopPropagation(),G(ue);return}s&&ue.keyCode===Ie.TAB&&j.current.changeActive(!ue.shiftKey)}l.useEffect(function(){s&&(V(!0),B())},[s]),l.useEffect(function(){return function(){clearTimeout(te.current)}},[]);var oe=W(W(W({zIndex:o},f),D==null?void 0:D.wrapper),{},{display:F?null:"none"});return l.createElement("div",pe({className:X("".concat(r,"-root"),k)},cr(e,{data:!0})),l.createElement(t$,{prefixCls:r,visible:x&&s,motionName:x0(r,I,E),style:W(W({zIndex:o},M),D==null?void 0:D.mask),maskProps:T,className:R==null?void 0:R.mask}),l.createElement("div",pe({tabIndex:-1,onKeyDown:ie,className:X("".concat(r,"-wrap"),m,R==null?void 0:R.wrapper),ref:$,onClick:se,style:oe},h),l.createElement(Ox,pe({},e,{onMouseDown:ee,onMouseUp:J,ref:j,closable:C,ariaId:N,prefixCls:r,visible:s&&F,onClose:G,onVisibleChanged:Q,motionName:x0(r,v,y)}))))},qp=function(e){var n=e.visible,r=e.getContainer,o=e.forceRender,i=e.destroyOnClose,s=i===void 0?!1:i,a=e.afterClose,c=e.panelRef,u=l.useState(n),d=K(u,2),f=d[0],m=d[1],h=l.useMemo(function(){return{panel:c}},[c]);return l.useEffect(function(){n&&m(!0)},[n]),!o&&s&&!f?null:l.createElement(kx.Provider,{value:h},l.createElement(Oc,{open:n||o||f,autoDestroy:!1,getContainer:r,autoLock:n||f},l.createElement(n$,pe({},e,{destroyOnClose:s,afterClose:function(){a==null||a(),m(!1)}}))))};qp.displayName="Dialog";var ps="RC_FORM_INTERNAL_HOOKS",pn=function(){nr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},_s=l.createContext({getFieldValue:pn,getFieldsValue:pn,getFieldError:pn,getFieldWarning:pn,getFieldsError:pn,isFieldsTouched:pn,isFieldTouched:pn,isFieldValidating:pn,isFieldsValidating:pn,resetFields:pn,setFields:pn,setFieldValue:pn,setFieldsValue:pn,validateFields:pn,submit:pn,getInternalHooks:function(){return pn(),{dispatch:pn,initEntityValue:pn,registerField:pn,useSubscribe:pn,setInitialValues:pn,destroyForm:pn,setCallbacks:pn,registerWatch:pn,getFields:pn,setValidateMessages:pn,setPreserve:pn,getInitialValue:pn}}}),dc=l.createContext(null);function fg(t){return t==null?[]:Array.isArray(t)?t:[t]}function r$(t){return t&&!!t._init}function mg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var hg=mg(),o$=/%[sdj%]/g,i$=function(){};typeof process<"u"&&process.env;function gg(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function eo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(o$,function(a){if(a==="%%")return"%";if(o>=i)return a;switch(a){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(c){return"[Circular]"}break;default:return a}});return s}return t}function s$(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function rr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||s$(e)&&typeof t=="string"&&!t)}function a$(t,e,n){var r=[],o=0,i=t.length;function s(a){r.push.apply(r,Ee(a||[])),o++,o===i&&n(r)}t.forEach(function(a){e(a,s)})}function I0(t,e,n){var r=0,o=t.length;function i(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<o?e(t[a],i):n([])}i([])}function l$(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,Ee(t[n]||[]))}),e}var _0=function(t){Zo(n,t);var e=ei(n);function n(r,o){var i;return Vn(this,n),i=e.call(this,"Async Validation Error"),q(Pt(i),"errors",void 0),q(Pt(i),"fields",void 0),i.errors=r,i.fields=o,i}return jn(n)}(EM(Error));function c$(t,e,n,r,o){if(e.first){var i=new Promise(function(m,h){var g=function(v){return r(v),v.length?h(new _0(v,gg(v))):m(o)},p=l$(t);I0(p,n,g)});return i.catch(function(m){return m}),i}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),c=a.length,u=0,d=[],f=new Promise(function(m,h){var g=function(w){if(d.push.apply(d,w),u++,u===c)return r(d),d.length?h(new _0(d,gg(d))):m(o)};a.length||(r(d),m(o)),a.forEach(function(p){var w=t[p];s.indexOf(p)!==-1?I0(w,n,g):a$(w,n,g)})});return f.catch(function(m){return m}),f}function u$(t){return!!(t&&t.message!==void 0)}function d$(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function P0(t,e){return function(n){var r;return t.fullFields?r=d$(e,t.fullFields):r=e[n.field||t.fullField],u$(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function M0(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];st(r)==="object"&&st(t[n])==="object"?t[n]=W(W({},t[n]),r):t[n]=r}}return t}var qs="enum",f$=function(e,n,r,o,i){e[qs]=Array.isArray(e[qs])?e[qs]:[],e[qs].indexOf(n)===-1&&o.push(eo(i.messages[qs],e.fullField,e[qs].join(", ")))},m$=function(e,n,r,o,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||o.push(eo(i.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||o.push(eo(i.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},h$=function(e,n,r,o,i){var s=typeof e.len=="number",a=typeof e.min=="number",c=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=n,f=null,m=typeof n=="number",h=typeof n=="string",g=Array.isArray(n);if(m?f="number":h?f="string":g&&(f="array"),!f)return!1;g&&(d=n.length),h&&(d=n.replace(u,"_").length),s?d!==e.len&&o.push(eo(i.messages[f].len,e.fullField,e.len)):a&&!c&&d<e.min?o.push(eo(i.messages[f].min,e.fullField,e.min)):c&&!a&&d>e.max?o.push(eo(i.messages[f].max,e.fullField,e.max)):a&&c&&(d<e.min||d>e.max)&&o.push(eo(i.messages[f].range,e.fullField,e.min,e.max))},Nx=function(e,n,r,o,i,s){e.required&&(!r.hasOwnProperty(e.field)||rr(n,s||e.type))&&o.push(eo(i.messages.required,e.fullField))},mu;const g$=function(){if(mu)return mu;var t="[a-fA-F\\d:]",e=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(o.join("|"),")").concat(i),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),c=new RegExp("^".concat(n,"$")),u=new RegExp("^".concat(s,"$")),d=function(x){return x&&x.exact?a:new RegExp("(?:".concat(e(x)).concat(n).concat(e(x),")|(?:").concat(e(x)).concat(s).concat(e(x),")"),"g")};d.v4=function(S){return S&&S.exact?c:new RegExp("".concat(e(S)).concat(n).concat(e(S)),"g")},d.v6=function(S){return S&&S.exact?u:new RegExp("".concat(e(S)).concat(s).concat(e(S)),"g")};var f="(?:(?:[a-z]+:)?//)",m="(?:\\S+(?::\\S*)?@)?",h=d.v4().source,g=d.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",w="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',C="(?:".concat(f,"|www\\.)").concat(m,"(?:localhost|").concat(h,"|").concat(g,"|").concat(p).concat(w).concat(v,")").concat(y).concat(b);return mu=new RegExp("(?:^".concat(C,"$)"),"i"),mu};var k0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ml={integer:function(e){return Ml.number(e)&&parseInt(e,10)===e},float:function(e){return Ml.number(e)&&!Ml.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(n){return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return st(e)==="object"&&!Ml.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(k0.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(g$())},hex:function(e){return typeof e=="string"&&!!e.match(k0.hex)}},p$=function(e,n,r,o,i){if(e.required&&n===void 0){Nx(e,n,r,o,i);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?Ml[a](n)||o.push(eo(i.messages.types[a],e.fullField,e.type)):a&&st(n)!==e.type&&o.push(eo(i.messages.types[a],e.fullField,e.type))},v$=function(e,n,r,o,i){(/^\s+$/.test(n)||n==="")&&o.push(eo(i.messages.whitespace,e.fullField))};const Xt={required:Nx,whitespace:v$,type:p$,range:h$,enum:f$,pattern:m$};var b$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i)}r(s)},w$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Xt.required(e,n,o,s,i,"array"),n!=null&&(Xt.type(e,n,o,s,i),Xt.range(e,n,o,s,i))}r(s)},y$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&Xt.type(e,n,o,s,i)}r(s)},C$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n,"date")&&!e.required)return r();if(Xt.required(e,n,o,s,i),!rr(n,"date")){var c;n instanceof Date?c=n:c=new Date(n),Xt.type(e,c,o,s,i),c&&Xt.range(e,c.getTime(),o,s,i)}}r(s)},S$="enum",x$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&Xt[S$](e,n,o,s,i)}r(s)},A$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&(Xt.type(e,n,o,s,i),Xt.range(e,n,o,s,i))}r(s)},E$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&(Xt.type(e,n,o,s,i),Xt.range(e,n,o,s,i))}r(s)},I$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&Xt.type(e,n,o,s,i)}r(s)},_$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&(Xt.type(e,n,o,s,i),Xt.range(e,n,o,s,i))}r(s)},P$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),n!==void 0&&Xt.type(e,n,o,s,i)}r(s)},M$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n,"string")&&!e.required)return r();Xt.required(e,n,o,s,i),rr(n,"string")||Xt.pattern(e,n,o,s,i)}r(s)},k$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n)&&!e.required)return r();Xt.required(e,n,o,s,i),rr(n)||Xt.type(e,n,o,s,i)}r(s)},R$=function(e,n,r,o,i){var s=[],a=Array.isArray(n)?"array":st(n);Xt.required(e,n,o,s,i,a),r(s)},T$=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(rr(n,"string")&&!e.required)return r();Xt.required(e,n,o,s,i,"string"),rr(n,"string")||(Xt.type(e,n,o,s,i),Xt.range(e,n,o,s,i),Xt.pattern(e,n,o,s,i),e.whitespace===!0&&Xt.whitespace(e,n,o,s,i))}r(s)},km=function(e,n,r,o,i){var s=e.type,a=[],c=e.required||!e.required&&o.hasOwnProperty(e.field);if(c){if(rr(n,s)&&!e.required)return r();Xt.required(e,n,o,a,i,s),rr(n,s)||Xt.type(e,n,o,a,i)}r(a)};const zl={string:T$,method:I$,number:_$,boolean:y$,regexp:k$,integer:E$,float:A$,array:w$,object:P$,enum:x$,pattern:M$,date:C$,url:km,hex:km,email:km,required:R$,any:b$};var Nc=function(){function t(e){Vn(this,t),q(this,"rules",null),q(this,"_messages",hg),this.define(e)}return jn(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(st(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(o){var i=n[o];r.rules[o]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(n){return n&&(this._messages=M0(mg(),n)),this._messages}},{key:"validate",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=o,c=i;if(typeof a=="function"&&(c=a,a={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,s),Promise.resolve(s);function u(g){var p=[],w={};function v(b){if(Array.isArray(b)){var C;p=(C=p).concat.apply(C,Ee(b))}else p.push(b)}for(var y=0;y<g.length;y++)v(g[y]);p.length?(w=gg(p),c(p,w)):c(null,s)}if(a.messages){var d=this.messages();d===hg&&(d=mg()),M0(d,a.messages),a.messages=d}else a.messages=this.messages();var f={},m=a.keys||Object.keys(this.rules);m.forEach(function(g){var p=r.rules[g],w=s[g];p.forEach(function(v){var y=v;typeof y.transform=="function"&&(s===n&&(s=W({},s)),w=s[g]=y.transform(w),w!=null&&(y.type=y.type||(Array.isArray(w)?"array":st(w)))),typeof y=="function"?y={validator:y}:y=W({},y),y.validator=r.getValidationMethod(y),y.validator&&(y.field=g,y.fullField=y.fullField||g,y.type=r.getType(y),f[g]=f[g]||[],f[g].push({rule:y,value:w,source:s,field:g}))})});var h={};return c$(f,a,function(g,p){var w=g.rule,v=(w.type==="object"||w.type==="array")&&(st(w.fields)==="object"||st(w.defaultField)==="object");v=v&&(w.required||!w.required&&g.value),w.field=g.field;function y(I,E){return W(W({},E),{},{fullField:"".concat(w.fullField,".").concat(I),fullFields:w.fullFields?[].concat(Ee(w.fullFields),[I]):[I]})}function b(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=Array.isArray(I)?I:[I];!a.suppressWarning&&E.length&&t.warning("async-validator:",E),E.length&&w.message!==void 0&&(E=[].concat(w.message));var _=E.map(P0(w,s));if(a.first&&_.length)return h[w.field]=1,p(_);if(!v)p(_);else{if(w.required&&!g.value)return w.message!==void 0?_=[].concat(w.message).map(P0(w,s)):a.error&&(_=[a.error(w,eo(a.messages.required,w.field))]),p(_);var P={};w.defaultField&&Object.keys(g.value).map(function(k){P[k]=w.defaultField}),P=W(W({},P),g.rule.fields);var M={};Object.keys(P).forEach(function(k){var R=P[k],D=Array.isArray(R)?R:[R];M[k]=D.map(y.bind(null,k))});var T=new t(M);T.messages(a.messages),g.rule.options&&(g.rule.options.messages=a.messages,g.rule.options.error=a.error),T.validate(g.value,g.rule.options||a,function(k){var R=[];_&&_.length&&R.push.apply(R,Ee(_)),k&&k.length&&R.push.apply(R,Ee(k)),p(R.length?R:null)})}}var C;if(w.asyncValidator)C=w.asyncValidator(w,g.value,b,g.source,a);else if(w.validator){try{C=w.validator(w,g.value,b,g.source,a)}catch(I){var S,x;(S=(x=console).error)===null||S===void 0||S.call(x,I),a.suppressValidatorError||setTimeout(function(){throw I},0),b(I.message)}C===!0?b():C===!1?b(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||"".concat(w.fullField||w.field," fails")):C instanceof Array?b(C):C instanceof Error&&b(C.message)}C&&C.then&&C.then(function(){return b()},function(I){return b(I)})},function(g){u(g)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!zl.hasOwnProperty(n.type))throw new Error(eo("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?zl.required:zl[this.getType(n)]||void 0}}]),t}();q(Nc,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");zl[e]=n});q(Nc,"warning",i$);q(Nc,"messages",hg);q(Nc,"validators",zl);var Kr="'${name}' is not a valid ${type}",Dx={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Kr,method:Kr,array:Kr,object:Kr,number:Kr,date:Kr,boolean:Kr,integer:Kr,float:Kr,regexp:Kr,email:Kr,url:Kr,hex:Kr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},R0=Nc;function O$(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var T0="CODE_LOGIC_ERROR";function pg(t,e,n,r,o){return vg.apply(this,arguments)}function vg(){return vg=Ji(Ar().mark(function t(e,n,r,o,i){var s,a,c,u,d,f,m,h,g;return Ar().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=W({},r),delete s.ruleIndex,R0.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(v){return console.error(v),Promise.reject(T0)}}),c=null,s&&s.type==="array"&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new R0(q({},e,[s])),d=ua(Dx,o.validateMessages),u.messages(d),f=[],w.prev=10,w.next=13,Promise.resolve(u.validate(q({},e,n),W({},o)));case 13:w.next=18;break;case 15:w.prev=15,w.t0=w.catch(10),w.t0.errors&&(f=w.t0.errors.map(function(v,y){var b=v.message,C=b===T0?d.default:b;return l.isValidElement(C)?l.cloneElement(C,{key:"error_".concat(y)}):C}));case 18:if(!(!f.length&&c)){w.next=23;break}return w.next=21,Promise.all(n.map(function(v,y){return pg("".concat(e,".").concat(y),v,c,o,i)}));case 21:return m=w.sent,w.abrupt("return",m.reduce(function(v,y){return[].concat(Ee(v),Ee(y))},[]));case 23:return h=W(W({},r),{},{name:e,enum:(r.enum||[]).join(", ")},i),g=f.map(function(v){return typeof v=="string"?O$(v,h):v}),w.abrupt("return",g);case 26:case"end":return w.stop()}},t,null,[[10,15]])})),vg.apply(this,arguments)}function N$(t,e,n,r,o,i){var s=t.join("."),a=n.map(function(d,f){var m=d.validator,h=W(W({},d),{},{ruleIndex:f});return m&&(h.validator=function(g,p,w){var v=!1,y=function(){for(var S=arguments.length,x=new Array(S),I=0;I<S;I++)x[I]=arguments[I];Promise.resolve().then(function(){nr(!v,"Your validator function has already return a promise. `callback` will be ignored."),v||w.apply(void 0,x)})},b=m(g,p,y);v=b&&typeof b.then=="function"&&typeof b.catch=="function",nr(v,"`callback` is deprecated. Please return a promise instead."),v&&b.then(function(){w()}).catch(function(C){w(C||" ")})}),h}).sort(function(d,f){var m=d.warningOnly,h=d.ruleIndex,g=f.warningOnly,p=f.ruleIndex;return!!m==!!g?h-p:m?1:-1}),c;if(o===!0)c=new Promise(function(){var d=Ji(Ar().mark(function f(m,h){var g,p,w;return Ar().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:g=0;case 1:if(!(g<a.length)){y.next=12;break}return p=a[g],y.next=5,pg(s,e,p,r,i);case 5:if(w=y.sent,!w.length){y.next=9;break}return h([{errors:w,rule:p}]),y.abrupt("return");case 9:g+=1,y.next=1;break;case 12:m([]);case 13:case"end":return y.stop()}},f)}));return function(f,m){return d.apply(this,arguments)}}());else{var u=a.map(function(d){return pg(s,e,d,r,i).then(function(f){return{errors:f,rule:d}})});c=(o?$$(u):D$(u)).then(function(d){return Promise.reject(d)})}return c.catch(function(d){return d}),c}function D$(t){return bg.apply(this,arguments)}function bg(){return bg=Ji(Ar().mark(function t(e){return Ar().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(o){var i,s=(i=[]).concat.apply(i,Ee(o));return s}));case 1:case"end":return r.stop()}},t)})),bg.apply(this,arguments)}function $$(t){return wg.apply(this,arguments)}function wg(){return wg=Ji(Ar().mark(function t(e){var n;return Ar().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=0,o.abrupt("return",new Promise(function(i){e.forEach(function(s){s.then(function(a){a.errors.length&&i([a]),n+=1,n===e.length&&i([])})})}));case 2:case"end":return o.stop()}},t)})),wg.apply(this,arguments)}function Fn(t){return fg(t)}function O0(t,e){var n={};return e.forEach(function(r){var o=Go(t,r);n=xo(n,r,o)}),n}function wa(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return $x(e,r,n)})}function $x(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,o){return t[o]===r})}function F$(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||st(t)!=="object"||st(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),o=new Set([].concat(n,r));return Ee(o).every(function(i){var s=t[i],a=e[i];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function L$(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&st(e.target)==="object"&&t in e.target?e.target[t]:e}function N0(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var o=t[e],i=e-n;return i>0?[].concat(Ee(t.slice(0,n)),[o],Ee(t.slice(n,e)),Ee(t.slice(e+1,r))):i<0?[].concat(Ee(t.slice(0,e)),Ee(t.slice(e+1,n+1)),[o],Ee(t.slice(n+1,r))):t}var B$=["name"],ao=[];function D0(t,e,n,r,o,i){return typeof t=="function"?t(e,n,"source"in i?{source:i.source}:{}):r!==o}var Kp=function(t){Zo(n,t);var e=ei(n);function n(r){var o;if(Vn(this,n),o=e.call(this,r),q(Pt(o),"state",{resetCount:0}),q(Pt(o),"cancelRegisterFunc",null),q(Pt(o),"mounted",!1),q(Pt(o),"touched",!1),q(Pt(o),"dirty",!1),q(Pt(o),"validatePromise",void 0),q(Pt(o),"prevValidating",void 0),q(Pt(o),"errors",ao),q(Pt(o),"warnings",ao),q(Pt(o),"cancelRegister",function(){var c=o.props,u=c.preserve,d=c.isListField,f=c.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(d,u,Fn(f)),o.cancelRegisterFunc=null}),q(Pt(o),"getNamePath",function(){var c=o.props,u=c.name,d=c.fieldContext,f=d.prefixName,m=f===void 0?[]:f;return u!==void 0?[].concat(Ee(m),Ee(u)):[]}),q(Pt(o),"getRules",function(){var c=o.props,u=c.rules,d=u===void 0?[]:u,f=c.fieldContext;return d.map(function(m){return typeof m=="function"?m(f):m})}),q(Pt(o),"refresh",function(){o.mounted&&o.setState(function(c){var u=c.resetCount;return{resetCount:u+1}})}),q(Pt(o),"metaCache",null),q(Pt(o),"triggerMetaEvent",function(c){var u=o.props.onMetaChange;if(u){var d=W(W({},o.getMeta()),{},{destroy:c});xa(o.metaCache,d)||u(d),o.metaCache=d}else o.metaCache=null}),q(Pt(o),"onStoreChange",function(c,u,d){var f=o.props,m=f.shouldUpdate,h=f.dependencies,g=h===void 0?[]:h,p=f.onReset,w=d.store,v=o.getNamePath(),y=o.getValue(c),b=o.getValue(w),C=u&&wa(u,v);switch(d.type==="valueUpdate"&&d.source==="external"&&!xa(y,b)&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=ao,o.warnings=ao,o.triggerMetaEvent()),d.type){case"reset":if(!u||C){o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=ao,o.warnings=ao,o.triggerMetaEvent(),p==null||p(),o.refresh();return}break;case"remove":{if(m){o.reRender();return}break}case"setField":{var S=d.data;if(C){"touched"in S&&(o.touched=S.touched),"validating"in S&&!("originRCField"in S)&&(o.validatePromise=S.validating?Promise.resolve([]):null),"errors"in S&&(o.errors=S.errors||ao),"warnings"in S&&(o.warnings=S.warnings||ao),o.dirty=!0,o.triggerMetaEvent(),o.reRender();return}else if("value"in S&&wa(u,v,!0)){o.reRender();return}if(m&&!v.length&&D0(m,c,w,y,b,d)){o.reRender();return}break}case"dependenciesUpdate":{var x=g.map(Fn);if(x.some(function(I){return wa(d.relatedFields,I)})){o.reRender();return}break}default:if(C||(!g.length||v.length||m)&&D0(m,c,w,y,b,d)){o.reRender();return}break}m===!0&&o.reRender()}),q(Pt(o),"validateRules",function(c){var u=o.getNamePath(),d=o.getValue(),f=c||{},m=f.triggerName,h=f.validateOnly,g=h===void 0?!1:h,p=Promise.resolve().then(Ji(Ar().mark(function w(){var v,y,b,C,S,x,I;return Ar().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(o.mounted){_.next=2;break}return _.abrupt("return",[]);case 2:if(v=o.props,y=v.validateFirst,b=y===void 0?!1:y,C=v.messageVariables,S=v.validateDebounce,x=o.getRules(),m&&(x=x.filter(function(P){return P}).filter(function(P){var M=P.validateTrigger;if(!M)return!0;var T=fg(M);return T.includes(m)})),!(S&&m)){_.next=10;break}return _.next=8,new Promise(function(P){setTimeout(P,S)});case 8:if(o.validatePromise===p){_.next=10;break}return _.abrupt("return",[]);case 10:return I=N$(u,d,x,c,b,C),I.catch(function(P){return P}).then(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ao;if(o.validatePromise===p){var M;o.validatePromise=null;var T=[],k=[];(M=P.forEach)===null||M===void 0||M.call(P,function(R){var D=R.rule.warningOnly,L=R.errors,$=L===void 0?ao:L;D?k.push.apply(k,Ee($)):T.push.apply(T,Ee($))}),o.errors=T,o.warnings=k,o.triggerMetaEvent(),o.reRender()}}),_.abrupt("return",I);case 13:case"end":return _.stop()}},w)})));return g||(o.validatePromise=p,o.dirty=!0,o.errors=ao,o.warnings=ao,o.triggerMetaEvent(),o.reRender()),p}),q(Pt(o),"isFieldValidating",function(){return!!o.validatePromise}),q(Pt(o),"isFieldTouched",function(){return o.touched}),q(Pt(o),"isFieldDirty",function(){if(o.dirty||o.props.initialValue!==void 0)return!0;var c=o.props.fieldContext,u=c.getInternalHooks(ps),d=u.getInitialValue;return d(o.getNamePath())!==void 0}),q(Pt(o),"getErrors",function(){return o.errors}),q(Pt(o),"getWarnings",function(){return o.warnings}),q(Pt(o),"isListField",function(){return o.props.isListField}),q(Pt(o),"isList",function(){return o.props.isList}),q(Pt(o),"isPreserve",function(){return o.props.preserve}),q(Pt(o),"getMeta",function(){o.prevValidating=o.isFieldValidating();var c={touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:o.validatePromise===null};return c}),q(Pt(o),"getOnlyChild",function(c){if(typeof c=="function"){var u=o.getMeta();return W(W({},o.getOnlyChild(c(o.getControlled(),u,o.props.fieldContext))),{},{isFunction:!0})}var d=Nr(c);return d.length!==1||!l.isValidElement(d[0])?{child:d,isFunction:!1}:{child:d[0],isFunction:!1}}),q(Pt(o),"getValue",function(c){var u=o.props.fieldContext.getFieldsValue,d=o.getNamePath();return Go(c||u(!0),d)}),q(Pt(o),"getControlled",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=o.props,d=u.name,f=u.trigger,m=u.validateTrigger,h=u.getValueFromEvent,g=u.normalize,p=u.valuePropName,w=u.getValueProps,v=u.fieldContext,y=m!==void 0?m:v.validateTrigger,b=o.getNamePath(),C=v.getInternalHooks,S=v.getFieldsValue,x=C(ps),I=x.dispatch,E=o.getValue(),_=w||function(R){return q({},p,R)},P=c[f],M=d!==void 0?_(E):{},T=W(W({},c),M);T[f]=function(){o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var R,D=arguments.length,L=new Array(D),$=0;$<D;$++)L[$]=arguments[$];h?R=h.apply(void 0,L):R=L$.apply(void 0,[p].concat(L)),g&&(R=g(R,E,S(!0))),I({type:"updateValue",namePath:b,value:R}),P&&P.apply(void 0,L)};var k=fg(y||[]);return k.forEach(function(R){var D=T[R];T[R]=function(){D&&D.apply(void 0,arguments);var L=o.props.rules;L&&L.length&&I({type:"validateField",namePath:b,triggerName:R})}}),T}),r.fieldContext){var i=r.fieldContext.getInternalHooks,s=i(ps),a=s.initEntityValue;a(Pt(o))}return o}return jn(n,[{key:"componentDidMount",value:function(){var o=this.props,i=o.shouldUpdate,s=o.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,c=a(ps),u=c.registerField;this.cancelRegisterFunc=u(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var o=this.state.resetCount,i=this.props.children,s=this.getOnlyChild(i),a=s.child,c=s.isFunction,u;return c?u=a:l.isValidElement(a)?u=l.cloneElement(a,this.getControlled(a.props)):(nr(!a,"`children` of Field is not validate ReactElement."),u=a),l.createElement(l.Fragment,{key:o},u)}}]),n}(l.Component);q(Kp,"contextType",_s);q(Kp,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Yp(t){var e=t.name,n=ht(t,B$),r=l.useContext(_s),o=l.useContext(dc),i=e!==void 0?Fn(e):void 0,s="keep";return n.isListField||(s="_".concat((i||[]).join("_"))),l.createElement(Kp,pe({key:s,name:i,isListField:!!o},n,{fieldContext:r}))}function Fx(t){var e=t.name,n=t.initialValue,r=t.children,o=t.rules,i=t.validateTrigger,s=t.isListField,a=l.useContext(_s),c=l.useContext(dc),u=l.useRef({keys:[],id:0}),d=u.current,f=l.useMemo(function(){var p=Fn(a.prefixName)||[];return[].concat(Ee(p),Ee(Fn(e)))},[a.prefixName,e]),m=l.useMemo(function(){return W(W({},a),{},{prefixName:f})},[a,f]),h=l.useMemo(function(){return{getKey:function(w){var v=f.length,y=w[v];return[d.keys[y],w.slice(v+1)]}}},[f]);if(typeof r!="function")return nr(!1,"Form.List only accepts function as children."),null;var g=function(w,v,y){var b=y.source;return b==="internal"?!1:w!==v};return l.createElement(dc.Provider,{value:h},l.createElement(_s.Provider,{value:m},l.createElement(Yp,{name:[],shouldUpdate:g,rules:o,validateTrigger:i,initialValue:n,isList:!0,isListField:s!=null?s:!!c},function(p,w){var v=p.value,y=v===void 0?[]:v,b=p.onChange,C=a.getFieldValue,S=function(){var _=C(f||[]);return _||[]},x={add:function(_,P){var M=S();P>=0&&P<=M.length?(d.keys=[].concat(Ee(d.keys.slice(0,P)),[d.id],Ee(d.keys.slice(P))),b([].concat(Ee(M.slice(0,P)),[_],Ee(M.slice(P))))):(d.keys=[].concat(Ee(d.keys),[d.id]),b([].concat(Ee(M),[_]))),d.id+=1},remove:function(_){var P=S(),M=new Set(Array.isArray(_)?_:[_]);M.size<=0||(d.keys=d.keys.filter(function(T,k){return!M.has(k)}),b(P.filter(function(T,k){return!M.has(k)})))},move:function(_,P){if(_!==P){var M=S();_<0||_>=M.length||P<0||P>=M.length||(d.keys=N0(d.keys,_,P),b(N0(M,_,P)))}}},I=y||[];return Array.isArray(I)||(I=[]),r(I.map(function(E,_){var P=d.keys[_];return P===void 0&&(d.keys[_]=d.id,P=d.keys[_],d.id+=1),{name:_,key:P,isListField:!0}}),x,w)})))}function V$(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(o,i){t.forEach(function(s,a){s.catch(function(c){return e=!0,c}).then(function(c){n-=1,r[a]=c,!(n>0)&&(e&&i(r),o(r))})})}):Promise.resolve([])}var Lx="__@field_split__";function Rm(t){return t.map(function(e){return"".concat(st(e),":").concat(e)}).join(Lx)}var Ks=function(){function t(){Vn(this,t),q(this,"kvs",new Map)}return jn(t,[{key:"set",value:function(n,r){this.kvs.set(Rm(n),r)}},{key:"get",value:function(n){return this.kvs.get(Rm(n))}},{key:"update",value:function(n,r){var o=this.get(n),i=r(o);i?this.set(n,i):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Rm(n))}},{key:"map",value:function(n){return Ee(this.kvs.entries()).map(function(r){var o=K(r,2),i=o[0],s=o[1],a=i.split(Lx);return n({key:a.map(function(c){var u=c.match(/^([^:]*):(.*)$/),d=K(u,3),f=d[1],m=d[2];return f==="number"?Number(m):m}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var o=r.key,i=r.value;return n[o.join(".")]=i,null}),n}}]),t}(),j$=["name"],z$=jn(function t(e){var n=this;Vn(this,t),q(this,"formHooked",!1),q(this,"forceRootUpdate",void 0),q(this,"subscribable",!0),q(this,"store",{}),q(this,"fieldEntities",[]),q(this,"initialValues",{}),q(this,"callbacks",{}),q(this,"validateMessages",null),q(this,"preserve",null),q(this,"lastValidatePromise",null),q(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),q(this,"getInternalHooks",function(r){return r===ps?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(nr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),q(this,"useSubscribe",function(r){n.subscribable=r}),q(this,"prevWithoutPreserves",null),q(this,"setInitialValues",function(r,o){if(n.initialValues=r||{},o){var i,s=ua(r,n.store);(i=n.prevWithoutPreserves)===null||i===void 0||i.map(function(a){var c=a.key;s=xo(s,c,Go(r,c))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),q(this,"destroyForm",function(r){if(r)n.updateStore({});else{var o=new Ks;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||o.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=o}}),q(this,"getInitialValue",function(r){var o=Go(n.initialValues,r);return r.length?ua(o):o}),q(this,"setCallbacks",function(r){n.callbacks=r}),q(this,"setValidateMessages",function(r){n.validateMessages=r}),q(this,"setPreserve",function(r){n.preserve=r}),q(this,"watchList",[]),q(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(o){return o!==r})}}),q(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var o=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(o,i,r)})}}),q(this,"timeoutId",null),q(this,"warningUnhooked",function(){}),q(this,"updateStore",function(r){n.store=r}),q(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(o){return o.getNamePath().length}):n.fieldEntities}),q(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=new Ks;return n.getFieldEntities(r).forEach(function(i){var s=i.getNamePath();o.set(s,i)}),o}),q(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var o=n.getFieldsMap(!0);return r.map(function(i){var s=Fn(i);return o.get(s)||{INVALIDATE_NAME_PATH:Fn(i)}})}),q(this,"getFieldsValue",function(r,o){n.warningUnhooked();var i,s,a;if(r===!0||Array.isArray(r)?(i=r,s=o):r&&st(r)==="object"&&(a=r.strict,s=r.filter),i===!0&&!s)return n.store;var c=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),u=[];return c.forEach(function(d){var f,m,h="INVALIDATE_NAME_PATH"in d?d.INVALIDATE_NAME_PATH:d.getNamePath();if(a){var g,p;if((g=(p=d).isList)!==null&&g!==void 0&&g.call(p))return}else if(!i&&(f=(m=d).isListField)!==null&&f!==void 0&&f.call(m))return;if(!s)u.push(h);else{var w="getMeta"in d?d.getMeta():null;s(w)&&u.push(h)}}),O0(n.store,u.map(Fn))}),q(this,"getFieldValue",function(r){n.warningUnhooked();var o=Fn(r);return Go(n.store,o)}),q(this,"getFieldsError",function(r){n.warningUnhooked();var o=n.getFieldEntitiesForNamePathList(r);return o.map(function(i,s){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:Fn(r[s]),errors:[],warnings:[]}})}),q(this,"getFieldError",function(r){n.warningUnhooked();var o=Fn(r),i=n.getFieldsError([o])[0];return i.errors}),q(this,"getFieldWarning",function(r){n.warningUnhooked();var o=Fn(r),i=n.getFieldsError([o])[0];return i.warnings}),q(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o[0],a=o[1],c,u=!1;o.length===0?c=null:o.length===1?Array.isArray(s)?(c=s.map(Fn),u=!1):(c=null,u=s):(c=s.map(Fn),u=a);var d=n.getFieldEntities(!0),f=function(w){return w.isFieldTouched()};if(!c)return u?d.every(function(p){return f(p)||p.isList()}):d.some(f);var m=new Ks;c.forEach(function(p){m.set(p,[])}),d.forEach(function(p){var w=p.getNamePath();c.forEach(function(v){v.every(function(y,b){return w[b]===y})&&m.update(v,function(y){return[].concat(Ee(y),[p])})})});var h=function(w){return w.some(f)},g=m.map(function(p){var w=p.value;return w});return u?g.every(h):g.some(h)}),q(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),q(this,"isFieldsValidating",function(r){n.warningUnhooked();var o=n.getFieldEntities();if(!r)return o.some(function(s){return s.isFieldValidating()});var i=r.map(Fn);return o.some(function(s){var a=s.getNamePath();return wa(i,a)&&s.isFieldValidating()})}),q(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),q(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=new Ks,i=n.getFieldEntities(!0);i.forEach(function(c){var u=c.props.initialValue,d=c.getNamePath();if(u!==void 0){var f=o.get(d)||new Set;f.add({entity:c,value:u}),o.set(d,f)}});var s=function(u){u.forEach(function(d){var f=d.props.initialValue;if(f!==void 0){var m=d.getNamePath(),h=n.getInitialValue(m);if(h!==void 0)nr(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var g=o.get(m);if(g&&g.size>1)nr(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var p=n.getFieldValue(m),w=d.isListField();!w&&(!r.skipExist||p===void 0)&&n.updateStore(xo(n.store,m,Ee(g)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(c){var u=o.get(c);if(u){var d;(d=a).push.apply(d,Ee(Ee(u).map(function(f){return f.entity})))}})):a=i,s(a)}),q(this,"resetFields",function(r){n.warningUnhooked();var o=n.store;if(!r){n.updateStore(ua(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(o,null,{type:"reset"}),n.notifyWatch();return}var i=r.map(Fn);i.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(xo(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(o,i,{type:"reset"}),n.notifyWatch(i)}),q(this,"setFields",function(r){n.warningUnhooked();var o=n.store,i=[];r.forEach(function(s){var a=s.name,c=ht(s,j$),u=Fn(a);i.push(u),"value"in c&&n.updateStore(xo(n.store,u,c.value)),n.notifyObservers(o,[u],{type:"setField",data:s})}),n.notifyWatch(i)}),q(this,"getFields",function(){var r=n.getFieldEntities(!0),o=r.map(function(i){var s=i.getNamePath(),a=i.getMeta(),c=W(W({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(c,"originRCField",{value:!0}),c});return o}),q(this,"initEntityValue",function(r){var o=r.props.initialValue;if(o!==void 0){var i=r.getNamePath(),s=Go(n.store,i);s===void 0&&n.updateStore(xo(n.store,i,o))}}),q(this,"isMergedPreserve",function(r){var o=r!==void 0?r:n.preserve;return o!=null?o:!0}),q(this,"registerField",function(r){n.fieldEntities.push(r);var o=r.getNamePath();if(n.notifyWatch([o]),r.props.initialValue!==void 0){var i=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(i,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||c.length>1)){var u=s?void 0:n.getInitialValue(o);if(o.length&&n.getFieldValue(o)!==u&&n.fieldEntities.every(function(f){return!$x(f.getNamePath(),o)})){var d=n.store;n.updateStore(xo(d,o,u,!0)),n.notifyObservers(d,[o],{type:"remove"}),n.triggerDependenciesUpdate(d,o)}}n.notifyWatch([o])}}),q(this,"dispatch",function(r){switch(r.type){case"updateValue":{var o=r.namePath,i=r.value;n.updateValue(o,i);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),q(this,"notifyObservers",function(r,o,i){if(n.subscribable){var s=W(W({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var c=a.onStoreChange;c(r,o,s)})}else n.forceRootUpdate()}),q(this,"triggerDependenciesUpdate",function(r,o){var i=n.getDependencyChildrenFields(o);return i.length&&n.validateFields(i),n.notifyObservers(r,i,{type:"dependenciesUpdate",relatedFields:[o].concat(Ee(i))}),i}),q(this,"updateValue",function(r,o){var i=Fn(r),s=n.store;n.updateStore(xo(n.store,i,o)),n.notifyObservers(s,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var a=n.triggerDependenciesUpdate(s,i),c=n.callbacks.onValuesChange;if(c){var u=O0(n.store,[i]);c(u,n.getFieldsValue())}n.triggerOnFieldsChange([i].concat(Ee(a)))}),q(this,"setFieldsValue",function(r){n.warningUnhooked();var o=n.store;if(r){var i=ua(n.store,r);n.updateStore(i)}n.notifyObservers(o,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),q(this,"setFieldValue",function(r,o){n.setFields([{name:r,value:o}])}),q(this,"getDependencyChildrenFields",function(r){var o=new Set,i=[],s=new Ks;n.getFieldEntities().forEach(function(c){var u=c.props.dependencies;(u||[]).forEach(function(d){var f=Fn(d);s.update(f,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(c),m})})});var a=function c(u){var d=s.get(u)||new Set;d.forEach(function(f){if(!o.has(f)){o.add(f);var m=f.getNamePath();f.isFieldDirty()&&m.length&&(i.push(m),c(m))}})};return a(r),i}),q(this,"triggerOnFieldsChange",function(r,o){var i=n.callbacks.onFieldsChange;if(i){var s=n.getFields();if(o){var a=new Ks;o.forEach(function(u){var d=u.name,f=u.errors;a.set(d,f)}),s.forEach(function(u){u.errors=a.get(u.name)||u.errors})}var c=s.filter(function(u){var d=u.name;return wa(r,d)});c.length&&i(c,s)}}),q(this,"validateFields",function(r,o){n.warningUnhooked();var i,s;Array.isArray(r)||typeof r=="string"||typeof o=="string"?(i=r,s=o):s=r;var a=!!i,c=a?i.map(Fn):[],u=[],d=String(Date.now()),f=new Set,m=s||{},h=m.recursive,g=m.dirty;n.getFieldEntities(!0).forEach(function(y){if(a||c.push(y.getNamePath()),!(!y.props.rules||!y.props.rules.length)&&!(g&&!y.isFieldDirty())){var b=y.getNamePath();if(f.add(b.join(d)),!a||wa(c,b,h)){var C=y.validateRules(W({validateMessages:W(W({},Dx),n.validateMessages)},s));u.push(C.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(S){var x,I=[],E=[];return(x=S.forEach)===null||x===void 0||x.call(S,function(_){var P=_.rule.warningOnly,M=_.errors;P?E.push.apply(E,Ee(M)):I.push.apply(I,Ee(M))}),I.length?Promise.reject({name:b,errors:I,warnings:E}):{name:b,errors:I,warnings:E}}))}}});var p=V$(u);n.lastValidatePromise=p,p.catch(function(y){return y}).then(function(y){var b=y.map(function(C){var S=C.name;return S});n.notifyObservers(n.store,b,{type:"validateFinish"}),n.triggerOnFieldsChange(b,y)});var w=p.then(function(){return n.lastValidatePromise===p?Promise.resolve(n.getFieldsValue(c)):Promise.reject([])}).catch(function(y){var b=y.filter(function(C){return C&&C.errors.length});return Promise.reject({values:n.getFieldsValue(c),errorFields:b,outOfDate:n.lastValidatePromise!==p})});w.catch(function(y){return y});var v=c.filter(function(y){return f.has(y.join(d))});return n.triggerOnFieldsChange(v),w}),q(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var o=n.callbacks.onFinish;if(o)try{o(r)}catch(i){console.error(i)}}).catch(function(r){var o=n.callbacks.onFinishFailed;o&&o(r)})}),this.forceRootUpdate=e});function Xp(t){var e=l.useRef(),n=l.useState({}),r=K(n,2),o=r[1];if(!e.current)if(t)e.current=t;else{var i=function(){o({})},s=new z$(i);e.current=s.getForm()}return[e.current]}var yg=l.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Bx=function(e){var n=e.validateMessages,r=e.onFormChange,o=e.onFormFinish,i=e.children,s=l.useContext(yg),a=l.useRef({});return l.createElement(yg.Provider,{value:W(W({},s),{},{validateMessages:W(W({},s.validateMessages),n),triggerFormChange:function(u,d){r&&r(u,{changedFields:d,forms:a.current}),s.triggerFormChange(u,d)},triggerFormFinish:function(u,d){o&&o(u,{values:d,forms:a.current}),s.triggerFormFinish(u,d)},registerForm:function(u,d){u&&(a.current=W(W({},a.current),{},q({},u,d))),s.registerForm(u,d)},unregisterForm:function(u){var d=W({},a.current);delete d[u],a.current=d,s.unregisterForm(u)}})},i)},U$=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],H$=function(e,n){var r=e.name,o=e.initialValues,i=e.fields,s=e.form,a=e.preserve,c=e.children,u=e.component,d=u===void 0?"form":u,f=e.validateMessages,m=e.validateTrigger,h=m===void 0?"onChange":m,g=e.onValuesChange,p=e.onFieldsChange,w=e.onFinish,v=e.onFinishFailed,y=e.clearOnDestroy,b=ht(e,U$),C=l.useRef(null),S=l.useContext(yg),x=Xp(s),I=K(x,1),E=I[0],_=E.getInternalHooks(ps),P=_.useSubscribe,M=_.setInitialValues,T=_.setCallbacks,k=_.setValidateMessages,R=_.setPreserve,D=_.destroyForm;l.useImperativeHandle(n,function(){return W(W({},E),{},{nativeElement:C.current})}),l.useEffect(function(){return S.registerForm(r,E),function(){S.unregisterForm(r)}},[S,E,r]),k(W(W({},S.validateMessages),f)),T({onValuesChange:g,onFieldsChange:function(B){if(S.triggerFormChange(r,B),p){for(var H=arguments.length,Q=new Array(H>1?H-1:0),G=1;G<H;G++)Q[G-1]=arguments[G];p.apply(void 0,[B].concat(Q))}},onFinish:function(B){S.triggerFormFinish(r,B),w&&w(B)},onFinishFailed:v}),R(a);var L=l.useRef(null);M(o,!L.current),L.current||(L.current=!0),l.useEffect(function(){return function(){return D(y)}},[]);var $,j=typeof c=="function";if(j){var U=E.getFieldsValue(!0);$=c(U,E)}else $=c;P(!j);var z=l.useRef();l.useEffect(function(){F$(z.current||[],i||[])||E.setFields(i||[]),z.current=i},[i,E]);var F=l.useMemo(function(){return W(W({},E),{},{validateTrigger:h})},[E,h]),V=l.createElement(dc.Provider,{value:null},l.createElement(_s.Provider,{value:F},$));return d===!1?V:l.createElement(d,pe({},b,{ref:C,onSubmit:function(B){B.preventDefault(),B.stopPropagation(),E.submit()},onReset:function(B){var H;B.preventDefault(),E.resetFields(),(H=b.onReset)===null||H===void 0||H.call(b,B)}}),V)};function $0(t){try{return JSON.stringify(t)}catch(e){return Math.random()}}function Vx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],o=e[1],i=o===void 0?{}:o,s=r$(i)?{form:i}:i,a=s.form,c=l.useState(),u=K(c,2),d=u[0],f=u[1],m=l.useMemo(function(){return $0(d)},[d]),h=l.useRef(m);h.current=m;var g=l.useContext(_s),p=a||g,w=p&&p._init,v=Fn(r),y=l.useRef(v);return y.current=v,l.useEffect(function(){if(w){var b=p.getFieldsValue,C=p.getInternalHooks,S=C(ps),x=S.registerWatch,I=function(M,T){var k=s.preserve?T:M;return typeof r=="function"?r(k):Go(k,y.current)},E=x(function(P,M){var T=I(P,M),k=$0(T);h.current!==k&&(h.current=k,f(T))}),_=I(b(),b(!0));return d!==_&&f(_),E}},[w]),d}var W$=l.forwardRef(H$),za=W$;za.FormProvider=Bx;za.Field=Yp;za.List=Fx;za.useForm=Xp;za.useWatch=Vx;const Ai=l.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),jx=l.createContext(null),zx=t=>{const e=Nn(t,["prefixCls"]);return l.createElement(Bx,Object.assign({},e))},Qp=l.createContext({prefixCls:""}),_r=l.createContext({}),G$=t=>{let{children:e,status:n,override:r}=t;const o=l.useContext(_r),i=l.useMemo(()=>{const s=Object.assign({},o);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,o]);return l.createElement(_r.Provider,{value:i},e)},Ux=l.createContext(void 0),q$=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let o=r;return n&&(o=fe.createElement(G$,{override:!0,status:!0},o)),e&&(o=fe.createElement(r3,null,o)),o},Gi=q$;function hd(t){if(t)return{closable:t.closable,closeIcon:t.closeIcon}}function F0(t){const{closable:e,closeIcon:n}=t||{};return fe.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}function L0(){const t={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(o=>{o&&Object.keys(o).forEach(i=>{o[i]!==void 0&&(t[i]=o[i])})}),t}const K$={};function Hx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K$;const r=F0(t),o=F0(e),i=fe.useMemo(()=>Object.assign({closeIcon:fe.createElement(fr,null)},n),[n]),s=fe.useMemo(()=>r===!1?!1:r?L0(i,o,r):o===!1?!1:o?L0(i,o):i.closable?i:!1,[r,o,i]);return fe.useMemo(()=>{if(s===!1)return[!1,null];const{closeIconRender:a}=i,{closeIcon:c}=s;let u=c;if(u!=null){a&&(u=a(c));const d=cr(s,!0);Object.keys(d).length&&(u=fe.isValidElement(u)?fe.cloneElement(u,d):fe.createElement("span",Object.assign({},d),u))}return[!0,u]},[s,i])}const Y$=()=>Er()&&window.document.documentElement,X$=t=>{const{prefixCls:e,className:n,style:r,size:o,shape:i}=t,s=X({["".concat(e,"-lg")]:o==="large",["".concat(e,"-sm")]:o==="small"}),a=X({["".concat(e,"-circle")]:i==="circle",["".concat(e,"-square")]:i==="square",["".concat(e,"-round")]:i==="round"}),c=l.useMemo(()=>typeof o=="number"?{width:o,height:o,lineHeight:"".concat(o,"px")}:{},[o]);return l.createElement("span",{className:X(e,s,a,n),style:Object.assign(Object.assign({},c),r)})},cf=X$,Q$=new Rt("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),uf=t=>({height:t,lineHeight:re(t)}),ya=t=>Object.assign({width:t},uf(t)),J$=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Q$,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Tm=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},uf(t)),Z$=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i}=t;return{["".concat(e)]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},ya(r)),["".concat(e).concat(e,"-circle")]:{borderRadius:"50%"},["".concat(e).concat(e,"-lg")]:Object.assign({},ya(o)),["".concat(e).concat(e,"-sm")]:Object.assign({},ya(i))}},e6=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=t;return{["".concat(r)]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},Tm(e,a)),["".concat(r,"-lg")]:Object.assign({},Tm(o,a)),["".concat(r,"-sm")]:Object.assign({},Tm(i,a))}},B0=t=>Object.assign({width:t},uf(t)),t6=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:o,calc:i}=t;return{["".concat(e)]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:o},B0(i(n).mul(2).equal())),{["".concat(e,"-path")]:{fill:"#bfbfbf"},["".concat(e,"-svg")]:Object.assign(Object.assign({},B0(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),["".concat(e,"-svg").concat(e,"-svg-circle")]:{borderRadius:"50%"}}),["".concat(e).concat(e,"-circle")]:{borderRadius:"50%"}}},Om=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{["".concat(n).concat(r,"-circle")]:{width:e,minWidth:e,borderRadius:"50%"},["".concat(n).concat(r,"-round")]:{borderRadius:e}}},Nm=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},uf(t)),n6=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({["".concat(n)]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},Nm(r,a))},Om(t,r,n)),{["".concat(n,"-lg")]:Object.assign({},Nm(o,a))}),Om(t,o,"".concat(n,"-lg"))),{["".concat(n,"-sm")]:Object.assign({},Nm(i,a))}),Om(t,i,"".concat(n,"-sm")))},r6=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:i,skeletonInputCls:s,skeletonImageCls:a,controlHeight:c,controlHeightLG:u,controlHeightSM:d,gradientFromColor:f,padding:m,marginSM:h,borderRadius:g,titleHeight:p,blockRadius:w,paragraphLiHeight:v,controlHeightXS:y,paragraphMarginTop:b}=t;return{["".concat(e)]:{display:"table",width:"100%",["".concat(e,"-header")]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",["".concat(n)]:Object.assign({display:"inline-block",verticalAlign:"top",background:f},ya(c)),["".concat(n,"-circle")]:{borderRadius:"50%"},["".concat(n,"-lg")]:Object.assign({},ya(u)),["".concat(n,"-sm")]:Object.assign({},ya(d))},["".concat(e,"-content")]:{display:"table-cell",width:"100%",verticalAlign:"top",["".concat(r)]:{width:"100%",height:p,background:f,borderRadius:w,["+ ".concat(o)]:{marginBlockStart:d}},["".concat(o)]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:f,borderRadius:w,"+ li":{marginBlockStart:y}}},["".concat(o,"> li:last-child:not(:first-child):not(:nth-child(2))")]:{width:"61%"}},["&-round ".concat(e,"-content")]:{["".concat(r,", ").concat(o," > li")]:{borderRadius:g}}},["".concat(e,"-with-avatar ").concat(e,"-content")]:{["".concat(r)]:{marginBlockStart:h,["+ ".concat(o)]:{marginBlockStart:b}}},["".concat(e).concat(e,"-element")]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},n6(t)),Z$(t)),e6(t)),t6(t)),["".concat(e).concat(e,"-block")]:{width:"100%",["".concat(i)]:{width:"100%"},["".concat(s)]:{width:"100%"}},["".concat(e).concat(e,"-active")]:{["\n        ".concat(r,",\n        ").concat(o," > li,\n        ").concat(n,",\n        ").concat(i,",\n        ").concat(s,",\n        ").concat(a,"\n      ")]:Object.assign({},J$(t))}}},o6=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,o=n;return{color:r,colorGradientEnd:o,gradientFromColor:r,gradientToColor:o,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},Ua=Jt("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=Dt(t,{skeletonAvatarCls:"".concat(e,"-avatar"),skeletonTitleCls:"".concat(e,"-title"),skeletonParagraphCls:"".concat(e,"-paragraph"),skeletonButtonCls:"".concat(e,"-button"),skeletonInputCls:"".concat(e,"-input"),skeletonImageCls:"".concat(e,"-image"),imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(t.gradientFromColor," 25%, ").concat(t.gradientToColor," 37%, ").concat(t.gradientFromColor," 63%)"),skeletonLoadingMotionDuration:"1.4s"});return[r6(r)]},o6,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),i6=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,shape:i="circle",size:s="default"}=t,{getPrefixCls:a}=l.useContext(Ge),c=a("skeleton",e),[u,d,f]=Ua(c),m=Nn(t,["prefixCls","className"]),h=X(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o},n,r,d,f);return u(l.createElement("div",{className:h},l.createElement(cf,Object.assign({prefixCls:"".concat(c,"-avatar"),shape:i,size:s},m))))},s6=i6,a6=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,block:i=!1,size:s="default"}=t,{getPrefixCls:a}=l.useContext(Ge),c=a("skeleton",e),[u,d,f]=Ua(c),m=Nn(t,["prefixCls"]),h=X(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o,["".concat(c,"-block")]:i},n,r,d,f);return u(l.createElement("div",{className:h},l.createElement(cf,Object.assign({prefixCls:"".concat(c,"-button"),size:s},m))))},l6=a6,c6="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",u6=t=>{const{prefixCls:e,className:n,rootClassName:r,style:o,active:i}=t,{getPrefixCls:s}=l.useContext(Ge),a=s("skeleton",e),[c,u,d]=Ua(a),f=X(a,"".concat(a,"-element"),{["".concat(a,"-active")]:i},n,r,u,d);return c(l.createElement("div",{className:f},l.createElement("div",{className:X("".concat(a,"-image"),n),style:o},l.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(a,"-image-svg")},l.createElement("title",null,"Image placeholder"),l.createElement("path",{d:c6,className:"".concat(a,"-image-path")})))))},d6=u6,f6=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,block:i,size:s="default"}=t,{getPrefixCls:a}=l.useContext(Ge),c=a("skeleton",e),[u,d,f]=Ua(c),m=Nn(t,["prefixCls"]),h=X(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o,["".concat(c,"-block")]:i},n,r,d,f);return u(l.createElement("div",{className:h},l.createElement(cf,Object.assign({prefixCls:"".concat(c,"-input"),size:s},m))))},m6=f6;var h6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const g6=h6;var p6=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:g6}))},v6=l.forwardRef(p6);const b6=v6,w6=t=>{const{prefixCls:e,className:n,rootClassName:r,style:o,active:i,children:s}=t,{getPrefixCls:a}=l.useContext(Ge),c=a("skeleton",e),[u,d,f]=Ua(c),m=X(c,"".concat(c,"-element"),{["".concat(c,"-active")]:i},d,n,r,f),h=s!=null?s:l.createElement(b6,null);return u(l.createElement("div",{className:m},l.createElement("div",{className:X("".concat(c,"-image"),n),style:o},h)))},y6=w6,C6=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},S6=t=>{const{prefixCls:e,className:n,style:r,rows:o}=t,i=Ee(Array(o)).map((s,a)=>l.createElement("li",{key:a,style:{width:C6(a,t)}}));return l.createElement("ul",{className:X(e,n),style:r},i)},x6=S6,A6=t=>{let{prefixCls:e,className:n,width:r,style:o}=t;return l.createElement("h3",{className:X(e,n),style:Object.assign({width:r},o)})},E6=A6;function Dm(t){return t&&typeof t=="object"?t:{}}function I6(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function _6(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function P6(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Ha=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:o,style:i,children:s,avatar:a=!1,title:c=!0,paragraph:u=!0,active:d,round:f}=t,{getPrefixCls:m,direction:h,skeleton:g}=l.useContext(Ge),p=m("skeleton",e),[w,v,y]=Ua(p);if(n||!("loading"in t)){const b=!!a,C=!!c,S=!!u;let x;if(b){const _=Object.assign(Object.assign({prefixCls:"".concat(p,"-avatar")},I6(C,S)),Dm(a));x=l.createElement("div",{className:"".concat(p,"-header")},l.createElement(cf,Object.assign({},_)))}let I;if(C||S){let _;if(C){const M=Object.assign(Object.assign({prefixCls:"".concat(p,"-title")},_6(b,S)),Dm(c));_=l.createElement(E6,Object.assign({},M))}let P;if(S){const M=Object.assign(Object.assign({prefixCls:"".concat(p,"-paragraph")},P6(b,C)),Dm(u));P=l.createElement(x6,Object.assign({},M))}I=l.createElement("div",{className:"".concat(p,"-content")},_,P)}const E=X(p,{["".concat(p,"-with-avatar")]:b,["".concat(p,"-active")]:d,["".concat(p,"-rtl")]:h==="rtl",["".concat(p,"-round")]:f},g==null?void 0:g.className,r,o,v,y);return w(l.createElement("div",{className:E,style:Object.assign(Object.assign({},g==null?void 0:g.style),i)},x,I))}return s!=null?s:null};Ha.Button=l6;Ha.Avatar=s6;Ha.Input=m6;Ha.Image=d6;Ha.Node=y6;const Wx=Ha;function V0(){}const M6=l.createContext({add:V0,remove:V0});function Gx(t){const e=l.useContext(M6),n=l.useRef();return Gt(o=>{if(o){const i=t?o.querySelector(t):o;e.add(i),n.current=i}else e.remove(n.current)})}const k6=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=l.useContext(Tc);return fe.createElement(un,Object.assign({onClick:n},t),e)},j0=k6,R6=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:o}=l.useContext(Tc);return fe.createElement(un,Object.assign({},Cx(n),{loading:t,onClick:o},e),r)},z0=R6;function qx(t,e){return fe.createElement("span",{className:"".concat(t,"-close-x")},e||fe.createElement(fr,{className:"".concat(t,"-close-icon")}))}const Kx=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:o,onOk:i,onCancel:s,okButtonProps:a,cancelButtonProps:c,footer:u}=t,[d]=es("Modal",DS()),f=e||(d==null?void 0:d.okText),m=r||(d==null?void 0:d.cancelText),h={confirmLoading:o,okButtonProps:a,cancelButtonProps:c,okTextLocale:f,cancelTextLocale:m,okType:n,onOk:i,onCancel:s},g=fe.useMemo(()=>h,Ee(Object.values(h)));let p;return typeof u=="function"||typeof u>"u"?(p=fe.createElement(fe.Fragment,null,fe.createElement(j0,null),fe.createElement(z0,null)),typeof u=="function"&&(p=u(p,{OkBtn:z0,CancelBtn:j0})),p=fe.createElement(Px,{value:g},p)):p=u,fe.createElement(Op,{disabled:!1},p)},T6=t=>({[t.componentCls]:{["".concat(t.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut,",\n        opacity ").concat(t.motionDurationMid," ").concat(t.motionEaseInOut," !important")}},["".concat(t.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut,",\n        opacity ").concat(t.motionDurationMid," ").concat(t.motionEaseInOut," !important")}}}),Jp=T6,O6=t=>({animationDuration:t,animationFillMode:"both"}),N6=t=>({animationDuration:t,animationFillMode:"both"}),df=function(t,e,n,r){const i=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{["\n      ".concat(i).concat(t,"-enter,\n      ").concat(i).concat(t,"-appear\n    ")]:Object.assign(Object.assign({},O6(r)),{animationPlayState:"paused"}),["".concat(i).concat(t,"-leave")]:Object.assign(Object.assign({},N6(r)),{animationPlayState:"paused"}),["\n      ".concat(i).concat(t,"-enter").concat(t,"-enter-active,\n      ").concat(i).concat(t,"-appear").concat(t,"-appear-active\n    ")]:{animationName:e,animationPlayState:"running"},["".concat(i).concat(t,"-leave").concat(t,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},D6=new Rt("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),$6=new Rt("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Zp=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r="".concat(n,"-fade"),o=e?"&":"";return[df(r,D6,$6,t.motionDurationMid,e),{["\n        ".concat(o).concat(r,"-enter,\n        ").concat(o).concat(r,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(o).concat(r,"-leave")]:{animationTimingFunction:"linear"}}]},F6=new Rt("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),L6=new Rt("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),B6=new Rt("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),V6=new Rt("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),j6=new Rt("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),z6=new Rt("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),U6=new Rt("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),H6=new Rt("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),W6={"move-up":{inKeyframes:U6,outKeyframes:H6},"move-down":{inKeyframes:F6,outKeyframes:L6},"move-left":{inKeyframes:B6,outKeyframes:V6},"move-right":{inKeyframes:j6,outKeyframes:z6}},_a=(t,e)=>{const{antCls:n}=t,r="".concat(n,"-").concat(e),{inKeyframes:o,outKeyframes:i}=W6[e];return[df(r,o,i,t.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},["".concat(r,"-leave")]:{animationTimingFunction:t.motionEaseInOutCirc}}]},ff=new Rt("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),mf=new Rt("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),hf=new Rt("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),gf=new Rt("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),G6=new Rt("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),q6=new Rt("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),K6=new Rt("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Y6=new Rt("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),X6={"slide-up":{inKeyframes:ff,outKeyframes:mf},"slide-down":{inKeyframes:hf,outKeyframes:gf},"slide-left":{inKeyframes:G6,outKeyframes:q6},"slide-right":{inKeyframes:K6,outKeyframes:Y6}},Jo=(t,e)=>{const{antCls:n}=t,r="".concat(n,"-").concat(e),{inKeyframes:o,outKeyframes:i}=X6[e];return[df(r,o,i,t.motionDurationMid),{["\n      ".concat(r,"-enter,\n      ").concat(r,"-appear\n    ")]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},["".concat(r,"-leave")]:{animationTimingFunction:t.motionEaseInQuint}}]},ev=new Rt("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Q6=new Rt("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),U0=new Rt("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),H0=new Rt("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),J6=new Rt("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Z6=new Rt("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),e5=new Rt("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),t5=new Rt("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),n5=new Rt("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),r5=new Rt("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),o5=new Rt("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),i5=new Rt("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),s5={zoom:{inKeyframes:ev,outKeyframes:Q6},"zoom-big":{inKeyframes:U0,outKeyframes:H0},"zoom-big-fast":{inKeyframes:U0,outKeyframes:H0},"zoom-left":{inKeyframes:e5,outKeyframes:t5},"zoom-right":{inKeyframes:n5,outKeyframes:r5},"zoom-up":{inKeyframes:J6,outKeyframes:Z6},"zoom-down":{inKeyframes:o5,outKeyframes:i5}},Wa=(t,e)=>{const{antCls:n}=t,r="".concat(n,"-").concat(e),{inKeyframes:o,outKeyframes:i}=s5[e];return[df(r,o,i,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(r,"-leave")]:{animationTimingFunction:t.motionEaseInOutCirc}}]};function W0(t){return{position:t,inset:0}}const Yx=t=>{const{componentCls:e,antCls:n}=t;return[{["".concat(e,"-root")]:{["".concat(e).concat(n,"-zoom-enter, ").concat(e).concat(n,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},["".concat(e).concat(n,"-zoom-leave ").concat(e,"-content")]:{pointerEvents:"none"},["".concat(e,"-mask")]:Object.assign(Object.assign({},W0("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",["".concat(e,"-hidden")]:{display:"none"}}),["".concat(e,"-wrap")]:Object.assign(Object.assign({},W0("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(e,"-root")]:Zp(t)}]},a5=t=>{const{componentCls:e}=t;return[{["".concat(e,"-root")]:{["".concat(e,"-wrap-rtl")]:{direction:"rtl"},["".concat(e,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(t.screenSMMax,"px)")]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(re(t.marginXS)," auto")},["".concat(e,"-centered")]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},cn(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(re(t.calc(t.margin).mul(2).equal()),")"),margin:"0 auto",paddingBottom:t.paddingLG,["".concat(e,"-title")]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},["".concat(e,"-content")]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},["".concat(e,"-close")]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(t.motionDurationMid,", background-color ").concat(t.motionDurationMid),"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(re(t.modalCloseBtnSize)),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},Qo(t)),["".concat(e,"-header")]:{color:t.colorText,background:t.headerBg,borderRadius:"".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG)," 0 0"),marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},["".concat(e,"-body")]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,["".concat(e,"-body-skeleton")]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(re(t.margin)," auto")}},["".concat(e,"-footer")]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,["> ".concat(t.antCls,"-btn + ").concat(t.antCls,"-btn")]:{marginInlineStart:t.marginXS}},["".concat(e,"-open")]:{overflow:"hidden"}})},{["".concat(e,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(e,"-content,\n          ").concat(e,"-body,\n          ").concat(e,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(e,"-confirm-body")]:{marginBottom:"auto"}}}]},l5=t=>{const{componentCls:e}=t;return{["".concat(e,"-root")]:{["".concat(e,"-wrap-rtl")]:{direction:"rtl",["".concat(e,"-confirm-body")]:{direction:"rtl"}}}}},Xx=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Dt(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},Qx=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:"".concat(re(t.paddingMD)," ").concat(re(t.paddingContentHorizontalLG)),headerPadding:t.wireframe?"".concat(re(t.padding)," ").concat(re(t.paddingLG)):0,headerBorderBottom:t.wireframe?"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit):"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?"".concat(re(t.paddingXS)," ").concat(re(t.padding)):0,footerBorderTop:t.wireframe?"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit):"none",footerBorderRadius:t.wireframe?"0 0 ".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG)):0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?"".concat(re(t.padding*2)," ").concat(re(t.padding*2)," ").concat(re(t.paddingLG)):0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),Jx=Jt("Modal",t=>{const e=Xx(t);return[a5(e),l5(e),Yx(e),Wa(e,"zoom")]},Qx,{unitless:{titleLineHeight:!0}});var c5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};let Cg;const u5=t=>{Cg={x:t.pageX,y:t.pageY},setTimeout(()=>{Cg=null},100)};Y$()&&document.documentElement.addEventListener("click",u5,!0);const d5=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:o,modal:i}=l.useContext(Ge),s=V=>{const{onCancel:N}=t;N==null||N(V)},a=V=>{const{onOk:N}=t;N==null||N(V)},{prefixCls:c,className:u,rootClassName:d,open:f,wrapClassName:m,centered:h,getContainer:g,focusTriggerAfterClose:p=!0,style:w,visible:v,width:y=520,footer:b,classNames:C,styles:S,children:x,loading:I}=t,E=c5(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),_=r("modal",c),P=r(),M=Dn(_),[T,k,R]=Jx(_,M),D=X(m,{["".concat(_,"-centered")]:!!h,["".concat(_,"-wrap-rtl")]:o==="rtl"}),L=b!==null&&!I?l.createElement(Kx,Object.assign({},t,{onOk:a,onCancel:s})):null,[$,j]=Hx(hd(t),hd(i),{closable:!0,closeIcon:l.createElement(fr,{className:"".concat(_,"-close-icon")}),closeIconRender:V=>qx(_,V)}),U=Gx(".".concat(_,"-content")),[z,F]=ti("Modal",E.zIndex);return T(l.createElement(Gi,{form:!0,space:!0},l.createElement(Mc.Provider,{value:F},l.createElement(qp,Object.assign({width:y},E,{zIndex:z,getContainer:g===void 0?n:g,prefixCls:_,rootClassName:X(k,d,R,M),footer:L,visible:f!=null?f:v,mousePosition:(e=E.mousePosition)!==null&&e!==void 0?e:Cg,onClose:s,closable:$,closeIcon:j,focusTriggerAfterClose:p,transitionName:jr(P,"zoom",t.transitionName),maskTransitionName:jr(P,"fade",t.maskTransitionName),className:X(k,u,i==null?void 0:i.className),style:Object.assign(Object.assign({},i==null?void 0:i.style),w),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),C),{wrapper:X(D,C==null?void 0:C.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),S),panelRef:U}),I?l.createElement(Wx,{active:!0,title:!1,paragraph:{rows:4},className:"".concat(_,"-body-skeleton")}):x))))},Zx=d5,f5=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:o,fontSize:i,lineHeight:s,modalTitleHeight:a,fontHeight:c,confirmBodyPadding:u}=t,d="".concat(e,"-confirm");return{[d]:{"&-rtl":{direction:"rtl"},["".concat(t.antCls,"-modal-header")]:{display:"none"},["".concat(d,"-body-wrapper")]:Object.assign({},Ia()),["&".concat(e," ").concat(e,"-body")]:{padding:u},["".concat(d,"-body")]:{display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(t.iconCls)]:{flex:"none",fontSize:o,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(c).sub(o).equal()).div(2).equal()},["&-has-title > ".concat(t.iconCls)]:{marginTop:t.calc(t.calc(a).sub(o).equal()).div(2).equal()}},["".concat(d,"-paragraph")]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS},["".concat(t.iconCls," + ").concat(d,"-paragraph")]:{maxWidth:"calc(100% - ".concat(re(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal()),")")},["".concat(d,"-title")]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},["".concat(d,"-content")]:{color:t.colorText,fontSize:i,lineHeight:s},["".concat(d,"-btns")]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,["".concat(t.antCls,"-btn + ").concat(t.antCls,"-btn")]:{marginBottom:0,marginInlineStart:t.marginXS}}},["".concat(d,"-error ").concat(d,"-body > ").concat(t.iconCls)]:{color:t.colorError},["".concat(d,"-warning ").concat(d,"-body > ").concat(t.iconCls,",\n        ").concat(d,"-confirm ").concat(d,"-body > ").concat(t.iconCls)]:{color:t.colorWarning},["".concat(d,"-info ").concat(d,"-body > ").concat(t.iconCls)]:{color:t.colorInfo},["".concat(d,"-success ").concat(d,"-body > ").concat(t.iconCls)]:{color:t.colorSuccess}}},m5=Dp(["Modal","confirm"],t=>{const e=Xx(t);return[f5(e)]},Qx,{order:-1e3});var h5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function eA(t){const{prefixCls:e,icon:n,okText:r,cancelText:o,confirmPrefixCls:i,type:s,okCancel:a,footer:c,locale:u}=t,d=h5(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=n;if(!n&&n!==null)switch(s){case"info":f=l.createElement(Vp,null);break;case"success":f=l.createElement(Va,null);break;case"error":f=l.createElement(ts,null);break;default:f=l.createElement(ja,null)}const m=a!=null?a:s==="confirm",h=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[g]=es("Modal"),p=u||g,w=r||(m?p==null?void 0:p.okText:p==null?void 0:p.justOkText),v=o||(p==null?void 0:p.cancelText),y=Object.assign({autoFocusButton:h,cancelTextLocale:v,okTextLocale:w,mergedOkCancel:m},d),b=l.useMemo(()=>y,Ee(Object.values(y))),C=l.createElement(l.Fragment,null,l.createElement(g0,null),l.createElement(p0,null)),S=t.title!==void 0&&t.title!==null,x="".concat(i,"-body");return l.createElement("div",{className:"".concat(i,"-body-wrapper")},l.createElement("div",{className:X(x,{["".concat(x,"-has-title")]:S})},f,l.createElement("div",{className:"".concat(i,"-paragraph")},S&&l.createElement("span",{className:"".concat(i,"-title")},t.title),l.createElement("div",{className:"".concat(i,"-content")},t.content))),c===void 0||typeof c=="function"?l.createElement(Px,{value:b},l.createElement("div",{className:"".concat(i,"-btns")},typeof c=="function"?c(C,{OkBtn:p0,CancelBtn:g0}):C)):c,l.createElement(m5,{prefixCls:e}))}const g5=t=>{const{close:e,zIndex:n,afterClose:r,open:o,keyboard:i,centered:s,getContainer:a,maskStyle:c,direction:u,prefixCls:d,wrapClassName:f,rootPrefixCls:m,bodyStyle:h,closable:g=!1,closeIcon:p,modalRender:w,focusTriggerAfterClose:v,onConfirm:y,styles:b}=t,C="".concat(d,"-confirm"),S=t.width||416,x=t.style||{},I=t.mask===void 0?!0:t.mask,E=t.maskClosable===void 0?!1:t.maskClosable,_=X(C,"".concat(C,"-").concat(t.type),{["".concat(C,"-rtl")]:u==="rtl"},t.className),[,P]=Dr(),M=l.useMemo(()=>n!==void 0?n:P.zIndexPopupBase+jp,[n,P]);return l.createElement(Zx,{prefixCls:d,className:_,wrapClassName:X({["".concat(C,"-centered")]:!!t.centered},f),onCancel:()=>{e==null||e({triggerCancel:!0}),y==null||y(!1)},open:o,title:"",footer:null,transitionName:jr(m||"","zoom",t.transitionName),maskTransitionName:jr(m||"","fade",t.maskTransitionName),mask:I,maskClosable:E,style:x,styles:Object.assign({body:h,mask:c},b),width:S,zIndex:M,afterClose:r,keyboard:i,centered:s,getContainer:a,closable:g,closeIcon:p,modalRender:w,focusTriggerAfterClose:v},l.createElement(eA,Object.assign({},t,{confirmPrefixCls:C})))},tA=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:o}=t;return l.createElement(nf,{prefixCls:e,iconPrefixCls:n,direction:r,theme:o},l.createElement(g5,Object.assign({},t)))},p5=[],vs=p5;let nA="";function rA(){return nA}const v5=t=>{var e,n;const{prefixCls:r,getContainer:o,direction:i}=t,s=DS(),a=l.useContext(Ge),c=rA()||a.getPrefixCls(),u=r||"".concat(c,"-modal");let d=o;return d===!1&&(d=void 0),fe.createElement(tA,Object.assign({},t,{rootPrefixCls:c,prefixCls:u,iconPrefixCls:a.iconPrefixCls,theme:a.theme,direction:i!=null?i:a.direction,locale:(n=(e=a.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:s,getContainer:d}))};function Dc(t){const e=p4(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:a,open:!0}),o;function i(){for(var u,d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];if(f.some(p=>p==null?void 0:p.triggerCancel)){var g;(u=t.onCancel)===null||u===void 0||(g=u).call.apply(g,[t,()=>{}].concat(Ee(f.slice(1))))}for(let p=0;p<vs.length;p++)if(vs[p]===a){vs.splice(p,1);break}vx(n)}function s(u){clearTimeout(o),o=setTimeout(()=>{const d=e.getPrefixCls(void 0,rA()),f=e.getIconPrefixCls(),m=e.getTheme(),h=fe.createElement(v5,Object.assign({},u));px(fe.createElement(nf,{prefixCls:d,iconPrefixCls:f,theme:m},e.holderRender?e.holderRender(h):h),n)})}function a(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,d)}}),r.visible&&delete r.visible,s(r)}function c(u){typeof u=="function"?r=u(r):r=Object.assign(Object.assign({},r),u),s(r)}return s(r),vs.push(a),{destroy:a,update:c}}function oA(t){return Object.assign(Object.assign({},t),{type:"warning"})}function iA(t){return Object.assign(Object.assign({},t),{type:"info"})}function sA(t){return Object.assign(Object.assign({},t),{type:"success"})}function aA(t){return Object.assign(Object.assign({},t),{type:"error"})}function lA(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function b5(t){let{rootPrefixCls:e}=t;nA=e}var w5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const y5=(t,e)=>{var n,{afterClose:r,config:o}=t,i=w5(t,["afterClose","config"]);const[s,a]=l.useState(!0),[c,u]=l.useState(o),{direction:d,getPrefixCls:f}=l.useContext(Ge),m=f("modal"),h=f(),g=()=>{var y;r(),(y=c.afterClose)===null||y===void 0||y.call(c)},p=function(){var y;a(!1);for(var b=arguments.length,C=new Array(b),S=0;S<b;S++)C[S]=arguments[S];if(C.some(E=>E==null?void 0:E.triggerCancel)){var I;(y=c.onCancel)===null||y===void 0||(I=y).call.apply(I,[c,()=>{}].concat(Ee(C.slice(1))))}};l.useImperativeHandle(e,()=>({destroy:p,update:y=>{u(b=>Object.assign(Object.assign({},b),y))}}));const w=(n=c.okCancel)!==null&&n!==void 0?n:c.type==="confirm",[v]=es("Modal",Do.Modal);return l.createElement(tA,Object.assign({prefixCls:m,rootPrefixCls:h},c,{close:p,open:s,afterClose:g,okText:c.okText||(w?v==null?void 0:v.okText:v==null?void 0:v.justOkText),direction:c.direction||d,cancelText:c.cancelText||(v==null?void 0:v.cancelText)},i))},C5=l.forwardRef(y5);let G0=0;const S5=l.memo(l.forwardRef((t,e)=>{const[n,r]=TD();return l.useImperativeHandle(e,()=>({patchElement:r}),[]),l.createElement(l.Fragment,null,n)}));function cA(){const t=l.useRef(null),[e,n]=l.useState([]);l.useEffect(()=>{e.length&&(Ee(e).forEach(s=>{s()}),n([]))},[e]);const r=l.useCallback(i=>function(a){var c;G0+=1;const u=l.createRef();let d;const f=new Promise(w=>{d=w});let m=!1,h;const g=l.createElement(C5,{key:"modal-".concat(G0),config:i(a),ref:u,afterClose:()=>{h==null||h()},isSilent:()=>m,onConfirm:w=>{d(w)}});return h=(c=t.current)===null||c===void 0?void 0:c.patchElement(g),h&&vs.push(h),{destroy:()=>{function w(){var v;(v=u.current)===null||v===void 0||v.destroy()}u.current?w():n(v=>[].concat(Ee(v),[w]))},update:w=>{function v(){var y;(y=u.current)===null||y===void 0||y.update(w)}u.current?v():n(y=>[].concat(Ee(y),[v]))},then:w=>(m=!0,f.then(w))}},[]);return[l.useMemo(()=>({info:r(iA),success:r(sA),error:r(aA),warning:r(oA),confirm:r(lA)}),[]),l.createElement(S5,{key:"modal-holder",ref:t})]}const x5=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:r}=t,o="".concat(e,"-notice"),i=new Rt("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),s=new Rt("antNotificationTopFadeIn",{"0%":{top:-r,opacity:0},"100%":{top:0,opacity:1}}),a=new Rt("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(r).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),c=new Rt("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{["&".concat(e,"-top, &").concat(e,"-bottom")]:{marginInline:0,[o]:{marginInline:"auto auto"}},["&".concat(e,"-top")]:{["".concat(e,"-fade-enter").concat(e,"-fade-enter-active, ").concat(e,"-fade-appear").concat(e,"-fade-appear-active")]:{animationName:s}},["&".concat(e,"-bottom")]:{["".concat(e,"-fade-enter").concat(e,"-fade-enter-active, ").concat(e,"-fade-appear").concat(e,"-fade-appear-active")]:{animationName:a}},["&".concat(e,"-topRight, &").concat(e,"-bottomRight")]:{["".concat(e,"-fade-enter").concat(e,"-fade-enter-active, ").concat(e,"-fade-appear").concat(e,"-fade-appear-active")]:{animationName:i}},["&".concat(e,"-topLeft, &").concat(e,"-bottomLeft")]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[o]:{marginInlineEnd:"auto",marginInlineStart:0},["".concat(e,"-fade-enter").concat(e,"-fade-enter-active, ").concat(e,"-fade-appear").concat(e,"-fade-appear-active")]:{animationName:c}}}}},A5=x5,E5=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],I5={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},_5=(t,e)=>{const{componentCls:n}=t;return{["".concat(n,"-").concat(e)]:{["&".concat(n,"-stack > ").concat(n,"-notice-wrapper")]:{[e.startsWith("top")?"top":"bottom"]:0,[I5[e]]:{value:0,_skip_check_:!0}}}}},P5=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e["&:nth-last-child(".concat(n+1,")")]={overflow:"hidden",["& > ".concat(t.componentCls,"-notice")]:{opacity:0,transition:"opacity ".concat(t.motionDurationMid)}};return Object.assign({["&:not(:nth-last-child(-n+".concat(t.notificationStackLayer,"))")]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},M5=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e["&:nth-last-child(".concat(n+1,")")]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},e)},k5=t=>{const{componentCls:e}=t;return Object.assign({["".concat(e,"-stack")]:{["& > ".concat(e,"-notice-wrapper")]:Object.assign({transition:"all ".concat(t.motionDurationSlow,", backdrop-filter 0s"),position:"absolute"},P5(t))},["".concat(e,"-stack:not(").concat(e,"-stack-expanded)")]:{["& > ".concat(e,"-notice-wrapper")]:Object.assign({},M5(t))},["".concat(e,"-stack").concat(e,"-stack-expanded")]:{["& > ".concat(e,"-notice-wrapper")]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",["& > ".concat(t.componentCls,"-notice")]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},E5.map(n=>_5(t,n)).reduce((n,r)=>Object.assign(Object.assign({},n),r),{}))},R5=k5,T5=t=>{const{iconCls:e,componentCls:n,boxShadow:r,fontSizeLG:o,notificationMarginBottom:i,borderRadiusLG:s,colorSuccess:a,colorInfo:c,colorWarning:u,colorError:d,colorTextHeading:f,notificationBg:m,notificationPadding:h,notificationMarginEdge:g,notificationProgressBg:p,notificationProgressHeight:w,fontSize:v,lineHeight:y,width:b,notificationIconSize:C,colorText:S}=t,x="".concat(n,"-notice");return{position:"relative",marginBottom:i,marginInlineStart:"auto",background:m,borderRadius:s,boxShadow:r,[x]:{padding:h,width:b,maxWidth:"calc(100vw - ".concat(re(t.calc(g).mul(2).equal()),")"),overflow:"hidden",lineHeight:y,wordWrap:"break-word"},["".concat(x,"-message")]:{marginBottom:t.marginXS,color:f,fontSize:o,lineHeight:t.lineHeightLG},["".concat(x,"-description")]:{fontSize:v,color:S},["".concat(x,"-closable ").concat(x,"-message")]:{paddingInlineEnd:t.paddingLG},["".concat(x,"-with-icon ").concat(x,"-message")]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(C).equal(),fontSize:o},["".concat(x,"-with-icon ").concat(x,"-description")]:{marginInlineStart:t.calc(t.marginSM).add(C).equal(),fontSize:v},["".concat(x,"-icon")]:{position:"absolute",fontSize:C,lineHeight:1,["&-success".concat(e)]:{color:a},["&-info".concat(e)]:{color:c},["&-warning".concat(e)]:{color:u},["&-error".concat(e)]:{color:d}},["".concat(x,"-close")]:Object.assign({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:"background-color ".concat(t.motionDurationMid,", color ").concat(t.motionDurationMid),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},Qo(t)),["".concat(x,"-progress")]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:"calc(100% - ".concat(re(s)," * 2)"),left:{_skip_check_:!0,value:s},right:{_skip_check_:!0,value:s},bottom:0,blockSize:w,border:0,"&, &::-webkit-progress-bar":{borderRadius:s,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:p},"&::-webkit-progress-value":{borderRadius:s,background:p}},["".concat(x,"-btn")]:{float:"right",marginTop:t.marginSM}}},O5=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:r,motionDurationMid:o,motionEaseInOut:i}=t,s="".concat(e,"-notice"),a=new Rt("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Object.assign(Object.assign({},cn(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:r,_skip_check_:!0},["".concat(e,"-hook-holder")]:{position:"relative"},["".concat(e,"-fade-appear-prepare")]:{opacity:"0 !important"},["".concat(e,"-fade-enter, ").concat(e,"-fade-appear")]:{animationDuration:t.motionDurationMid,animationTimingFunction:i,animationFillMode:"both",opacity:0,animationPlayState:"paused"},["".concat(e,"-fade-leave")]:{animationTimingFunction:i,animationFillMode:"both",animationDuration:o,animationPlayState:"paused"},["".concat(e,"-fade-enter").concat(e,"-fade-enter-active, ").concat(e,"-fade-appear").concat(e,"-fade-appear-active")]:{animationPlayState:"running"},["".concat(e,"-fade-leave").concat(e,"-fade-leave-active")]:{animationName:a,animationPlayState:"running"},"&-rtl":{direction:"rtl",["".concat(s,"-btn")]:{float:"left"}}})},{[e]:{["".concat(s,"-wrapper")]:Object.assign({},T5(t))}}]},N5=t=>({zIndexPopup:t.zIndexPopupBase+jp+50,width:384}),D5=t=>{const e=t.paddingMD,n=t.paddingLG;return Dt(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:"".concat(re(t.paddingMD)," ").concat(re(t.paddingContentHorizontalLG)),notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:"linear-gradient(90deg, ".concat(t.colorPrimaryBorderHover,", ").concat(t.colorPrimary,")")})},$5=Jt("Notification",t=>{const e=D5(t);return[O5(e),A5(e),R5(e)]},N5);globalThis&&globalThis.__rest;function uA(t,e){return e===null||e===!1?null:e||l.createElement(fr,{className:"".concat(t,"-close-icon")})}const F5={success:Va,info:Vp,error:ts,warning:ja},L5=t=>{const{prefixCls:e,icon:n,type:r,message:o,description:i,btn:s,role:a="alert"}=t;let c=null;return n?c=l.createElement("span",{className:"".concat(e,"-icon")},n):r&&(c=l.createElement(F5[r]||null,{className:X("".concat(e,"-icon"),"".concat(e,"-icon-").concat(r))})),l.createElement("div",{className:X({["".concat(e,"-with-icon")]:c}),role:a},c,l.createElement("div",{className:"".concat(e,"-message")},o),l.createElement("div",{className:"".concat(e,"-description")},i),s&&l.createElement("div",{className:"".concat(e,"-btn")},s))};function B5(t,e,n){let r;switch(t){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":r={left:0,top:e,bottom:"auto"};break;case"topRight":r={right:0,top:e,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n};break}return r}function V5(t){return{motionName:"".concat(t,"-fade")}}var j5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const q0=24,z5=4.5,U5="topRight",H5=t=>{let{children:e,prefixCls:n}=t;const r=Dn(n),[o,i,s]=$5(n,r);return o(fe.createElement(mx,{classNames:{list:X(i,s,r)}},e))},W5=(t,e)=>{let{prefixCls:n,key:r}=e;return fe.createElement(H5,{prefixCls:n,key:r},t)},G5=fe.forwardRef((t,e)=>{const{top:n,bottom:r,prefixCls:o,getContainer:i,maxCount:s,rtl:a,onAllRemoved:c,stack:u,duration:d,pauseOnHover:f=!0,showProgress:m}=t,{getPrefixCls:h,getPopupContainer:g,notification:p,direction:w}=l.useContext(Ge),[,v]=Dr(),y=o||h("notification"),b=E=>B5(E,n!=null?n:q0,r!=null?r:q0),C=()=>X({["".concat(y,"-rtl")]:a!=null?a:w==="rtl"}),S=()=>V5(y),[x,I]=hx({prefixCls:y,style:b,className:C,motion:S,closable:!0,closeIcon:uA(y),duration:d!=null?d:z5,getContainer:()=>(i==null?void 0:i())||(g==null?void 0:g())||document.body,maxCount:s,pauseOnHover:f,showProgress:m,onAllRemoved:c,renderNotifications:W5,stack:u===!1?!1:{threshold:typeof u=="object"?u==null?void 0:u.threshold:void 0,offset:8,gap:v.margin}});return fe.useImperativeHandle(e,()=>Object.assign(Object.assign({},x),{prefixCls:y,notification:p})),I});function q5(t){const e=fe.useRef(null);return Os(),[fe.useMemo(()=>{const r=a=>{var c;if(!e.current)return;const{open:u,prefixCls:d,notification:f}=e.current,m="".concat(d,"-notice"),{message:h,description:g,icon:p,type:w,btn:v,className:y,style:b,role:C="alert",closeIcon:S,closable:x}=a,I=j5(a,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),E=uA(m,typeof S<"u"?S:f==null?void 0:f.closeIcon);return u(Object.assign(Object.assign({placement:(c=t==null?void 0:t.placement)!==null&&c!==void 0?c:U5},I),{content:fe.createElement(L5,{prefixCls:m,icon:p,type:w,message:h,description:g,btn:v,role:C}),className:X(w&&"".concat(m,"-").concat(w),y,f==null?void 0:f.className),style:Object.assign(Object.assign({},f==null?void 0:f.style),b),closeIcon:E,closable:x!=null?x:!!E}))},i={open:r,destroy:a=>{var c,u;a!==void 0?(c=e.current)===null||c===void 0||c.close(a):(u=e.current)===null||u===void 0||u.destroy()}};return["success","info","warning","error"].forEach(a=>{i[a]=c=>r(Object.assign(Object.assign({},c),{type:a}))}),i},[]),fe.createElement(G5,Object.assign({key:"notification-holder"},t,{ref:e}))]}function K5(t){return q5(t)}const K0=fe.createContext({}),Y5=fe.createContext({message:{},notification:{},modal:{}}),dA=Y5,X5=t=>{const{componentCls:e,colorText:n,fontSize:r,lineHeight:o,fontFamily:i}=t;return{[e]:{color:n,fontSize:r,lineHeight:o,fontFamily:i}}},Q5=()=>({}),J5=Jt("App",X5,Q5),Z5=()=>fe.useContext(dA),fA=t=>{const{prefixCls:e,children:n,className:r,rootClassName:o,message:i,notification:s,style:a,component:c="div"}=t,{getPrefixCls:u}=l.useContext(Ge),d=u("app",e),[f,m,h]=J5(d),g=X(m,d,r,o,h),p=l.useContext(K0),w=fe.useMemo(()=>({message:Object.assign(Object.assign({},p.message),i),notification:Object.assign(Object.assign({},p.notification),s)}),[i,s,p.message,p.notification]),[v,y]=RD(w.message),[b,C]=K5(w.notification),[S,x]=cA(),I=fe.useMemo(()=>({message:v,notification:b,modal:S}),[v,b,S]);Os()(!(h&&c===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const E=c===!1?fe.Fragment:c,_={className:g,style:a};return f(fe.createElement(dA.Provider,{value:I},fe.createElement(K0.Provider,{value:w},fe.createElement(E,Object.assign({},c===!1?void 0:_),x,y,C,n))))};fA.useApp=Z5;const $c=fA;function mA(t){return e=>l.createElement(nf,{theme:{token:{motion:!1,zIndexPopupBase:0}}},l.createElement(t,Object.assign({},e)))}const eF=(t,e,n,r)=>mA(i=>{const{prefixCls:s,style:a}=i,c=l.useRef(null),[u,d]=l.useState(0),[f,m]=l.useState(0),[h,g]=on(!1,{value:i.open}),{getPrefixCls:p}=l.useContext(Ge),w=p(e||"select",s);l.useEffect(()=>{if(g(!0),typeof ResizeObserver<"u"){const b=new ResizeObserver(S=>{const x=S[0].target;d(x.offsetHeight+8),m(x.offsetWidth)}),C=setInterval(()=>{var S;const x=n?".".concat(n(w)):".".concat(w,"-dropdown"),I=(S=c.current)===null||S===void 0?void 0:S.querySelector(x);I&&(clearInterval(C),b.observe(I))},10);return()=>{clearInterval(C),b.disconnect()}}},[]);let v=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},a),{margin:0}),open:h,visible:h,getPopupContainer:()=>c.current});r&&(v=r(v));const y={paddingBottom:u,position:"relative",minWidth:f};return l.createElement("div",{ref:c,style:y},l.createElement(t,Object.assign({},v)))}),pf=eF,tv=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var vf=function(e){var n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.children,s=e.onMouseDown,a=e.onClick,c=typeof r=="function"?r(o):r;return l.createElement("span",{className:n,onMouseDown:function(d){d.preventDefault(),s==null||s(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},c!==void 0?c:l.createElement("span",{className:X(n.split(/\s+/).map(function(u){return"".concat(u,"-icon")}))},i))},tF=function(e,n,r,o,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=fe.useMemo(function(){if(st(o)==="object")return o.clearIcon;if(i)return i},[o,i]),d=fe.useMemo(function(){return!!(!s&&o&&(r.length||a)&&!(c==="combobox"&&a===""))},[o,s,r.length,a,c]);return{allowClear:d,clearIcon:fe.createElement(vf,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:u},"×")}},hA=l.createContext(null);function nF(){return l.useContext(hA)}function rF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=l.useState(!1),n=K(e,2),r=n[0],o=n[1],i=l.useRef(null),s=function(){window.clearTimeout(i.current)};l.useEffect(function(){return s},[]);var a=function(u,d){s(),i.current=window.setTimeout(function(){o(u),d&&d()},t)};return[r,a,s]}function gA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=l.useRef(null),n=l.useRef(null);l.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(o){(o||e.current===null)&&(e.current=o),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function oF(t,e,n,r){var o=l.useRef(null);o.current={open:e,triggerOpen:n,customizedTrigger:r},l.useEffect(function(){function i(s){var a;if(!((a=o.current)!==null&&a!==void 0&&a.customizedTrigger)){var c=s.target;c.shadowRoot&&s.composed&&(c=s.composedPath()[0]||c),o.current.open&&t().filter(function(u){return u}).every(function(u){return!u.contains(c)&&u!==c})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",i),function(){return window.removeEventListener("mousedown",i)}},[])}function iF(t){return![Ie.ESC,Ie.SHIFT,Ie.BACKSPACE,Ie.TAB,Ie.WIN_KEY,Ie.ALT,Ie.META,Ie.WIN_KEY_RIGHT,Ie.CTRL,Ie.SEMICOLON,Ie.EQUALS,Ie.CAPS_LOCK,Ie.CONTEXT_MENU,Ie.F1,Ie.F2,Ie.F3,Ie.F4,Ie.F5,Ie.F6,Ie.F7,Ie.F8,Ie.F9,Ie.F10,Ie.F11,Ie.F12].includes(t)}var sF=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Ys=void 0;function aF(t,e){var n=t.prefixCls,r=t.invalidate,o=t.item,i=t.renderItem,s=t.responsive,a=t.responsiveDisabled,c=t.registerSize,u=t.itemKey,d=t.className,f=t.style,m=t.children,h=t.display,g=t.order,p=t.component,w=p===void 0?"div":p,v=ht(t,sF),y=s&&!h;function b(E){c(u,E)}l.useEffect(function(){return function(){b(null)}},[]);var C=i&&o!==Ys?i(o):m,S;r||(S={opacity:y?0:1,height:y?0:Ys,overflowY:y?"hidden":Ys,order:s?g:Ys,pointerEvents:y?"none":Ys,position:y?"absolute":Ys});var x={};y&&(x["aria-hidden"]=!0);var I=l.createElement(w,pe({className:X(!r&&n,d),style:W(W({},S),f)},x,v,{ref:e}),C);return s&&(I=l.createElement(Lr,{onResize:function(_){var P=_.offsetWidth;b(P)},disabled:a},I)),I}var Ul=l.forwardRef(aF);Ul.displayName="Item";function lF(t){if(typeof MessageChannel>"u")zt(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function cF(){var t=l.useRef(null),e=function(r){t.current||(t.current=[],lF(function(){Wi.unstable_batchedUpdates(function(){t.current.forEach(function(o){o()}),t.current=null})})),t.current.push(r)};return e}function hl(t,e){var n=l.useState(e),r=K(n,2),o=r[0],i=r[1],s=Gt(function(a){t(function(){i(a)})});return[o,s]}var gd=fe.createContext(null),uF=["component"],dF=["className"],fF=["className"],mF=function(e,n){var r=l.useContext(gd);if(!r){var o=e.component,i=o===void 0?"div":o,s=ht(e,uF);return l.createElement(i,pe({},s,{ref:n}))}var a=r.className,c=ht(r,dF),u=e.className,d=ht(e,fF);return l.createElement(gd.Provider,{value:null},l.createElement(Ul,pe({ref:n,className:X(a,u)},c,d)))},pA=l.forwardRef(mF);pA.displayName="RawItem";var hF=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],vA="responsive",bA="invalidate";function gF(t){return"+ ".concat(t.length," ...")}function pF(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,o=t.data,i=o===void 0?[]:o,s=t.renderItem,a=t.renderRawItem,c=t.itemKey,u=t.itemWidth,d=u===void 0?10:u,f=t.ssr,m=t.style,h=t.className,g=t.maxCount,p=t.renderRest,w=t.renderRawRest,v=t.suffix,y=t.component,b=y===void 0?"div":y,C=t.itemComponent,S=t.onVisibleChange,x=ht(t,hF),I=f==="full",E=cF(),_=hl(E,null),P=K(_,2),M=P[0],T=P[1],k=M||0,R=hl(E,new Map),D=K(R,2),L=D[0],$=D[1],j=hl(E,0),U=K(j,2),z=U[0],F=U[1],V=hl(E,0),N=K(V,2),B=N[0],H=N[1],Q=hl(E,0),G=K(Q,2),Y=G[0],te=G[1],ee=l.useState(null),J=K(ee,2),se=J[0],ie=J[1],oe=l.useState(null),ue=K(oe,2),de=ue[0],he=ue[1],ye=l.useMemo(function(){return de===null&&I?Number.MAX_SAFE_INTEGER:de||0},[de,M]),Se=l.useState(!1),Me=K(Se,2),be=Me[0],ke=Me[1],we="".concat(r,"-item"),le=Math.max(z,B),Ce=g===vA,Ae=i.length&&Ce,Be=g===bA,Fe=Ae||typeof g=="number"&&i.length>g,De=l.useMemo(function(){var Xe=i;return Ae?M===null&&I?Xe=i:Xe=i.slice(0,Math.min(i.length,k/d)):typeof g=="number"&&(Xe=i.slice(0,g)),Xe},[i,d,M,g,Ae]),ze=l.useMemo(function(){return Ae?i.slice(ye+1):i.slice(De.length)},[i,De,Ae,ye]),at=l.useCallback(function(Xe,$e){var pt;return typeof c=="function"?c(Xe):(pt=c&&(Xe==null?void 0:Xe[c]))!==null&&pt!==void 0?pt:$e},[c]),We=l.useCallback(s||function(Xe){return Xe},[s]);function Re(Xe,$e,pt){de===Xe&&($e===void 0||$e===se)||(he(Xe),pt||(ke(Xe<i.length-1),S==null||S(Xe)),$e!==void 0&&ie($e))}function me(Xe,$e){T($e.clientWidth)}function xe(Xe,$e){$(function(pt){var bt=new Map(pt);return $e===null?bt.delete(Xe):bt.set(Xe,$e),bt})}function _e(Xe,$e){H($e),F(B)}function Ne(Xe,$e){te($e)}function He(Xe){return L.get(at(De[Xe],Xe))}Kt(function(){if(k&&typeof le=="number"&&De){var Xe=Y,$e=De.length,pt=$e-1;if(!$e){Re(0,null);return}for(var bt=0;bt<$e;bt+=1){var Te=He(bt);if(I&&(Te=Te||0),Te===void 0){Re(bt-1,void 0,!0);break}if(Xe+=Te,pt===0&&Xe<=k||bt===pt-1&&Xe+He(pt)<=k){Re(pt,null);break}else if(Xe+le>k){Re(bt-1,Xe-Te-Y+B);break}}v&&He(0)+Y>k&&ie(null)}},[k,L,B,Y,at,De]);var ne=be&&!!ze.length,Pe={};se!==null&&Ae&&(Pe={position:"absolute",left:se,top:0});var je={prefixCls:we,responsive:Ae,component:C,invalidate:Be},nt=a?function(Xe,$e){var pt=at(Xe,$e);return l.createElement(gd.Provider,{key:pt,value:W(W({},je),{},{order:$e,item:Xe,itemKey:pt,registerSize:xe,display:$e<=ye})},a(Xe,$e))}:function(Xe,$e){var pt=at(Xe,$e);return l.createElement(Ul,pe({},je,{order:$e,key:pt,item:Xe,renderItem:We,itemKey:pt,registerSize:xe,display:$e<=ye}))},gt,lt={order:ne?ye:Number.MAX_SAFE_INTEGER,className:"".concat(we,"-rest"),registerSize:_e,display:ne};if(w)w&&(gt=l.createElement(gd.Provider,{value:W(W({},je),lt)},w(ze)));else{var Ze=p||gF;gt=l.createElement(Ul,pe({},je,lt),typeof Ze=="function"?Ze(ze):Ze)}var Ye=l.createElement(b,pe({className:X(!Be&&r,h),style:m,ref:e},x),De.map(nt),Fe?gt:null,v&&l.createElement(Ul,pe({},je,{responsive:Ce,responsiveDisabled:!Ae,order:ye,className:"".concat(we,"-suffix"),registerSize:Ne,display:!0,style:Pe}),v));return Ce&&(Ye=l.createElement(Lr,{onResize:me,disabled:!Ae},Ye)),Ye}var Ro=l.forwardRef(pF);Ro.displayName="Overflow";Ro.Item=pA;Ro.RESPONSIVE=vA;Ro.INVALIDATE=bA;var vF=function(e,n){var r,o=e.prefixCls,i=e.id,s=e.inputElement,a=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,f=e.editable,m=e.activeDescendantId,h=e.value,g=e.maxLength,p=e.onKeyDown,w=e.onMouseDown,v=e.onChange,y=e.onPaste,b=e.onCompositionStart,C=e.onCompositionEnd,S=e.open,x=e.attrs,I=s||l.createElement("input",null),E=I,_=E.ref,P=E.props,M=P.onKeyDown,T=P.onChange,k=P.onMouseDown,R=P.onCompositionStart,D=P.onCompositionEnd,L=P.style;return"maxLength"in I.props,I=l.cloneElement(I,W(W(W({type:"search"},P),{},{id:i,ref:oo(n,_),disabled:a,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:X("".concat(o,"-selection-search-input"),(r=I)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":S?m:void 0},x),{},{value:f?h:"",maxLength:g,readOnly:!f,unselectable:f?null:"on",style:W(W({},L),{},{opacity:f?null:0}),onKeyDown:function(j){p(j),M&&M(j)},onMouseDown:function(j){w(j),k&&k(j)},onChange:function(j){v(j),T&&T(j)},onCompositionStart:function(j){b(j),R&&R(j)},onCompositionEnd:function(j){C(j),D&&D(j)},onPaste:y})),I},wA=l.forwardRef(vF);function yA(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var bF=typeof window<"u"&&window.document&&window.document.documentElement,wF=bF;function yF(t){return t!=null}function CF(t){return!t&&t!==0}function Y0(t){return["string","number"].includes(st(t))}function CA(t){var e=void 0;return t&&(Y0(t.title)?e=t.title.toString():Y0(t.label)&&(e=t.label.toString())),e}function SF(t,e){wF?l.useLayoutEffect(t,e):l.useEffect(t,e)}function xF(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var X0=function(e){e.preventDefault(),e.stopPropagation()},AF=function(e){var n=e.id,r=e.prefixCls,o=e.values,i=e.open,s=e.searchValue,a=e.autoClearSearchValue,c=e.inputRef,u=e.placeholder,d=e.disabled,f=e.mode,m=e.showSearch,h=e.autoFocus,g=e.autoComplete,p=e.activeDescendantId,w=e.tabIndex,v=e.removeIcon,y=e.maxTagCount,b=e.maxTagTextLength,C=e.maxTagPlaceholder,S=C===void 0?function(ie){return"+ ".concat(ie.length," ...")}:C,x=e.tagRender,I=e.onToggleOpen,E=e.onRemove,_=e.onInputChange,P=e.onInputPaste,M=e.onInputKeyDown,T=e.onInputMouseDown,k=e.onInputCompositionStart,R=e.onInputCompositionEnd,D=l.useRef(null),L=l.useState(0),$=K(L,2),j=$[0],U=$[1],z=l.useState(!1),F=K(z,2),V=F[0],N=F[1],B="".concat(r,"-selection"),H=i||f==="multiple"&&a===!1||f==="tags"?s:"",Q=f==="tags"||f==="multiple"&&a===!1||m&&(i||V);SF(function(){U(D.current.scrollWidth)},[H]);var G=function(oe,ue,de,he,ye){return l.createElement("span",{title:CA(oe),className:X("".concat(B,"-item"),q({},"".concat(B,"-item-disabled"),de))},l.createElement("span",{className:"".concat(B,"-item-content")},ue),he&&l.createElement(vf,{className:"".concat(B,"-item-remove"),onMouseDown:X0,onClick:ye,customizeIcon:v},"×"))},Y=function(oe,ue,de,he,ye,Se){var Me=function(ke){X0(ke),I(!i)};return l.createElement("span",{onMouseDown:Me},x({label:ue,value:oe,disabled:de,closable:he,onClose:ye,isMaxTag:!!Se}))},te=function(oe){var ue=oe.disabled,de=oe.label,he=oe.value,ye=!d&&!ue,Se=de;if(typeof b=="number"&&(typeof de=="string"||typeof de=="number")){var Me=String(Se);Me.length>b&&(Se="".concat(Me.slice(0,b),"..."))}var be=function(we){we&&we.stopPropagation(),E(oe)};return typeof x=="function"?Y(he,Se,ue,ye,be):G(oe,Se,ue,ye,be)},ee=function(oe){var ue=typeof S=="function"?S(oe):S;return typeof x=="function"?Y(void 0,ue,!1,!1,void 0,!0):G({title:ue},ue,!1)},J=l.createElement("div",{className:"".concat(B,"-search"),style:{width:j},onFocus:function(){N(!0)},onBlur:function(){N(!1)}},l.createElement(wA,{ref:c,open:i,prefixCls:r,id:n,inputElement:null,disabled:d,autoFocus:h,autoComplete:g,editable:Q,activeDescendantId:p,value:H,onKeyDown:M,onMouseDown:T,onChange:_,onPaste:P,onCompositionStart:k,onCompositionEnd:R,tabIndex:w,attrs:cr(e,!0)}),l.createElement("span",{ref:D,className:"".concat(B,"-search-mirror"),"aria-hidden":!0},H," ")),se=l.createElement(Ro,{prefixCls:"".concat(B,"-overflow"),data:o,renderItem:te,renderRest:ee,suffix:J,itemKey:xF,maxCount:y});return l.createElement(l.Fragment,null,se,!o.length&&!H&&l.createElement("span",{className:"".concat(B,"-placeholder")},u))},EF=function(e){var n=e.inputElement,r=e.prefixCls,o=e.id,i=e.inputRef,s=e.disabled,a=e.autoFocus,c=e.autoComplete,u=e.activeDescendantId,d=e.mode,f=e.open,m=e.values,h=e.placeholder,g=e.tabIndex,p=e.showSearch,w=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,C=e.onInputMouseDown,S=e.onInputChange,x=e.onInputPaste,I=e.onInputCompositionStart,E=e.onInputCompositionEnd,_=e.title,P=l.useState(!1),M=K(P,2),T=M[0],k=M[1],R=d==="combobox",D=R||p,L=m[0],$=w||"";R&&v&&!T&&($=v),l.useEffect(function(){R&&k(!1)},[R,v]);var j=d!=="combobox"&&!f&&!p?!1:!!$,U=_===void 0?CA(L):_,z=l.useMemo(function(){return L?null:l.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:j?{visibility:"hidden"}:void 0},h)},[L,j,h,r]);return l.createElement(l.Fragment,null,l.createElement("span",{className:"".concat(r,"-selection-search")},l.createElement(wA,{ref:i,prefixCls:r,id:o,open:f,inputElement:n,disabled:s,autoFocus:a,autoComplete:c,editable:D,activeDescendantId:u,value:$,onKeyDown:b,onMouseDown:C,onChange:function(V){k(!0),S(V)},onPaste:x,onCompositionStart:I,onCompositionEnd:E,tabIndex:g,attrs:cr(e,!0),maxLength:R?y:void 0})),!R&&L?l.createElement("span",{className:"".concat(r,"-selection-item"),title:U,style:j?{visibility:"hidden"}:void 0},L.label):null,z)},IF=function(e,n){var r=l.useRef(null),o=l.useRef(!1),i=e.prefixCls,s=e.open,a=e.mode,c=e.showSearch,u=e.tokenWithEnter,d=e.disabled,f=e.autoClearSearchValue,m=e.onSearch,h=e.onSearchSubmit,g=e.onToggleOpen,p=e.onInputKeyDown,w=e.domRef;l.useImperativeHandle(n,function(){return{focus:function(j){r.current.focus(j)},blur:function(){r.current.blur()}}});var v=gA(0),y=K(v,2),b=y[0],C=y[1],S=function(j){var U=j.which;(U===Ie.UP||U===Ie.DOWN)&&j.preventDefault(),p&&p(j),U===Ie.ENTER&&a==="tags"&&!o.current&&!s&&(h==null||h(j.target.value)),iF(U)&&g(!0)},x=function(){C(!0)},I=l.useRef(null),E=function(j){m(j,!0,o.current)!==!1&&g(!0)},_=function(){o.current=!0},P=function(j){o.current=!1,a!=="combobox"&&E(j.target.value)},M=function(j){var U=j.target.value;if(u&&I.current&&/[\r\n]/.test(I.current)){var z=I.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");U=U.replace(z,I.current)}I.current=null,E(U)},T=function(j){var U=j.clipboardData,z=U==null?void 0:U.getData("text");I.current=z||""},k=function(j){var U=j.target;if(U!==r.current){var z=document.body.style.msTouchAction!==void 0;z?setTimeout(function(){r.current.focus()}):r.current.focus()}},R=function(j){var U=b();j.target!==r.current&&!U&&!(a==="combobox"&&d)&&j.preventDefault(),(a!=="combobox"&&(!c||!U)||!s)&&(s&&f!==!1&&m("",!0,!1),g())},D={inputRef:r,onInputKeyDown:S,onInputMouseDown:x,onInputChange:M,onInputPaste:T,onInputCompositionStart:_,onInputCompositionEnd:P},L=a==="multiple"||a==="tags"?l.createElement(AF,pe({},e,D)):l.createElement(EF,pe({},e,D));return l.createElement("div",{ref:w,className:"".concat(i,"-selector"),onClick:k,onMouseDown:R},L)},_F=l.forwardRef(IF);function PF(t){var e=t.prefixCls,n=t.align,r=t.arrow,o=t.arrowPos,i=r||{},s=i.className,a=i.content,c=o.x,u=c===void 0?0:c,d=o.y,f=d===void 0?0:d,m=l.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(n.autoArrow!==!1){var g=n.points[0],p=n.points[1],w=g[0],v=g[1],y=p[0],b=p[1];w===y||!["t","b"].includes(w)?h.top=f:w==="t"?h.top=0:h.bottom=0,v===b||!["l","r"].includes(v)?h.left=u:v==="l"?h.left=0:h.right=0}return l.createElement("div",{ref:m,className:X("".concat(e,"-arrow"),s),style:h},a)}function MF(t){var e=t.prefixCls,n=t.open,r=t.zIndex,o=t.mask,i=t.motion;return o?l.createElement(Ir,pe({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return l.createElement("div",{style:{zIndex:r},className:X("".concat(e,"-mask"),a)})}):null}var kF=l.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),RF=l.forwardRef(function(t,e){var n=t.popup,r=t.className,o=t.prefixCls,i=t.style,s=t.target,a=t.onVisibleChanged,c=t.open,u=t.keepDom,d=t.fresh,f=t.onClick,m=t.mask,h=t.arrow,g=t.arrowPos,p=t.align,w=t.motion,v=t.maskMotion,y=t.forceRender,b=t.getPopupContainer,C=t.autoDestroy,S=t.portal,x=t.zIndex,I=t.onMouseEnter,E=t.onMouseLeave,_=t.onPointerEnter,P=t.ready,M=t.offsetX,T=t.offsetY,k=t.offsetR,R=t.offsetB,D=t.onAlign,L=t.onPrepare,$=t.stretch,j=t.targetWidth,U=t.targetHeight,z=typeof n=="function"?n():n,F=c||u,V=(b==null?void 0:b.length)>0,N=l.useState(!b||!V),B=K(N,2),H=B[0],Q=B[1];if(Kt(function(){!H&&V&&s&&Q(!0)},[H,V,s]),!H)return null;var G="auto",Y={left:"-1000vw",top:"-1000vh",right:G,bottom:G};if(P||!c){var te,ee=p.points,J=p.dynamicInset||((te=p._experimental)===null||te===void 0?void 0:te.dynamicInset),se=J&&ee[0][1]==="r",ie=J&&ee[0][0]==="b";se?(Y.right=k,Y.left=G):(Y.left=M,Y.right=G),ie?(Y.bottom=R,Y.top=G):(Y.top=T,Y.bottom=G)}var oe={};return $&&($.includes("height")&&U?oe.height=U:$.includes("minHeight")&&U&&(oe.minHeight=U),$.includes("width")&&j?oe.width=j:$.includes("minWidth")&&j&&(oe.minWidth=j)),c||(oe.pointerEvents="none"),l.createElement(S,{open:y||F,getContainer:b&&function(){return b(s)},autoDestroy:C},l.createElement(MF,{prefixCls:o,open:c,zIndex:x,mask:m,motion:v}),l.createElement(Lr,{onResize:D,disabled:!c},function(ue){return l.createElement(Ir,pe({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(o,"-hidden")},w,{onAppearPrepare:L,onEnterPrepare:L,visible:c,onVisibleChanged:function(he){var ye;w==null||(ye=w.onVisibleChanged)===null||ye===void 0||ye.call(w,he),a(he)}}),function(de,he){var ye=de.className,Se=de.style,Me=X(o,ye,r);return l.createElement("div",{ref:oo(ue,e,he),className:Me,style:W(W(W(W({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},Y),oe),Se),{},{boxSizing:"border-box",zIndex:x},i),onMouseEnter:I,onMouseLeave:E,onPointerEnter:_,onClick:f},h&&l.createElement(PF,{prefixCls:o,arrow:h,arrowPos:g,align:p}),l.createElement(kF,{cache:!c&&!d},z))})}))}),TF=l.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,o=_i(n),i=l.useCallback(function(a){Ep(e,r?r(a):a)},[r]),s=Ii(i,n.ref);return o?l.cloneElement(n,{ref:s}):n}),Q0=l.createContext(null);function J0(t){return t?Array.isArray(t)?t:[t]:[]}function OF(t,e,n,r){return l.useMemo(function(){var o=J0(n!=null?n:e),i=J0(r!=null?r:e),s=new Set(o),a=new Set(i);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function NF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function DF(t,e,n,r){for(var o=n.points,i=Object.keys(t),s=0;s<i.length;s+=1){var a,c=i[s];if(NF((a=t[c])===null||a===void 0?void 0:a.points,o,r))return"".concat(e,"-placement-").concat(c)}return""}function Z0(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function Fc(t){return t.ownerDocument.defaultView}function Sg(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Fc(n).getComputedStyle(n),i=o.overflowX,s=o.overflowY,a=o.overflow;[i,s,a].some(function(c){return r.includes(c)})&&e.push(n),n=n.parentElement}return e}function fc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function gl(t){return fc(parseFloat(t),0)}function ew(t,e){var n=W({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var o=Fc(r).getComputedStyle(r),i=o.overflow,s=o.overflowClipMargin,a=o.borderTopWidth,c=o.borderBottomWidth,u=o.borderLeftWidth,d=o.borderRightWidth,f=r.getBoundingClientRect(),m=r.offsetHeight,h=r.clientHeight,g=r.offsetWidth,p=r.clientWidth,w=gl(a),v=gl(c),y=gl(u),b=gl(d),C=fc(Math.round(f.width/g*1e3)/1e3),S=fc(Math.round(f.height/m*1e3)/1e3),x=(g-p-y-b)*C,I=(m-h-w-v)*S,E=w*S,_=v*S,P=y*C,M=b*C,T=0,k=0;if(i==="clip"){var R=gl(s);T=R*C,k=R*S}var D=f.x+P-T,L=f.y+E-k,$=D+f.width+2*T-P-M-x,j=L+f.height+2*k-E-_-I;n.left=Math.max(n.left,D),n.top=Math.max(n.top,L),n.right=Math.min(n.right,$),n.bottom=Math.min(n.bottom,j)}}),n}function tw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function nw(t,e){var n=e||[],r=K(n,2),o=r[0],i=r[1];return[tw(t.width,o),tw(t.height,i)]}function rw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function Xs(t,e){var n=e[0],r=e[1],o,i;return n==="t"?i=t.y:n==="b"?i=t.y+t.height:i=t.y+t.height/2,r==="l"?o=t.x:r==="r"?o=t.x+t.width:o=t.x+t.width/2,{x:o,y:i}}function Oi(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,o){return o===e?n[r]||"c":r}).join("")}function $F(t,e,n,r,o,i,s){var a=l.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),c=K(a,2),u=c[0],d=c[1],f=l.useRef(0),m=l.useMemo(function(){return e?Sg(e):[]},[e]),h=l.useRef({}),g=function(){h.current={}};t||g();var p=Gt(function(){if(e&&n&&t){let vt=function(Tt,gn){var kr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Me,Ws=z.x+Tt,ul=z.y+gn,dl=Ws+te,ru=ul+Y,um=Math.max(Ws,kr.left),dm=Math.max(ul,kr.top),fm=Math.min(dl,kr.right),mm=Math.min(ru,kr.bottom);return Math.max(0,(fm-um)*(mm-dm))},yt=function(){Wt=z.y+Ze,It=Wt+Y,et=z.x+lt,wt=et+te};var y,b,C=e,S=C.ownerDocument,x=Fc(C),I=x.getComputedStyle(C),E=I.width,_=I.height,P=I.position,M=C.style.left,T=C.style.top,k=C.style.right,R=C.style.bottom,D=C.style.overflow,L=W(W({},o[r]),i),$=S.createElement("div");(y=C.parentElement)===null||y===void 0||y.appendChild($),$.style.left="".concat(C.offsetLeft,"px"),$.style.top="".concat(C.offsetTop,"px"),$.style.position=P,$.style.height="".concat(C.offsetHeight,"px"),$.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto",C.style.overflow="hidden";var j;if(Array.isArray(n))j={x:n[0],y:n[1],width:0,height:0};else{var U=n.getBoundingClientRect();j={x:U.x,y:U.y,width:U.width,height:U.height}}var z=C.getBoundingClientRect(),F=S.documentElement,V=F.clientWidth,N=F.clientHeight,B=F.scrollWidth,H=F.scrollHeight,Q=F.scrollTop,G=F.scrollLeft,Y=z.height,te=z.width,ee=j.height,J=j.width,se={left:0,top:0,right:V,bottom:N},ie={left:-G,top:-Q,right:B-G,bottom:H-Q},oe=L.htmlRegion,ue="visible",de="visibleFirst";oe!=="scroll"&&oe!==de&&(oe=ue);var he=oe===de,ye=ew(ie,m),Se=ew(se,m),Me=oe===ue?Se:ye,be=he?Se:Me;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var ke=C.getBoundingClientRect();C.style.left=M,C.style.top=T,C.style.right=k,C.style.bottom=R,C.style.overflow=D,(b=C.parentElement)===null||b===void 0||b.removeChild($);var we=fc(Math.round(te/parseFloat(E)*1e3)/1e3),le=fc(Math.round(Y/parseFloat(_)*1e3)/1e3);if(we===0||le===0||oc(n)&&!Rc(n))return;var Ce=L.offset,Ae=L.targetOffset,Be=nw(z,Ce),Fe=K(Be,2),De=Fe[0],ze=Fe[1],at=nw(j,Ae),We=K(at,2),Re=We[0],me=We[1];j.x-=Re,j.y-=me;var xe=L.points||[],_e=K(xe,2),Ne=_e[0],He=_e[1],ne=rw(He),Pe=rw(Ne),je=Xs(j,ne),nt=Xs(z,Pe),gt=W({},L),lt=je.x-nt.x+De,Ze=je.y-nt.y+ze,Ye=vt(lt,Ze),Xe=vt(lt,Ze,Se),$e=Xs(j,["t","l"]),pt=Xs(z,["t","l"]),bt=Xs(j,["b","r"]),Te=Xs(z,["b","r"]),Le=L.overflow||{},Ve=Le.adjustX,it=Le.adjustY,Ct=Le.shiftX,Ot=Le.shiftY,tn=function(gn){return typeof gn=="boolean"?gn:gn>=0},Wt,It,et,wt;yt();var Bt=tn(it),Ft=Pe[0]===ne[0];if(Bt&&Pe[0]==="t"&&(It>be.bottom||h.current.bt)){var nn=Ze;Ft?nn-=Y-ee:nn=$e.y-Te.y-ze;var xn=vt(lt,nn),Qe=vt(lt,nn,Se);xn>Ye||xn===Ye&&(!he||Qe>=Xe)?(h.current.bt=!0,Ze=nn,ze=-ze,gt.points=[Oi(Pe,0),Oi(ne,0)]):h.current.bt=!1}if(Bt&&Pe[0]==="b"&&(Wt<be.top||h.current.tb)){var rt=Ze;Ft?rt+=Y-ee:rt=bt.y-pt.y-ze;var ft=vt(lt,rt),qt=vt(lt,rt,Se);ft>Ye||ft===Ye&&(!he||qt>=Xe)?(h.current.tb=!0,Ze=rt,ze=-ze,gt.points=[Oi(Pe,0),Oi(ne,0)]):h.current.tb=!1}var In=tn(Ve),Pn=Pe[1]===ne[1];if(In&&Pe[1]==="l"&&(wt>be.right||h.current.rl)){var fn=lt;Pn?fn-=te-J:fn=$e.x-Te.x-De;var zn=vt(fn,Ze),gr=vt(fn,Ze,Se);zn>Ye||zn===Ye&&(!he||gr>=Xe)?(h.current.rl=!0,lt=fn,De=-De,gt.points=[Oi(Pe,1),Oi(ne,1)]):h.current.rl=!1}if(In&&Pe[1]==="r"&&(et<be.left||h.current.lr)){var Yn=lt;Pn?Yn+=te-J:Yn=bt.x-pt.x-De;var mr=vt(Yn,Ze),Hr=vt(Yn,Ze,Se);mr>Ye||mr===Ye&&(!he||Hr>=Xe)?(h.current.lr=!0,lt=Yn,De=-De,gt.points=[Oi(Pe,1),Oi(ne,1)]):h.current.lr=!1}yt();var Un=Ct===!0?0:Ct;typeof Un=="number"&&(et<Se.left&&(lt-=et-Se.left-De,j.x+J<Se.left+Un&&(lt+=j.x-Se.left+J-Un)),wt>Se.right&&(lt-=wt-Se.right-De,j.x>Se.right-Un&&(lt+=j.x-Se.right+Un)));var Hn=Ot===!0?0:Ot;typeof Hn=="number"&&(Wt<Se.top&&(Ze-=Wt-Se.top-ze,j.y+ee<Se.top+Hn&&(Ze+=j.y-Se.top+ee-Hn)),It>Se.bottom&&(Ze-=It-Se.bottom-ze,j.y>Se.bottom-Hn&&(Ze+=j.y-Se.bottom+Hn)));var $r=z.x+lt,so=$r+te,pr=z.y+Ze,vr=pr+Y,Wr=j.x,Mr=Wr+J,Xn=j.y,Lt=Xn+ee,_t=Math.max($r,Wr),$t=Math.min(so,Mr),St=(_t+$t)/2,xt=St-$r,qe=Math.max(pr,Xn),Je=Math.min(vr,Lt),Qt=(qe+Je)/2,yn=Qt-pr;s==null||s(e,gt);var Qn=ke.right-z.x-(lt+z.width),Jn=ke.bottom-z.y-(Ze+z.height);we===1&&(lt=Math.round(lt),Qn=Math.round(Qn)),le===1&&(Ze=Math.round(Ze),Jn=Math.round(Jn));var Gr={ready:!0,offsetX:lt/we,offsetY:Ze/le,offsetR:Qn/we,offsetB:Jn/le,arrowX:xt/we,arrowY:yn/le,scaleX:we,scaleY:le,align:gt};d(Gr)}}),w=function(){f.current+=1;var b=f.current;Promise.resolve().then(function(){f.current===b&&p()})},v=function(){d(function(b){return W(W({},b),{},{ready:!1})})};return Kt(v,[r]),Kt(function(){t||v()},[t]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,w]}function FF(t,e,n,r,o){Kt(function(){if(t&&e&&n){let f=function(){r(),o()};var i=e,s=n,a=Sg(i),c=Sg(s),u=Fc(s),d=new Set([u].concat(Ee(a),Ee(c)));return d.forEach(function(m){m.addEventListener("scroll",f,{passive:!0})}),u.addEventListener("resize",f,{passive:!0}),r(),function(){d.forEach(function(m){m.removeEventListener("scroll",f),u.removeEventListener("resize",f)})}}},[t,e,n])}function LF(t,e,n,r,o,i,s,a){var c=l.useRef(t);c.current=t,l.useEffect(function(){if(e&&r&&(!o||i)){var u=function(h){var g=h.target;c.current&&!s(g)&&a(!1)},d=Fc(r);d.addEventListener("mousedown",u,!0),d.addEventListener("contextmenu",u,!0);var f=ud(n);return f&&(f.addEventListener("mousedown",u,!0),f.addEventListener("contextmenu",u,!0)),function(){d.removeEventListener("mousedown",u,!0),d.removeEventListener("contextmenu",u,!0),f&&(f.removeEventListener("mousedown",u,!0),f.removeEventListener("contextmenu",u,!0))}}},[e,n,r,o,i])}var BF=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function VF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oc,e=l.forwardRef(function(n,r){var o=n.prefixCls,i=o===void 0?"rc-trigger-popup":o,s=n.children,a=n.action,c=a===void 0?"hover":a,u=n.showAction,d=n.hideAction,f=n.popupVisible,m=n.defaultPopupVisible,h=n.onPopupVisibleChange,g=n.afterPopupVisibleChange,p=n.mouseEnterDelay,w=n.mouseLeaveDelay,v=w===void 0?.1:w,y=n.focusDelay,b=n.blurDelay,C=n.mask,S=n.maskClosable,x=S===void 0?!0:S,I=n.getPopupContainer,E=n.forceRender,_=n.autoDestroy,P=n.destroyPopupOnHide,M=n.popup,T=n.popupClassName,k=n.popupStyle,R=n.popupPlacement,D=n.builtinPlacements,L=D===void 0?{}:D,$=n.popupAlign,j=n.zIndex,U=n.stretch,z=n.getPopupClassNameFromAlign,F=n.fresh,V=n.alignPoint,N=n.onPopupClick,B=n.onPopupAlign,H=n.arrow,Q=n.popupMotion,G=n.maskMotion,Y=n.popupTransitionName,te=n.popupAnimation,ee=n.maskTransitionName,J=n.maskAnimation,se=n.className,ie=n.getTriggerDOMNode,oe=ht(n,BF),ue=_||P||!1,de=l.useState(!1),he=K(de,2),ye=he[0],Se=he[1];Kt(function(){Se(tv())},[]);var Me=l.useRef({}),be=l.useContext(Q0),ke=l.useMemo(function(){return{registerSubPopup:function(Nt,kn){Me.current[Nt]=kn,be==null||be.registerSubPopup(Nt,kn)}}},[be]),we=Rx(),le=l.useState(null),Ce=K(le,2),Ae=Ce[0],Be=Ce[1],Fe=l.useRef(null),De=Gt(function(dt){Fe.current=dt,oc(dt)&&Ae!==dt&&Be(dt),be==null||be.registerSubPopup(we,dt)}),ze=l.useState(null),at=K(ze,2),We=at[0],Re=at[1],me=l.useRef(null),xe=Gt(function(dt){oc(dt)&&We!==dt&&(Re(dt),me.current=dt)}),_e=l.Children.only(s),Ne=(_e==null?void 0:_e.props)||{},He={},ne=Gt(function(dt){var Nt,kn,Zn=We;return(Zn==null?void 0:Zn.contains(dt))||((Nt=ud(Zn))===null||Nt===void 0?void 0:Nt.host)===dt||dt===Zn||(Ae==null?void 0:Ae.contains(dt))||((kn=ud(Ae))===null||kn===void 0?void 0:kn.host)===dt||dt===Ae||Object.values(Me.current).some(function(Rn){return(Rn==null?void 0:Rn.contains(dt))||dt===Rn})}),Pe=Z0(i,Q,te,Y),je=Z0(i,G,J,ee),nt=l.useState(m||!1),gt=K(nt,2),lt=gt[0],Ze=gt[1],Ye=f!=null?f:lt,Xe=Gt(function(dt){f===void 0&&Ze(dt)});Kt(function(){Ze(f||!1)},[f]);var $e=l.useRef(Ye);$e.current=Ye;var pt=l.useRef([]);pt.current=[];var bt=Gt(function(dt){var Nt;Xe(dt),((Nt=pt.current[pt.current.length-1])!==null&&Nt!==void 0?Nt:Ye)!==dt&&(pt.current.push(dt),h==null||h(dt))}),Te=l.useRef(),Le=function(){clearTimeout(Te.current)},Ve=function(Nt){var kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Le(),kn===0?bt(Nt):Te.current=setTimeout(function(){bt(Nt)},kn*1e3)};l.useEffect(function(){return Le},[]);var it=l.useState(!1),Ct=K(it,2),Ot=Ct[0],tn=Ct[1];Kt(function(dt){(!dt||Ye)&&tn(!0)},[Ye]);var Wt=l.useState(null),It=K(Wt,2),et=It[0],wt=It[1],Bt=l.useState([0,0]),Ft=K(Bt,2),nn=Ft[0],xn=Ft[1],Qe=function(Nt){xn([Nt.clientX,Nt.clientY])},rt=$F(Ye,Ae,V?nn:We,R,L,$,B),ft=K(rt,11),qt=ft[0],In=ft[1],Pn=ft[2],fn=ft[3],zn=ft[4],gr=ft[5],Yn=ft[6],mr=ft[7],Hr=ft[8],Un=ft[9],Hn=ft[10],$r=OF(ye,c,u,d),so=K($r,2),pr=so[0],vr=so[1],Wr=pr.has("click"),Mr=vr.has("click")||vr.has("contextMenu"),Xn=Gt(function(){Ot||Hn()}),Lt=function(){$e.current&&V&&Mr&&Ve(!1)};FF(Ye,We,Ae,Xn,Lt),Kt(function(){Xn()},[nn,R]),Kt(function(){Ye&&!(L!=null&&L[R])&&Xn()},[JSON.stringify($)]);var _t=l.useMemo(function(){var dt=DF(L,i,Un,V);return X(dt,z==null?void 0:z(Un))},[Un,z,L,i,V]);l.useImperativeHandle(r,function(){return{nativeElement:me.current,popupElement:Fe.current,forceAlign:Xn}});var $t=l.useState(0),St=K($t,2),xt=St[0],qe=St[1],Je=l.useState(0),Qt=K(Je,2),yn=Qt[0],Qn=Qt[1],Jn=function(){if(U&&We){var Nt=We.getBoundingClientRect();qe(Nt.width),Qn(Nt.height)}},Gr=function(){Jn(),Xn()},vt=function(Nt){tn(!1),Hn(),g==null||g(Nt)},yt=function(){return new Promise(function(Nt){Jn(),wt(function(){return Nt})})};Kt(function(){et&&(Hn(),et(),wt(null))},[et]);function Tt(dt,Nt,kn,Zn){He[dt]=function(Rn){var ou;Zn==null||Zn(Rn),Ve(Nt,kn);for(var hm=arguments.length,gb=new Array(hm>1?hm-1:0),iu=1;iu<hm;iu++)gb[iu-1]=arguments[iu];(ou=Ne[dt])===null||ou===void 0||ou.call.apply(ou,[Ne,Rn].concat(gb))}}(Wr||Mr)&&(He.onClick=function(dt){var Nt;$e.current&&Mr?Ve(!1):!$e.current&&Wr&&(Qe(dt),Ve(!0));for(var kn=arguments.length,Zn=new Array(kn>1?kn-1:0),Rn=1;Rn<kn;Rn++)Zn[Rn-1]=arguments[Rn];(Nt=Ne.onClick)===null||Nt===void 0||Nt.call.apply(Nt,[Ne,dt].concat(Zn))}),LF(Ye,Mr,We,Ae,C,x,ne,Ve);var gn=pr.has("hover"),kr=vr.has("hover"),Ws,ul;gn&&(Tt("onMouseEnter",!0,p,function(dt){Qe(dt)}),Tt("onPointerEnter",!0,p,function(dt){Qe(dt)}),Ws=function(Nt){(Ye||Ot)&&Ae!==null&&Ae!==void 0&&Ae.contains(Nt.target)&&Ve(!0,p)},V&&(He.onMouseMove=function(dt){var Nt;(Nt=Ne.onMouseMove)===null||Nt===void 0||Nt.call(Ne,dt)})),kr&&(Tt("onMouseLeave",!1,v),Tt("onPointerLeave",!1,v),ul=function(){Ve(!1,v)}),pr.has("focus")&&Tt("onFocus",!0,y),vr.has("focus")&&Tt("onBlur",!1,b),pr.has("contextMenu")&&(He.onContextMenu=function(dt){var Nt;$e.current&&vr.has("contextMenu")?Ve(!1):(Qe(dt),Ve(!0)),dt.preventDefault();for(var kn=arguments.length,Zn=new Array(kn>1?kn-1:0),Rn=1;Rn<kn;Rn++)Zn[Rn-1]=arguments[Rn];(Nt=Ne.onContextMenu)===null||Nt===void 0||Nt.call.apply(Nt,[Ne,dt].concat(Zn))}),se&&(He.className=X(Ne.className,se));var dl=W(W({},Ne),He),ru={},um=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];um.forEach(function(dt){oe[dt]&&(ru[dt]=function(){for(var Nt,kn=arguments.length,Zn=new Array(kn),Rn=0;Rn<kn;Rn++)Zn[Rn]=arguments[Rn];(Nt=dl[dt])===null||Nt===void 0||Nt.call.apply(Nt,[dl].concat(Zn)),oe[dt].apply(oe,Zn)})});var dm=l.cloneElement(_e,W(W({},dl),ru)),fm={x:gr,y:Yn},mm=H?W({},H!==!0?H:{}):null;return l.createElement(l.Fragment,null,l.createElement(Lr,{disabled:!Ye,ref:xe,onResize:Gr},l.createElement(TF,{getTriggerDOMNode:ie},dm)),l.createElement(Q0.Provider,{value:ke},l.createElement(RF,{portal:t,ref:De,prefixCls:i,popup:M,className:X(T,_t),style:k,target:We,onMouseEnter:Ws,onMouseLeave:ul,onPointerEnter:Ws,zIndex:j,open:Ye,keepDom:Ot,fresh:F,onClick:N,mask:C,motion:Pe,maskMotion:je,onVisibleChanged:vt,onPrepare:yt,forceRender:E,autoDestroy:ue,getPopupContainer:I,align:Un,arrow:mm,arrowPos:fm,ready:qt,offsetX:In,offsetY:Pn,offsetR:fn,offsetB:zn,onAlign:Xn,stretch:U,targetWidth:xt/mr,targetHeight:yn/Hr})))});return e}const Lc=VF(Oc);var jF=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],zF=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},UF=function(e,n){var r=e.prefixCls;e.disabled;var o=e.visible,i=e.children,s=e.popupElement,a=e.animation,c=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,f=e.direction,m=f===void 0?"ltr":f,h=e.placement,g=e.builtinPlacements,p=e.dropdownMatchSelectWidth,w=e.dropdownRender,v=e.dropdownAlign,y=e.getPopupContainer,b=e.empty,C=e.getTriggerDOMNode,S=e.onPopupVisibleChange,x=e.onPopupMouseEnter,I=ht(e,jF),E="".concat(r,"-dropdown"),_=s;w&&(_=w(s));var P=l.useMemo(function(){return g||zF(p)},[g,p]),M=a?"".concat(E,"-").concat(a):c,T=typeof p=="number",k=l.useMemo(function(){return T?null:p===!1?"minWidth":"width"},[p,T]),R=u;T&&(R=W(W({},R),{},{width:p}));var D=l.useRef(null);return l.useImperativeHandle(n,function(){return{getPopupElement:function(){var $;return($=D.current)===null||$===void 0?void 0:$.popupElement}}}),l.createElement(Lc,pe({},I,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:h||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:E,popupTransitionName:M,popup:l.createElement("div",{onMouseEnter:x},_),ref:D,stretch:k,popupAlign:v,popupVisible:o,getPopupContainer:y,popupClassName:X(d,q({},"".concat(E,"-empty"),b)),popupStyle:R,getTriggerDOMNode:C,onPopupVisibleChange:S}),i)},HF=l.forwardRef(UF);function ow(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n!=null?n:r!==void 0?r:"rc-index-key-".concat(e)}function xg(t){return typeof t<"u"&&!Number.isNaN(t)}function SA(t,e){var n=t||{},r=n.label,o=n.value,i=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:o||"value",options:i||"options",groupLabel:s||a}}function WF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,o=[],i=SA(n,!1),s=i.label,a=i.value,c=i.options,u=i.groupLabel;function d(f,m){Array.isArray(f)&&f.forEach(function(h){if(m||!(c in h)){var g=h[a];o.push({key:ow(h,o.length),groupOption:m,data:h,label:h[s],value:g})}else{var p=h[u];p===void 0&&r&&(p=h.label),o.push({key:ow(h,o.length),group:!0,data:h,label:p}),d(h[c],!0)}})}return d(t,!1),o}function Ag(t){var e=W({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return nr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var GF=function(e,n,r){if(!n||!n.length)return null;var o=!1,i=function a(c,u){var d=j1(u),f=d[0],m=d.slice(1);if(!f)return[c];var h=c.split(f);return o=o||h.length>1,h.reduce(function(g,p){return[].concat(Ee(g),Ee(a(p,m)))},[]).filter(Boolean)},s=i(e,n);return o?typeof r<"u"?s.slice(0,r):s:null},nv=l.createContext(null);function qF(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return l.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(o){var i=o.label,s=o.value;return["number","string"].includes(st(i))?i:s}).join(", ")),n.length>r?", ...":null)}var KF=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],YF=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Eg=function(e){return e==="tags"||e==="multiple"},XF=l.forwardRef(function(t,e){var n,r=t.id,o=t.prefixCls,i=t.className,s=t.showSearch,a=t.tagRender,c=t.direction,u=t.omitDomProps,d=t.displayValues,f=t.onDisplayValuesChange,m=t.emptyOptions,h=t.notFoundContent,g=h===void 0?"Not Found":h,p=t.onClear,w=t.mode,v=t.disabled,y=t.loading,b=t.getInputElement,C=t.getRawInputElement,S=t.open,x=t.defaultOpen,I=t.onDropdownVisibleChange,E=t.activeValue,_=t.onActiveValueChange,P=t.activeDescendantId,M=t.searchValue,T=t.autoClearSearchValue,k=t.onSearch,R=t.onSearchSplit,D=t.tokenSeparators,L=t.allowClear,$=t.suffixIcon,j=t.clearIcon,U=t.OptionList,z=t.animation,F=t.transitionName,V=t.dropdownStyle,N=t.dropdownClassName,B=t.dropdownMatchSelectWidth,H=t.dropdownRender,Q=t.dropdownAlign,G=t.placement,Y=t.builtinPlacements,te=t.getPopupContainer,ee=t.showAction,J=ee===void 0?[]:ee,se=t.onFocus,ie=t.onBlur,oe=t.onKeyUp,ue=t.onKeyDown,de=t.onMouseDown,he=ht(t,KF),ye=Eg(w),Se=(s!==void 0?s:ye)||w==="combobox",Me=W({},he);YF.forEach(function(Lt){delete Me[Lt]}),u==null||u.forEach(function(Lt){delete Me[Lt]});var be=l.useState(!1),ke=K(be,2),we=ke[0],le=ke[1];l.useEffect(function(){le(tv())},[]);var Ce=l.useRef(null),Ae=l.useRef(null),Be=l.useRef(null),Fe=l.useRef(null),De=l.useRef(null),ze=l.useRef(!1),at=rF(),We=K(at,3),Re=We[0],me=We[1],xe=We[2];l.useImperativeHandle(e,function(){var Lt,_t;return{focus:(Lt=Fe.current)===null||Lt===void 0?void 0:Lt.focus,blur:(_t=Fe.current)===null||_t===void 0?void 0:_t.blur,scrollTo:function(St){var xt;return(xt=De.current)===null||xt===void 0?void 0:xt.scrollTo(St)},nativeElement:Ce.current||Ae.current}});var _e=l.useMemo(function(){var Lt;if(w!=="combobox")return M;var _t=(Lt=d[0])===null||Lt===void 0?void 0:Lt.value;return typeof _t=="string"||typeof _t=="number"?String(_t):""},[M,w,d]),Ne=w==="combobox"&&typeof b=="function"&&b()||null,He=typeof C=="function"&&C(),ne=Ii(Ae,He==null||(n=He.props)===null||n===void 0?void 0:n.ref),Pe=l.useState(!1),je=K(Pe,2),nt=je[0],gt=je[1];Kt(function(){gt(!0)},[]);var lt=on(!1,{defaultValue:x,value:S}),Ze=K(lt,2),Ye=Ze[0],Xe=Ze[1],$e=nt?Ye:!1,pt=!g&&m;(v||pt&&$e&&w==="combobox")&&($e=!1);var bt=pt?!1:$e,Te=l.useCallback(function(Lt){var _t=Lt!==void 0?Lt:!$e;v||(Xe(_t),$e!==_t&&(I==null||I(_t)))},[v,$e,Xe,I]),Le=l.useMemo(function(){return(D||[]).some(function(Lt){return["\n","\r\n"].includes(Lt)})},[D]),Ve=l.useContext(nv)||{},it=Ve.maxCount,Ct=Ve.rawValues,Ot=function(_t,$t,St){if(!(ye&&xg(it)&&(Ct==null?void 0:Ct.size)>=it)){var xt=!0,qe=_t;_==null||_(null);var Je=GF(_t,D,xg(it)?it-Ct.size:void 0),Qt=St?null:Je;return w!=="combobox"&&Qt&&(qe="",R==null||R(Qt),Te(!1),xt=!1),k&&_e!==qe&&k(qe,{source:$t?"typing":"effect"}),xt}},tn=function(_t){!_t||!_t.trim()||k(_t,{source:"submit"})};l.useEffect(function(){!$e&&!ye&&w!=="combobox"&&Ot("",!1,!1)},[$e]),l.useEffect(function(){Ye&&v&&Xe(!1),v&&!ze.current&&me(!1)},[v]);var Wt=gA(),It=K(Wt,2),et=It[0],wt=It[1],Bt=l.useRef(!1),Ft=function(_t){var $t=et(),St=_t.key,xt=St==="Enter";if(xt&&(w!=="combobox"&&_t.preventDefault(),$e||Te(!0)),wt(!!_e),St==="Backspace"&&!$t&&ye&&!_e&&d.length){for(var qe=Ee(d),Je=null,Qt=qe.length-1;Qt>=0;Qt-=1){var yn=qe[Qt];if(!yn.disabled){qe.splice(Qt,1),Je=yn;break}}Je&&f(qe,{type:"remove",values:[Je]})}for(var Qn=arguments.length,Jn=new Array(Qn>1?Qn-1:0),Gr=1;Gr<Qn;Gr++)Jn[Gr-1]=arguments[Gr];if($e&&(!xt||!Bt.current)){var vt;(vt=De.current)===null||vt===void 0||vt.onKeyDown.apply(vt,[_t].concat(Jn))}xt&&(Bt.current=!0),ue==null||ue.apply(void 0,[_t].concat(Jn))},nn=function(_t){for(var $t=arguments.length,St=new Array($t>1?$t-1:0),xt=1;xt<$t;xt++)St[xt-1]=arguments[xt];if($e){var qe;(qe=De.current)===null||qe===void 0||qe.onKeyUp.apply(qe,[_t].concat(St))}_t.key==="Enter"&&(Bt.current=!1),oe==null||oe.apply(void 0,[_t].concat(St))},xn=function(_t){var $t=d.filter(function(St){return St!==_t});f($t,{type:"remove",values:[_t]})},Qe=l.useRef(!1),rt=function(){me(!0),v||(se&&!Qe.current&&se.apply(void 0,arguments),J.includes("focus")&&Te(!0)),Qe.current=!0},ft=function(){ze.current=!0,me(!1,function(){Qe.current=!1,ze.current=!1,Te(!1)}),!v&&(_e&&(w==="tags"?k(_e,{source:"submit"}):w==="multiple"&&k("",{source:"blur"})),ie&&ie.apply(void 0,arguments))},qt=[];l.useEffect(function(){return function(){qt.forEach(function(Lt){return clearTimeout(Lt)}),qt.splice(0,qt.length)}},[]);var In=function(_t){var $t,St=_t.target,xt=($t=Be.current)===null||$t===void 0?void 0:$t.getPopupElement();if(xt&&xt.contains(St)){var qe=setTimeout(function(){var Qn=qt.indexOf(qe);if(Qn!==-1&&qt.splice(Qn,1),xe(),!we&&!xt.contains(document.activeElement)){var Jn;(Jn=Fe.current)===null||Jn===void 0||Jn.focus()}});qt.push(qe)}for(var Je=arguments.length,Qt=new Array(Je>1?Je-1:0),yn=1;yn<Je;yn++)Qt[yn-1]=arguments[yn];de==null||de.apply(void 0,[_t].concat(Qt))},Pn=l.useState({}),fn=K(Pn,2),zn=fn[1];function gr(){zn({})}var Yn;He&&(Yn=function(_t){Te(_t)}),oF(function(){var Lt;return[Ce.current,(Lt=Be.current)===null||Lt===void 0?void 0:Lt.getPopupElement()]},bt,Te,!!He);var mr=l.useMemo(function(){return W(W({},t),{},{notFoundContent:g,open:$e,triggerOpen:bt,id:r,showSearch:Se,multiple:ye,toggleOpen:Te})},[t,g,bt,$e,r,Se,ye,Te]),Hr=!!$||y,Un;Hr&&(Un=l.createElement(vf,{className:X("".concat(o,"-arrow"),q({},"".concat(o,"-arrow-loading"),y)),customizeIcon:$,customizeIconProps:{loading:y,searchValue:_e,open:$e,focused:Re,showSearch:Se}}));var Hn=function(){var _t;p==null||p(),(_t=Fe.current)===null||_t===void 0||_t.focus(),f([],{type:"clear",values:d}),Ot("",!1,!1)},$r=tF(o,Hn,d,L,j,v,_e,w),so=$r.allowClear,pr=$r.clearIcon,vr=l.createElement(U,{ref:De}),Wr=X(o,i,q(q(q(q(q(q(q(q(q(q({},"".concat(o,"-focused"),Re),"".concat(o,"-multiple"),ye),"".concat(o,"-single"),!ye),"".concat(o,"-allow-clear"),L),"".concat(o,"-show-arrow"),Hr),"".concat(o,"-disabled"),v),"".concat(o,"-loading"),y),"".concat(o,"-open"),$e),"".concat(o,"-customize-input"),Ne),"".concat(o,"-show-search"),Se)),Mr=l.createElement(HF,{ref:Be,disabled:v,prefixCls:o,visible:bt,popupElement:vr,animation:z,transitionName:F,dropdownStyle:V,dropdownClassName:N,direction:c,dropdownMatchSelectWidth:B,dropdownRender:H,dropdownAlign:Q,placement:G,builtinPlacements:Y,getPopupContainer:te,empty:m,getTriggerDOMNode:function(_t){return Ae.current||_t},onPopupVisibleChange:Yn,onPopupMouseEnter:gr},He?l.cloneElement(He,{ref:ne}):l.createElement(_F,pe({},t,{domRef:Ae,prefixCls:o,inputElement:Ne,ref:Fe,id:r,showSearch:Se,autoClearSearchValue:T,mode:w,activeDescendantId:P,tagRender:a,values:d,open:$e,onToggleOpen:Te,activeValue:E,searchValue:_e,onSearch:Ot,onSearchSubmit:tn,onRemove:xn,tokenWithEnter:Le}))),Xn;return He?Xn=Mr:Xn=l.createElement("div",pe({className:Wr},Me,{ref:Ce,onMouseDown:In,onKeyDown:Ft,onKeyUp:nn,onFocus:rt,onBlur:ft}),l.createElement(qF,{visible:Re&&!$e,values:d}),Mr,Un,so&&pr),l.createElement(hA.Provider,{value:mr},Xn)}),rv=function(){return null};rv.isSelectOptGroup=!0;var ov=function(){return null};ov.isSelectOption=!0;var xA=l.forwardRef(function(t,e){var n=t.height,r=t.offsetY,o=t.offsetX,i=t.children,s=t.prefixCls,a=t.onInnerResize,c=t.innerProps,u=t.rtl,d=t.extra,f={},m={display:"flex",flexDirection:"column"};return r!==void 0&&(f={height:n,position:"relative",overflow:"hidden"},m=W(W({},m),{},q(q(q(q(q({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),l.createElement("div",{style:f},l.createElement(Lr,{onResize:function(g){var p=g.offsetHeight;p&&a&&a()}},l.createElement("div",pe({style:m,className:X(q({},"".concat(s,"-holder-inner"),s)),ref:e},c),i,d)))});xA.displayName="Filler";function QF(t){var e=t.children,n=t.setRef,r=l.useCallback(function(o){n(o)},[]);return l.cloneElement(e,{ref:r})}function JF(t,e,n,r,o,i,s,a){var c=a.getKey;return t.slice(e,n+1).map(function(u,d){var f=e+d,m=s(u,f,{style:{width:r},offsetX:o}),h=c(u);return l.createElement(QF,{key:h,setRef:function(p){return i(u,p)}},m)})}function ZF(t,e,n){var r=t.length,o=e.length,i,s;if(r===0&&o===0)return null;r<o?(i=t,s=e):(i=e,s=t);var a={__EMPTY_ITEM__:!0};function c(g){return g!==void 0?n(g):a}for(var u=null,d=Math.abs(r-o)!==1,f=0;f<s.length;f+=1){var m=c(i[f]),h=c(s[f]);if(m!==h){u=f,d=d||m!==c(s[f+1]);break}}return u===null?null:{index:u,multiple:d}}function e8(t,e,n){var r=l.useState(t),o=K(r,2),i=o[0],s=o[1],a=l.useState(null),c=K(a,2),u=c[0],d=c[1];return l.useEffect(function(){var f=ZF(i||[],t||[],e);(f==null?void 0:f.index)!==void 0&&(n==null||n(f.index),d(t[f.index])),s(t)},[t]),[u]}var iw=(typeof navigator>"u"?"undefined":st(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const AA=function(t,e,n,r){var o=l.useRef(!1),i=l.useRef(null);function s(){clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)}var a=l.useRef({top:t,bottom:e,left:n,right:r});return a.current.top=t,a.current.bottom=e,a.current.left=n,a.current.right=r,function(c,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=c?u<0&&a.current.left||u>0&&a.current.right:u<0&&a.current.top||u>0&&a.current.bottom;return d&&f?(clearTimeout(i.current),o.current=!1):(!f||o.current)&&s(),!o.current&&f}};function t8(t,e,n,r,o,i,s){var a=l.useRef(0),c=l.useRef(null),u=l.useRef(null),d=l.useRef(!1),f=AA(e,n,r,o);function m(y,b){zt.cancel(c.current),a.current+=b,u.current=b,!f(!1,b)&&(iw||y.preventDefault(),c.current=zt(function(){var C=d.current?10:1;s(a.current*C),a.current=0}))}function h(y,b){s(b,!0),iw||y.preventDefault()}var g=l.useRef(null),p=l.useRef(null);function w(y){if(t){zt.cancel(p.current),p.current=zt(function(){g.current=null},2);var b=y.deltaX,C=y.deltaY,S=y.shiftKey,x=b,I=C;(g.current==="sx"||!g.current&&S&&C&&!b)&&(x=C,I=0,g.current="sx");var E=Math.abs(x),_=Math.abs(I);g.current===null&&(g.current=i&&E>_?"x":"y"),g.current==="y"?m(y,I):h(y,x)}}function v(y){t&&(d.current=y.detail===u.current)}return[w,v]}function n8(t,e,n,r){var o=l.useMemo(function(){return[new Map,[]]},[t,n.id,r]),i=K(o,2),s=i[0],a=i[1],c=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,m=s.get(d),h=s.get(f);if(m===void 0||h===void 0)for(var g=t.length,p=a.length;p<g;p+=1){var w,v=t[p],y=e(v);s.set(y,p);var b=(w=n.get(y))!==null&&w!==void 0?w:r;if(a[p]=(a[p-1]||0)+b,y===d&&(m=p),y===f&&(h=p),m!==void 0&&h!==void 0)break}return{top:a[m-1]||0,bottom:a[h]}};return c}var r8=function(){function t(){Vn(this,t),q(this,"maps",void 0),q(this,"id",0),this.maps=Object.create(null)}return jn(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function o8(t,e,n){var r=l.useState(0),o=K(r,2),i=o[0],s=o[1],a=l.useRef(new Map),c=l.useRef(new r8),u=l.useRef();function d(){zt.cancel(u.current)}function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;d();var g=function(){a.current.forEach(function(w,v){if(w&&w.offsetParent){var y=Bl(w),b=y.offsetHeight;c.current.get(v)!==b&&c.current.set(v,y.offsetHeight)}}),s(function(w){return w+1})};h?g():u.current=zt(g)}function m(h,g){var p=t(h),w=a.current.get(p);g?(a.current.set(p,g),f()):a.current.delete(p),!w!=!g&&(g?e==null||e(h):n==null||n(h))}return l.useEffect(function(){return d},[]),[m,f,c.current,i]}var sw=14/15;function i8(t,e,n){var r=l.useRef(!1),o=l.useRef(0),i=l.useRef(0),s=l.useRef(null),a=l.useRef(null),c,u=function(h){if(r.current){var g=Math.ceil(h.touches[0].pageX),p=Math.ceil(h.touches[0].pageY),w=o.current-g,v=i.current-p,y=Math.abs(w)>Math.abs(v);y?o.current=g:i.current=p,n(y,y?w:v)&&h.preventDefault(),clearInterval(a.current),a.current=setInterval(function(){y?w*=sw:v*=sw;var b=Math.floor(y?w:v);(!n(y,b,!0)||Math.abs(b)<=.1)&&clearInterval(a.current)},16)}},d=function(){r.current=!1,c()},f=function(h){c(),h.touches.length===1&&!r.current&&(r.current=!0,o.current=Math.ceil(h.touches[0].pageX),i.current=Math.ceil(h.touches[0].pageY),s.current=h.target,s.current.addEventListener("touchmove",u,{passive:!1}),s.current.addEventListener("touchend",d,{passive:!0}))};c=function(){s.current&&(s.current.removeEventListener("touchmove",u),s.current.removeEventListener("touchend",d))},Kt(function(){return t&&e.current.addEventListener("touchstart",f,{passive:!0}),function(){var m;(m=e.current)===null||m===void 0||m.removeEventListener("touchstart",f),c(),clearInterval(a.current)}},[t])}var s8=10;function a8(t,e,n,r,o,i,s,a){var c=l.useRef(),u=l.useState(null),d=K(u,2),f=d[0],m=d[1];return Kt(function(){if(f&&f.times<s8){if(!t.current){m(function(U){return W({},U)});return}i();var h=f.targetAlign,g=f.originAlign,p=f.index,w=f.offset,v=t.current.clientHeight,y=!1,b=h,C=null;if(v){for(var S=h||g,x=0,I=0,E=0,_=Math.min(e.length-1,p),P=0;P<=_;P+=1){var M=o(e[P]);I=x;var T=n.get(M);E=I+(T===void 0?r:T),x=E}for(var k=S==="top"?w:v-w,R=_;R>=0;R-=1){var D=o(e[R]),L=n.get(D);if(L===void 0){y=!0;break}if(k-=L,k<=0)break}switch(S){case"top":C=I-w;break;case"bottom":C=E-v+w;break;default:{var $=t.current.scrollTop,j=$+v;I<$?b="top":E>j&&(b="bottom")}}C!==null&&s(C),C!==f.lastTop&&(y=!0)}y&&m(W(W({},f),{},{times:f.times+1,targetAlign:b,lastTop:C}))}},[f,t.current]),function(h){if(h==null){a();return}if(zt.cancel(c.current),typeof h=="number")s(h);else if(h&&st(h)==="object"){var g,p=h.align;"index"in h?g=h.index:g=e.findIndex(function(y){return o(y)===h.key});var w=h.offset,v=w===void 0?0:w;m({times:0,index:g,offset:v,originAlign:p})}}}function aw(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var lw=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,o=t.scrollOffset,i=t.scrollRange,s=t.onStartMove,a=t.onStopMove,c=t.onScroll,u=t.horizontal,d=t.spinSize,f=t.containerSize,m=t.style,h=t.thumbStyle,g=l.useState(!1),p=K(g,2),w=p[0],v=p[1],y=l.useState(null),b=K(y,2),C=b[0],S=b[1],x=l.useState(null),I=K(x,2),E=I[0],_=I[1],P=!r,M=l.useRef(),T=l.useRef(),k=l.useState(!1),R=K(k,2),D=R[0],L=R[1],$=l.useRef(),j=function(){clearTimeout($.current),L(!0),$.current=setTimeout(function(){L(!1)},3e3)},U=i-f||0,z=f-d||0,F=l.useMemo(function(){if(o===0||U===0)return 0;var ee=o/U;return ee*z},[o,U,z]),V=function(J){J.stopPropagation(),J.preventDefault()},N=l.useRef({top:F,dragging:w,pageY:C,startTop:E});N.current={top:F,dragging:w,pageY:C,startTop:E};var B=function(J){v(!0),S(aw(J,u)),_(N.current.top),s(),J.stopPropagation(),J.preventDefault()};l.useEffect(function(){var ee=function(oe){oe.preventDefault()},J=M.current,se=T.current;return J.addEventListener("touchstart",ee,{passive:!1}),se.addEventListener("touchstart",B,{passive:!1}),function(){J.removeEventListener("touchstart",ee),se.removeEventListener("touchstart",B)}},[]);var H=l.useRef();H.current=U;var Q=l.useRef();Q.current=z,l.useEffect(function(){if(w){var ee,J=function(oe){var ue=N.current,de=ue.dragging,he=ue.pageY,ye=ue.startTop;zt.cancel(ee);var Se=M.current.getBoundingClientRect(),Me=f/(u?Se.width:Se.height);if(de){var be=(aw(oe,u)-he)*Me,ke=ye;!P&&u?ke-=be:ke+=be;var we=H.current,le=Q.current,Ce=le?ke/le:0,Ae=Math.ceil(Ce*we);Ae=Math.max(Ae,0),Ae=Math.min(Ae,we),ee=zt(function(){c(Ae,u)})}},se=function(){v(!1),a()};return window.addEventListener("mousemove",J,{passive:!0}),window.addEventListener("touchmove",J,{passive:!0}),window.addEventListener("mouseup",se,{passive:!0}),window.addEventListener("touchend",se,{passive:!0}),function(){window.removeEventListener("mousemove",J),window.removeEventListener("touchmove",J),window.removeEventListener("mouseup",se),window.removeEventListener("touchend",se),zt.cancel(ee)}}},[w]),l.useEffect(function(){return j(),function(){clearTimeout($.current)}},[o]),l.useImperativeHandle(e,function(){return{delayHidden:j}});var G="".concat(n,"-scrollbar"),Y={position:"absolute",visibility:D?null:"hidden"},te={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(Y.height=8,Y.left=0,Y.right=0,Y.bottom=0,te.height="100%",te.width=d,P?te.left=F:te.right=F):(Y.width=8,Y.top=0,Y.bottom=0,P?Y.right=0:Y.left=0,te.width="100%",te.height=d,te.top=F),l.createElement("div",{ref:M,className:X(G,q(q(q({},"".concat(G,"-horizontal"),u),"".concat(G,"-vertical"),!u),"".concat(G,"-visible"),D)),style:W(W({},Y),m),onMouseDown:V,onMouseMove:j},l.createElement("div",{ref:T,className:X("".concat(G,"-thumb"),q({},"".concat(G,"-thumb-moving"),w)),style:W(W({},te),h),onMouseDown:B}))}),l8=20;function cw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,l8),Math.floor(n)}var c8=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],u8=[],d8={overflowY:"auto",overflowAnchor:"none"};function f8(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,o=t.className,i=t.height,s=t.itemHeight,a=t.fullHeight,c=a===void 0?!0:a,u=t.style,d=t.data,f=t.children,m=t.itemKey,h=t.virtual,g=t.direction,p=t.scrollWidth,w=t.component,v=w===void 0?"div":w,y=t.onScroll,b=t.onVirtualScroll,C=t.onVisibleChange,S=t.innerProps,x=t.extraRender,I=t.styles,E=ht(t,c8),_=l.useCallback(function(Qe){return typeof m=="function"?m(Qe):Qe==null?void 0:Qe[m]},[m]),P=o8(_,null,null),M=K(P,4),T=M[0],k=M[1],R=M[2],D=M[3],L=!!(h!==!1&&i&&s),$=l.useMemo(function(){return Object.values(R.maps).reduce(function(Qe,rt){return Qe+rt},0)},[R.id,R.maps]),j=L&&d&&(Math.max(s*d.length,$)>i||!!p),U=g==="rtl",z=X(r,q({},"".concat(r,"-rtl"),U),o),F=d||u8,V=l.useRef(),N=l.useRef(),B=l.useRef(),H=l.useState(0),Q=K(H,2),G=Q[0],Y=Q[1],te=l.useState(0),ee=K(te,2),J=ee[0],se=ee[1],ie=l.useState(!1),oe=K(ie,2),ue=oe[0],de=oe[1],he=function(){de(!0)},ye=function(){de(!1)},Se={getKey:_};function Me(Qe){Y(function(rt){var ft;typeof Qe=="function"?ft=Qe(rt):ft=Qe;var qt=nt(ft);return V.current.scrollTop=qt,qt})}var be=l.useRef({start:0,end:F.length}),ke=l.useRef(),we=e8(F,_),le=K(we,1),Ce=le[0];ke.current=Ce;var Ae=l.useMemo(function(){if(!L)return{scrollHeight:void 0,start:0,end:F.length-1,offset:void 0};if(!j){var Qe;return{scrollHeight:((Qe=N.current)===null||Qe===void 0?void 0:Qe.offsetHeight)||0,start:0,end:F.length-1,offset:void 0}}for(var rt=0,ft,qt,In,Pn=F.length,fn=0;fn<Pn;fn+=1){var zn=F[fn],gr=_(zn),Yn=R.get(gr),mr=rt+(Yn===void 0?s:Yn);mr>=G&&ft===void 0&&(ft=fn,qt=rt),mr>G+i&&In===void 0&&(In=fn),rt=mr}return ft===void 0&&(ft=0,qt=0,In=Math.ceil(i/s)),In===void 0&&(In=F.length-1),In=Math.min(In+1,F.length-1),{scrollHeight:rt,start:ft,end:In,offset:qt}},[j,L,G,F,D,i]),Be=Ae.scrollHeight,Fe=Ae.start,De=Ae.end,ze=Ae.offset;be.current.start=Fe,be.current.end=De;var at=l.useState({width:0,height:i}),We=K(at,2),Re=We[0],me=We[1],xe=function(rt){me({width:rt.offsetWidth,height:rt.offsetHeight})},_e=l.useRef(),Ne=l.useRef(),He=l.useMemo(function(){return cw(Re.width,p)},[Re.width,p]),ne=l.useMemo(function(){return cw(Re.height,Be)},[Re.height,Be]),Pe=Be-i,je=l.useRef(Pe);je.current=Pe;function nt(Qe){var rt=Qe;return Number.isNaN(je.current)||(rt=Math.min(rt,je.current)),rt=Math.max(rt,0),rt}var gt=G<=0,lt=G>=Pe,Ze=J<=0,Ye=J>=p,Xe=AA(gt,lt,Ze,Ye),$e=function(){return{x:U?-J:J,y:G}},pt=l.useRef($e()),bt=Gt(function(Qe){if(b){var rt=W(W({},$e()),Qe);(pt.current.x!==rt.x||pt.current.y!==rt.y)&&(b(rt),pt.current=rt)}});function Te(Qe,rt){var ft=Qe;rt?(Wi.flushSync(function(){se(ft)}),bt()):Me(ft)}function Le(Qe){var rt=Qe.currentTarget.scrollTop;rt!==G&&Me(rt),y==null||y(Qe),bt()}var Ve=function(rt){var ft=rt,qt=p?p-Re.width:0;return ft=Math.max(ft,0),ft=Math.min(ft,qt),ft},it=Gt(function(Qe,rt){rt?(Wi.flushSync(function(){se(function(ft){var qt=ft+(U?-Qe:Qe);return Ve(qt)})}),bt()):Me(function(ft){var qt=ft+Qe;return qt})}),Ct=t8(L,gt,lt,Ze,Ye,!!p,it),Ot=K(Ct,2),tn=Ot[0],Wt=Ot[1];i8(L,V,function(Qe,rt,ft){return Xe(Qe,rt,ft)?!1:(tn({preventDefault:function(){},deltaX:Qe?rt:0,deltaY:Qe?0:rt}),!0)}),Kt(function(){function Qe(ft){L&&ft.preventDefault()}var rt=V.current;return rt.addEventListener("wheel",tn,{passive:!1}),rt.addEventListener("DOMMouseScroll",Wt,{passive:!0}),rt.addEventListener("MozMousePixelScroll",Qe,{passive:!1}),function(){rt.removeEventListener("wheel",tn),rt.removeEventListener("DOMMouseScroll",Wt),rt.removeEventListener("MozMousePixelScroll",Qe)}},[L]),Kt(function(){if(p){var Qe=Ve(J);se(Qe),bt({x:Qe})}},[Re.width,p]);var It=function(){var rt,ft;(rt=_e.current)===null||rt===void 0||rt.delayHidden(),(ft=Ne.current)===null||ft===void 0||ft.delayHidden()},et=a8(V,F,R,s,_,function(){return k(!0)},Me,It);l.useImperativeHandle(e,function(){return{nativeElement:B.current,getScrollInfo:$e,scrollTo:function(rt){function ft(qt){return qt&&st(qt)==="object"&&("left"in qt||"top"in qt)}ft(rt)?(rt.left!==void 0&&se(Ve(rt.left)),et(rt.top)):et(rt)}}}),Kt(function(){if(C){var Qe=F.slice(Fe,De+1);C(Qe,F)}},[Fe,De,F]);var wt=n8(F,_,R,s),Bt=x==null?void 0:x({start:Fe,end:De,virtual:j,offsetX:J,offsetY:ze,rtl:U,getSize:wt}),Ft=JF(F,Fe,De,p,J,T,f,Se),nn=null;i&&(nn=W(q({},c?"height":"maxHeight",i),d8),L&&(nn.overflowY="hidden",p&&(nn.overflowX="hidden"),ue&&(nn.pointerEvents="none")));var xn={};return U&&(xn.dir="rtl"),l.createElement("div",pe({ref:B,style:W(W({},u),{},{position:"relative"}),className:z},xn,E),l.createElement(Lr,{onResize:xe},l.createElement(v,{className:"".concat(r,"-holder"),style:nn,ref:V,onScroll:Le,onMouseEnter:It},l.createElement(xA,{prefixCls:r,height:Be,offsetX:J,offsetY:ze,scrollWidth:p,onInnerResize:k,ref:N,innerProps:S,rtl:U,extra:Bt},Ft))),j&&Be>i&&l.createElement(lw,{ref:_e,prefixCls:r,scrollOffset:G,scrollRange:Be,rtl:U,onScroll:Te,onStartMove:he,onStopMove:ye,spinSize:ne,containerSize:Re.height,style:I==null?void 0:I.verticalScrollBar,thumbStyle:I==null?void 0:I.verticalScrollBarThumb}),j&&p>Re.width&&l.createElement(lw,{ref:Ne,prefixCls:r,scrollOffset:J,scrollRange:p,rtl:U,onScroll:Te,onStartMove:he,onStopMove:ye,spinSize:He,containerSize:Re.width,horizontal:!0,style:I==null?void 0:I.horizontalScrollBar,thumbStyle:I==null?void 0:I.horizontalScrollBarThumb}))}var EA=l.forwardRef(f8);EA.displayName="List";function m8(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var h8=["disabled","title","children","style","className"];function uw(t){return typeof t=="string"||typeof t=="number"}var g8=function(e,n){var r=nF(),o=r.prefixCls,i=r.id,s=r.open,a=r.multiple,c=r.mode,u=r.searchValue,d=r.toggleOpen,f=r.notFoundContent,m=r.onPopupScroll,h=l.useContext(nv),g=h.maxCount,p=h.flattenOptions,w=h.onActiveValue,v=h.defaultActiveFirstOption,y=h.onSelect,b=h.menuItemSelectedIcon,C=h.rawValues,S=h.fieldNames,x=h.virtual,I=h.direction,E=h.listHeight,_=h.listItemHeight,P=h.optionRender,M="".concat(o,"-item"),T=_c(function(){return p},[s,p],function(ee,J){return J[0]&&ee[1]!==J[1]}),k=l.useRef(null),R=l.useMemo(function(){return a&&xg(g)&&(C==null?void 0:C.size)>=g},[a,g,C==null?void 0:C.size]),D=function(J){J.preventDefault()},L=function(J){var se;(se=k.current)===null||se===void 0||se.scrollTo(typeof J=="number"?{index:J}:J)},$=function(J){for(var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ie=T.length,oe=0;oe<ie;oe+=1){var ue=(J+oe*se+ie)%ie,de=T[ue]||{},he=de.group,ye=de.data;if(!he&&!(ye!=null&&ye.disabled)&&!R)return ue}return-1},j=l.useState(function(){return $(0)}),U=K(j,2),z=U[0],F=U[1],V=function(J){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;F(J);var ie={source:se?"keyboard":"mouse"},oe=T[J];if(!oe){w(null,-1,ie);return}w(oe.value,J,ie)};l.useEffect(function(){V(v!==!1?$(0):-1)},[T.length,u]);var N=l.useCallback(function(ee){return C.has(ee)&&c!=="combobox"},[c,Ee(C).toString(),C.size]);l.useEffect(function(){var ee=setTimeout(function(){if(!a&&s&&C.size===1){var se=Array.from(C)[0],ie=T.findIndex(function(oe){var ue=oe.data;return ue.value===se});ie!==-1&&(V(ie),L(ie))}});if(s){var J;(J=k.current)===null||J===void 0||J.scrollTo(void 0)}return function(){return clearTimeout(ee)}},[s,u]);var B=function(J){J!==void 0&&y(J,{selected:!C.has(J)}),a||d(!1)};if(l.useImperativeHandle(n,function(){return{onKeyDown:function(J){var se=J.which,ie=J.ctrlKey;switch(se){case Ie.N:case Ie.P:case Ie.UP:case Ie.DOWN:{var oe=0;if(se===Ie.UP?oe=-1:se===Ie.DOWN?oe=1:m8()&&ie&&(se===Ie.N?oe=1:se===Ie.P&&(oe=-1)),oe!==0){var ue=$(z+oe,oe);L(ue),V(ue,!0)}break}case Ie.ENTER:{var de,he=T[z];he&&!(he!=null&&(de=he.data)!==null&&de!==void 0&&de.disabled)&&!R?B(he.value):B(void 0),s&&J.preventDefault();break}case Ie.ESC:d(!1),s&&J.stopPropagation()}},onKeyUp:function(){},scrollTo:function(J){L(J)}}}),T.length===0)return l.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(M,"-empty"),onMouseDown:D},f);var H=Object.keys(S).map(function(ee){return S[ee]}),Q=function(J){return J.label};function G(ee,J){var se=ee.group;return{role:se?"presentation":"option",id:"".concat(i,"_list_").concat(J)}}var Y=function(J){var se=T[J];if(!se)return null;var ie=se.data||{},oe=ie.value,ue=se.group,de=cr(ie,!0),he=Q(se);return se?l.createElement("div",pe({"aria-label":typeof he=="string"&&!ue?he:null},de,{key:J},G(se,J),{"aria-selected":N(oe)}),oe):null},te={role:"listbox",id:"".concat(i,"_list")};return l.createElement(l.Fragment,null,x&&l.createElement("div",pe({},te,{style:{height:0,width:0,overflow:"hidden"}}),Y(z-1),Y(z),Y(z+1)),l.createElement(EA,{itemKey:"key",ref:k,data:T,height:E,itemHeight:_,fullHeight:!1,onMouseDown:D,onScroll:m,virtual:x,direction:I,innerProps:x?null:te},function(ee,J){var se=ee.group,ie=ee.groupOption,oe=ee.data,ue=ee.label,de=ee.value,he=oe.key;if(se){var ye,Se=(ye=oe.title)!==null&&ye!==void 0?ye:uw(ue)?ue.toString():void 0;return l.createElement("div",{className:X(M,"".concat(M,"-group"),oe.className),title:Se},ue!==void 0?ue:he)}var Me=oe.disabled,be=oe.title;oe.children;var ke=oe.style,we=oe.className,le=ht(oe,h8),Ce=Nn(le,H),Ae=N(de),Be=Me||!Ae&&R,Fe="".concat(M,"-option"),De=X(M,Fe,we,q(q(q(q({},"".concat(Fe,"-grouped"),ie),"".concat(Fe,"-active"),z===J&&!Be),"".concat(Fe,"-disabled"),Be),"".concat(Fe,"-selected"),Ae)),ze=Q(ee),at=!b||typeof b=="function"||Ae,We=typeof ze=="number"?ze:ze||de,Re=uw(We)?We.toString():void 0;return be!==void 0&&(Re=be),l.createElement("div",pe({},cr(Ce),x?{}:G(ee,J),{"aria-selected":Ae,className:De,title:Re,onMouseMove:function(){z===J||Be||V(J)},onClick:function(){Be||B(de)},style:ke}),l.createElement("div",{className:"".concat(Fe,"-content")},typeof P=="function"?P(ee,{index:J}):We),l.isValidElement(b)||Ae,at&&l.createElement(vf,{className:"".concat(M,"-option-state"),customizeIcon:b,customizeIconProps:{value:de,disabled:Be,isSelected:Ae}},Ae?"✓":null))}))},p8=l.forwardRef(g8);const v8=function(t,e){var n=l.useRef({values:new Map,options:new Map}),r=l.useMemo(function(){var i=n.current,s=i.values,a=i.options,c=t.map(function(f){if(f.label===void 0){var m;return W(W({},f),{},{label:(m=s.get(f.value))===null||m===void 0?void 0:m.label})}return f}),u=new Map,d=new Map;return c.forEach(function(f){u.set(f.value,f),d.set(f.value,e.get(f.value)||a.get(f.value))}),n.current.values=u,n.current.options=d,c},[t,e]),o=l.useCallback(function(i){return e.get(i)||n.current.options.get(i)},[e]);return[r,o]};function $m(t,e){return yA(t).join("").toUpperCase().includes(e)}const b8=function(t,e,n,r,o){return l.useMemo(function(){if(!n||r===!1)return t;var i=e.options,s=e.label,a=e.value,c=[],u=typeof r=="function",d=n.toUpperCase(),f=u?r:function(h,g){return o?$m(g[o],d):g[i]?$m(g[s!=="children"?s:"label"],d):$m(g[a],d)},m=u?function(h){return Ag(h)}:function(h){return h};return t.forEach(function(h){if(h[i]){var g=f(n,m(h));if(g)c.push(h);else{var p=h[i].filter(function(w){return f(n,m(w))});p.length&&c.push(W(W({},h),{},q({},i,p)))}return}f(n,m(h))&&c.push(h)}),c},[t,r,o,n,e])};var dw=0,w8=Er();function y8(){var t;return w8?(t=dw,dw+=1):t="TEST_OR_SSR",t}function C8(t){var e=l.useState(),n=K(e,2),r=n[0],o=n[1];return l.useEffect(function(){o("rc_select_".concat(y8()))},[]),t||r}var S8=["children","value"],x8=["children"];function A8(t){var e=t,n=e.key,r=e.props,o=r.children,i=r.value,s=ht(r,S8);return W({key:n,value:i!==void 0?i:n,children:o},s)}function IA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Nr(t).map(function(n,r){if(!l.isValidElement(n)||!n.type)return null;var o=n,i=o.type.isSelectOptGroup,s=o.key,a=o.props,c=a.children,u=ht(a,x8);return e||!i?A8(n):W(W({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},u),{},{options:IA(c)})}).filter(function(n){return n})}var E8=function(e,n,r,o,i){return l.useMemo(function(){var s=e,a=!e;a&&(s=IA(n));var c=new Map,u=new Map,d=function(h,g,p){p&&typeof p=="string"&&h.set(g[p],g)},f=function m(h){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=0;p<h.length;p+=1){var w=h[p];!w[r.options]||g?(c.set(w[r.value],w),d(u,w,r.label),d(u,w,o),d(u,w,i)):m(w[r.options],!0)}};return f(s),{options:s,valueOptions:c,labelOptions:u}},[e,n,r,o,i])};function fw(t){var e=l.useRef();e.current=t;var n=l.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var I8=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],_8=["inputValue"];function P8(t){return!t||st(t)!=="object"}var M8=l.forwardRef(function(t,e){var n=t.id,r=t.mode,o=t.prefixCls,i=o===void 0?"rc-select":o,s=t.backfill,a=t.fieldNames,c=t.inputValue,u=t.searchValue,d=t.onSearch,f=t.autoClearSearchValue,m=f===void 0?!0:f,h=t.onSelect,g=t.onDeselect,p=t.dropdownMatchSelectWidth,w=p===void 0?!0:p,v=t.filterOption,y=t.filterSort,b=t.optionFilterProp,C=t.optionLabelProp,S=t.options,x=t.optionRender,I=t.children,E=t.defaultActiveFirstOption,_=t.menuItemSelectedIcon,P=t.virtual,M=t.direction,T=t.listHeight,k=T===void 0?200:T,R=t.listItemHeight,D=R===void 0?20:R,L=t.labelRender,$=t.value,j=t.defaultValue,U=t.labelInValue,z=t.onChange,F=t.maxCount,V=ht(t,I8),N=C8(n),B=Eg(r),H=!!(!S&&I),Q=l.useMemo(function(){return v===void 0&&r==="combobox"?!1:v},[v,r]),G=l.useMemo(function(){return SA(a,H)},[JSON.stringify(a),H]),Y=on("",{value:u!==void 0?u:c,postState:function(Le){return Le||""}}),te=K(Y,2),ee=te[0],J=te[1],se=E8(S,I,G,b,C),ie=se.valueOptions,oe=se.labelOptions,ue=se.options,de=l.useCallback(function(Te){var Le=yA(Te);return Le.map(function(Ve){var it,Ct,Ot,tn,Wt;if(P8(Ve))it=Ve;else{var It;Ot=Ve.key,Ct=Ve.label,it=(It=Ve.value)!==null&&It!==void 0?It:Ot}var et=ie.get(it);if(et){var wt;Ct===void 0&&(Ct=et==null?void 0:et[C||G.label]),Ot===void 0&&(Ot=(wt=et==null?void 0:et.key)!==null&&wt!==void 0?wt:it),tn=et==null?void 0:et.disabled,Wt=et==null?void 0:et.title}return{label:Ct,value:it,key:Ot,disabled:tn,title:Wt}})},[G,C,ie]),he=on(j,{value:$}),ye=K(he,2),Se=ye[0],Me=ye[1],be=l.useMemo(function(){var Te,Le=B&&Se===null?[]:Se,Ve=de(Le);return r==="combobox"&&CF((Te=Ve[0])===null||Te===void 0?void 0:Te.value)?[]:Ve},[Se,de,r,B]),ke=v8(be,ie),we=K(ke,2),le=we[0],Ce=we[1],Ae=l.useMemo(function(){if(!r&&le.length===1){var Te=le[0];if(Te.value===null&&(Te.label===null||Te.label===void 0))return[]}return le.map(function(Le){var Ve;return W(W({},Le),{},{label:(Ve=typeof L=="function"?L(Le):Le.label)!==null&&Ve!==void 0?Ve:Le.value})})},[r,le,L]),Be=l.useMemo(function(){return new Set(le.map(function(Te){return Te.value}))},[le]);l.useEffect(function(){if(r==="combobox"){var Te,Le=(Te=le[0])===null||Te===void 0?void 0:Te.value;J(yF(Le)?String(Le):"")}},[le]);var Fe=fw(function(Te,Le){var Ve=Le!=null?Le:Te;return q(q({},G.value,Te),G.label,Ve)}),De=l.useMemo(function(){if(r!=="tags")return ue;var Te=Ee(ue),Le=function(it){return ie.has(it)};return Ee(le).sort(function(Ve,it){return Ve.value<it.value?-1:1}).forEach(function(Ve){var it=Ve.value;Le(it)||Te.push(Fe(it,Ve.label))}),Te},[Fe,ue,ie,le,r]),ze=b8(De,G,ee,Q,b),at=l.useMemo(function(){return r!=="tags"||!ee||ze.some(function(Te){return Te[b||"value"]===ee})||ze.some(function(Te){return Te[G.value]===ee})?ze:[Fe(ee)].concat(Ee(ze))},[Fe,b,r,ze,ee,G]),We=l.useMemo(function(){return y?Ee(at).sort(function(Te,Le){return y(Te,Le,{searchValue:ee})}):at},[at,y,ee]),Re=l.useMemo(function(){return WF(We,{fieldNames:G,childrenAsData:H})},[We,G,H]),me=function(Le){var Ve=de(Le);if(Me(Ve),z&&(Ve.length!==le.length||Ve.some(function(Ot,tn){var Wt;return((Wt=le[tn])===null||Wt===void 0?void 0:Wt.value)!==(Ot==null?void 0:Ot.value)}))){var it=U?Ve:Ve.map(function(Ot){return Ot.value}),Ct=Ve.map(function(Ot){return Ag(Ce(Ot.value))});z(B?it:it[0],B?Ct:Ct[0])}},xe=l.useState(null),_e=K(xe,2),Ne=_e[0],He=_e[1],ne=l.useState(0),Pe=K(ne,2),je=Pe[0],nt=Pe[1],gt=E!==void 0?E:r!=="combobox",lt=l.useCallback(function(Te,Le){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=Ve.source,Ct=it===void 0?"keyboard":it;nt(Le),s&&r==="combobox"&&Te!==null&&Ct==="keyboard"&&He(String(Te))},[s,r]),Ze=function(Le,Ve,it){var Ct=function(){var xn,Qe=Ce(Le);return[U?{label:Qe==null?void 0:Qe[G.label],value:Le,key:(xn=Qe==null?void 0:Qe.key)!==null&&xn!==void 0?xn:Le}:Le,Ag(Qe)]};if(Ve&&h){var Ot=Ct(),tn=K(Ot,2),Wt=tn[0],It=tn[1];h(Wt,It)}else if(!Ve&&g&&it!=="clear"){var et=Ct(),wt=K(et,2),Bt=wt[0],Ft=wt[1];g(Bt,Ft)}},Ye=fw(function(Te,Le){var Ve,it=B?Le.selected:!0;it?Ve=B?[].concat(Ee(le),[Te]):[Te]:Ve=le.filter(function(Ct){return Ct.value!==Te}),me(Ve),Ze(Te,it),r==="combobox"?He(""):(!Eg||m)&&(J(""),He(""))}),Xe=function(Le,Ve){me(Le);var it=Ve.type,Ct=Ve.values;(it==="remove"||it==="clear")&&Ct.forEach(function(Ot){Ze(Ot.value,!1,it)})},$e=function(Le,Ve){if(J(Le),He(null),Ve.source==="submit"){var it=(Le||"").trim();if(it){var Ct=Array.from(new Set([].concat(Ee(Be),[it])));me(Ct),Ze(it,!0),J("")}return}Ve.source!=="blur"&&(r==="combobox"&&me(Le),d==null||d(Le))},pt=function(Le){var Ve=Le;r!=="tags"&&(Ve=Le.map(function(Ct){var Ot=oe.get(Ct);return Ot==null?void 0:Ot.value}).filter(function(Ct){return Ct!==void 0}));var it=Array.from(new Set([].concat(Ee(Be),Ee(Ve))));me(it),it.forEach(function(Ct){Ze(Ct,!0)})},bt=l.useMemo(function(){var Te=P!==!1&&w!==!1;return W(W({},se),{},{flattenOptions:Re,onActiveValue:lt,defaultActiveFirstOption:gt,onSelect:Ye,menuItemSelectedIcon:_,rawValues:Be,fieldNames:G,virtual:Te,direction:M,listHeight:k,listItemHeight:D,childrenAsData:H,maxCount:F,optionRender:x})},[F,se,Re,lt,gt,Ye,_,Be,G,P,w,M,k,D,H,x]);return l.createElement(nv.Provider,{value:bt},l.createElement(XF,pe({},V,{id:N,prefixCls:i,ref:e,omitDomProps:_8,mode:r,displayValues:Ae,onDisplayValuesChange:Xe,direction:M,searchValue:ee,onSearch:$e,autoClearSearchValue:m,onSearchSplit:pt,dropdownMatchSelectWidth:w,OptionList:p8,emptyOptions:!Re.length,activeValue:Ne,activeDescendantId:"".concat(N,"_list_").concat(je)})))}),iv=M8;iv.Option=ov;iv.OptGroup=rv;function Pa(t,e,n){return X({["".concat(t,"-status-success")]:e==="success",["".concat(t,"-status-warning")]:e==="warning",["".concat(t,"-status-error")]:e==="error",["".concat(t,"-status-validating")]:e==="validating",["".concat(t,"-has-feedback")]:n})}const Ga=(t,e)=>e||t,k8=()=>{const[,t]=Dr(),n=new rn(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return l.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"empty image"),l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(24 31.67)"},l.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),l.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),l.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),l.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),l.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),l.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),l.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},l.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),l.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},R8=k8,T8=()=>{const[,t]=Dr(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:o}=t,{borderColor:i,shadowColor:s,contentColor:a}=l.useMemo(()=>({borderColor:new rn(e).onBackground(o).toHexShortString(),shadowColor:new rn(n).onBackground(o).toHexShortString(),contentColor:new rn(r).onBackground(o).toHexShortString()}),[e,n,r,o]);return l.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"Simple Empty"),l.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},l.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),l.createElement("g",{fillRule:"nonzero",stroke:i},l.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),l.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:a}))))},O8=T8,N8=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:i,lineHeight:s,textAlign:"center",["".concat(e,"-image")]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(e,"-description")]:{color:t.colorTextDescription},["".concat(e,"-footer")]:{marginTop:n},"&-normal":{marginBlock:o,color:t.colorTextDescription,["".concat(e,"-description")]:{color:t.colorTextDescription},["".concat(e,"-image")]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,["".concat(e,"-image")]:{height:t.emptyImgHeightSM}}}}},D8=Jt("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,o=Dt(t,{emptyImgCls:"".concat(e,"-img"),emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[N8(o)]});var $8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const _A=l.createElement(R8,null),PA=l.createElement(O8,null),sv=t=>{var{className:e,rootClassName:n,prefixCls:r,image:o=_A,description:i,children:s,imageStyle:a,style:c}=t,u=$8(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:d,direction:f,empty:m}=l.useContext(Ge),h=d("empty",r),[g,p,w]=D8(h),[v]=es("Empty"),y=typeof i<"u"?i:v==null?void 0:v.description,b=typeof y=="string"?y:"empty";let C=null;return typeof o=="string"?C=l.createElement("img",{alt:b,src:o}):C=o,g(l.createElement("div",Object.assign({className:X(p,w,h,m==null?void 0:m.className,{["".concat(h,"-normal")]:o===PA,["".concat(h,"-rtl")]:f==="rtl"},e,n),style:Object.assign(Object.assign({},m==null?void 0:m.style),c)},u),l.createElement("div",{className:"".concat(h,"-image"),style:a},C),y&&l.createElement("div",{className:"".concat(h,"-description")},y),s&&l.createElement("div",{className:"".concat(h,"-footer")},s)))};sv.PRESENTED_IMAGE_DEFAULT=_A;sv.PRESENTED_IMAGE_SIMPLE=PA;const sr=sv,F8=t=>{const{componentName:e}=t,{getPrefixCls:n}=l.useContext(Ge),r=n("empty");switch(e){case"Table":case"List":return fe.createElement(sr,{image:sr.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return fe.createElement(sr,{image:sr.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});case"Table.filter":return null;default:return fe.createElement(sr,null)}},L8=F8,B8=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,o;const{variant:i,[t]:s}=l.useContext(Ge),a=l.useContext(Ux),c=s==null?void 0:s.variant;let u;typeof e<"u"?u=e:n===!1?u="borderless":u=(o=(r=a!=null?a:c)!==null&&r!==void 0?r:i)!==null&&o!==void 0?o:"outlined";const d=uN.includes(u);return[u,d]},Bc=B8,V8=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function j8(t,e){return t||V8(e)}const mw=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:o}=t;return{position:"relative",display:"block",minHeight:e,padding:o,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},z8=t=>{const{antCls:e,componentCls:n}=t,r="".concat(n,"-item"),o="&".concat(e,"-slide-up-enter").concat(e,"-slide-up-enter-active"),i="&".concat(e,"-slide-up-appear").concat(e,"-slide-up-appear-active"),s="&".concat(e,"-slide-up-leave").concat(e,"-slide-up-leave-active"),a="".concat(n,"-dropdown-placement-");return[{["".concat(n,"-dropdown")]:Object.assign(Object.assign({},cn(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,["\n          ".concat(o).concat(a,"bottomLeft,\n          ").concat(i).concat(a,"bottomLeft\n        ")]:{animationName:ff},["\n          ".concat(o).concat(a,"topLeft,\n          ").concat(i).concat(a,"topLeft,\n          ").concat(o).concat(a,"topRight,\n          ").concat(i).concat(a,"topRight\n        ")]:{animationName:hf},["".concat(s).concat(a,"bottomLeft")]:{animationName:mf},["\n          ".concat(s).concat(a,"topLeft,\n          ").concat(s).concat(a,"topRight\n        ")]:{animationName:gf},"&-hidden":{display:"none"},["".concat(r)]:Object.assign(Object.assign({},mw(t)),{cursor:"pointer",transition:"background ".concat(t.motionDurationSlow," ease"),borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Ci),"&-state":{flex:"none",display:"flex",alignItems:"center"},["&-active:not(".concat(r,"-option-disabled)")]:{backgroundColor:t.optionActiveBg},["&-selected:not(".concat(r,"-option-disabled)")]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,["".concat(r,"-option-state")]:{color:t.colorPrimary},["&:has(+ ".concat(r,"-option-selected:not(").concat(r,"-option-disabled))")]:{borderEndStartRadius:0,borderEndEndRadius:0,["& + ".concat(r,"-option-selected:not(").concat(r,"-option-disabled)")]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{["&".concat(r,"-option-selected")]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},mw(t)),{color:t.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Jo(t,"slide-up"),Jo(t,"slide-down"),_a(t,"move-up"),_a(t,"move-down")]},U8=z8,MA=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:o}=t,i=t.max(t.calc(n).sub(r).equal(),0),s=t.max(t.calc(i).sub(o).equal(),0);return{basePadding:i,containerPadding:s,itemHeight:re(e),itemLineHeight:re(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},H8=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},kA=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:o,paddingXS:i,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:a,colorIcon:c,colorIconHover:u,INTERNAL_FIXED_ITEM_MARGIN:d}=t;return{["".concat(e,"-selection-overflow")]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},["".concat(e,"-selection-item")]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:d,borderRadius:r,cursor:"default",transition:"font-size ".concat(o,", line-height ").concat(o,", height ").concat(o),marginInlineEnd:t.calc(d).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:t.calc(i).div(2).equal(),["".concat(e,"-disabled&")]:{color:s,borderColor:a,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},tf()),{display:"inline-flex",alignItems:"center",color:c,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",["> ".concat(n)]:{verticalAlign:"-0.2em"},"&:hover":{color:u}})}}}},W8=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,o="".concat(n,"-selection-overflow"),i=t.multipleSelectItemHeight,s=H8(t),a=e?"".concat(n,"-").concat(e):"",c=MA(t);return{["".concat(n,"-multiple").concat(a)]:Object.assign(Object.assign({},kA(t)),{["".concat(n,"-selector")]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:c.basePadding,paddingBlock:c.containerPadding,borderRadius:t.borderRadius,["".concat(n,"-disabled&")]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"".concat(re(r)," 0"),lineHeight:re(i),visibility:"hidden",content:'"\\a0"'}},["".concat(n,"-selection-item")]:{height:c.itemHeight,lineHeight:re(c.itemLineHeight)},["".concat(o,"-item + ").concat(o,"-item")]:{["".concat(n,"-selection-search")]:{marginInlineStart:0}},["".concat(o,"-item-suffix")]:{height:"100%"},["".concat(n,"-selection-search")]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:t.fontFamily,lineHeight:re(i),transition:"all ".concat(t.motionDurationSlow)},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},["".concat(n,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(t.motionDurationSlow)}})}};function Fm(t,e){const{componentCls:n}=t,r=e?"".concat(n,"-").concat(e):"",o={["".concat(n,"-multiple").concat(r)]:{fontSize:t.fontSize,["".concat(n,"-selector")]:{["".concat(n,"-show-search&")]:{cursor:"text"}},["\n        &".concat(n,"-show-arrow ").concat(n,"-selector,\n        &").concat(n,"-allow-clear ").concat(n,"-selector\n      ")]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[W8(t,e),o]}const G8=t=>{const{componentCls:e}=t,n=Dt(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Dt(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[Fm(t),Fm(n,"sm"),{["".concat(e,"-multiple").concat(e,"-sm")]:{["".concat(e,"-selection-placeholder")]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},["".concat(e,"-selection-search")]:{marginInlineStart:2}}},Fm(r,"lg")]},q8=G8;function Lm(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=t,i=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=e?"".concat(n,"-").concat(e):"";return{["".concat(n,"-single").concat(s)]:{fontSize:t.fontSize,height:t.controlHeight,["".concat(n,"-selector")]:Object.assign(Object.assign({},cn(t,!0)),{display:"flex",borderRadius:o,["".concat(n,"-selection-search")]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},["\n          ".concat(n,"-selection-item,\n          ").concat(n,"-selection-placeholder\n        ")]:{padding:0,lineHeight:re(i),transition:"all ".concat(t.motionDurationSlow,", visibility 0s"),alignSelf:"center"},["".concat(n,"-selection-placeholder")]:{transition:"none",pointerEvents:"none"},[["&:after","".concat(n,"-selection-item:empty:after"),"".concat(n,"-selection-placeholder:empty:after")].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),["\n        &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n        &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n      ")]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},["&".concat(n,"-open ").concat(n,"-selection-item")]:{color:t.colorTextPlaceholder},["&:not(".concat(n,"-customize-input)")]:{["".concat(n,"-selector")]:{width:"100%",height:"100%",padding:"0 ".concat(re(r)),["".concat(n,"-selection-search-input")]:{height:i},"&:after":{lineHeight:re(i)}}},["&".concat(n,"-customize-input")]:{["".concat(n,"-selector")]:{"&:after":{display:"none"},["".concat(n,"-selection-search")]:{position:"static",width:"100%"},["".concat(n,"-selection-placeholder")]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(re(r)),"&:after":{display:"none"}}}}}}}function K8(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[Lm(t),Lm(Dt(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{["".concat(e,"-single").concat(e,"-sm")]:{["&:not(".concat(e,"-customize-input)")]:{["".concat(e,"-selection-search")]:{insetInlineStart:n,insetInlineEnd:n},["".concat(e,"-selector")]:{padding:"0 ".concat(re(n))},["&".concat(e,"-show-arrow ").concat(e,"-selection-search")]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},["\n            &".concat(e,"-show-arrow ").concat(e,"-selection-item,\n            &").concat(e,"-show-arrow ").concat(e,"-selection-placeholder\n          ")]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},Lm(Dt(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const Y8=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:o,controlHeightSM:i,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:c,zIndexPopupBase:u,colorText:d,fontWeightStrong:f,controlItemBgActive:m,controlItemBgHover:h,colorBgContainer:g,colorFillSecondary:p,colorBgContainerDisabled:w,colorTextDisabled:v}=t,y=a*2,b=r*2,C=Math.min(o-y,o-b),S=Math.min(i-y,i-b),x=Math.min(s-y,s-b);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),zIndexPopup:u+50,optionSelectedColor:d,optionSelectedFontWeight:f,optionSelectedBg:m,optionActiveBg:h,optionPadding:"".concat((o-e*n)/2,"px ").concat(c,"px"),optionFontSize:e,optionLineHeight:n,optionHeight:o,selectorBg:g,clearBg:g,singleItemHeightLG:s,multipleItemBg:p,multipleItemBorderColor:"transparent",multipleItemHeight:C,multipleItemHeightSM:S,multipleItemHeightLG:x,multipleSelectorBgDisabled:w,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25)}},RA=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:o}=t;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(e.borderColor),background:t.selectorBg},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(r,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{borderColor:e.hoverBorderHover},["".concat(n,"-focused& ").concat(n,"-selector")]:{borderColor:e.activeBorderColor,boxShadow:"0 0 0 ".concat(re(o)," ").concat(e.activeShadowColor),outline:0}}}},hw=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status)]:Object.assign({},RA(t,e))}),X8=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},RA(t,{borderColor:t.colorBorder,hoverBorderHover:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadowColor:t.controlOutline})),hw(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeShadowColor:t.colorErrorOutline})),hw(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeShadowColor:t.colorWarningOutline})),{["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)}})}),TA=(t,e)=>{const{componentCls:n,antCls:r}=t;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{background:e.bg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," transparent"),color:e.color},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(r,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{background:e.hoverBg},["".concat(n,"-focused& ").concat(n,"-selector")]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},gw=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status)]:Object.assign({},TA(t,e))}),Q8=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},TA(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.colorPrimary,color:t.colorText})),gw(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),gw(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.colorBgContainer,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)}})}),J8=t=>({"&-borderless":{["".concat(t.componentCls,"-selector")]:{background:"transparent",borderColor:"transparent"},["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)},["&".concat(t.componentCls,"-status-error")]:{["".concat(t.componentCls,"-selection-item")]:{color:t.colorError}},["&".concat(t.componentCls,"-status-warning")]:{["".concat(t.componentCls,"-selection-item")]:{color:t.colorWarning}}}}),Z8=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign({},X8(t)),Q8(t)),J8(t))}),eL=Z8,tL=t=>{const{componentCls:e}=t;return{position:"relative",transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut),input:{cursor:"pointer"},["".concat(e,"-show-search&")]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},["".concat(e,"-disabled&")]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},nL=t=>{const{componentCls:e}=t;return{["".concat(e,"-selection-search-input")]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},rL=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=t;return{[n]:Object.assign(Object.assign({},cn(t)),{position:"relative",display:"inline-block",cursor:"pointer",["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:Object.assign(Object.assign({},tL(t)),nL(t)),["".concat(n,"-selection-item")]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Ci),{["> ".concat(e,"-typography")]:{display:"inline"}}),["".concat(n,"-selection-placeholder")]:Object.assign(Object.assign({},Ci),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),["".concat(n,"-arrow")]:Object.assign(Object.assign({},tf()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:"opacity ".concat(t.motionDurationSlow," ease"),[o]:{verticalAlign:"top",transition:"transform ".concat(t.motionDurationSlow),"> svg":{verticalAlign:"top"},["&:not(".concat(n,"-suffix)")]:{pointerEvents:"auto"}},["".concat(n,"-disabled &")]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),["".concat(n,"-clear")]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:"color ".concat(t.motionDurationMid," ease, opacity ").concat(t.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{["".concat(n,"-clear")]:{opacity:1},["".concat(n,"-arrow:not(:last-child)")]:{opacity:0}}}),["".concat(n,"-has-feedback")]:{["".concat(n,"-clear")]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}},oL=t=>{const{componentCls:e}=t;return[{[e]:{["&".concat(e,"-in-form-item")]:{width:"100%"}}},rL(t),K8(t),q8(t),U8(t),{["".concat(e,"-rtl")]:{direction:"rtl"}},lf(t,{borderElCls:"".concat(e,"-selector"),focusElCls:"".concat(e,"-focused")})]},iL=Jt("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=Dt(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[oL(r),eL(r)]},Y8,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var sL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const aL=sL;var lL=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:aL}))},cL=l.forwardRef(lL);const Ds=cL;var uL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const dL=uL;var fL=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:dL}))},mL=l.forwardRef(fL);const bf=mL;var hL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const gL=hL;var pL=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:gL}))},vL=l.forwardRef(pL);const qa=vL;function OA(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:o,loading:i,multiple:s,hasFeedback:a,prefixCls:c,showSuffixIcon:u,feedbackIcon:d,showArrow:f,componentName:m}=t;const h=n!=null?n:l.createElement(ts,null),g=y=>e===null&&!a&&!f?null:l.createElement(l.Fragment,null,u!==!1&&y,a&&d);let p=null;if(e!==void 0)p=g(e);else if(i)p=g(l.createElement(Si,{spin:!0}));else{const y="".concat(c,"-suffix");p=b=>{let{open:C,showSearch:S}=b;return g(C&&S?l.createElement(qa,{className:y}):l.createElement(bf,{className:y}))}}let w=null;r!==void 0?w=r:s?w=l.createElement(Ds,null):w=null;let v=null;return o!==void 0?v=o:v=l.createElement(fr,null),{clearIcon:h,suffixIcon:p,itemIcon:w,removeIcon:v}}function bL(t,e){return e!==void 0?e:t!==null}var wL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const NA="SECRET_COMBOBOX_MODE_DO_NOT_USE",yL=(t,e)=>{var n;const{prefixCls:r,bordered:o,className:i,rootClassName:s,getPopupContainer:a,popupClassName:c,dropdownClassName:u,listHeight:d=256,placement:f,listItemHeight:m,size:h,disabled:g,notFoundContent:p,status:w,builtinPlacements:v,dropdownMatchSelectWidth:y,popupMatchSelectWidth:b,direction:C,style:S,allowClear:x,variant:I,dropdownStyle:E,transitionName:_,tagRender:P,maxCount:M}=t,T=wL(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:k,getPrefixCls:R,renderEmpty:D,direction:L,virtual:$,popupMatchSelectWidth:j,popupOverflow:U,select:z}=l.useContext(Ge),[,F]=Dr(),V=m!=null?m:F==null?void 0:F.controlHeight,N=R("select",r),B=R(),H=C!=null?C:L,{compactSize:Q,compactItemClassnames:G}=Ns(N,H),[Y,te]=Bc("select",I,o),ee=Dn(N),[J,se,ie]=iL(N,ee),oe=l.useMemo(()=>{const{mode:Ne}=t;if(Ne!=="combobox")return Ne===NA?"combobox":Ne},[t.mode]),ue=oe==="multiple"||oe==="tags",de=bL(t.suffixIcon,t.showArrow),he=(n=b!=null?b:y)!==null&&n!==void 0?n:j,{status:ye,hasFeedback:Se,isFormItemInput:Me,feedbackIcon:be}=l.useContext(_r),ke=Ga(ye,w);let we;p!==void 0?we=p:oe==="combobox"?we=null:we=(D==null?void 0:D("Select"))||l.createElement(L8,{componentName:"Select"});const{suffixIcon:le,itemIcon:Ce,removeIcon:Ae,clearIcon:Be}=OA(Object.assign(Object.assign({},T),{multiple:ue,hasFeedback:Se,feedbackIcon:be,showSuffixIcon:de,prefixCls:N,componentName:"Select"})),Fe=x===!0?{clearIcon:Be}:x,De=Nn(T,["suffixIcon","itemIcon"]),ze=X(c||u,{["".concat(N,"-dropdown-").concat(H)]:H==="rtl"},s,ie,ee,se),at=io(Ne=>{var He;return(He=h!=null?h:Q)!==null&&He!==void 0?He:Ne}),We=l.useContext(Vo),Re=g!=null?g:We,me=X({["".concat(N,"-lg")]:at==="large",["".concat(N,"-sm")]:at==="small",["".concat(N,"-rtl")]:H==="rtl",["".concat(N,"-").concat(Y)]:te,["".concat(N,"-in-form-item")]:Me},Pa(N,ke,Se),G,z==null?void 0:z.className,i,s,ie,ee,se),xe=l.useMemo(()=>f!==void 0?f:H==="rtl"?"bottomRight":"bottomLeft",[f,H]),[_e]=ti("SelectLike",E==null?void 0:E.zIndex);return J(l.createElement(iv,Object.assign({ref:e,virtual:$,showSearch:z==null?void 0:z.showSearch},De,{style:Object.assign(Object.assign({},z==null?void 0:z.style),S),dropdownMatchSelectWidth:he,transitionName:jr(B,"slide-up",_),builtinPlacements:j8(v,U),listHeight:d,listItemHeight:V,mode:oe,prefixCls:N,placement:xe,direction:H,suffixIcon:le,menuItemSelectedIcon:Ce,removeIcon:Ae,allowClear:Fe,notFoundContent:we,className:me,getPopupContainer:a||k,dropdownClassName:ze,disabled:Re,dropdownStyle:Object.assign(Object.assign({},E),{zIndex:_e}),maxCount:ue?M:void 0,tagRender:ue?P:void 0})))},Ka=l.forwardRef(yL),CL=pf(Ka);Ka.SECRET_COMBOBOX_MODE_DO_NOT_USE=NA;Ka.Option=ov;Ka.OptGroup=rv;Ka._InternalPanelDoNotUseOrYouWillBeFired=CL;const hu=Ka,Ma=["xxl","xl","lg","md","sm","xs"],SL=t=>({xs:"(max-width: ".concat(t.screenXSMax,"px)"),sm:"(min-width: ".concat(t.screenSM,"px)"),md:"(min-width: ".concat(t.screenMD,"px)"),lg:"(min-width: ".concat(t.screenLG,"px)"),xl:"(min-width: ".concat(t.screenXL,"px)"),xxl:"(min-width: ".concat(t.screenXXL,"px)")}),xL=t=>{const e=t,n=[].concat(Ma).reverse();return n.forEach((r,o)=>{const i=r.toUpperCase(),s="screen".concat(i,"Min"),a="screen".concat(i);if(!(e[s]<=e[a]))throw new Error("".concat(s,"<=").concat(a," fails : !(").concat(e[s],"<=").concat(e[a],")"));if(o<n.length-1){const c="screen".concat(i,"Max");if(!(e[a]<=e[c]))throw new Error("".concat(a,"<=").concat(c," fails : !(").concat(e[a],"<=").concat(e[c],")"));const u=n[o+1].toUpperCase(),d="screen".concat(u,"Min");if(!(e[c]<=e[d]))throw new Error("".concat(c,"<=").concat(d," fails : !(").concat(e[c],"<=").concat(e[d],")"))}}),t};function DA(){const[,t]=Dr(),e=SL(xL(t));return fe.useMemo(()=>{const n=new Map;let r=-1,o={};return{matchHandlers:{},dispatch(i){return o=i,n.forEach(s=>s(o)),n.size>=1},subscribe(i){return n.size||this.register(),r+=1,n.set(r,i),i(o),r},unsubscribe(i){n.delete(i),n.size||this.unregister()},unregister(){Object.keys(e).forEach(i=>{const s=e[i],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()},register(){Object.keys(e).forEach(i=>{const s=e[i],a=u=>{let{matches:d}=u;this.dispatch(Object.assign(Object.assign({},o),{[i]:d}))},c=window.matchMedia(s);c.addListener(a),this.matchHandlers[s]={mql:c,listener:a},a(c)})},responsiveMap:e}},[t])}function $A(){const[,t]=l.useReducer(e=>e+1,0);return t}function AL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=l.useRef({}),n=$A(),r=DA();return Kt(()=>{const o=r.subscribe(i=>{e.current=i,t&&n()});return()=>r.unsubscribe(o)},[]),e.current}const EL=l.createContext({}),Ig=EL,IL=t=>{const{antCls:e,componentCls:n,iconCls:r,avatarBg:o,avatarColor:i,containerSize:s,containerSizeLG:a,containerSizeSM:c,textFontSize:u,textFontSizeLG:d,textFontSizeSM:f,borderRadius:m,borderRadiusLG:h,borderRadiusSM:g,lineWidth:p,lineType:w}=t,v=(y,b,C)=>({width:y,height:y,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:C},["&".concat(n,"-icon")]:{fontSize:b,["> ".concat(r)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:"".concat(re(p)," ").concat(w," transparent"),"&-image":{background:"transparent"},["".concat(e,"-image-img")]:{display:"block"}}),v(s,u,m)),{"&-lg":Object.assign({},v(a,d,h)),"&-sm":Object.assign({},v(c,f,g)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},_L=t=>{const{componentCls:e,groupBorderColor:n,groupOverlapping:r,groupSpace:o}=t;return{["".concat(e,"-group")]:{display:"inline-flex",["".concat(e)]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},["".concat(e,"-group-popover")]:{["".concat(e," + ").concat(e)]:{marginInlineStart:o}}}},PL=t=>{const{controlHeight:e,controlHeightLG:n,controlHeightSM:r,fontSize:o,fontSizeLG:i,fontSizeXL:s,fontSizeHeading3:a,marginXS:c,marginXXS:u,colorBorderBg:d}=t;return{containerSize:e,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((i+s)/2),textFontSizeLG:a,textFontSizeSM:o,groupSpace:u,groupOverlapping:-c,groupBorderColor:d}},FA=Jt("Avatar",t=>{const{colorTextLightSolid:e,colorTextPlaceholder:n}=t,r=Dt(t,{avatarBg:n,avatarColor:e});return[IL(r),_L(r)]},PL);var ML=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const kL=(t,e)=>{const[n,r]=l.useState(1),[o,i]=l.useState(!1),[s,a]=l.useState(!0),c=l.useRef(null),u=l.useRef(null),d=oo(e,c),{getPrefixCls:f,avatar:m}=l.useContext(Ge),h=l.useContext(Ig),g=()=>{if(!u.current||!c.current)return;const Y=u.current.offsetWidth,te=c.current.offsetWidth;if(Y!==0&&te!==0){const{gap:ee=4}=t;ee*2<te&&r(te-ee*2<Y?(te-ee*2)/Y:1)}};l.useEffect(()=>{i(!0)},[]),l.useEffect(()=>{a(!0),r(1)},[t.src]),l.useEffect(g,[t.gap]);const p=()=>{const{onError:Y}=t;(Y==null?void 0:Y())!==!1&&a(!1)},{prefixCls:w,shape:v,size:y,src:b,srcSet:C,icon:S,className:x,rootClassName:I,alt:E,draggable:_,children:P,crossOrigin:M}=t,T=ML(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),k=io(Y=>{var te,ee;return(ee=(te=y!=null?y:h==null?void 0:h.size)!==null&&te!==void 0?te:Y)!==null&&ee!==void 0?ee:"default"}),R=Object.keys(typeof k=="object"?k||{}:{}).some(Y=>["xs","sm","md","lg","xl","xxl"].includes(Y)),D=AL(R),L=l.useMemo(()=>{if(typeof k!="object")return{};const Y=Ma.find(ee=>D[ee]),te=k[Y];return te?{width:te,height:te,fontSize:te&&(S||P)?te/2:18}:{}},[D,k]),$=f("avatar",w),j=Dn($),[U,z,F]=FA($,j),V=X({["".concat($,"-lg")]:k==="large",["".concat($,"-sm")]:k==="small"}),N=l.isValidElement(b),B=v||(h==null?void 0:h.shape)||"circle",H=X($,V,m==null?void 0:m.className,"".concat($,"-").concat(B),{["".concat($,"-image")]:N||b&&s,["".concat($,"-icon")]:!!S},F,j,x,I,z),Q=typeof k=="number"?{width:k,height:k,fontSize:S?k/2:18}:{};let G;if(typeof b=="string"&&s)G=l.createElement("img",{src:b,draggable:_,srcSet:C,onError:p,alt:E,crossOrigin:M});else if(N)G=b;else if(S)G=S;else if(o||n!==1){const Y="scale(".concat(n,")"),te={msTransform:Y,WebkitTransform:Y,transform:Y};G=l.createElement(Lr,{onResize:g},l.createElement("span",{className:"".concat($,"-string"),ref:u,style:Object.assign({},te)},P))}else G=l.createElement("span",{className:"".concat($,"-string"),style:{opacity:0},ref:u},P);return delete T.onError,delete T.gap,U(l.createElement("span",Object.assign({},T,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Q),L),m==null?void 0:m.style),T.style),className:H,ref:d}),G))},RL=l.forwardRef(kL),LA=RL,pd=t=>t?typeof t=="function"?t():t:null;function av(t){var e=t.children,n=t.prefixCls,r=t.id,o=t.overlayInnerStyle,i=t.className,s=t.style;return l.createElement("div",{className:X("".concat(n,"-content"),i),style:s},l.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:o},typeof e=="function"?e():e))}var Qs={shiftX:64,adjustY:1},Js={adjustX:1,shiftY:!0},lo=[0,0],TL={left:{points:["cr","cl"],overflow:Js,offset:[-4,0],targetOffset:lo},right:{points:["cl","cr"],overflow:Js,offset:[4,0],targetOffset:lo},top:{points:["bc","tc"],overflow:Qs,offset:[0,-4],targetOffset:lo},bottom:{points:["tc","bc"],overflow:Qs,offset:[0,4],targetOffset:lo},topLeft:{points:["bl","tl"],overflow:Qs,offset:[0,-4],targetOffset:lo},leftTop:{points:["tr","tl"],overflow:Js,offset:[-4,0],targetOffset:lo},topRight:{points:["br","tr"],overflow:Qs,offset:[0,-4],targetOffset:lo},rightTop:{points:["tl","tr"],overflow:Js,offset:[4,0],targetOffset:lo},bottomRight:{points:["tr","br"],overflow:Qs,offset:[0,4],targetOffset:lo},rightBottom:{points:["bl","br"],overflow:Js,offset:[4,0],targetOffset:lo},bottomLeft:{points:["tl","bl"],overflow:Qs,offset:[0,4],targetOffset:lo},leftBottom:{points:["br","bl"],overflow:Js,offset:[-4,0],targetOffset:lo}},OL=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],NL=function(e,n){var r=e.overlayClassName,o=e.trigger,i=o===void 0?["hover"]:o,s=e.mouseEnterDelay,a=s===void 0?0:s,c=e.mouseLeaveDelay,u=c===void 0?.1:c,d=e.overlayStyle,f=e.prefixCls,m=f===void 0?"rc-tooltip":f,h=e.children,g=e.onVisibleChange,p=e.afterVisibleChange,w=e.transitionName,v=e.animation,y=e.motion,b=e.placement,C=b===void 0?"right":b,S=e.align,x=S===void 0?{}:S,I=e.destroyTooltipOnHide,E=I===void 0?!1:I,_=e.defaultVisible,P=e.getTooltipContainer,M=e.overlayInnerStyle;e.arrowContent;var T=e.overlay,k=e.id,R=e.showArrow,D=R===void 0?!0:R,L=ht(e,OL),$=l.useRef(null);l.useImperativeHandle(n,function(){return $.current});var j=W({},L);"visible"in e&&(j.popupVisible=e.visible);var U=function(){return l.createElement(av,{key:"content",prefixCls:m,id:k,overlayInnerStyle:M},T)};return l.createElement(Lc,pe({popupClassName:r,prefixCls:m,popup:U,action:i,builtinPlacements:TL,popupPlacement:C,ref:$,popupAlign:x,getPopupContainer:P,onPopupVisibleChange:g,afterPopupVisibleChange:p,popupTransitionName:w,popupAnimation:v,popupMotion:y,defaultPopupVisible:_,autoDestroy:E,mouseLeaveDelay:u,popupStyle:d,mouseEnterDelay:a,arrow:D},j),h)};const DL=l.forwardRef(NL);function wf(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,o=e/2,i=0,s=o,a=r*1/Math.sqrt(2),c=o-r*(1-1/Math.sqrt(2)),u=o-n*(1/Math.sqrt(2)),d=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),f=2*o-u,m=d,h=2*o-a,g=c,p=2*o-i,w=s,v=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),y=r*(Math.sqrt(2)-1),b="polygon(".concat(y,"px 100%, 50% ").concat(y,"px, ").concat(2*o-y,"px 100%, ").concat(y,"px 100%)"),C="path('M ".concat(i," ").concat(s," A ").concat(r," ").concat(r," 0 0 0 ").concat(a," ").concat(c," L ").concat(u," ").concat(d," A ").concat(n," ").concat(n," 0 0 1 ").concat(f," ").concat(m," L ").concat(h," ").concat(g," A ").concat(r," ").concat(r," 0 0 0 ").concat(p," ").concat(w," Z')");return{arrowShadowWidth:v,arrowPath:C,arrowPolygon:b}}const BA=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:o,arrowPath:i,arrowShadowWidth:s,borderRadiusXS:a,calc:c}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:c(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(re(a)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},VA=8;function yf(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?VA:r}}function gu(t,e){return t?e:{}}function lv(t,e,n){const{componentCls:r,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:s}=t,{arrowDistance:a=0,arrowPlacement:c={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(r,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},BA(t,e,o)),{"&:before":{background:e}})]},gu(!!c.top,{[["&-placement-top > ".concat(r,"-arrow"),"&-placement-topLeft > ".concat(r,"-arrow"),"&-placement-topRight > ".concat(r,"-arrow")].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,["> ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":"calc(100% - ".concat(re(s),")"),["> ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:s}}}})),gu(!!c.bottom,{[["&-placement-bottom > ".concat(r,"-arrow"),"&-placement-bottomLeft > ".concat(r,"-arrow"),"&-placement-bottomRight > ".concat(r,"-arrow")].join(",")]:{top:a,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,["> ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":"calc(100% - ".concat(re(s),")"),["> ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:s}}}})),gu(!!c.left,{[["&-placement-left > ".concat(r,"-arrow"),"&-placement-leftTop > ".concat(r,"-arrow"),"&-placement-leftBottom > ".concat(r,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(r,"-arrow")]:{top:i},["&-placement-leftBottom > ".concat(r,"-arrow")]:{bottom:i}})),gu(!!c.right,{[["&-placement-right > ".concat(r,"-arrow"),"&-placement-rightTop > ".concat(r,"-arrow"),"&-placement-rightBottom > ".concat(r,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(r,"-arrow")]:{top:i},["&-placement-rightBottom > ".concat(r,"-arrow")]:{bottom:i}}))}}function $L(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const o=r&&typeof r=="object"?r:{},i={};switch(t){case"top":case"bottom":i.shiftX=e.arrowOffsetHorizontal*2+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=e.arrowOffsetVertical*2+n,i.shiftX=!0,i.adjustX=!0;break}const s=Object.assign(Object.assign({},i),o);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const pw={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},FL={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},LL=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function jA(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:o,borderRadius:i,visibleFirst:s}=t,a=e/2,c={};return Object.keys(pw).forEach(u=>{const d=r&&FL[u]||pw[u],f=Object.assign(Object.assign({},d),{offset:[0,0],dynamicInset:!0});switch(c[u]=f,LL.has(u)&&(f.autoArrow=!1),u){case"top":case"topLeft":case"topRight":f.offset[1]=-a-o;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=a+o;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-a-o;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=a+o;break}const m=yf({contentRadius:i,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":f.offset[0]=-m.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":f.offset[0]=m.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":f.offset[1]=-m.arrowOffsetHorizontal-a;break;case"leftBottom":case"rightBottom":f.offset[1]=m.arrowOffsetHorizontal+a;break}f.overflow=$L(u,m,e,n),s&&(f.htmlRegion="visibleFirst")}),c}const BL=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:o,tooltipBorderRadius:i,zIndexPopup:s,controlHeight:a,boxShadowSecondary:c,paddingSM:u,paddingXS:d}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,["".concat(e,"-inner")]:{minWidth:"1em",minHeight:a,padding:"".concat(re(t.calc(u).div(2).equal())," ").concat(re(d)),color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:i,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(e,"-inner")]:{borderRadius:t.min(i,VA)}},["".concat(e,"-content")]:{position:"relative"}}),$p(t,(f,m)=>{let{darkColor:h}=m;return{["&".concat(e,"-").concat(f)]:{["".concat(e,"-inner")]:{backgroundColor:h},["".concat(e,"-arrow")]:{"--antd-arrow-background-color":h}}}})),{"&-rtl":{direction:"rtl"}})},lv(t,"var(--antd-arrow-background-color)"),{["".concat(e,"-pure")]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},VL=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},yf({contentRadius:t.borderRadius,limitVerticalRadius:!0})),wf(Dt(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),zA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Jt("Tooltip",r=>{const{borderRadius:o,colorTextLightSolid:i,colorBgSpotlight:s}=r,a=Dt(r,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:o,tooltipBg:s});return[BL(a),Wa(r,"zoom-big-fast")]},VL,{resetStyle:!1,injectStyle:e})(t)},jL=cc.map(t=>"".concat(t,"-inverse"));function cv(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Ee(jL),Ee(cc)).includes(t):cc.includes(t)}function UA(t,e){const n=cv(e),r=X({["".concat(t,"-").concat(e)]:e&&n}),o={},i={};return e&&!n&&(o.background=e,i["--antd-arrow-background-color"]=e),{className:r,overlayStyle:o,arrowStyle:i}}const zL=t=>{const{prefixCls:e,className:n,placement:r="top",title:o,color:i,overlayInnerStyle:s}=t,{getPrefixCls:a}=l.useContext(Ge),c=a("tooltip",e),[u,d,f]=zA(c),m=UA(c,i),h=m.arrowStyle,g=Object.assign(Object.assign({},s),m.overlayStyle),p=X(d,f,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(r),n,m.className);return u(l.createElement("div",{className:p,style:h},l.createElement("div",{className:"".concat(c,"-arrow")}),l.createElement(av,Object.assign({},t,{className:d,prefixCls:c,overlayInnerStyle:g}),o)))},UL=zL;var HL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const WL=l.forwardRef((t,e)=>{var n,r;const{prefixCls:o,openClassName:i,getTooltipContainer:s,overlayClassName:a,color:c,overlayInnerStyle:u,children:d,afterOpenChange:f,afterVisibleChange:m,destroyTooltipOnHide:h,arrow:g=!0,title:p,overlay:w,builtinPlacements:v,arrowPointAtCenter:y=!1,autoAdjustOverflow:b=!0}=t,C=!!g,[,S]=Dr(),{getPopupContainer:x,getPrefixCls:I,direction:E}=l.useContext(Ge),_=Os(),P=l.useRef(null),M=()=>{var we;(we=P.current)===null||we===void 0||we.forceAlign()};l.useImperativeHandle(e,()=>{var we;return{forceAlign:M,forcePopupAlign:()=>{_.deprecated(!1,"forcePopupAlign","forceAlign"),M()},nativeElement:(we=P.current)===null||we===void 0?void 0:we.nativeElement}});const[T,k]=on(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),R=!p&&!w&&p!==0,D=we=>{var le,Ce;k(R?!1:we),R||((le=t.onOpenChange)===null||le===void 0||le.call(t,we),(Ce=t.onVisibleChange)===null||Ce===void 0||Ce.call(t,we))},L=l.useMemo(()=>{var we,le;let Ce=y;return typeof g=="object"&&(Ce=(le=(we=g.pointAtCenter)!==null&&we!==void 0?we:g.arrowPointAtCenter)!==null&&le!==void 0?le:y),v||jA({arrowPointAtCenter:Ce,autoAdjustOverflow:b,arrowWidth:C?S.sizePopupArrow:0,borderRadius:S.borderRadius,offset:S.marginXXS,visibleFirst:!0})},[y,g,v,S]),$=l.useMemo(()=>p===0?p:w||p||"",[w,p]),j=l.createElement(Gi,{space:!0},typeof $=="function"?$():$),{getPopupContainer:U,placement:z="top",mouseEnterDelay:F=.1,mouseLeaveDelay:V=.1,overlayStyle:N,rootClassName:B}=t,H=HL(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Q=I("tooltip",o),G=I(),Y=t["data-popover-inject"];let te=T;!("open"in t)&&!("visible"in t)&&R&&(te=!1);const ee=l.isValidElement(d)&&!dx(d)?d:l.createElement("span",null,d),J=ee.props,se=!J.className||typeof J.className=="string"?X(J.className,i||"".concat(Q,"-open")):J.className,[ie,oe,ue]=zA(Q,!Y),de=UA(Q,c),he=de.arrowStyle,ye=Object.assign(Object.assign({},u),de.overlayStyle),Se=X(a,{["".concat(Q,"-rtl")]:E==="rtl"},de.className,B,oe,ue),[Me,be]=ti("Tooltip",H.zIndex),ke=l.createElement(DL,Object.assign({},H,{zIndex:Me,showArrow:C,placement:z,mouseEnterDelay:F,mouseLeaveDelay:V,prefixCls:Q,overlayClassName:Se,overlayStyle:Object.assign(Object.assign({},he),N),getTooltipContainer:U||s||x,ref:P,builtinPlacements:L,overlay:j,visible:te,onVisibleChange:D,afterVisibleChange:f!=null?f:m,overlayInnerStyle:ye,arrowContent:l.createElement("span",{className:"".concat(Q,"-arrow-content")}),motion:{motionName:jr(G,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!h}),te?ur(ee,{className:se}):ee);return ie(l.createElement(Mc.Provider,{value:be},ke))}),HA=WL;HA._InternalPanelDoNotUseOrYouWillBeFired=UL;const To=HA,GL=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:o,innerPadding:i,boxShadowSecondary:s,colorTextHeading:a,borderRadiusLG:c,zIndexPopup:u,titleMarginBottom:d,colorBgElevated:f,popoverBg:m,titleBorderBottom:h,innerContentPadding:g,titlePadding:p}=t;return[{[e]:Object.assign(Object.assign({},cn(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(e,"-content")]:{position:"relative"},["".concat(e,"-inner")]:{backgroundColor:m,backgroundClip:"padding-box",borderRadius:c,boxShadow:s,padding:i},["".concat(e,"-title")]:{minWidth:r,marginBottom:d,color:a,fontWeight:o,borderBottom:h,padding:p},["".concat(e,"-inner-content")]:{color:n,padding:g}})},lv(t,"var(--antd-arrow-background-color)"),{["".concat(e,"-pure")]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",["".concat(e,"-content")]:{display:"inline-block"}}}]},qL=t=>{const{componentCls:e}=t;return{[e]:cc.map(n=>{const r=t["".concat(n,"6")];return{["&".concat(e,"-").concat(n)]:{"--antd-arrow-background-color":r,["".concat(e,"-inner")]:{backgroundColor:r},["".concat(e,"-arrow")]:{background:"transparent"}}}})}},KL=t=>{const{lineWidth:e,controlHeight:n,fontHeight:r,padding:o,wireframe:i,zIndexPopupBase:s,borderRadiusLG:a,marginXS:c,lineType:u,colorSplit:d,paddingSM:f}=t,m=n-r,h=m/2,g=m/2-e,p=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},wf(t)),yf({contentRadius:a,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:c,titlePadding:i?"".concat(h,"px ").concat(p,"px ").concat(g,"px"):0,titleBorderBottom:i?"".concat(e,"px ").concat(u," ").concat(d):"none",innerContentPadding:i?"".concat(f,"px ").concat(p,"px"):0})},WA=Jt("Popover",t=>{const{colorBgElevated:e,colorText:n}=t,r=Dt(t,{popoverBg:e,popoverColor:n});return[GL(r),qL(r),Wa(r,"zoom-big")]},KL,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var YL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const GA=t=>{let{title:e,content:n,prefixCls:r}=t;return!e&&!n?null:l.createElement(l.Fragment,null,e&&l.createElement("div",{className:"".concat(r,"-title")},e),n&&l.createElement("div",{className:"".concat(r,"-inner-content")},n))},XL=t=>{const{hashId:e,prefixCls:n,className:r,style:o,placement:i="top",title:s,content:a,children:c}=t,u=pd(s),d=pd(a),f=X(e,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(i),r);return l.createElement("div",{className:f,style:o},l.createElement("div",{className:"".concat(n,"-arrow")}),l.createElement(av,Object.assign({},t,{className:e,prefixCls:n}),c||l.createElement(GA,{prefixCls:n,title:u,content:d})))},QL=t=>{const{prefixCls:e,className:n}=t,r=YL(t,["prefixCls","className"]),{getPrefixCls:o}=l.useContext(Ge),i=o("popover",e),[s,a,c]=WA(i);return s(l.createElement(XL,Object.assign({},r,{prefixCls:i,hashId:a,className:X(n,c)})))},JL=QL;var ZL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const eB=l.forwardRef((t,e)=>{var n,r;const{prefixCls:o,title:i,content:s,overlayClassName:a,placement:c="top",trigger:u="hover",children:d,mouseEnterDelay:f=.1,mouseLeaveDelay:m=.1,onOpenChange:h,overlayStyle:g={}}=t,p=ZL(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:w}=l.useContext(Ge),v=w("popover",o),[y,b,C]=WA(v),S=w(),x=X(a,b,C),[I,E]=on(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),_=(R,D)=>{E(R,!0),h==null||h(R,D)},P=R=>{R.keyCode===Ie.ESC&&_(!1,R)},M=R=>{_(R)},T=pd(i),k=pd(s);return y(l.createElement(To,Object.assign({placement:c,trigger:u,mouseEnterDelay:f,mouseLeaveDelay:m,overlayStyle:g},p,{prefixCls:v,overlayClassName:x,ref:e,open:I,onOpenChange:M,overlay:T||k?l.createElement(GA,{prefixCls:v,title:T,content:k}):null,transitionName:jr(S,"zoom-big",p.transitionName),"data-popover-inject":!0}),ur(d,{onKeyDown:R=>{var D,L;l.isValidElement(d)&&((L=d==null?void 0:(D=d.props).onKeyDown)===null||L===void 0||L.call(D,R)),P(R)}})))}),qA=eB;qA._InternalPanelDoNotUseOrYouWillBeFired=JL;const ho=qA,vw=t=>{const{size:e,shape:n}=l.useContext(Ig),r=l.useMemo(()=>({size:t.size||e,shape:t.shape||n}),[t.size,t.shape,e,n]);return l.createElement(Ig.Provider,{value:r},t.children)},tB=t=>{var e,n,r;const{getPrefixCls:o,direction:i}=l.useContext(Ge),{prefixCls:s,className:a,rootClassName:c,style:u,maxCount:d,maxStyle:f,size:m,shape:h,maxPopoverPlacement:g,maxPopoverTrigger:p,children:w,max:v}=t,y=o("avatar",s),b="".concat(y,"-group"),C=Dn(y),[S,x,I]=FA(y,C),E=X(b,{["".concat(b,"-rtl")]:i==="rtl"},I,C,a,c,x),_=Nr(w).map((T,k)=>ur(T,{key:"avatar-key-".concat(k)})),P=(v==null?void 0:v.count)||d,M=_.length;if(P&&P<M){const T=_.slice(0,P),k=_.slice(P,M),R=(v==null?void 0:v.style)||f,D=((e=v==null?void 0:v.popover)===null||e===void 0?void 0:e.trigger)||p||"hover",L=((n=v==null?void 0:v.popover)===null||n===void 0?void 0:n.placement)||g||"top",$=Object.assign(Object.assign({content:k},v==null?void 0:v.popover),{overlayClassName:X("".concat(b,"-popover"),(r=v==null?void 0:v.popover)===null||r===void 0?void 0:r.overlayClassName),placement:L,trigger:D});return T.push(l.createElement(ho,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},$),l.createElement(LA,{style:R},"+".concat(M-P)))),S(l.createElement(vw,{shape:h,size:m},l.createElement("div",{className:E,style:u},T)))}return S(l.createElement(vw,{shape:h,size:m},l.createElement("div",{className:E,style:u},_)))},nB=tB,KA=LA;KA.Group=nB;const rB=KA,oB=new Rt("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),iB=new Rt("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),sB=new Rt("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),aB=new Rt("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),lB=new Rt("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),cB=new Rt("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),uB=t=>{const{componentCls:e,iconCls:n,antCls:r,badgeShadowSize:o,motionDurationSlow:i,textFontSize:s,textFontSizeSM:a,statusSize:c,dotSize:u,textFontWeight:d,indicatorHeight:f,indicatorHeightSM:m,marginXS:h,calc:g}=t,p="".concat(r,"-scroll-number"),w=$p(t,(v,y)=>{let{darkColor:b}=y;return{["&".concat(e," ").concat(e,"-color-").concat(v)]:{background:b,["&:not(".concat(e,"-count)")]:{color:b},"a:hover &":{background:b}}}});return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,["".concat(e,"-count")]:{display:"inline-flex",justifyContent:"center",zIndex:t.indicatorZIndex,minWidth:f,height:f,color:t.badgeTextColor,fontWeight:d,fontSize:s,lineHeight:re(f),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:g(f).div(2).equal(),boxShadow:"0 0 0 ".concat(re(o)," ").concat(t.badgeShadowColor),transition:"background ".concat(t.motionDurationMid),a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},["".concat(e,"-count-sm")]:{minWidth:m,height:m,fontSize:a,lineHeight:re(m),borderRadius:g(m).div(2).equal()},["".concat(e,"-multiple-words")]:{padding:"0 ".concat(re(t.paddingXS)),bdi:{unicodeBidi:"plaintext"}},["".concat(e,"-dot")]:{zIndex:t.indicatorZIndex,width:u,minWidth:u,height:u,background:t.badgeColor,borderRadius:"100%",boxShadow:"0 0 0 ".concat(re(o)," ").concat(t.badgeShadowColor)},["".concat(e,"-dot").concat(p)]:{transition:"background ".concat(i)},["".concat(e,"-count, ").concat(e,"-dot, ").concat(p,"-custom-component")]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",["&".concat(n,"-spin")]:{animationName:cB,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},["&".concat(e,"-status")]:{lineHeight:"inherit",verticalAlign:"baseline",["".concat(e,"-status-dot")]:{position:"relative",top:-1,display:"inline-block",width:c,height:c,verticalAlign:"middle",borderRadius:"50%"},["".concat(e,"-status-success")]:{backgroundColor:t.colorSuccess},["".concat(e,"-status-processing")]:{overflow:"visible",color:t.colorInfo,backgroundColor:t.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:o,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:oB,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},["".concat(e,"-status-default")]:{backgroundColor:t.colorTextPlaceholder},["".concat(e,"-status-error")]:{backgroundColor:t.colorError},["".concat(e,"-status-warning")]:{backgroundColor:t.colorWarning},["".concat(e,"-status-text")]:{marginInlineStart:h,color:t.colorText,fontSize:t.fontSize}}}),w),{["".concat(e,"-zoom-appear, ").concat(e,"-zoom-enter")]:{animationName:iB,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},["".concat(e,"-zoom-leave")]:{animationName:sB,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},["&".concat(e,"-not-a-wrapper")]:{["".concat(e,"-zoom-appear, ").concat(e,"-zoom-enter")]:{animationName:aB,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},["".concat(e,"-zoom-leave")]:{animationName:lB,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},["&:not(".concat(e,"-status)")]:{verticalAlign:"middle"},["".concat(p,"-custom-component, ").concat(e,"-count")]:{transform:"none"},["".concat(p,"-custom-component, ").concat(p)]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},["".concat(p)]:{overflow:"hidden",["".concat(p,"-only")]:{position:"relative",display:"inline-block",height:f,transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseOutBack),WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",["> p".concat(p,"-only-unit")]:{height:f,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},["".concat(p,"-symbol")]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",["".concat(e,"-count, ").concat(e,"-dot, ").concat(p,"-custom-component")]:{transform:"translate(-50%, -50%)"}}})}},YA=t=>{const{fontHeight:e,lineWidth:n,marginXS:r,colorBorderBg:o}=t,i=e,s=n,a=t.colorBgContainer,c=t.colorError,u=t.colorErrorHover;return Dt(t,{badgeFontHeight:i,badgeShadowSize:s,badgeTextColor:a,badgeColor:c,badgeColorHover:u,badgeShadowColor:o,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},XA=t=>{const{fontSize:e,lineHeight:n,fontSizeSM:r,lineWidth:o}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(e*n)-2*o,indicatorHeightSM:e,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},dB=Jt("Badge",t=>{const e=YA(t);return uB(e)},XA),fB=t=>{const{antCls:e,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:o,calc:i}=t,s="".concat(e,"-ribbon"),a="".concat(e,"-ribbon-wrapper"),c=$p(t,(u,d)=>{let{darkColor:f}=d;return{["&".concat(s,"-color-").concat(u)]:{background:f,color:f}}});return{["".concat(a)]:{position:"relative"},["".concat(s)]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{position:"absolute",top:r,padding:"0 ".concat(re(t.paddingXS)),color:t.colorPrimary,lineHeight:re(n),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,["".concat(s,"-text")]:{color:t.colorTextLightSolid},["".concat(s,"-corner")]:{position:"absolute",top:"100%",width:o,height:o,color:"currentcolor",border:"".concat(re(i(o).div(2).equal())," solid"),transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),c),{["&".concat(s,"-placement-end")]:{insetInlineEnd:i(o).mul(-1).equal(),borderEndEndRadius:0,["".concat(s,"-corner")]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},["&".concat(s,"-placement-start")]:{insetInlineStart:i(o).mul(-1).equal(),borderEndStartRadius:0,["".concat(s,"-corner")]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},mB=Jt(["Badge","Ribbon"],t=>{const e=YA(t);return fB(e)},XA),hB=t=>{const{className:e,prefixCls:n,style:r,color:o,children:i,text:s,placement:a="end",rootClassName:c}=t,{getPrefixCls:u,direction:d}=l.useContext(Ge),f=u("ribbon",n),m="".concat(f,"-wrapper"),[h,g,p]=mB(f,m),w=cv(o,!1),v=X(f,"".concat(f,"-placement-").concat(a),{["".concat(f,"-rtl")]:d==="rtl",["".concat(f,"-color-").concat(o)]:w},e),y={},b={};return o&&!w&&(y.background=o,b.color=o),h(l.createElement("div",{className:X(m,c,g,p)},i,l.createElement("div",{className:X(v,g),style:Object.assign(Object.assign({},y),r)},l.createElement("span",{className:"".concat(f,"-text")},s),l.createElement("div",{className:"".concat(f,"-corner"),style:b}))))},gB=hB,bw=t=>{const{prefixCls:e,value:n,current:r,offset:o=0}=t;let i;return o&&(i={position:"absolute",top:"".concat(o,"00%"),left:0}),l.createElement("span",{style:i,className:X("".concat(e,"-only-unit"),{current:r})},n)};function pB(t,e,n){let r=t,o=0;for(;(r+10)%10!==e;)r+=n,o+=n;return o}const vB=t=>{const{prefixCls:e,count:n,value:r}=t,o=Number(r),i=Math.abs(n),[s,a]=l.useState(o),[c,u]=l.useState(i),d=()=>{a(o),u(i)};l.useEffect(()=>{const h=setTimeout(d,1e3);return()=>clearTimeout(h)},[o]);let f,m;if(s===o||Number.isNaN(o)||Number.isNaN(s))f=[l.createElement(bw,Object.assign({},t,{key:o,current:!0}))],m={transition:"none"};else{f=[];const h=o+10,g=[];for(let v=o;v<=h;v+=1)g.push(v);const p=g.findIndex(v=>v%10===s);f=g.map((v,y)=>{const b=v%10;return l.createElement(bw,Object.assign({},t,{key:v,value:b,offset:y-p,current:y===p}))});const w=c<i?1:-1;m={transform:"translateY(".concat(-pB(s,o,w),"00%)")}}return l.createElement("span",{className:"".concat(e,"-only"),style:m,onTransitionEnd:d},f)},bB=vB;var wB=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const yB=l.forwardRef((t,e)=>{const{prefixCls:n,count:r,className:o,motionClassName:i,style:s,title:a,show:c,component:u="sup",children:d}=t,f=wB(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:m}=l.useContext(Ge),h=m("scroll-number",n),g=Object.assign(Object.assign({},f),{"data-show":c,style:s,className:X(h,o,i),title:a});let p=r;if(r&&Number(r)%1===0){const w=String(r).split("");p=l.createElement("bdi",null,w.map((v,y)=>l.createElement(bB,{prefixCls:h,count:Number(r),value:v,key:w.length-y})))}return s!=null&&s.borderColor&&(g.style=Object.assign(Object.assign({},s),{boxShadow:"0 0 0 1px ".concat(s.borderColor," inset")})),d?ur(d,w=>({className:X("".concat(h,"-custom-component"),w==null?void 0:w.className,i)})):l.createElement(u,Object.assign({},g,{ref:e}),p)}),CB=yB;var SB=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const xB=l.forwardRef((t,e)=>{var n,r,o,i,s;const{prefixCls:a,scrollNumberPrefixCls:c,children:u,status:d,text:f,color:m,count:h=null,overflowCount:g=99,dot:p=!1,size:w="default",title:v,offset:y,style:b,className:C,rootClassName:S,classNames:x,styles:I,showZero:E=!1}=t,_=SB(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:P,direction:M,badge:T}=l.useContext(Ge),k=P("badge",a),[R,D,L]=dB(k),$=h>g?"".concat(g,"+"):h,j=$==="0"||$===0,U=h===null||j&&!E,z=(d!=null||m!=null)&&U,F=p&&!j,V=F?"":$,N=l.useMemo(()=>(V==null||V===""||j&&!E)&&!F,[V,j,E,F]),B=l.useRef(h);N||(B.current=h);const H=B.current,Q=l.useRef(V);N||(Q.current=V);const G=Q.current,Y=l.useRef(F);N||(Y.current=F);const te=l.useMemo(()=>{if(!y)return Object.assign(Object.assign({},T==null?void 0:T.style),b);const he={marginTop:y[1]};return M==="rtl"?he.left=parseInt(y[0],10):he.right=-parseInt(y[0],10),Object.assign(Object.assign(Object.assign({},he),T==null?void 0:T.style),b)},[M,y,b,T==null?void 0:T.style]),ee=v!=null?v:typeof H=="string"||typeof H=="number"?H:void 0,J=N||!f?null:l.createElement("span",{className:"".concat(k,"-status-text")},f),se=!H||typeof H!="object"?void 0:ur(H,he=>({style:Object.assign(Object.assign({},te),he.style)})),ie=cv(m,!1),oe=X(x==null?void 0:x.indicator,(n=T==null?void 0:T.classNames)===null||n===void 0?void 0:n.indicator,{["".concat(k,"-status-dot")]:z,["".concat(k,"-status-").concat(d)]:!!d,["".concat(k,"-color-").concat(m)]:ie}),ue={};m&&!ie&&(ue.color=m,ue.background=m);const de=X(k,{["".concat(k,"-status")]:z,["".concat(k,"-not-a-wrapper")]:!u,["".concat(k,"-rtl")]:M==="rtl"},C,S,T==null?void 0:T.className,(r=T==null?void 0:T.classNames)===null||r===void 0?void 0:r.root,x==null?void 0:x.root,D,L);if(!u&&z){const he=te.color;return R(l.createElement("span",Object.assign({},_,{className:de,style:Object.assign(Object.assign(Object.assign({},I==null?void 0:I.root),(o=T==null?void 0:T.styles)===null||o===void 0?void 0:o.root),te)}),l.createElement("span",{className:oe,style:Object.assign(Object.assign(Object.assign({},I==null?void 0:I.indicator),(i=T==null?void 0:T.styles)===null||i===void 0?void 0:i.indicator),ue)}),f&&l.createElement("span",{style:{color:he},className:"".concat(k,"-status-text")},f)))}return R(l.createElement("span",Object.assign({ref:e},_,{className:de,style:Object.assign(Object.assign({},(s=T==null?void 0:T.styles)===null||s===void 0?void 0:s.root),I==null?void 0:I.root)}),u,l.createElement(Ir,{visible:!N,motionName:"".concat(k,"-zoom"),motionAppear:!1,motionDeadline:1e3},he=>{let{className:ye}=he;var Se,Me;const be=P("scroll-number",c),ke=Y.current,we=X(x==null?void 0:x.indicator,(Se=T==null?void 0:T.classNames)===null||Se===void 0?void 0:Se.indicator,{["".concat(k,"-dot")]:ke,["".concat(k,"-count")]:!ke,["".concat(k,"-count-sm")]:w==="small",["".concat(k,"-multiple-words")]:!ke&&G&&G.toString().length>1,["".concat(k,"-status-").concat(d)]:!!d,["".concat(k,"-color-").concat(m)]:ie});let le=Object.assign(Object.assign(Object.assign({},I==null?void 0:I.indicator),(Me=T==null?void 0:T.styles)===null||Me===void 0?void 0:Me.indicator),te);return m&&!ie&&(le=le||{},le.background=m),l.createElement(CB,{prefixCls:be,show:!N,motionClassName:ye,className:we,count:G,title:ee,style:le,key:"scrollNumber"},se)}),J))}),QA=xB;QA.Ribbon=gB;const AB=QA;var EB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const IB=EB;var _B=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:IB}))},PB=l.forwardRef(_B);const er=PB;var MB=Ie.ESC,kB=Ie.TAB;function RB(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,o=t.autoFocus,i=t.overlayRef,s=l.useRef(!1),a=function(){if(e){var f,m;(f=n.current)===null||f===void 0||(m=f.focus)===null||m===void 0||m.call(f),r==null||r(!1)}},c=function(){var f;return(f=i.current)!==null&&f!==void 0&&f.focus?(i.current.focus(),s.current=!0,!0):!1},u=function(f){switch(f.keyCode){case MB:a();break;case kB:{var m=!1;s.current||(m=c()),m?f.preventDefault():a();break}}};l.useEffect(function(){return e?(window.addEventListener("keydown",u),o&&zt(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}},[e])}var TB=l.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,o=t.prefixCls,i=l.useMemo(function(){var a;return typeof n=="function"?a=n():a=n,a},[n]),s=oo(e,i==null?void 0:i.ref);return fe.createElement(fe.Fragment,null,r&&fe.createElement("div",{className:"".concat(o,"-arrow")}),fe.cloneElement(i,{ref:_i(i)?s:void 0}))}),Zs={adjustX:1,adjustY:1},ea=[0,0],OB={topLeft:{points:["bl","tl"],overflow:Zs,offset:[0,-4],targetOffset:ea},top:{points:["bc","tc"],overflow:Zs,offset:[0,-4],targetOffset:ea},topRight:{points:["br","tr"],overflow:Zs,offset:[0,-4],targetOffset:ea},bottomLeft:{points:["tl","bl"],overflow:Zs,offset:[0,4],targetOffset:ea},bottom:{points:["tc","bc"],overflow:Zs,offset:[0,4],targetOffset:ea},bottomRight:{points:["tr","br"],overflow:Zs,offset:[0,4],targetOffset:ea}},NB=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function DB(t,e){var n,r=t.arrow,o=r===void 0?!1:r,i=t.prefixCls,s=i===void 0?"rc-dropdown":i,a=t.transitionName,c=t.animation,u=t.align,d=t.placement,f=d===void 0?"bottomLeft":d,m=t.placements,h=m===void 0?OB:m,g=t.getPopupContainer,p=t.showAction,w=t.hideAction,v=t.overlayClassName,y=t.overlayStyle,b=t.visible,C=t.trigger,S=C===void 0?["hover"]:C,x=t.autoFocus,I=t.overlay,E=t.children,_=t.onVisibleChange,P=ht(t,NB),M=fe.useState(),T=K(M,2),k=T[0],R=T[1],D="visible"in t?b:k,L=fe.useRef(null),$=fe.useRef(null),j=fe.useRef(null);fe.useImperativeHandle(e,function(){return L.current});var U=function(Y){R(Y),_==null||_(Y)};RB({visible:D,triggerRef:j,onVisibleChange:U,autoFocus:x,overlayRef:$});var z=function(Y){var te=t.onOverlayClick;R(!1),te&&te(Y)},F=function(){return fe.createElement(TB,{ref:$,overlay:I,prefixCls:s,arrow:o})},V=function(){return typeof I=="function"?F:F()},N=function(){var Y=t.minOverlayWidthMatchTrigger,te=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?Y:!te},B=function(){var Y=t.openClassName;return Y!==void 0?Y:"".concat(s,"-open")},H=fe.cloneElement(E,{className:X((n=E.props)===null||n===void 0?void 0:n.className,D&&B()),ref:_i(E)?oo(j,E.ref):void 0}),Q=w;return!Q&&S.indexOf("contextMenu")!==-1&&(Q=["click"]),fe.createElement(Lc,pe({builtinPlacements:h},P,{prefixCls:s,ref:L,popupClassName:X(v,q({},"".concat(s,"-show-arrow"),o)),popupStyle:y,action:S,showAction:p,hideAction:Q,popupPlacement:f,popupAlign:u,popupTransitionName:a,popupAnimation:c,popupVisible:D,stretch:N()?"minWidth":"",popup:V(),onPopupVisibleChange:U,onPopupClick:z,getPopupContainer:g}),H)}const JA=fe.forwardRef(DB);var ZA=l.createContext(null);function eE(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function tE(t){var e=l.useContext(ZA);return eE(e,t)}var $B=["children","locked"],$o=l.createContext(null);function FB(t,e){var n=W({},t);return Object.keys(e).forEach(function(r){var o=e[r];o!==void 0&&(n[r]=o)}),n}function mc(t){var e=t.children,n=t.locked,r=ht(t,$B),o=l.useContext($o),i=_c(function(){return FB(o,r)},[o,r],function(s,a){return!n&&(s[0]!==a[0]||!xa(s[1],a[1],!0))});return l.createElement($o.Provider,{value:i},e)}var LB=[],nE=l.createContext(null);function Cf(){return l.useContext(nE)}var rE=l.createContext(LB);function Ya(t){var e=l.useContext(rE);return l.useMemo(function(){return t!==void 0?[].concat(Ee(e),[t]):e},[e,t])}var oE=l.createContext(null),uv=l.createContext({});function ww(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Rc(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),o=t.getAttribute("tabindex"),i=Number(o),s=null;return o&&!Number.isNaN(i)?s=i:r&&s===null&&(s=0),r&&t.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function BB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ee(t.querySelectorAll("*")).filter(function(r){return ww(r,e)});return ww(t,e)&&n.unshift(t),n}var _g=Ie.LEFT,Pg=Ie.RIGHT,Mg=Ie.UP,Wu=Ie.DOWN,Gu=Ie.ENTER,iE=Ie.ESC,pl=Ie.HOME,vl=Ie.END,yw=[Mg,Wu,_g,Pg];function VB(t,e,n,r){var o,i,s,a,c="prev",u="next",d="children",f="parent";if(t==="inline"&&r===Gu)return{inlineTrigger:!0};var m=(o={},q(o,Mg,c),q(o,Wu,u),o),h=(i={},q(i,_g,n?u:c),q(i,Pg,n?c:u),q(i,Wu,d),q(i,Gu,d),i),g=(s={},q(s,Mg,c),q(s,Wu,u),q(s,Gu,d),q(s,iE,f),q(s,_g,n?d:f),q(s,Pg,n?f:d),s),p={inline:m,horizontal:h,vertical:g,inlineSub:m,horizontalSub:g,verticalSub:g},w=(a=p["".concat(t).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(w){case c:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case d:return{offset:1,sibling:!1};default:return null}}function jB(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function zB(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function dv(t,e){var n=BB(t,!0);return n.filter(function(r){return e.has(r)})}function Cw(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var o=dv(t,e),i=o.length,s=o.findIndex(function(a){return n===a});return r<0?s===-1?s=i-1:s-=1:r>0&&(s+=1),s=(s+i)%i,o[s]}var kg=function(e,n){var r=new Set,o=new Map,i=new Map;return e.forEach(function(s){var a=document.querySelector("[data-menu-id='".concat(eE(n,s),"']"));a&&(r.add(a),i.set(a,s),o.set(s,a))}),{elements:r,key2element:o,element2key:i}};function UB(t,e,n,r,o,i,s,a,c,u){var d=l.useRef(),f=l.useRef();f.current=e;var m=function(){zt.cancel(d.current)};return l.useEffect(function(){return function(){m()}},[]),function(h){var g=h.which;if([].concat(yw,[Gu,iE,pl,vl]).includes(g)){var p=i(),w=kg(p,r),v=w,y=v.elements,b=v.key2element,C=v.element2key,S=b.get(e),x=zB(S,y),I=C.get(x),E=VB(t,s(I,!0).length===1,n,g);if(!E&&g!==pl&&g!==vl)return;(yw.includes(g)||[pl,vl].includes(g))&&h.preventDefault();var _=function($){if($){var j=$,U=$.querySelector("a");U!=null&&U.getAttribute("href")&&(j=U);var z=C.get($);a(z),m(),d.current=zt(function(){f.current===z&&j.focus()})}};if([pl,vl].includes(g)||E.sibling||!x){var P;!x||t==="inline"?P=o.current:P=jB(x);var M,T=dv(P,y);g===pl?M=T[0]:g===vl?M=T[T.length-1]:M=Cw(P,y,x,E.offset),_(M)}else if(E.inlineTrigger)c(I);else if(E.offset>0)c(I,!0),m(),d.current=zt(function(){w=kg(p,r);var L=x.getAttribute("aria-controls"),$=document.getElementById(L),j=Cw($,w.elements);_(j)},5);else if(E.offset<0){var k=s(I,!0),R=k[k.length-2],D=b.get(R);c(R,!1),_(D)}}u==null||u(h)}}function HB(t){Promise.resolve().then(t)}var fv="__RC_UTIL_PATH_SPLIT__",Sw=function(e){return e.join(fv)},WB=function(e){return e.split(fv)},Rg="rc-menu-more";function GB(){var t=l.useState({}),e=K(t,2),n=e[1],r=l.useRef(new Map),o=l.useRef(new Map),i=l.useState([]),s=K(i,2),a=s[0],c=s[1],u=l.useRef(0),d=l.useRef(!1),f=function(){d.current||n({})},m=l.useCallback(function(b,C){var S=Sw(C);o.current.set(S,b),r.current.set(b,S),u.current+=1;var x=u.current;HB(function(){x===u.current&&f()})},[]),h=l.useCallback(function(b,C){var S=Sw(C);o.current.delete(S),r.current.delete(b)},[]),g=l.useCallback(function(b){c(b)},[]),p=l.useCallback(function(b,C){var S=r.current.get(b)||"",x=WB(S);return C&&a.includes(x[0])&&x.unshift(Rg),x},[a]),w=l.useCallback(function(b,C){return b.filter(function(S){return S!==void 0}).some(function(S){var x=p(S,!0);return x.includes(C)})},[p]),v=function(){var C=Ee(r.current.keys());return a.length&&C.push(Rg),C},y=l.useCallback(function(b){var C="".concat(r.current.get(b)).concat(fv),S=new Set;return Ee(o.current.keys()).forEach(function(x){x.startsWith(C)&&S.add(o.current.get(x))}),S},[]);return l.useEffect(function(){return function(){d.current=!0}},[]),{registerPath:m,unregisterPath:h,refreshOverflowKeys:g,isSubPathKey:w,getKeyPath:p,getKeys:v,getSubPathKeys:y}}function kl(t){var e=l.useRef(t);e.current=t;var n=l.useCallback(function(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return t?n:void 0}var qB=Math.random().toFixed(5).toString().slice(2),xw=0;function KB(t){var e=on(t,{value:t}),n=K(e,2),r=n[0],o=n[1];return l.useEffect(function(){xw+=1;var i="".concat(qB,"-").concat(xw);o("rc-menu-uuid-".concat(i))},[]),r}function sE(t,e,n,r){var o=l.useContext($o),i=o.activeKey,s=o.onActive,a=o.onInactive,c={active:i===t};return e||(c.onMouseEnter=function(u){n==null||n({key:t,domEvent:u}),s(t)},c.onMouseLeave=function(u){r==null||r({key:t,domEvent:u}),a(t)}),c}function aE(t){var e=l.useContext($o),n=e.mode,r=e.rtl,o=e.inlineIndent;if(n!=="inline")return null;var i=t;return r?{paddingRight:i*o}:{paddingLeft:i*o}}function lE(t){var e=t.icon,n=t.props,r=t.children,o;return e===null||e===!1?null:(typeof e=="function"?o=l.createElement(e,W({},n)):typeof e!="boolean"&&(o=e),o||r||null)}var YB=["item"];function vd(t){var e=t.item,n=ht(t,YB);return Object.defineProperty(n,"item",{get:function(){return nr(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var XB=["title","attribute","elementRef"],QB=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],JB=["active"],ZB=function(t){Zo(n,t);var e=ei(n);function n(){return Vn(this,n),e.apply(this,arguments)}return jn(n,[{key:"render",value:function(){var o=this.props,i=o.title,s=o.attribute,a=o.elementRef,c=ht(o,XB),u=Nn(c,["eventKey","popupClassName","popupOffset","onTitleClick"]);return nr(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),l.createElement(Ro.Item,pe({},s,{title:typeof i=="string"?i:void 0},u,{ref:a}))}}]),n}(l.Component),e7=l.forwardRef(function(t,e){var n,r=t.style,o=t.className,i=t.eventKey;t.warnKey;var s=t.disabled,a=t.itemIcon,c=t.children,u=t.role,d=t.onMouseEnter,f=t.onMouseLeave,m=t.onClick,h=t.onKeyDown,g=t.onFocus,p=ht(t,QB),w=tE(i),v=l.useContext($o),y=v.prefixCls,b=v.onItemClick,C=v.disabled,S=v.overflowDisabled,x=v.itemIcon,I=v.selectedKeys,E=v.onActive,_=l.useContext(uv),P=_._internalRenderMenuItem,M="".concat(y,"-item"),T=l.useRef(),k=l.useRef(),R=C||s,D=Ii(e,k),L=Ya(i),$=function(ee){return{key:i,keyPath:Ee(L).reverse(),item:T.current,domEvent:ee}},j=a||x,U=sE(i,R,d,f),z=U.active,F=ht(U,JB),V=I.includes(i),N=aE(L.length),B=function(ee){if(!R){var J=$(ee);m==null||m(vd(J)),b(J)}},H=function(ee){if(h==null||h(ee),ee.which===Ie.ENTER){var J=$(ee);m==null||m(vd(J)),b(J)}},Q=function(ee){E(i),g==null||g(ee)},G={};t.role==="option"&&(G["aria-selected"]=V);var Y=l.createElement(ZB,pe({ref:T,elementRef:D,role:u===null?"none":u||"menuitem",tabIndex:s?null:-1,"data-menu-id":S&&w?null:w},p,F,G,{component:"li","aria-disabled":s,style:W(W({},N),r),className:X(M,(n={},q(n,"".concat(M,"-active"),z),q(n,"".concat(M,"-selected"),V),q(n,"".concat(M,"-disabled"),R),n),o),onClick:B,onKeyDown:H,onFocus:Q}),c,l.createElement(lE,{props:W(W({},t),{},{isSelected:V}),icon:j}));return P&&(Y=P(Y,t,{selected:V})),Y});function t7(t,e){var n=t.eventKey,r=Cf(),o=Ya(n);return l.useEffect(function(){if(r)return r.registerPath(n,o),function(){r.unregisterPath(n,o)}},[o]),r?null:l.createElement(e7,pe({},t,{ref:e}))}const Vc=l.forwardRef(t7);var n7=["className","children"],r7=function(e,n){var r=e.className,o=e.children,i=ht(e,n7),s=l.useContext($o),a=s.prefixCls,c=s.mode,u=s.rtl;return l.createElement("ul",pe({className:X(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat(c==="inline"?"inline":"vertical"),r),role:"menu"},i,{"data-menu-list":!0,ref:n}),o)},mv=l.forwardRef(r7);mv.displayName="SubMenuList";function hv(t,e){return Nr(t).map(function(n,r){if(l.isValidElement(n)){var o,i,s=n.key,a=(o=(i=n.props)===null||i===void 0?void 0:i.eventKey)!==null&&o!==void 0?o:s,c=a==null;c&&(a="tmp_key-".concat([].concat(Ee(e),[r]).join("-")));var u={key:a,eventKey:a};return l.cloneElement(n,u)}return n})}var yr={adjustX:1,adjustY:1},o7={topLeft:{points:["bl","tl"],overflow:yr},topRight:{points:["br","tr"],overflow:yr},bottomLeft:{points:["tl","bl"],overflow:yr},bottomRight:{points:["tr","br"],overflow:yr},leftTop:{points:["tr","tl"],overflow:yr},leftBottom:{points:["br","bl"],overflow:yr},rightTop:{points:["tl","tr"],overflow:yr},rightBottom:{points:["bl","br"],overflow:yr}},i7={topLeft:{points:["bl","tl"],overflow:yr},topRight:{points:["br","tr"],overflow:yr},bottomLeft:{points:["tl","bl"],overflow:yr},bottomRight:{points:["tr","br"],overflow:yr},rightTop:{points:["tr","tl"],overflow:yr},rightBottom:{points:["br","bl"],overflow:yr},leftTop:{points:["tl","tr"],overflow:yr},leftBottom:{points:["bl","br"],overflow:yr}};function cE(t,e,n){if(e)return e;if(n)return n[t]||n.other}var s7={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function a7(t){var e=t.prefixCls,n=t.visible,r=t.children,o=t.popup,i=t.popupStyle,s=t.popupClassName,a=t.popupOffset,c=t.disabled,u=t.mode,d=t.onVisibleChange,f=l.useContext($o),m=f.getPopupContainer,h=f.rtl,g=f.subMenuOpenDelay,p=f.subMenuCloseDelay,w=f.builtinPlacements,v=f.triggerSubMenuAction,y=f.forceSubMenuRender,b=f.rootClassName,C=f.motion,S=f.defaultMotions,x=l.useState(!1),I=K(x,2),E=I[0],_=I[1],P=h?W(W({},i7),w):W(W({},o7),w),M=s7[u],T=cE(u,C,S),k=l.useRef(T);u!=="inline"&&(k.current=T);var R=W(W({},k.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),D=l.useRef();return l.useEffect(function(){return D.current=zt(function(){_(n)}),function(){zt.cancel(D.current)}},[n]),l.createElement(Lc,{prefixCls:e,popupClassName:X("".concat(e,"-popup"),q({},"".concat(e,"-rtl"),h),s,b),stretch:u==="horizontal"?"minWidth":null,getPopupContainer:m,builtinPlacements:P,popupPlacement:M,popupVisible:E,popup:o,popupStyle:i,popupAlign:a&&{offset:a},action:c?[]:[v],mouseEnterDelay:g,mouseLeaveDelay:p,onPopupVisibleChange:d,forceRender:y,popupMotion:R,fresh:!0},r)}function l7(t){var e=t.id,n=t.open,r=t.keyPath,o=t.children,i="inline",s=l.useContext($o),a=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,f=s.mode,m=l.useRef(!1);m.current=f===i;var h=l.useState(!m.current),g=K(h,2),p=g[0],w=g[1],v=m.current?n:!1;l.useEffect(function(){m.current&&w(!1)},[f]);var y=W({},cE(i,u,d));r.length>1&&(y.motionAppear=!1);var b=y.onVisibleChanged;return y.onVisibleChanged=function(C){return!m.current&&!C&&w(!0),b==null?void 0:b(C)},p?null:l.createElement(mc,{mode:i,locked:!m.current},l.createElement(Ir,pe({visible:v},y,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden")}),function(C){var S=C.className,x=C.style;return l.createElement(mv,{id:e,className:S,style:x},o)}))}var c7=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],u7=["active"],d7=l.forwardRef(function(t,e){var n,r=t.style,o=t.className,i=t.title,s=t.eventKey;t.warnKey;var a=t.disabled,c=t.internalPopupClose,u=t.children,d=t.itemIcon,f=t.expandIcon,m=t.popupClassName,h=t.popupOffset,g=t.popupStyle,p=t.onClick,w=t.onMouseEnter,v=t.onMouseLeave,y=t.onTitleClick,b=t.onTitleMouseEnter,C=t.onTitleMouseLeave,S=ht(t,c7),x=tE(s),I=l.useContext($o),E=I.prefixCls,_=I.mode,P=I.openKeys,M=I.disabled,T=I.overflowDisabled,k=I.activeKey,R=I.selectedKeys,D=I.itemIcon,L=I.expandIcon,$=I.onItemClick,j=I.onOpenChange,U=I.onActive,z=l.useContext(uv),F=z._internalRenderSubMenuItem,V=l.useContext(oE),N=V.isSubPathKey,B=Ya(),H="".concat(E,"-submenu"),Q=M||a,G=l.useRef(),Y=l.useRef(),te=d!=null?d:D,ee=f!=null?f:L,J=P.includes(s),se=!T&&J,ie=N(R,s),oe=sE(s,Q,b,C),ue=oe.active,de=ht(oe,u7),he=l.useState(!1),ye=K(he,2),Se=ye[0],Me=ye[1],be=function(_e){Q||Me(_e)},ke=function(_e){be(!0),w==null||w({key:s,domEvent:_e})},we=function(_e){be(!1),v==null||v({key:s,domEvent:_e})},le=l.useMemo(function(){return ue||(_!=="inline"?Se||N([k],s):!1)},[_,ue,k,Se,s,N]),Ce=aE(B.length),Ae=function(_e){Q||(y==null||y({key:s,domEvent:_e}),_==="inline"&&j(s,!J))},Be=kl(function(xe){p==null||p(vd(xe)),$(xe)}),Fe=function(_e){_!=="inline"&&j(s,_e)},De=function(){U(s)},ze=x&&"".concat(x,"-popup"),at=l.createElement("div",pe({role:"menuitem",style:Ce,className:"".concat(H,"-title"),tabIndex:Q?null:-1,ref:G,title:typeof i=="string"?i:null,"data-menu-id":T&&x?null:x,"aria-expanded":se,"aria-haspopup":!0,"aria-controls":ze,"aria-disabled":Q,onClick:Ae,onFocus:De},de),i,l.createElement(lE,{icon:_!=="horizontal"?ee:void 0,props:W(W({},t),{},{isOpen:se,isSubMenu:!0})},l.createElement("i",{className:"".concat(H,"-arrow")}))),We=l.useRef(_);if(_!=="inline"&&B.length>1?We.current="vertical":We.current=_,!T){var Re=We.current;at=l.createElement(a7,{mode:Re,prefixCls:H,visible:!c&&se&&_!=="inline",popupClassName:m,popupOffset:h,popupStyle:g,popup:l.createElement(mc,{mode:Re==="horizontal"?"vertical":Re},l.createElement(mv,{id:ze,ref:Y},u)),disabled:Q,onVisibleChange:Fe},at)}var me=l.createElement(Ro.Item,pe({ref:e,role:"none"},S,{component:"li",style:r,className:X(H,"".concat(H,"-").concat(_),o,(n={},q(n,"".concat(H,"-open"),se),q(n,"".concat(H,"-active"),le),q(n,"".concat(H,"-selected"),ie),q(n,"".concat(H,"-disabled"),Q),n)),onMouseEnter:ke,onMouseLeave:we}),at,!T&&l.createElement(l7,{id:ze,open:se,keyPath:B},u));return F&&(me=F(me,t,{selected:ie,active:le,open:se,disabled:Q})),l.createElement(mc,{onItemClick:Be,mode:_==="horizontal"?"vertical":_,itemIcon:te,expandIcon:ee},me)}),Sf=l.forwardRef(function(t,e){var n=t.eventKey,r=t.children,o=Ya(n),i=hv(r,o),s=Cf();l.useEffect(function(){if(s)return s.registerPath(n,o),function(){s.unregisterPath(n,o)}},[o]);var a;return s?a=i:a=l.createElement(d7,pe({ref:e},t),i),l.createElement(rE.Provider,{value:o},a)});function gv(t){var e=t.className,n=t.style,r=l.useContext($o),o=r.prefixCls,i=Cf();return i?null:l.createElement("li",{role:"separator",className:X("".concat(o,"-item-divider"),e),style:n})}var f7=["className","title","eventKey","children"],m7=l.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var o=t.children,i=ht(t,f7),s=l.useContext($o),a=s.prefixCls,c="".concat(a,"-item-group");return l.createElement("li",pe({ref:e,role:"presentation"},i,{onClick:function(d){return d.stopPropagation()},className:X(c,n)}),l.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:typeof r=="string"?r:void 0},r),l.createElement("ul",{role:"group",className:"".concat(c,"-list")},o))}),pv=l.forwardRef(function(t,e){var n=t.eventKey,r=t.children,o=Ya(n),i=hv(r,o),s=Cf();return s?i:l.createElement(m7,pe({ref:e},Nn(t,["warnKey"])),i)}),h7=["label","children","key","type"];function Tg(t,e){var n=e.item,r=e.group,o=e.submenu,i=e.divider;return(t||[]).map(function(s,a){if(s&&st(s)==="object"){var c=s,u=c.label,d=c.children,f=c.key,m=c.type,h=ht(c,h7),g=f!=null?f:"tmp-".concat(a);return d||m==="group"?m==="group"?l.createElement(r,pe({key:g},h,{title:u}),Tg(d,e)):l.createElement(o,pe({key:g},h,{title:u}),Tg(d,e)):m==="divider"?l.createElement(i,pe({key:g},h)):l.createElement(n,pe({key:g},h),u)}return null}).filter(function(s){return s})}function Aw(t,e,n,r){var o=t,i=W({divider:gv,item:Vc,group:pv,submenu:Sf},r);return e&&(o=Tg(e,i)),hv(o,n)}var g7=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],ss=[],p7=l.forwardRef(function(t,e){var n,r,o=t,i=o.prefixCls,s=i===void 0?"rc-menu":i,a=o.rootClassName,c=o.style,u=o.className,d=o.tabIndex,f=d===void 0?0:d,m=o.items,h=o.children,g=o.direction,p=o.id,w=o.mode,v=w===void 0?"vertical":w,y=o.inlineCollapsed,b=o.disabled,C=o.disabledOverflow,S=o.subMenuOpenDelay,x=S===void 0?.1:S,I=o.subMenuCloseDelay,E=I===void 0?.1:I,_=o.forceSubMenuRender,P=o.defaultOpenKeys,M=o.openKeys,T=o.activeKey,k=o.defaultActiveFirst,R=o.selectable,D=R===void 0?!0:R,L=o.multiple,$=L===void 0?!1:L,j=o.defaultSelectedKeys,U=o.selectedKeys,z=o.onSelect,F=o.onDeselect,V=o.inlineIndent,N=V===void 0?24:V,B=o.motion,H=o.defaultMotions,Q=o.triggerSubMenuAction,G=Q===void 0?"hover":Q,Y=o.builtinPlacements,te=o.itemIcon,ee=o.expandIcon,J=o.overflowedIndicator,se=J===void 0?"...":J,ie=o.overflowedIndicatorPopupClassName,oe=o.getPopupContainer,ue=o.onClick,de=o.onOpenChange,he=o.onKeyDown;o.openAnimation,o.openTransitionName;var ye=o._internalRenderMenuItem,Se=o._internalRenderSubMenuItem,Me=o._internalComponents,be=ht(o,g7),ke=l.useMemo(function(){return[Aw(h,m,ss,Me),Aw(h,m,ss,{})]},[h,m,Me]),we=K(ke,2),le=we[0],Ce=we[1],Ae=l.useState(!1),Be=K(Ae,2),Fe=Be[0],De=Be[1],ze=l.useRef(),at=KB(p),We=g==="rtl",Re=on(P,{value:M,postState:function(St){return St||ss}}),me=K(Re,2),xe=me[0],_e=me[1],Ne=function(St){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function qe(){_e(St),de==null||de(St)}xt?Wi.flushSync(qe):qe()},He=l.useState(xe),ne=K(He,2),Pe=ne[0],je=ne[1],nt=l.useRef(!1),gt=l.useMemo(function(){return(v==="inline"||v==="vertical")&&y?["vertical",y]:[v,!1]},[v,y]),lt=K(gt,2),Ze=lt[0],Ye=lt[1],Xe=Ze==="inline",$e=l.useState(Ze),pt=K($e,2),bt=pt[0],Te=pt[1],Le=l.useState(Ye),Ve=K(Le,2),it=Ve[0],Ct=Ve[1];l.useEffect(function(){Te(Ze),Ct(Ye),nt.current&&(Xe?_e(Pe):Ne(ss))},[Ze,Ye]);var Ot=l.useState(0),tn=K(Ot,2),Wt=tn[0],It=tn[1],et=Wt>=le.length-1||bt!=="horizontal"||C;l.useEffect(function(){Xe&&je(xe)},[xe]),l.useEffect(function(){return nt.current=!0,function(){nt.current=!1}},[]);var wt=GB(),Bt=wt.registerPath,Ft=wt.unregisterPath,nn=wt.refreshOverflowKeys,xn=wt.isSubPathKey,Qe=wt.getKeyPath,rt=wt.getKeys,ft=wt.getSubPathKeys,qt=l.useMemo(function(){return{registerPath:Bt,unregisterPath:Ft}},[Bt,Ft]),In=l.useMemo(function(){return{isSubPathKey:xn}},[xn]);l.useEffect(function(){nn(et?ss:le.slice(Wt+1).map(function($t){return $t.key}))},[Wt,et]);var Pn=on(T||k&&((n=le[0])===null||n===void 0?void 0:n.key),{value:T}),fn=K(Pn,2),zn=fn[0],gr=fn[1],Yn=kl(function($t){gr($t)}),mr=kl(function(){gr(void 0)});l.useImperativeHandle(e,function(){return{list:ze.current,focus:function(St){var xt,qe=rt(),Je=kg(qe,at),Qt=Je.elements,yn=Je.key2element,Qn=Je.element2key,Jn=dv(ze.current,Qt),Gr=zn!=null?zn:Jn[0]?Qn.get(Jn[0]):(xt=le.find(function(Tt){return!Tt.props.disabled}))===null||xt===void 0?void 0:xt.key,vt=yn.get(Gr);if(Gr&&vt){var yt;vt==null||(yt=vt.focus)===null||yt===void 0||yt.call(vt,St)}}}});var Hr=on(j||[],{value:U,postState:function(St){return Array.isArray(St)?St:St==null?ss:[St]}}),Un=K(Hr,2),Hn=Un[0],$r=Un[1],so=function(St){if(D){var xt=St.key,qe=Hn.includes(xt),Je;$?qe?Je=Hn.filter(function(yn){return yn!==xt}):Je=[].concat(Ee(Hn),[xt]):Je=[xt],$r(Je);var Qt=W(W({},St),{},{selectedKeys:Je});qe?F==null||F(Qt):z==null||z(Qt)}!$&&xe.length&&bt!=="inline"&&Ne(ss)},pr=kl(function($t){ue==null||ue(vd($t)),so($t)}),vr=kl(function($t,St){var xt=xe.filter(function(Je){return Je!==$t});if(St)xt.push($t);else if(bt!=="inline"){var qe=ft($t);xt=xt.filter(function(Je){return!qe.has(Je)})}xa(xe,xt,!0)||Ne(xt,!0)}),Wr=function(St,xt){var qe=xt!=null?xt:!xe.includes(St);vr(St,qe)},Mr=UB(bt,zn,We,at,ze,rt,Qe,gr,Wr,he);l.useEffect(function(){De(!0)},[]);var Xn=l.useMemo(function(){return{_internalRenderMenuItem:ye,_internalRenderSubMenuItem:Se}},[ye,Se]),Lt=bt!=="horizontal"||C?le:le.map(function($t,St){return l.createElement(mc,{key:$t.key,overflowDisabled:St>Wt},$t)}),_t=l.createElement(Ro,pe({id:p,ref:ze,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:Vc,className:X(s,"".concat(s,"-root"),"".concat(s,"-").concat(bt),u,(r={},q(r,"".concat(s,"-inline-collapsed"),it),q(r,"".concat(s,"-rtl"),We),r),a),dir:g,style:c,role:"menu",tabIndex:f,data:Lt,renderRawItem:function(St){return St},renderRawRest:function(St){var xt=St.length,qe=xt?le.slice(-xt):null;return l.createElement(Sf,{eventKey:Rg,title:se,disabled:et,internalPopupClose:xt===0,popupClassName:ie},qe)},maxCount:bt!=="horizontal"||C?Ro.INVALIDATE:Ro.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(St){It(St)},onKeyDown:Mr},be));return l.createElement(uv.Provider,{value:Xn},l.createElement(ZA.Provider,{value:at},l.createElement(mc,{prefixCls:s,rootClassName:a,mode:bt,openKeys:xe,rtl:We,disabled:b,motion:Fe?B:null,defaultMotions:Fe?H:null,activeKey:zn,onActive:Yn,onInactive:mr,selectedKeys:Hn,inlineIndent:N,subMenuOpenDelay:x,subMenuCloseDelay:E,forceSubMenuRender:_,builtinPlacements:Y,triggerSubMenuAction:G,getPopupContainer:oe,itemIcon:te,expandIcon:ee,onItemClick:pr,onOpenChange:vr},l.createElement(oE.Provider,{value:In},_t),l.createElement("div",{style:{display:"none"},"aria-hidden":!0},l.createElement(nE.Provider,{value:qt},Ce)))))}),Xa=p7;Xa.Item=Vc;Xa.SubMenu=Sf;Xa.ItemGroup=pv;Xa.Divider=gv;var v7={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const b7=v7;var w7=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:b7}))},y7=l.forwardRef(w7);const C7=y7;var S7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const x7=S7;var A7=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:x7}))},E7=l.forwardRef(A7);const ka=E7,I7=t=>!isNaN(parseFloat(t))&&isFinite(t),_7=I7,uE=l.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var P7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Ew={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},xf=l.createContext({}),M7=(()=>{let t=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t+=1,"".concat(e).concat(t)}})(),k7=l.forwardRef((t,e)=>{const{prefixCls:n,className:r,trigger:o,children:i,defaultCollapsed:s=!1,theme:a="dark",style:c={},collapsible:u=!1,reverseArrow:d=!1,width:f=200,collapsedWidth:m=80,zeroWidthTriggerStyle:h,breakpoint:g,onCollapse:p,onBreakpoint:w}=t,v=P7(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:y}=l.useContext(uE),[b,C]=l.useState("collapsed"in t?t.collapsed:s),[S,x]=l.useState(!1);l.useEffect(()=>{"collapsed"in t&&C(t.collapsed)},[t.collapsed]);const I=(k,R)=>{"collapsed"in t||C(k),p==null||p(k,R)},E=l.useRef();E.current=k=>{x(k.matches),w==null||w(k.matches),b!==k.matches&&I(k.matches,"responsive")},l.useEffect(()=>{function k(D){return E.current(D)}let R;if(typeof window<"u"){const{matchMedia:D}=window;if(D&&g&&g in Ew){R=D("screen and (max-width: ".concat(Ew[g],")"));try{R.addEventListener("change",k)}catch(L){R.addListener(k)}k(R)}}return()=>{try{R==null||R.removeEventListener("change",k)}catch(D){R==null||R.removeListener(k)}}},[g]),l.useEffect(()=>{const k=M7("ant-sider-");return y.addSider(k),()=>y.removeSider(k)},[]);const _=()=>{I(!b,"clickTrigger")},{getPrefixCls:P}=l.useContext(Ge),M=()=>{const k=P("layout-sider",n),R=Nn(v,["collapsed"]),D=b?m:f,L=_7(D)?"".concat(D,"px"):String(D),$=parseFloat(String(m||0))===0?l.createElement("span",{onClick:_,className:X("".concat(k,"-zero-width-trigger"),"".concat(k,"-zero-width-trigger-").concat(d?"right":"left")),style:h},o||l.createElement(C7,null)):null,z={expanded:d?l.createElement(er,null):l.createElement(ka,null),collapsed:d?l.createElement(ka,null):l.createElement(er,null)}[b?"collapsed":"expanded"],F=o!==null?$||l.createElement("div",{className:"".concat(k,"-trigger"),onClick:_,style:{width:L}},o||z):null,V=Object.assign(Object.assign({},c),{flex:"0 0 ".concat(L),maxWidth:L,minWidth:L,width:L}),N=X(k,"".concat(k,"-").concat(a),{["".concat(k,"-collapsed")]:!!b,["".concat(k,"-has-trigger")]:u&&o!==null&&!$,["".concat(k,"-below")]:!!S,["".concat(k,"-zero-width")]:parseFloat(L)===0},r);return l.createElement("aside",Object.assign({className:N},R,{style:V,ref:e}),l.createElement("div",{className:"".concat(k,"-children")},i),u||S&&$?F:null)},T=l.useMemo(()=>({siderCollapsed:b}),[b]);return l.createElement(xf.Provider,{value:T},M())}),dE=k7;var R7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const T7=R7;var O7=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:T7}))},N7=l.forwardRef(O7);const vv=N7,D7=l.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),bd=D7;var $7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const F7=t=>{const{prefixCls:e,className:n,dashed:r}=t,o=$7(t,["prefixCls","className","dashed"]),{getPrefixCls:i}=l.useContext(Ge),s=i("menu",e),a=X({["".concat(s,"-item-divider-dashed")]:!!r},n);return l.createElement(gv,Object.assign({className:a},o))},fE=F7,L7=t=>{var e;const{className:n,children:r,icon:o,title:i,danger:s}=t,{prefixCls:a,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:f}=l.useContext(bd),m=y=>{const b=l.createElement("span",{className:"".concat(a,"-title-content")},r);return(!o||l.isValidElement(r)&&r.type==="span")&&r&&y&&c&&typeof r=="string"?l.createElement("div",{className:"".concat(a,"-inline-collapsed-noicon")},r.charAt(0)):b},{siderCollapsed:h}=l.useContext(xf);let g=i;typeof i>"u"?g=c?r:"":i===!1&&(g="");const p={title:g};!h&&!f&&(p.title=null,p.open=!1);const w=Nr(r).length;let v=l.createElement(Vc,Object.assign({},Nn(t,["title","icon","danger"]),{className:X({["".concat(a,"-item-danger")]:s,["".concat(a,"-item-only-child")]:(o?w+1:w)===1},n),title:typeof i=="string"?i:void 0}),ur(o,{className:X(l.isValidElement(o)?(e=o.props)===null||e===void 0?void 0:e.className:"","".concat(a,"-item-icon"))}),m(f));return d||(v=l.createElement(To,Object.assign({},p,{placement:u==="rtl"?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),v)),v},mE=L7;var B7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const wd=l.createContext(null),V7=l.forwardRef((t,e)=>{const{children:n}=t,r=B7(t,["children"]),o=l.useContext(wd),i=l.useMemo(()=>Object.assign(Object.assign({},o),r),[o,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=NT(n),a=Ii(e,s?n.ref:null);return l.createElement(wd.Provider,{value:i},l.createElement(Gi,{space:!0},s?l.cloneElement(n,{ref:a}):n))}),j7=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:o,lineWidth:i,lineType:s,itemPaddingInline:a}=t;return{["".concat(e,"-horizontal")]:{lineHeight:r,border:0,borderBottom:"".concat(re(i)," ").concat(s," ").concat(o),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},["".concat(e,"-item, ").concat(e,"-submenu")]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},["> ".concat(e,"-item:hover,\n        > ").concat(e,"-item-active,\n        > ").concat(e,"-submenu ").concat(e,"-submenu-title:hover")]:{backgroundColor:"transparent"},["".concat(e,"-item, ").concat(e,"-submenu-title")]:{transition:["border-color ".concat(n),"background ".concat(n)].join(",")},["".concat(e,"-submenu-arrow")]:{display:"none"}}}},z7=j7,U7=t=>{let{componentCls:e,menuArrowOffset:n,calc:r}=t;return{["".concat(e,"-rtl")]:{direction:"rtl"},["".concat(e,"-submenu-rtl")]:{transformOrigin:"100% 0"},["".concat(e,"-rtl").concat(e,"-vertical,\n    ").concat(e,"-submenu-rtl ").concat(e,"-vertical")]:{["".concat(e,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateY(".concat(re(r(n).mul(-1).equal()),")")},"&::after":{transform:"rotate(45deg) translateY(".concat(re(n),")")}}}}},H7=U7,Iw=t=>Object.assign({},Np(t)),W7=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:o,groupTitleColor:i,itemBg:s,subMenuItemBg:a,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:f,motionDurationSlow:m,motionEaseInOut:h,motionEaseOut:g,itemPaddingInline:p,motionDurationMid:w,itemHoverColor:v,lineType:y,colorSplit:b,itemDisabledColor:C,dangerItemColor:S,dangerItemHoverColor:x,dangerItemSelectedColor:I,dangerItemActiveBg:E,dangerItemSelectedBg:_,popupBg:P,itemHoverBg:M,itemActiveBg:T,menuSubMenuBg:k,horizontalItemSelectedColor:R,horizontalItemSelectedBg:D,horizontalItemBorderRadius:L,horizontalItemHoverBg:$}=t;return{["".concat(n,"-").concat(e,", ").concat(n,"-").concat(e," > ").concat(n)]:{color:r,background:s,["&".concat(n,"-root:focus-visible")]:Object.assign({},Iw(t)),["".concat(n,"-item-group-title")]:{color:i},["".concat(n,"-submenu-selected")]:{["> ".concat(n,"-submenu-title")]:{color:o}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:{color:r,["&:not(".concat(n,"-item-disabled):focus-visible")]:Object.assign({},Iw(t))},["".concat(n,"-item-disabled, ").concat(n,"-submenu-disabled")]:{color:"".concat(C," !important")},["".concat(n,"-item:not(").concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{["&:hover, > ".concat(n,"-submenu-title:hover")]:{color:v}},["&:not(".concat(n,"-horizontal)")]:{["".concat(n,"-item:not(").concat(n,"-item-selected)")]:{"&:hover":{backgroundColor:M},"&:active":{backgroundColor:T}},["".concat(n,"-submenu-title")]:{"&:hover":{backgroundColor:M},"&:active":{backgroundColor:T}}},["".concat(n,"-item-danger")]:{color:S,["&".concat(n,"-item:hover")]:{["&:not(".concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{color:x}},["&".concat(n,"-item:active")]:{background:E}},["".concat(n,"-item a")]:{"&, &:hover":{color:"inherit"}},["".concat(n,"-item-selected")]:{color:o,["&".concat(n,"-item-danger")]:{color:I},"a, a:hover":{color:"inherit"}},["& ".concat(n,"-item-selected")]:{backgroundColor:c,["&".concat(n,"-item-danger")]:{backgroundColor:_}},["&".concat(n,"-submenu > ").concat(n)]:{backgroundColor:k},["&".concat(n,"-popup > ").concat(n)]:{backgroundColor:P},["&".concat(n,"-submenu-popup > ").concat(n)]:{backgroundColor:P},["&".concat(n,"-horizontal")]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{["> ".concat(n,"-item, > ").concat(n,"-submenu")]:{top:f,marginTop:t.calc(f).mul(-1).equal(),marginBottom:0,borderRadius:L,"&::after":{position:"absolute",insetInline:p,bottom:0,borderBottom:"".concat(re(u)," solid transparent"),transition:"border-color ".concat(m," ").concat(h),content:'""'},"&:hover, &-active, &-open":{background:$,"&::after":{borderBottomWidth:u,borderBottomColor:R}},"&-selected":{color:R,backgroundColor:D,"&:hover":{backgroundColor:D},"&::after":{borderBottomWidth:u,borderBottomColor:R}}}}),["&".concat(n,"-root")]:{["&".concat(n,"-inline, &").concat(n,"-vertical")]:{borderInlineEnd:"".concat(re(f)," ").concat(y," ").concat(b)}},["&".concat(n,"-inline")]:{["".concat(n,"-sub").concat(n,"-inline")]:{background:a},["".concat(n,"-item")]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(re(d)," solid ").concat(o),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(w," ").concat(g),"opacity ".concat(w," ").concat(g)].join(","),content:'""'},["&".concat(n,"-item-danger")]:{"&::after":{borderInlineEndColor:I}}},["".concat(n,"-selected, ").concat(n,"-item-selected")]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(w," ").concat(h),"opacity ".concat(w," ").concat(h)].join(",")}}}}}},_w=W7,Pw=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:o,menuArrowSize:i,marginXS:s,itemMarginBlock:a,itemWidth:c}=t,u=t.calc(i).add(o).add(s).equal();return{["".concat(e,"-item")]:{position:"relative",overflow:"hidden"},["".concat(e,"-item, ").concat(e,"-submenu-title")]:{height:n,lineHeight:re(n),paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:a,width:c},["> ".concat(e,"-item,\n            > ").concat(e,"-submenu > ").concat(e,"-submenu-title")]:{height:n,lineHeight:re(n)},["".concat(e,"-item-group-list ").concat(e,"-submenu-title,\n            ").concat(e,"-submenu-title")]:{paddingInlineEnd:u}}},G7=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:o,dropdownWidth:i,controlHeightLG:s,motionDurationMid:a,motionEaseOut:c,paddingXL:u,itemMarginInline:d,fontSizeLG:f,motionDurationSlow:m,paddingXS:h,boxShadowSecondary:g,collapsedWidth:p,collapsedIconSize:w}=t,v={height:r,lineHeight:re(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({["&".concat(e,"-root")]:{boxShadow:"none"}},Pw(t))},["".concat(e,"-submenu-popup")]:{["".concat(e,"-vertical")]:Object.assign(Object.assign({},Pw(t)),{boxShadow:g})}},{["".concat(e,"-submenu-popup ").concat(e,"-vertical").concat(e,"-sub")]:{minWidth:i,maxHeight:"calc(100vh - ".concat(re(t.calc(s).mul(2.5).equal()),")"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{["".concat(e,"-inline")]:{width:"100%",["&".concat(e,"-root")]:{["".concat(e,"-item, ").concat(e,"-submenu-title")]:{display:"flex",alignItems:"center",transition:["border-color ".concat(m),"background ".concat(m),"padding ".concat(a," ").concat(c),"padding-inline calc(50% - ".concat(re(t.calc(f).div(2).equal())," - ").concat(re(d),")")].join(","),["> ".concat(e,"-title-content")]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},["".concat(e,"-sub").concat(e,"-inline")]:{padding:0,border:0,borderRadius:0,boxShadow:"none",["& > ".concat(e,"-submenu > ").concat(e,"-submenu-title")]:v,["& ".concat(e,"-item-group-title")]:{paddingInlineStart:u}},["".concat(e,"-item")]:v}},{["".concat(e,"-inline-collapsed")]:{width:p,["&".concat(e,"-root")]:{["".concat(e,"-item, ").concat(e,"-submenu ").concat(e,"-submenu-title")]:{["> ".concat(e,"-inline-collapsed-noicon")]:{fontSize:f,textAlign:"center"}}},["> ".concat(e,"-item,\n          > ").concat(e,"-item-group > ").concat(e,"-item-group-list > ").concat(e,"-item,\n          > ").concat(e,"-item-group > ").concat(e,"-item-group-list > ").concat(e,"-submenu > ").concat(e,"-submenu-title,\n          > ").concat(e,"-submenu > ").concat(e,"-submenu-title")]:{insetInlineStart:0,paddingInline:"calc(50% - ".concat(re(t.calc(f).div(2).equal())," - ").concat(re(d),")"),textOverflow:"clip",["\n            ".concat(e,"-submenu-arrow,\n            ").concat(e,"-submenu-expand-icon\n          ")]:{opacity:0},["".concat(e,"-item-icon, ").concat(n)]:{margin:0,fontSize:w,lineHeight:re(r),"+ span":{display:"inline-block",opacity:0}}},["".concat(e,"-item-icon, ").concat(n)]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",["".concat(e,"-item-icon, ").concat(n)]:{display:"none"},"a, a:hover":{color:o}},["".concat(e,"-item-group-title")]:Object.assign(Object.assign({},Ci),{paddingInline:h})}}]},q7=G7,Mw=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:i,iconCls:s,iconSize:a,iconMarginInlineEnd:c}=t;return{["".concat(e,"-item, ").concat(e,"-submenu-title")]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(n),"background ".concat(n),"padding ".concat(n," ").concat(o)].join(","),["".concat(e,"-item-icon, ").concat(s)]:{minWidth:a,fontSize:a,transition:["font-size ".concat(r," ").concat(i),"margin ".concat(n," ").concat(o),"color ".concat(n)].join(","),"+ span":{marginInlineStart:c,opacity:1,transition:["opacity ".concat(n," ").concat(o),"margin ".concat(n),"color ".concat(n)].join(",")}},["".concat(e,"-item-icon")]:Object.assign({},tf()),["&".concat(e,"-item-only-child")]:{["> ".concat(s,", > ").concat(e,"-item-icon")]:{marginInlineEnd:0}}},["".concat(e,"-item-disabled, ").concat(e,"-submenu-disabled")]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},["> ".concat(e,"-submenu-title")]:{color:"inherit !important",cursor:"not-allowed"}}}},kw=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:o,menuArrowSize:i,menuArrowOffset:s}=t;return{["".concat(e,"-submenu")]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(n," ").concat(r,", opacity ").concat(n)},"&-arrow":{"&::before, &::after":{position:"absolute",width:t.calc(i).mul(.6).equal(),height:t.calc(i).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:o,transition:["background ".concat(n," ").concat(r),"transform ".concat(n," ").concat(r),"top ".concat(n," ").concat(r),"color ".concat(n," ").concat(r)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(".concat(re(t.calc(s).mul(-1).equal()),")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(re(s),")")}}}}},K7=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:o,motionDurationMid:i,motionEaseInOut:s,paddingXS:a,padding:c,colorSplit:u,lineWidth:d,zIndexPopup:f,borderRadiusLG:m,subMenuItemBorderRadius:h,menuArrowSize:g,menuArrowOffset:p,lineType:w,groupTitleLineHeight:v,groupTitleFontSize:y}=t;return[{"":{["".concat(n)]:Object.assign(Object.assign({},Ia()),{"&-hidden":{display:"none"}})},["".concat(n,"-submenu-hidden")]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),Ia()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:"width ".concat(o," cubic-bezier(0.2, 0, 0, 1) 0s"),"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",["".concat(n,"-item")]:{flex:"none"}},["".concat(n,"-item, ").concat(n,"-submenu, ").concat(n,"-submenu-title")]:{borderRadius:t.itemBorderRadius},["".concat(n,"-item-group-title")]:{padding:"".concat(re(a)," ").concat(re(c)),fontSize:y,lineHeight:v,transition:"all ".concat(o)},["&-horizontal ".concat(n,"-submenu")]:{transition:["border-color ".concat(o," ").concat(s),"background ".concat(o," ").concat(s)].join(",")},["".concat(n,"-submenu, ").concat(n,"-submenu-inline")]:{transition:["border-color ".concat(o," ").concat(s),"background ".concat(o," ").concat(s),"padding ".concat(i," ").concat(s)].join(",")},["".concat(n,"-submenu ").concat(n,"-sub")]:{cursor:"initial",transition:["background ".concat(o," ").concat(s),"padding ".concat(o," ").concat(s)].join(",")},["".concat(n,"-title-content")]:{transition:"color ".concat(o),["> ".concat(e,"-typography-ellipsis-single-line")]:{display:"inline",verticalAlign:"unset"}},["".concat(n,"-item a")]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},["".concat(n,"-item-divider")]:{overflow:"hidden",lineHeight:0,borderColor:u,borderStyle:w,borderWidth:0,borderTopWidth:d,marginBlock:d,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Mw(t)),{["".concat(n,"-item-group")]:{["".concat(n,"-item-group-list")]:{margin:0,padding:0,["".concat(n,"-item, ").concat(n,"-submenu-title")]:{paddingInline:"".concat(re(t.calc(r).mul(2).equal())," ").concat(re(c))}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:f,borderRadius:m,boxShadow:"none",transformOrigin:"0 0",["&".concat(n,"-submenu")]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},["> ".concat(n)]:Object.assign(Object.assign(Object.assign({borderRadius:m},Mw(t)),kw(t)),{["".concat(n,"-item, ").concat(n,"-submenu > ").concat(n,"-submenu-title")]:{borderRadius:h},["".concat(n,"-submenu-title::after")]:{transition:"transform ".concat(o," ").concat(s)}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS}}}),kw(t)),{["&-inline-collapsed ".concat(n,"-submenu-arrow,\n        &-inline ").concat(n,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateX(".concat(re(p),")")},"&::after":{transform:"rotate(45deg) translateX(".concat(re(t.calc(p).mul(-1).equal()),")")}},["".concat(n,"-submenu-open").concat(n,"-submenu-inline > ").concat(n,"-submenu-title > ").concat(n,"-submenu-arrow")]:{transform:"translateY(".concat(re(t.calc(g).mul(.2).mul(-1).equal()),")"),"&::after":{transform:"rotate(-45deg) translateX(".concat(re(t.calc(p).mul(-1).equal()),")")},"&::before":{transform:"rotate(45deg) translateX(".concat(re(p),")")}}})},{["".concat(e,"-layout-header")]:{[n]:{lineHeight:"inherit"}}}]},Y7=t=>{var e,n,r;const{colorPrimary:o,colorError:i,colorTextDisabled:s,colorErrorBg:a,colorText:c,colorTextDescription:u,colorBgContainer:d,colorFillAlter:f,colorFillContent:m,lineWidth:h,lineWidthBold:g,controlItemBgActive:p,colorBgTextHover:w,controlHeightLG:v,lineHeight:y,colorBgElevated:b,marginXXS:C,padding:S,fontSize:x,controlHeightSM:I,fontSizeLG:E,colorTextLightSolid:_,colorErrorHover:P}=t,M=(e=t.activeBarWidth)!==null&&e!==void 0?e:0,T=(n=t.activeBarBorderWidth)!==null&&n!==void 0?n:h,k=(r=t.itemMarginInline)!==null&&r!==void 0?r:t.marginXXS,R=new rn(_).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:t.zIndexPopupBase+50,radiusItem:t.borderRadiusLG,itemBorderRadius:t.borderRadiusLG,radiusSubMenuItem:t.borderRadiusSM,subMenuItemBorderRadius:t.borderRadiusSM,colorItemText:c,itemColor:c,colorItemTextHover:c,itemHoverColor:c,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:u,groupTitleColor:u,colorItemTextSelected:o,itemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:d,itemBg:d,colorItemBgHover:w,itemHoverBg:w,colorItemBgActive:m,itemActiveBg:p,colorSubItemBg:f,subMenuItemBg:f,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:M,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:h,activeBarBorderWidth:T,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:a,dangerItemActiveBg:a,colorDangerItemBgSelected:a,dangerItemSelectedBg:a,itemMarginInline:k,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:y,collapsedWidth:v*2,popupBg:b,itemMarginBlock:C,itemPaddingInline:S,horizontalLineHeight:"".concat(v*1.15,"px"),iconSize:x,iconMarginInlineEnd:I-x,collapsedIconSize:E,groupTitleFontSize:x,darkItemDisabledColor:new rn(_).setAlpha(.25).toRgbString(),darkItemColor:R,darkDangerItemColor:i,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:_,darkItemSelectedBg:o,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:R,darkItemHoverColor:_,darkDangerItemHoverColor:P,darkDangerItemSelectedColor:_,darkDangerItemActiveBg:i,itemWidth:M?"calc(100% + ".concat(T,"px)"):"calc(100% - ".concat(k*2,"px)")}},X7=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Jt("Menu",o=>{const{colorBgElevated:i,controlHeightLG:s,fontSize:a,darkItemColor:c,darkDangerItemColor:u,darkItemBg:d,darkSubMenuItemBg:f,darkItemSelectedColor:m,darkItemSelectedBg:h,darkDangerItemSelectedBg:g,darkItemHoverBg:p,darkGroupTitleColor:w,darkItemHoverColor:v,darkItemDisabledColor:y,darkDangerItemHoverColor:b,darkDangerItemSelectedColor:C,darkDangerItemActiveBg:S,popupBg:x,darkPopupBg:I}=o,E=o.calc(a).div(7).mul(5).equal(),_=Dt(o,{menuArrowSize:E,menuHorizontalHeight:o.calc(s).mul(1.15).equal(),menuArrowOffset:o.calc(E).mul(.25).equal(),menuSubMenuBg:i,calc:o.calc,popupBg:x}),P=Dt(_,{itemColor:c,itemHoverColor:v,groupTitleColor:w,itemSelectedColor:m,itemBg:d,popupBg:I,subMenuItemBg:f,itemActiveBg:"transparent",itemSelectedBg:h,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:p,itemDisabledColor:y,dangerItemColor:u,dangerItemHoverColor:b,dangerItemSelectedColor:C,dangerItemActiveBg:S,dangerItemSelectedBg:g,menuSubMenuBg:f,horizontalItemSelectedColor:m,horizontalItemSelectedBg:h});return[K7(_),z7(_),q7(_),_w(_,"light"),_w(P,"dark"),H7(_),Jp(_),Jo(_,"slide-up"),Jo(_,"slide-down"),Wa(_,"zoom-big")]},Y7,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(t,e)},Q7=t=>{var e;const{popupClassName:n,icon:r,title:o,theme:i}=t,s=l.useContext(bd),{prefixCls:a,inlineCollapsed:c,theme:u}=s,d=Ya();let f;if(!r)f=c&&!d.length&&o&&typeof o=="string"?l.createElement("div",{className:"".concat(a,"-inline-collapsed-noicon")},o.charAt(0)):l.createElement("span",{className:"".concat(a,"-title-content")},o);else{const g=l.isValidElement(o)&&o.type==="span";f=l.createElement(l.Fragment,null,ur(r,{className:X(l.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"","".concat(a,"-item-icon"))}),g?o:l.createElement("span",{className:"".concat(a,"-title-content")},o))}const m=l.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[h]=ti("Menu");return l.createElement(bd.Provider,{value:m},l.createElement(Sf,Object.assign({},Nn(t,["icon"]),{title:f,popupClassName:X(a,n,"".concat(a,"-").concat(i||u)),popupStyle:{zIndex:h}})))},hE=Q7;var J7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Bm(t){return t===null||t===!1}const Z7={item:mE,submenu:hE,divider:fE},eV=l.forwardRef((t,e)=>{var n;const r=l.useContext(wd),o=r||{},{getPrefixCls:i,getPopupContainer:s,direction:a,menu:c}=l.useContext(Ge),u=i(),{prefixCls:d,className:f,style:m,theme:h="light",expandIcon:g,_internalDisableMenuItemTitleTooltip:p,inlineCollapsed:w,siderCollapsed:v,rootClassName:y,mode:b,selectable:C,onClick:S,overflowedIndicatorPopupClassName:x}=t,I=J7(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),E=Nn(I,["collapsedWidth"]);(n=o.validator)===null||n===void 0||n.call(o,{mode:b});const _=Gt(function(){var V;S==null||S.apply(void 0,arguments),(V=o.onClick)===null||V===void 0||V.call(o)}),P=o.mode||b,M=C!=null?C:o.selectable,T=l.useMemo(()=>v!==void 0?v:w,[w,v]),k={horizontal:{motionName:"".concat(u,"-slide-up")},inline:fd(u),other:{motionName:"".concat(u,"-zoom-big")}},R=i("menu",d||o.prefixCls),D=Dn(R),[L,$,j]=X7(R,D,!r),U=X("".concat(R,"-").concat(h),c==null?void 0:c.className,f),z=l.useMemo(()=>{var V,N;if(typeof g=="function"||Bm(g))return g||null;if(typeof o.expandIcon=="function"||Bm(o.expandIcon))return o.expandIcon||null;if(typeof(c==null?void 0:c.expandIcon)=="function"||Bm(c==null?void 0:c.expandIcon))return(c==null?void 0:c.expandIcon)||null;const B=(V=g!=null?g:o==null?void 0:o.expandIcon)!==null&&V!==void 0?V:c==null?void 0:c.expandIcon;return ur(B,{className:X("".concat(R,"-submenu-expand-icon"),l.isValidElement(B)?(N=B.props)===null||N===void 0?void 0:N.className:void 0)})},[g,o==null?void 0:o.expandIcon,c==null?void 0:c.expandIcon,R]),F=l.useMemo(()=>({prefixCls:R,inlineCollapsed:T||!1,direction:a,firstLevel:!0,theme:h,mode:P,disableMenuItemTitleTooltip:p}),[R,T,a,p,h]);return L(l.createElement(wd.Provider,{value:null},l.createElement(bd.Provider,{value:F},l.createElement(Xa,Object.assign({getPopupContainer:s,overflowedIndicator:l.createElement(vv,null),overflowedIndicatorPopupClassName:X(R,"".concat(R,"-").concat(h),x),mode:P,selectable:M,onClick:_},E,{inlineCollapsed:T,style:Object.assign(Object.assign({},c==null?void 0:c.style),m),className:U,prefixCls:R,direction:a,defaultMotions:k,expandIcon:z,ref:e,rootClassName:X(y,$,o.rootClassName,j,D),_internalComponents:Z7})))))}),tV=eV,jc=l.forwardRef((t,e)=>{const n=l.useRef(null),r=l.useContext(xf);return l.useImperativeHandle(e,()=>({menu:n.current,focus:o=>{var i;(i=n.current)===null||i===void 0||i.focus(o)}})),l.createElement(tV,Object.assign({ref:n},t,r))});jc.Item=mE;jc.SubMenu=hE;jc.Divider=fE;jc.ItemGroup=pv;const nV=jc,rV=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:o}=t,i="".concat(n,"-item");return{["".concat(e,", ").concat(e,"-menu-submenu")]:{["".concat(n," ").concat(i)]:{["&".concat(i,"-danger:not(").concat(i,"-disabled)")]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},oV=rV,iV=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:o,sizePopupArrow:i,antCls:s,iconCls:a,motionDurationMid:c,paddingBlock:u,fontSize:d,dropdownEdgeChildPadding:f,colorTextDisabled:m,fontSizeIcon:h,controlPaddingHorizontal:g,colorBgElevated:p}=t;return[{[e]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:t.calc(i).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},["&-trigger".concat(s,"-btn")]:{["& > ".concat(a,"-down, & > ").concat(s,"-btn-icon > ").concat(a,"-down")]:{fontSize:h}},["".concat(e,"-wrap")]:{position:"relative",["".concat(s,"-btn > ").concat(a,"-down")]:{fontSize:h},["".concat(a,"-down::before")]:{transition:"transform ".concat(c)}},["".concat(e,"-wrap-open")]:{["".concat(a,"-down::before")]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},["&".concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(e,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(e,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(e,"-placement-bottom,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(e,"-placement-bottom,\n          &").concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(e,"-placement-bottomRight,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(e,"-placement-bottomRight")]:{animationName:ff},["&".concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(e,"-placement-topLeft,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(e,"-placement-topLeft,\n          &").concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(e,"-placement-top,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(e,"-placement-top,\n          &").concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(e,"-placement-topRight,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(e,"-placement-topRight")]:{animationName:hf},["&".concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(e,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(e,"-placement-bottom,\n          &").concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(e,"-placement-bottomRight")]:{animationName:mf},["&".concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(e,"-placement-topLeft,\n          &").concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(e,"-placement-top,\n          &").concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(e,"-placement-topRight")]:{animationName:gf}}},lv(t,p,{arrowPlacement:{top:!0,bottom:!0}}),{["".concat(e," ").concat(n)]:{position:"relative",margin:0},["".concat(n,"-submenu-popup")]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},["".concat(e,", ").concat(e,"-menu-submenu")]:Object.assign(Object.assign({},cn(t)),{[n]:Object.assign(Object.assign({padding:f,listStyleType:"none",backgroundColor:p,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},Qo(t)),{"&:empty":{padding:0,boxShadow:"none"},["".concat(n,"-item-group-title")]:{padding:"".concat(re(u)," ").concat(re(g)),color:t.colorTextDescription,transition:"all ".concat(c)},["".concat(n,"-item")]:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap"},["".concat(n,"-item-icon")]:{minWidth:d,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},["".concat(n,"-title-content")]:{flex:"auto","> a":{color:"inherit",transition:"all ".concat(c),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:Object.assign(Object.assign({clear:"both",margin:0,padding:"".concat(re(u)," ").concat(re(g)),color:t.colorText,fontWeight:"normal",fontSize:d,lineHeight:t.lineHeight,cursor:"pointer",transition:"all ".concat(c),borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},Qo(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:m,cursor:"not-allowed","&:hover":{color:m,backgroundColor:p,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat(re(t.marginXXS)," 0"),overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},["".concat(e,"-menu-submenu-expand-icon")]:{position:"absolute",insetInlineEnd:t.paddingXS,["".concat(e,"-menu-submenu-arrow-icon")]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:h,fontStyle:"normal"}}}),["".concat(n,"-item-group-list")]:{margin:"0 ".concat(re(t.marginXS)),padding:0,listStyle:"none"},["".concat(n,"-submenu-title")]:{paddingInlineEnd:t.calc(g).add(t.fontSizeSM).equal()},["".concat(n,"-submenu-vertical")]:{position:"relative"},["".concat(n,"-submenu").concat(n,"-submenu-disabled ").concat(e,"-menu-submenu-title")]:{["&, ".concat(e,"-menu-submenu-arrow-icon")]:{color:m,backgroundColor:p,cursor:"not-allowed"}},["".concat(n,"-submenu-selected ").concat(e,"-menu-submenu-title")]:{color:t.colorPrimary}})})},[Jo(t,"slide-up"),Jo(t,"slide-down"),_a(t,"move-up"),_a(t,"move-down"),Wa(t,"zoom-big")]]},sV=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+50,paddingBlock:(t.controlHeight-t.fontSize*t.lineHeight)/2},yf({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),wf(t)),aV=Jt("Dropdown",t=>{const{marginXXS:e,sizePopupArrow:n,paddingXXS:r,componentCls:o}=t,i=Dt(t,{menuCls:"".concat(o,"-menu"),dropdownArrowDistance:t.calc(n).div(2).add(e).equal(),dropdownEdgeChildPadding:r});return[iV(i),oV(i)]},sV,{resetStyle:!1}),bv=t=>{var e;const{menu:n,arrow:r,prefixCls:o,children:i,trigger:s,disabled:a,dropdownRender:c,getPopupContainer:u,overlayClassName:d,rootClassName:f,overlayStyle:m,open:h,onOpenChange:g,visible:p,onVisibleChange:w,mouseEnterDelay:v=.15,mouseLeaveDelay:y=.1,autoAdjustOverflow:b=!0,placement:C="",overlay:S,transitionName:x}=t,{getPopupContainer:I,getPrefixCls:E,direction:_,dropdown:P}=l.useContext(Ge);Os();const M=l.useMemo(()=>{const ie=E();return x!==void 0?x:C.includes("top")?"".concat(ie,"-slide-down"):"".concat(ie,"-slide-up")},[E,C,x]),T=l.useMemo(()=>C?C.includes("Center")?C.slice(0,C.indexOf("Center")):C:_==="rtl"?"bottomRight":"bottomLeft",[C,_]),k=E("dropdown",o),R=Dn(k),[D,L,$]=aV(k,R),[,j]=Dr(),U=l.Children.only(i),z=ur(U,{className:X("".concat(k,"-trigger"),{["".concat(k,"-rtl")]:_==="rtl"},U.props.className),disabled:(e=U.props.disabled)!==null&&e!==void 0?e:a}),F=a?[]:s,V=!!(F!=null&&F.includes("contextMenu")),[N,B]=on(!1,{value:h!=null?h:p}),H=Gt(ie=>{g==null||g(ie,{source:"trigger"}),w==null||w(ie),B(ie)}),Q=X(d,f,L,$,R,P==null?void 0:P.className,{["".concat(k,"-rtl")]:_==="rtl"}),G=jA({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:b,offset:j.marginXXS,arrowWidth:r?j.sizePopupArrow:0,borderRadius:j.borderRadius}),Y=l.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(g==null||g(!1,{source:"menu"}),B(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),te=()=>{let ie;return n!=null&&n.items?ie=l.createElement(nV,Object.assign({},n)):typeof S=="function"?ie=S():ie=S,c&&(ie=c(ie)),ie=l.Children.only(typeof ie=="string"?l.createElement("span",null,ie):ie),l.createElement(V7,{prefixCls:"".concat(k,"-menu"),rootClassName:X($,R),expandIcon:l.createElement("span",{className:"".concat(k,"-menu-submenu-arrow")},l.createElement(er,{className:"".concat(k,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:Y,validator:oe=>{}},ie)},[ee,J]=ti("Dropdown",m==null?void 0:m.zIndex);let se=l.createElement(JA,Object.assign({alignPoint:V},Nn(t,["rootClassName"]),{mouseEnterDelay:v,mouseLeaveDelay:y,visible:N,builtinPlacements:G,arrow:!!r,overlayClassName:Q,prefixCls:k,getPopupContainer:u||I,transitionName:M,trigger:F,overlay:te,placement:T,onVisibleChange:H,overlayStyle:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),m),{zIndex:ee})}),z);return ee&&(se=l.createElement(Mc.Provider,{value:J},se)),D(se)};function lV(t){return Object.assign(Object.assign({},t),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const cV=pf(bv,"dropdown",t=>t,lV),uV=t=>l.createElement(cV,Object.assign({},t),l.createElement("span",null));bv._InternalPanelDoNotUseOrYouWillBeFired=uV;const wv=bv,gE=t=>{let{children:e}=t;const{getPrefixCls:n}=l.useContext(Ge),r=n("breadcrumb");return l.createElement("li",{className:"".concat(r,"-separator"),"aria-hidden":"true"},e===""?e:e||"/")};gE.__ANT_BREADCRUMB_SEPARATOR=!0;const yv=gE;var dV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function fV(t,e){if(t.title===void 0||t.title===null)return null;const n=Object.keys(e).join("|");return typeof t.title=="object"?t.title:String(t.title).replace(new RegExp(":(".concat(n,")"),"g"),(r,o)=>e[o]||r)}function pE(t,e,n,r){if(n==null)return null;const{className:o,onClick:i}=e,s=dV(e,["className","onClick"]),a=Object.assign(Object.assign({},cr(s,{data:!0,aria:!0})),{onClick:i});return r!==void 0?l.createElement("a",Object.assign({},a,{className:X("".concat(t,"-link"),o),href:r}),n):l.createElement("span",Object.assign({},a,{className:X("".concat(t,"-link"),o)}),n)}function mV(t,e){return(r,o,i,s,a)=>{if(e)return e(r,o,i,s);const c=fV(r,o);return pE(t,r,c,a)}}var Og=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const vE=t=>{const{prefixCls:e,separator:n="/",children:r,menu:o,overlay:i,dropdownProps:s,href:a}=t,u=(d=>{if(o||i){const f=Object.assign({},s);if(o){const m=o||{},{items:h}=m,g=Og(m,["items"]);f.menu=Object.assign(Object.assign({},g),{items:h==null?void 0:h.map((p,w)=>{var{key:v,title:y,label:b,path:C}=p,S=Og(p,["key","title","label","path"]);let x=b!=null?b:y;return C&&(x=l.createElement("a",{href:"".concat(a).concat(C)},x)),Object.assign(Object.assign({},S),{key:v!=null?v:w,label:x})})})}else i&&(f.overlay=i);return l.createElement(wv,Object.assign({placement:"bottom"},f),l.createElement("span",{className:"".concat(e,"-overlay-link")},d,l.createElement(bf,null)))}return d})(r);return u!=null?l.createElement(l.Fragment,null,l.createElement("li",null,u),n&&l.createElement(yv,null,n)):null},bE=t=>{const{prefixCls:e,children:n,href:r}=t,o=Og(t,["prefixCls","children","href"]),{getPrefixCls:i}=l.useContext(Ge),s=i("breadcrumb",e);return l.createElement(vE,Object.assign({},o,{prefixCls:s}),pE(s,o,n,r))};bE.__ANT_BREADCRUMB_ITEM=!0;const hV=bE,gV=t=>{const{componentCls:e,iconCls:n,calc:r}=t;return{[e]:Object.assign(Object.assign({},cn(t)),{color:t.itemColor,fontSize:t.fontSize,[n]:{fontSize:t.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:t.linkColor,transition:"color ".concat(t.motionDurationMid),padding:"0 ".concat(re(t.paddingXXS)),borderRadius:t.borderRadiusSM,height:t.fontHeight,display:"inline-block",marginInline:r(t.marginXXS).mul(-1).equal(),"&:hover":{color:t.linkHoverColor,backgroundColor:t.colorBgTextHover}},Qo(t)),"li:last-child":{color:t.lastItemColor},["".concat(e,"-separator")]:{marginInline:t.separatorMargin,color:t.separatorColor},["".concat(e,"-link")]:{["\n          > ".concat(n," + span,\n          > ").concat(n," + a\n        ")]:{marginInlineStart:t.marginXXS}},["".concat(e,"-overlay-link")]:{borderRadius:t.borderRadiusSM,height:t.fontHeight,display:"inline-block",padding:"0 ".concat(re(t.paddingXXS)),marginInline:r(t.marginXXS).mul(-1).equal(),["> ".concat(n)]:{marginInlineStart:t.marginXXS,fontSize:t.fontSizeIcon},"&:hover":{color:t.linkHoverColor,backgroundColor:t.colorBgTextHover,a:{color:t.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},["&".concat(t.componentCls,"-rtl")]:{direction:"rtl"}})}},pV=t=>({itemColor:t.colorTextDescription,lastItemColor:t.colorText,iconFontSize:t.fontSize,linkColor:t.colorTextDescription,linkHoverColor:t.colorText,separatorColor:t.colorTextDescription,separatorMargin:t.marginXS}),vV=Jt("Breadcrumb",t=>{const e=Dt(t,{});return gV(e)},pV);var Rw=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function bV(t){const{breadcrumbName:e,children:n}=t,r=Rw(t,["breadcrumbName","children"]),o=Object.assign({title:e},r);return n&&(o.menu={items:n.map(i=>{var{breadcrumbName:s}=i,a=Rw(i,["breadcrumbName"]);return Object.assign(Object.assign({},a),{title:s})})}),o}function wV(t,e){return l.useMemo(()=>t||(e?e.map(bV):null),[t,e])}var yV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const CV=(t,e)=>{if(e===void 0)return e;let n=(e||"").replace(/^\//,"");return Object.keys(t).forEach(r=>{n=n.replace(":".concat(r),t[r])}),n},Cv=t=>{const{prefixCls:e,separator:n="/",style:r,className:o,rootClassName:i,routes:s,items:a,children:c,itemRender:u,params:d={}}=t,f=yV(t,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:m,direction:h,breadcrumb:g}=l.useContext(Ge);let p;const w=m("breadcrumb",e),[v,y,b]=vV(w),C=wV(a,s),S=mV(w,u);if(C&&C.length>0){const E=[],_=a||s;p=C.map((P,M)=>{const{path:T,key:k,type:R,menu:D,overlay:L,onClick:$,className:j,separator:U,dropdownProps:z}=P,F=CV(d,T);F!==void 0&&E.push(F);const V=k!=null?k:M;if(R==="separator")return l.createElement(yv,{key:V},U);const N={},B=M===C.length-1;D?N.menu=D:L&&(N.overlay=L);let{href:H}=P;return E.length&&F!==void 0&&(H="#/".concat(E.join("/"))),l.createElement(vE,Object.assign({key:V},N,cr(P,{data:!0,aria:!0}),{className:j,dropdownProps:z,href:H,separator:B?"":n,onClick:$,prefixCls:w}),S(P,d,_,E,H))})}else if(c){const E=Nr(c).length;p=Nr(c).map((_,P)=>{if(!_)return _;const M=P===E-1;return ur(_,{separator:M?"":n,key:P})})}const x=X(w,g==null?void 0:g.className,{["".concat(w,"-rtl")]:h==="rtl"},o,i,y,b),I=Object.assign(Object.assign({},g==null?void 0:g.style),r);return v(l.createElement("nav",Object.assign({className:x,style:I},f),l.createElement("ol",null,p)))};Cv.Item=hV;Cv.Separator=yv;const SV=Cv;sn.extend(hM);sn.extend(gM);sn.extend(pM);sn.extend(vM);sn.extend(bM);sn.extend(wM);sn.extend(function(t,e){var n=e.prototype,r=n.format;n.format=function(i){var s=(i||"").replace("Wo","wo");return r.bind(this)(s)}});var xV={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},as=function(e){var n=xV[e];return n||e.split("_")[0]},Tw=function(){hS(!1,"Not match any format. Please help to fire a issue about this.")},AV={getNow:function(){return sn()},getFixedDate:function(e){return sn(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var n=e.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,n){return e.add(n,"year")},addMonth:function(e,n){return e.add(n,"month")},addDate:function(e,n){return e.add(n,"day")},setYear:function(e,n){return e.year(n)},setMonth:function(e,n){return e.month(n)},setDate:function(e,n){return e.date(n)},setHour:function(e,n){return e.hour(n)},setMinute:function(e,n){return e.minute(n)},setSecond:function(e,n){return e.second(n)},setMillisecond:function(e,n){return e.millisecond(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return sn().locale(as(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){return n.locale(as(e)).weekday(0)},getWeek:function(e,n){return n.locale(as(e)).week()},getShortWeekDays:function(e){return sn().locale(as(e)).localeData().weekdaysMin()},getShortMonths:function(e){return sn().locale(as(e)).localeData().monthsShort()},format:function(e,n,r){return n.locale(as(e)).format(r)},parse:function(e,n,r){for(var o=as(e),i=0;i<r.length;i+=1){var s=r[i],a=n;if(s.includes("wo")||s.includes("Wo")){for(var c=a.split("-")[0],u=a.split("-")[1],d=sn(c,"YYYY").startOf("year").locale(o),f=0;f<=52;f+=1){var m=d.add(f,"week");if(m.format("Wo")===u)return m}return Tw(),null}var h=sn(a,s,!0).locale(o);if(h.isValid())return h}return n&&Tw(),null}}};function Af(t,e){return t!==void 0?t:e?"bottomRight":"bottomLeft"}function wE(t,e){var n=Af(t,e),r=n==null?void 0:n.toLowerCase().endsWith("right"),o=r?"insetInlineEnd":"insetInlineStart";return e&&(o=["insetInlineStart","insetInlineEnd"].find(function(i){return i!==o})),o}var jo=l.createContext(null),EV={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function yE(t){var e=t.popupElement,n=t.popupStyle,r=t.popupClassName,o=t.popupAlign,i=t.transitionName,s=t.getPopupContainer,a=t.children,c=t.range,u=t.placement,d=t.builtinPlacements,f=d===void 0?EV:d,m=t.direction,h=t.visible,g=t.onClose,p=l.useContext(jo),w=p.prefixCls,v="".concat(w,"-dropdown"),y=Af(u,m==="rtl");return l.createElement(Lc,{showAction:[],hideAction:["click"],popupPlacement:y,builtinPlacements:f,prefixCls:v,popupTransitionName:i,popup:e,popupAlign:o,popupVisible:h,popupClassName:X(r,q(q({},"".concat(v,"-range"),c),"".concat(v,"-rtl"),m==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:s,onPopupVisibleChange:function(C){C||g()}},a)}function Sv(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(r);return r}function $s(t){return t==null?[]:Array.isArray(t)?t:[t]}function Hl(t,e,n){var r=Ee(t);return r[e]=n,r}function Ef(t,e){var n={},r=e||Object.keys(t);return r.forEach(function(o){t[o]!==void 0&&(n[o]=t[o])}),n}function CE(t,e,n){if(n)return n;switch(t){case"time":return e.fieldTimeFormat;case"datetime":return e.fieldDateTimeFormat;case"month":return e.fieldMonthFormat;case"year":return e.fieldYearFormat;case"quarter":return e.fieldQuarterFormat;case"week":return e.fieldWeekFormat;default:return e.fieldDateFormat}}function SE(t,e,n){var r=n!==void 0?n:e[e.length-1],o=e.find(function(i){return t[i]});return r!==o?t[o]:void 0}function xE(t){return Ef(t,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function xv(t,e,n,r){var o=l.useMemo(function(){return t||function(s,a){var c=s;return e&&a.type==="date"?e(c,a.today):n&&a.type==="month"?n(c,a.locale):a.originNode}},[t,n,e]),i=l.useCallback(function(s,a){return o(s,W(W({},a),{},{range:r}))},[o,r]);return i}function AE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=l.useState([!1,!1]),o=K(r,2),i=o[0],s=o[1],a=function(d,f){s(function(m){return Hl(m,f,d)})},c=l.useMemo(function(){return i.map(function(u,d){if(u)return!0;var f=t[d];return f?!!(!n[d]&&!f||f&&e(f,{activeIndex:d})):!1})},[t,i,e,n]);return[c,a]}function EE(t,e,n,r,o){var i="",s=[];return t&&s.push(o?"hh":"HH"),e&&s.push("mm"),n&&s.push("ss"),i=s.join(":"),r&&(i+=".SSS"),o&&(i+=" A"),i}function IV(t,e,n,r,o,i){var s=t.fieldDateTimeFormat,a=t.fieldDateFormat,c=t.fieldTimeFormat,u=t.fieldMonthFormat,d=t.fieldYearFormat,f=t.fieldWeekFormat,m=t.fieldQuarterFormat,h=t.yearFormat,g=t.cellYearFormat,p=t.cellQuarterFormat,w=t.dayFormat,v=t.cellDateFormat,y=EE(e,n,r,o,i);return W(W({},t),{},{fieldDateTimeFormat:s||"YYYY-MM-DD ".concat(y),fieldDateFormat:a||"YYYY-MM-DD",fieldTimeFormat:c||y,fieldMonthFormat:u||"YYYY-MM",fieldYearFormat:d||"YYYY",fieldWeekFormat:f||"gggg-wo",fieldQuarterFormat:m||"YYYY-[Q]Q",yearFormat:h||"YYYY",cellYearFormat:g||"YYYY",cellQuarterFormat:p||"[Q]Q",cellDateFormat:v||w||"D"})}function IE(t,e){var n=e.showHour,r=e.showMinute,o=e.showSecond,i=e.showMillisecond,s=e.use12Hours;return fe.useMemo(function(){return IV(t,n,r,o,i,s)},[t,n,r,o,i,s])}function bl(t,e,n){return n!=null?n:e.some(function(r){return t.includes(r)})}var _V=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function PV(t){var e=Ef(t,_V),n=t.format,r=t.picker,o=null;return n&&(o=n,Array.isArray(o)&&(o=o[0]),o=st(o)==="object"?o.format:o),r==="time"&&(e.format=o),[e,o]}function MV(t){return t&&typeof t=="string"}function _E(t,e,n,r){return[t,e,n,r].some(function(o){return o!==void 0})}function PE(t,e,n,r,o){var i=e,s=n,a=r;if(!t&&!i&&!s&&!a&&!o)i=!0,s=!0,a=!0;else if(t){var c,u,d,f=[i,s,a].some(function(g){return g===!1}),m=[i,s,a].some(function(g){return g===!0}),h=f?!0:!m;i=(c=i)!==null&&c!==void 0?c:h,s=(u=s)!==null&&u!==void 0?u:h,a=(d=a)!==null&&d!==void 0?d:h}return[i,s,a,o]}function ME(t){var e=t.showTime,n=PV(t),r=K(n,2),o=r[0],i=r[1],s=e&&st(e)==="object"?e:{},a=W(W({defaultOpenValue:s.defaultOpenValue||s.defaultValue},o),s),c=a.showMillisecond,u=a.showHour,d=a.showMinute,f=a.showSecond,m=_E(u,d,f,c),h=PE(m,u,d,f,c),g=K(h,3);return u=g[0],d=g[1],f=g[2],[a,W(W({},a),{},{showHour:u,showMinute:d,showSecond:f,showMillisecond:c}),a.format,i]}function kE(t,e,n,r,o){var i=t==="time";if(t==="datetime"||i){for(var s=r,a=CE(t,o,null),c=a,u=[e,n],d=0;d<u.length;d+=1){var f=$s(u[d])[0];if(MV(f)){c=f;break}}var m=s.showHour,h=s.showMinute,g=s.showSecond,p=s.showMillisecond,w=s.use12Hours,v=bl(c,["a","A","LT","LLL","LTS"],w),y=_E(m,h,g,p);y||(m=bl(c,["H","h","k","LT","LLL"]),h=bl(c,["m","LT","LLL"]),g=bl(c,["s","LTS"]),p=bl(c,["SSS"]));var b=PE(y,m,h,g,p),C=K(b,3);m=C[0],h=C[1],g=C[2];var S=e||EE(m,h,g,p,v);return W(W({},s),{},{format:S,showHour:m,showMinute:h,showSecond:g,showMillisecond:p,use12Hours:v})}return null}function kV(t,e,n){if(e===!1)return null;var r=e&&st(e)==="object"?e:{};return r.clearIcon||n||l.createElement("span",{className:"".concat(t,"-clear-btn")})}var Vm=7;function ns(t,e,n){return!t&&!e||t===e?!0:!t||!e?!1:n()}function Ng(t,e,n){return ns(e,n,function(){var r=Math.floor(t.getYear(e)/10),o=Math.floor(t.getYear(n)/10);return r===o})}function Ps(t,e,n){return ns(e,n,function(){return t.getYear(e)===t.getYear(n)})}function Ow(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function RV(t,e,n){return ns(e,n,function(){return Ps(t,e,n)&&Ow(t,e)===Ow(t,n)})}function Av(t,e,n){return ns(e,n,function(){return Ps(t,e,n)&&t.getMonth(e)===t.getMonth(n)})}function Ev(t,e,n){return ns(e,n,function(){return Ps(t,e,n)&&Av(t,e,n)&&t.getDate(e)===t.getDate(n)})}function RE(t,e,n){return ns(e,n,function(){return t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)})}function TE(t,e,n){return ns(e,n,function(){return Ev(t,e,n)&&RE(t,e,n)&&t.getMillisecond(e)===t.getMillisecond(n)})}function Rl(t,e,n,r){return ns(n,r,function(){var o=t.locale.getWeekFirstDate(e,n),i=t.locale.getWeekFirstDate(e,r);return Ps(t,o,i)&&t.locale.getWeek(e,n)===t.locale.getWeek(e,r)})}function Cr(t,e,n,r,o){switch(o){case"date":return Ev(t,n,r);case"week":return Rl(t,e.locale,n,r);case"month":return Av(t,n,r);case"quarter":return RV(t,n,r);case"year":return Ps(t,n,r);case"decade":return Ng(t,n,r);case"time":return RE(t,n,r);default:return TE(t,n,r)}}function If(t,e,n,r){return!e||!n||!r?!1:t.isAfter(r,e)&&t.isAfter(n,r)}function pu(t,e,n,r,o){return Cr(t,e,n,r,o)?!0:t.isAfter(n,r)}function TV(t,e,n){var r=e.locale.getWeekFirstDay(t),o=e.setDate(n,1),i=e.getWeekDay(o),s=e.addDate(o,r-i);return e.getMonth(s)===e.getMonth(n)&&e.getDate(s)>1&&(s=e.addDate(s,-7)),s}function tr(t,e){var n=e.generateConfig,r=e.locale,o=e.format;return t?typeof o=="function"?o(t):n.locale.format(r.locale,t,o):""}function yd(t,e,n){var r=e,o=["getHour","getMinute","getSecond","getMillisecond"],i=["setHour","setMinute","setSecond","setMillisecond"];return i.forEach(function(s,a){n?r=t[s](r,t[o[a]](n)):r=t[s](r,0)}),r}function OV(t,e,n,r,o){var i=Gt(function(s,a){return!!(n&&n(s,a)||r&&t.isAfter(r,s)&&!Cr(t,e,r,s,a.type)||o&&t.isAfter(s,o)&&!Cr(t,e,o,s,a.type))});return i}function NV(t,e,n){return l.useMemo(function(){var r=CE(t,e,n),o=$s(r),i=o[0],s=st(i)==="object"&&i.type==="mask"?i.format:null;return[o.map(function(a){return typeof a=="string"||typeof a=="function"?a:a.format}),s]},[t,e,n])}function DV(t,e,n){return typeof t[0]=="function"||n?!0:e}function $V(t,e,n,r){var o=Gt(function(i,s){var a=W({type:e},s);if(delete a.activeIndex,!t.isValidate(i)||n&&n(i,a))return!0;if((e==="date"||e==="time")&&r){var c,u=s&&s.activeIndex===1?"end":"start",d=((c=r.disabledTime)===null||c===void 0?void 0:c.call(r,i,u,{from:a.from}))||{},f=d.disabledHours,m=d.disabledMinutes,h=d.disabledSeconds,g=d.disabledMilliseconds,p=r.disabledHours,w=r.disabledMinutes,v=r.disabledSeconds,y=f||p,b=m||w,C=h||v,S=t.getHour(i),x=t.getMinute(i),I=t.getSecond(i),E=t.getMillisecond(i);if(y&&y().includes(S)||b&&b(S).includes(x)||C&&C(S,x).includes(I)||g&&g(S,x,I).includes(E))return!0}return!1});return o}function vu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=l.useMemo(function(){var r=t&&$s(t);return e&&r&&(r[1]=r[1]||r[0]),r},[t,e]);return n}function OE(t,e){var n=t.generateConfig,r=t.locale,o=t.picker,i=o===void 0?"date":o,s=t.prefixCls,a=s===void 0?"rc-picker":s,c=t.styles,u=c===void 0?{}:c,d=t.classNames,f=d===void 0?{}:d,m=t.order,h=m===void 0?!0:m,g=t.components,p=g===void 0?{}:g,w=t.inputRender,v=t.allowClear,y=t.clearIcon,b=t.needConfirm,C=t.multiple,S=t.format,x=t.inputReadOnly,I=t.disabledDate,E=t.minDate,_=t.maxDate,P=t.showTime,M=t.value,T=t.defaultValue,k=t.pickerValue,R=t.defaultPickerValue,D=vu(M),L=vu(T),$=vu(k),j=vu(R),U=i==="date"&&P?"datetime":i,z=U==="time"||U==="datetime",F=z||C,V=b!=null?b:z,N=ME(t),B=K(N,4),H=B[0],Q=B[1],G=B[2],Y=B[3],te=IE(r,Q),ee=l.useMemo(function(){return kE(U,G,Y,H,te)},[U,G,Y,H,te]),J=l.useMemo(function(){return W(W({},t),{},{prefixCls:a,locale:te,picker:i,styles:u,classNames:f,order:h,components:W({input:w},p),clearIcon:kV(a,v,y),showTime:ee,value:D,defaultValue:L,pickerValue:$,defaultPickerValue:j},e==null?void 0:e())},[t]),se=NV(U,te,S),ie=K(se,2),oe=ie[0],ue=ie[1],de=DV(oe,x,C),he=OV(n,r,I,E,_),ye=$V(n,i,he,ee),Se=l.useMemo(function(){return W(W({},J),{},{needConfirm:V,inputReadOnly:de,disabledDate:he})},[J,V,de,he]);return[Se,U,F,oe,ue,ye]}function FV(t,e,n){var r=on(e,{value:t}),o=K(r,2),i=o[0],s=o[1],a=fe.useRef(t),c=fe.useRef(),u=function(){zt.cancel(c.current)},d=Gt(function(){s(a.current),n&&i!==a.current&&n(a.current)}),f=Gt(function(m,h){u(),a.current=m,m||h?d():c.current=zt(d)});return fe.useEffect(function(){return u},[]),[i,f]}function NE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=n.every(function(d){return d})?!1:t,i=FV(o,e||!1,r),s=K(i,2),a=s[0],c=s[1];function u(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!f.inherit||a)&&c(d,f.force)}return[a,u]}function DE(t){var e=l.useRef();return l.useImperativeHandle(t,function(){var n;return{nativeElement:(n=e.current)===null||n===void 0?void 0:n.nativeElement,focus:function(o){var i;(i=e.current)===null||i===void 0||i.focus(o)},blur:function(){var o;(o=e.current)===null||o===void 0||o.blur()}}}),e}function $E(t,e){return l.useMemo(function(){return t||(e?(nr(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(e).map(function(n){var r=K(n,2),o=r[0],i=r[1];return{label:o,value:i}})):[])},[t,e])}function Iv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=l.useRef(e);r.current=e,ad(function(){if(t)r.current(t);else{var o=zt(function(){r.current(t)},n);return function(){zt.cancel(o)}}},[t])}function FE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=l.useState(0),o=K(r,2),i=o[0],s=o[1],a=l.useState(!1),c=K(a,2),u=c[0],d=c[1],f=l.useRef([]),m=l.useRef(null),h=function(v){d(v)},g=function(v){return v&&(m.current=v),m.current},p=function(v){var y=f.current,b=new Set(y.filter(function(S){return v[S]||e[S]})),C=y[y.length-1]===0?1:0;return b.size>=2||t[C]?null:C};return Iv(u||n,function(){u||(f.current=[])}),l.useEffect(function(){u&&f.current.push(i)},[u,i]),[u,h,g,i,s,p,f.current]}function LV(t,e,n,r,o,i){var s=n[n.length-1],a=function(u,d){var f=K(t,2),m=f[0],h=f[1],g=W(W({},d),{},{from:SE(t,n)});return s===1&&e[0]&&m&&!Cr(r,o,m,u,g.type)&&r.isAfter(m,u)||s===0&&e[1]&&h&&!Cr(r,o,h,u,g.type)&&r.isAfter(u,h)?!0:i==null?void 0:i(u,g)};return a}function Tl(t,e,n,r){switch(e){case"date":case"week":return t.addMonth(n,r);case"month":case"quarter":return t.addYear(n,r);case"year":return t.addYear(n,r*10);case"decade":return t.addYear(n,r*100);default:return n}}var jm=[];function LE(t,e,n,r,o,i,s,a){var c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:jm,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:jm,d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:jm,f=arguments.length>11?arguments[11]:void 0,m=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0,g=s==="time",p=i||0,w=function($){var j=t.getNow();return g&&(j=yd(t,j)),c[$]||n[$]||j},v=K(u,2),y=v[0],b=v[1],C=on(function(){return w(0)},{value:y}),S=K(C,2),x=S[0],I=S[1],E=on(function(){return w(1)},{value:b}),_=K(E,2),P=_[0],M=_[1],T=l.useMemo(function(){var L=[x,P][p];return g?L:yd(t,L,d[p])},[g,x,P,p,t,d]),k=function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",U=[I,M][p];U($);var z=[x,P];z[p]=$,f&&(!Cr(t,e,x,z[0],s)||!Cr(t,e,P,z[1],s))&&f(z,{source:j,range:p===1?"end":"start",mode:r})},R=function($,j){if(a){var U={date:"month",week:"month",month:"year",quarter:"year"},z=U[s];if(z&&!Cr(t,e,$,j,z))return Tl(t,s,j,-1);if(s==="year"&&$){var F=Math.floor(t.getYear($)/10),V=Math.floor(t.getYear(j)/10);if(F!==V)return Tl(t,s,j,-1)}}return j},D=l.useRef(null);return Kt(function(){if(o&&!c[p]){var L=g?null:t.getNow();if(D.current!==null&&D.current!==p?L=[x,P][p^1]:n[p]?L=p===0?n[0]:R(n[0],n[1]):n[p^1]&&(L=n[p^1]),L){m&&t.isAfter(m,L)&&(L=m);var $=a?Tl(t,s,L,1):L;h&&t.isAfter($,h)&&(L=a?Tl(t,s,h,-1):h),k(L,"reset")}}},[o,p,n[p]]),l.useEffect(function(){o?D.current=p:D.current=null},[o,p]),Kt(function(){o&&c&&c[p]&&k(c[p],"reset")},[o,p]),[T,k]}function BE(t,e){var n=l.useRef(t),r=l.useState({}),o=K(r,2),i=o[1],s=function(u){return u&&e!==void 0?e:n.current},a=function(u){n.current=u,i({})};return[s,a,s(!0)]}var BV=[];function VE(t,e,n){var r=function(s){return s.map(function(a){return tr(a,{generateConfig:t,locale:e,format:n[0]})})},o=function(s,a){for(var c=Math.max(s.length,a.length),u=-1,d=0;d<c;d+=1){var f=s[d]||null,m=a[d]||null;if(f!==m&&!TE(t,f,m)){u=d;break}}return[u<0,u!==0]};return[r,o]}function jE(t,e){return Ee(t).sort(function(n,r){return e.isAfter(n,r)?1:-1})}function VV(t){var e=BE(t),n=K(e,2),r=n[0],o=n[1],i=Gt(function(){o(t)});return l.useEffect(function(){i()},[t]),[r,o]}function zE(t,e,n,r,o,i,s,a,c){var u=on(i,{value:s}),d=K(u,2),f=d[0],m=d[1],h=f||BV,g=VV(h),p=K(g,2),w=p[0],v=p[1],y=VE(t,e,n),b=K(y,2),C=b[0],S=b[1],x=Gt(function(E){var _=Ee(E);if(r)for(var P=0;P<2;P+=1)_[P]=_[P]||null;else o&&(_=jE(_.filter(function(L){return L}),t));var M=S(w(),_),T=K(M,2),k=T[0],R=T[1];if(!k&&(v(_),a)){var D=C(_);a(_,D,{range:R?"end":"start"})}}),I=function(){c&&c(w())};return[h,m,w,x,I]}function UE(t,e,n,r,o,i,s,a,c,u){var d=t.generateConfig,f=t.locale,m=t.picker,h=t.onChange,g=t.allowEmpty,p=t.order,w=i.some(function(k){return k})?!1:p,v=VE(d,f,s),y=K(v,2),b=y[0],C=y[1],S=BE(e),x=K(S,2),I=x[0],E=x[1],_=Gt(function(){E(e)});l.useEffect(function(){_()},[e]);var P=Gt(function(k){var R=k===null,D=Ee(k||I());if(R)for(var L=Math.max(i.length,D.length),$=0;$<L;$+=1)i[$]||(D[$]=null);w&&D[0]&&D[1]&&(D=jE(D,d)),o(D);var j=D,U=K(j,2),z=U[0],F=U[1],V=!z,N=!F,B=g?(!V||g[0])&&(!N||g[1]):!0,H=!p||V||N||Cr(d,f,z,F,m)||d.isAfter(F,z),Q=(!z||!u(z,{activeIndex:0}))&&(!F||!u(F,{from:z,activeIndex:1})),G=R||B&&H&&Q;if(G){n(D);var Y=C(D,e),te=K(Y,1),ee=te[0];h&&!ee&&h(R&&D.every(function(J){return!J})?null:D,b(D))}return G}),M=Gt(function(k,R){var D=Hl(I(),k,r()[k]);E(D),R&&P()}),T=!a&&!c;return Iv(!T,function(){T&&(P(),o(e),_())},2),[M,P]}function HE(t,e,n,r,o){return e!=="date"&&e!=="time"?!1:n!==void 0?n:r!==void 0?r:!o&&(t==="date"||t==="time")}function jV(t,e,n,r,o,i){var s=t;function a(f,m,h){var g=i[f](s),p=h.find(function(b){return b.value===g});if(!p||p.disabled){var w=h.filter(function(b){return!b.disabled}),v=Ee(w).reverse(),y=v.find(function(b){return b.value<=g})||w[0];y&&(g=y.value,s=i[m](s,g))}return g}var c=a("getHour","setHour",e()),u=a("getMinute","setMinute",n(c)),d=a("getSecond","setSecond",r(c,u));return a("getMillisecond","setMillisecond",o(c,u,d)),s}function bu(){return[]}function wu(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,s=[],a=n>=1?n|0:1,c=t;c<=e;c+=a){var u=o.includes(c);(!u||!r)&&s.push({label:Sv(c,i),value:c,disabled:u})}return s}function _v(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e||{},o=r.use12Hours,i=r.hourStep,s=i===void 0?1:i,a=r.minuteStep,c=a===void 0?1:a,u=r.secondStep,d=u===void 0?1:u,f=r.millisecondStep,m=f===void 0?100:f,h=r.hideDisabledOptions,g=r.disabledTime,p=r.disabledHours,w=r.disabledMinutes,v=r.disabledSeconds,y=l.useMemo(function(){return n||t.getNow()},[n,t]),b=l.useCallback(function(j){var U=(g==null?void 0:g(j))||{};return[U.disabledHours||p||bu,U.disabledMinutes||w||bu,U.disabledSeconds||v||bu,U.disabledMilliseconds||bu]},[g,p,w,v]),C=l.useMemo(function(){return b(y)},[y,b]),S=K(C,4),x=S[0],I=S[1],E=S[2],_=S[3],P=l.useCallback(function(j,U,z,F){var V=wu(0,23,s,h,j()),N=o?V.map(function(G){return W(W({},G),{},{label:Sv(G.value%12||12,2)})}):V,B=function(Y){return wu(0,59,c,h,U(Y))},H=function(Y,te){return wu(0,59,d,h,z(Y,te))},Q=function(Y,te,ee){return wu(0,999,m,h,F(Y,te,ee),3)};return[N,B,H,Q]},[h,s,o,m,c,d]),M=l.useMemo(function(){return P(x,I,E,_)},[P,x,I,E,_]),T=K(M,4),k=T[0],R=T[1],D=T[2],L=T[3],$=function(U,z){var F=function(){return k},V=R,N=D,B=L;if(z){var H=b(z),Q=K(H,4),G=Q[0],Y=Q[1],te=Q[2],ee=Q[3],J=P(G,Y,te,ee),se=K(J,4),ie=se[0],oe=se[1],ue=se[2],de=se[3];F=function(){return ie},V=oe,N=ue,B=de}var he=jV(U,F,V,N,B,t);return he};return[$,k,R,D,L]}function zV(t){var e=t.mode,n=t.internalMode,r=t.renderExtraFooter,o=t.showNow,i=t.showTime,s=t.onSubmit,a=t.onNow,c=t.invalid,u=t.needConfirm,d=t.generateConfig,f=t.disabledDate,m=l.useContext(jo),h=m.prefixCls,g=m.locale,p=m.button,w=p===void 0?"button":p,v=d.getNow(),y=_v(d,i,v),b=K(y,1),C=b[0],S=r==null?void 0:r(e),x=f(v,{type:e}),I=function(){if(!x){var R=C(v);a(R)}},E="".concat(h,"-now"),_="".concat(E,"-btn"),P=o&&l.createElement("li",{className:E},l.createElement("a",{className:X(_,x&&"".concat(_,"-disabled")),"aria-disabled":x,onClick:I},n==="date"?g.today:g.now)),M=u&&l.createElement("li",{className:"".concat(h,"-ok")},l.createElement(w,{disabled:c,onClick:s},g.ok)),T=(P||M)&&l.createElement("ul",{className:"".concat(h,"-ranges")},P,M);return!S&&!T?null:l.createElement("div",{className:"".concat(h,"-footer")},S&&l.createElement("div",{className:"".concat(h,"-footer-extra")},S),T)}function WE(t,e,n){function r(o,i){var s=o.findIndex(function(c){return Cr(t,e,c,i,n)});if(s===-1)return[].concat(Ee(o),[i]);var a=Ee(o);return a.splice(s,1),a}return r}var Fs=l.createContext(null);function _f(){return l.useContext(Fs)}function Qa(t,e){var n=t.prefixCls,r=t.generateConfig,o=t.locale,i=t.disabledDate,s=t.minDate,a=t.maxDate,c=t.cellRender,u=t.hoverValue,d=t.hoverRangeValue,f=t.onHover,m=t.values,h=t.pickerValue,g=t.onSelect,p=t.prevIcon,w=t.nextIcon,v=t.superPrevIcon,y=t.superNextIcon,b=r.getNow(),C={now:b,values:m,pickerValue:h,prefixCls:n,disabledDate:i,minDate:s,maxDate:a,cellRender:c,hoverValue:u,hoverRangeValue:d,onHover:f,locale:o,generateConfig:r,onSelect:g,panelType:e,prevIcon:p,nextIcon:w,superPrevIcon:v,superNextIcon:y};return[C,b]}var Ui=l.createContext({});function zc(t){for(var e=t.rowNum,n=t.colNum,r=t.baseDate,o=t.getCellDate,i=t.prefixColumn,s=t.rowClassName,a=t.titleFormat,c=t.getCellText,u=t.getCellClassName,d=t.headerCells,f=t.cellSelection,m=f===void 0?!0:f,h=t.disabledDate,g=_f(),p=g.prefixCls,w=g.panelType,v=g.now,y=g.disabledDate,b=g.cellRender,C=g.onHover,S=g.hoverValue,x=g.hoverRangeValue,I=g.generateConfig,E=g.values,_=g.locale,P=g.onSelect,M=h||y,T="".concat(p,"-cell"),k=l.useContext(Ui),R=k.onCellDblClick,D=function(N){return E.some(function(B){return B&&Cr(I,_,N,B,w)})},L=[],$=0;$<e;$+=1){for(var j=[],U=void 0,z=function(){var N=$*n+F,B=o(r,N),H=M==null?void 0:M(B,{type:w});F===0&&(U=B,i&&j.push(i(U)));var Q=!1,G=!1,Y=!1;if(m&&x){var te=K(x,2),ee=te[0],J=te[1];Q=If(I,ee,J,B),G=Cr(I,_,B,ee,w),Y=Cr(I,_,B,J,w)}var se=a?tr(B,{locale:_,format:a,generateConfig:I}):void 0,ie=l.createElement("div",{className:"".concat(T,"-inner")},c(B));j.push(l.createElement("td",{key:F,title:se,className:X(T,W(q(q(q(q(q(q({},"".concat(T,"-disabled"),H),"".concat(T,"-hover"),(S||[]).some(function(oe){return Cr(I,_,B,oe,w)})),"".concat(T,"-in-range"),Q&&!G&&!Y),"".concat(T,"-range-start"),G),"".concat(T,"-range-end"),Y),"".concat(p,"-cell-selected"),!x&&w!=="week"&&D(B)),u(B))),onClick:function(){H||P(B)},onDoubleClick:function(){!H&&R&&R()},onMouseEnter:function(){H||C==null||C(B)},onMouseLeave:function(){H||C==null||C(null)}},b?b(B,{prefixCls:p,originNode:ie,today:v,type:w,locale:_}):ie))},F=0;F<n;F+=1)z();L.push(l.createElement("tr",{key:$,className:s==null?void 0:s(U)},j))}return l.createElement("div",{className:"".concat(p,"-body")},l.createElement("table",{className:"".concat(p,"-content")},d&&l.createElement("thead",null,l.createElement("tr",null,d)),l.createElement("tbody",null,L)))}var yu={visibility:"hidden"};function Ja(t){var e=t.offset,n=t.superOffset,r=t.onChange,o=t.getStart,i=t.getEnd,s=t.children,a=_f(),c=a.prefixCls,u=a.prevIcon,d=u===void 0?"‹":u,f=a.nextIcon,m=f===void 0?"›":f,h=a.superPrevIcon,g=h===void 0?"«":h,p=a.superNextIcon,w=p===void 0?"»":p,v=a.minDate,y=a.maxDate,b=a.generateConfig,C=a.locale,S=a.pickerValue,x=a.panelType,I="".concat(c,"-header"),E=l.useContext(Ui),_=E.hidePrev,P=E.hideNext,M=E.hideHeader,T=l.useMemo(function(){if(!v||!e||!i)return!1;var V=i(e(-1,S));return!pu(b,C,V,v,x)},[v,e,S,i,b,C,x]),k=l.useMemo(function(){if(!v||!n||!i)return!1;var V=i(n(-1,S));return!pu(b,C,V,v,x)},[v,n,S,i,b,C,x]),R=l.useMemo(function(){if(!y||!e||!o)return!1;var V=o(e(1,S));return!pu(b,C,y,V,x)},[y,e,S,o,b,C,x]),D=l.useMemo(function(){if(!y||!n||!o)return!1;var V=o(n(1,S));return!pu(b,C,y,V,x)},[y,n,S,o,b,C,x]),L=function(N){e&&r(e(N,S))},$=function(N){n&&r(n(N,S))};if(M)return null;var j="".concat(I,"-prev-btn"),U="".concat(I,"-next-btn"),z="".concat(I,"-super-prev-btn"),F="".concat(I,"-super-next-btn");return l.createElement("div",{className:I},n&&l.createElement("button",{type:"button","aria-label":"super-prev-year",onClick:function(){return $(-1)},tabIndex:-1,className:X(z,k&&"".concat(z,"-disabled")),disabled:k,style:_?yu:{}},g),e&&l.createElement("button",{type:"button","aria-label":"prev-year",onClick:function(){return L(-1)},tabIndex:-1,className:X(j,T&&"".concat(j,"-disabled")),disabled:T,style:_?yu:{}},d),l.createElement("div",{className:"".concat(I,"-view")},s),e&&l.createElement("button",{type:"button","aria-label":"next-year",onClick:function(){return L(1)},tabIndex:-1,className:X(U,R&&"".concat(U,"-disabled")),disabled:R,style:P?yu:{}},m),n&&l.createElement("button",{type:"button","aria-label":"super-next-year",onClick:function(){return $(1)},tabIndex:-1,className:X(F,D&&"".concat(F,"-disabled")),disabled:D,style:P?yu:{}},w))}function Pf(t){var e=t.prefixCls,n=t.panelName,r=n===void 0?"date":n,o=t.locale,i=t.generateConfig,s=t.pickerValue,a=t.onPickerValueChange,c=t.onModeChange,u=t.mode,d=u===void 0?"date":u,f=t.disabledDate,m=t.onSelect,h=t.onHover,g=t.showWeek,p="".concat(e,"-").concat(r,"-panel"),w="".concat(e,"-cell"),v=d==="week",y=Qa(t,d),b=K(y,2),C=b[0],S=b[1],x=i.locale.getWeekFirstDay(o.locale),I=i.setDate(s,1),E=TV(o.locale,i,I),_=i.getMonth(s),P=g===void 0?v:g,M=P?function(V){var N=f==null?void 0:f(V,{type:"week"});return l.createElement("td",{key:"week",className:X(w,"".concat(w,"-week"),q({},"".concat(w,"-disabled"),N)),onClick:function(){N||m(V)},onMouseEnter:function(){N||h==null||h(V)},onMouseLeave:function(){N||h==null||h(null)}},l.createElement("div",{className:"".concat(w,"-inner")},i.locale.getWeek(o.locale,V)))}:null,T=[],k=o.shortWeekDays||(i.locale.getShortWeekDays?i.locale.getShortWeekDays(o.locale):[]);M&&T.push(l.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var R=0;R<Vm;R+=1)T.push(l.createElement("th",{key:R},k[(R+x)%Vm]));var D=function(N,B){return i.addDate(N,B)},L=function(N){return tr(N,{locale:o,format:o.cellDateFormat,generateConfig:i})},$=function(N){var B=q(q({},"".concat(e,"-cell-in-view"),Av(i,N,s)),"".concat(e,"-cell-today"),Ev(i,N,S));return B},j=o.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(o.locale):[]),U=l.createElement("button",{type:"button","aria-label":"year panel",key:"year",onClick:function(){c("year",s)},tabIndex:-1,className:"".concat(e,"-year-btn")},tr(s,{locale:o,format:o.yearFormat,generateConfig:i})),z=l.createElement("button",{type:"button","aria-label":"month panel",key:"month",onClick:function(){c("month",s)},tabIndex:-1,className:"".concat(e,"-month-btn")},o.monthFormat?tr(s,{locale:o,format:o.monthFormat,generateConfig:i}):j[_]),F=o.monthBeforeYear?[z,U]:[U,z];return l.createElement(Fs.Provider,{value:C},l.createElement("div",{className:X(p,g&&"".concat(p,"-show-week"))},l.createElement(Ja,{offset:function(N){return i.addMonth(s,N)},superOffset:function(N){return i.addYear(s,N)},onChange:a,getStart:function(N){return i.setDate(N,1)},getEnd:function(N){var B=i.setDate(N,1);return B=i.addMonth(B,1),i.addDate(B,-1)}},F),l.createElement(zc,pe({titleFormat:o.fieldDateFormat},t,{colNum:Vm,rowNum:6,baseDate:E,headerCells:T,getCellDate:D,getCellText:L,getCellClassName:$,prefixColumn:M,cellSelection:!v}))))}var UV=1/3;function HV(t,e){var n=l.useRef(!1),r=l.useRef(null),o=l.useRef(null),i=function(){return n.current},s=function(){zt.cancel(r.current),n.current=!1},a=l.useRef(),c=function(){var f=t.current;if(o.current=null,a.current=0,f){var m=f.querySelector('[data-value="'.concat(e,'"]')),h=f.querySelector("li"),g=function p(){s(),n.current=!0,a.current+=1;var w=f.scrollTop,v=h.offsetTop,y=m.offsetTop,b=y-v;if(y===0&&m!==h||!Rc(f)){a.current<=5&&(r.current=zt(p));return}var C=w+(b-w)*UV,S=Math.abs(b-C);if(o.current!==null&&o.current<S){s();return}if(o.current=S,S<=1){f.scrollTop=b,s();return}f.scrollTop=C,r.current=zt(p)};m&&h&&g()}},u=Gt(c);return[u,s,i]}var WV=300;function wl(t){var e=t.units,n=t.value,r=t.optionalValue,o=t.type,i=t.onChange,s=t.onDblClick,a=t.changeOnScroll,c=_f(),u=c.prefixCls,d=c.cellRender,f=c.now,m=c.locale,h="".concat(u,"-time-panel"),g="".concat(u,"-time-panel-cell"),p=l.useRef(null),w=l.useRef(),v=function(){clearTimeout(w.current)},y=HV(p,n!=null?n:r),b=K(y,3),C=b[0],S=b[1],x=b[2];Kt(function(){return C(),v(),function(){S(),v()}},[n,r,e]);var I=function(P){v();var M=P.target;!x()&&a&&(w.current=setTimeout(function(){var T=p.current,k=T.querySelector("li").offsetTop,R=Array.from(T.querySelectorAll("li")),D=R.map(function(z){return z.offsetTop-k}),L=D.map(function(z,F){return e[F].disabled?Number.MAX_SAFE_INTEGER:Math.abs(z-M.scrollTop)}),$=Math.min.apply(Math,Ee(L)),j=L.findIndex(function(z){return z===$}),U=e[j];U&&!U.disabled&&i(U.value)},WV))},E="".concat(h,"-column");return l.createElement("ul",{className:E,ref:p,"data-type":o,onScroll:I},e.map(function(_){var P=_.label,M=_.value,T=_.disabled,k=l.createElement("div",{className:"".concat(g,"-inner")},P);return l.createElement("li",{key:M,className:X(g,q(q({},"".concat(g,"-selected"),n===M),"".concat(g,"-disabled"),T)),onClick:function(){T||i(M)},onDoubleClick:function(){!T&&s&&s()},"data-value":M},d?d(M,{prefixCls:u,originNode:k,today:f,type:"time",subType:o,locale:m}):k)}))}function Ni(t){return t<12}function GV(t){var e=t.showHour,n=t.showMinute,r=t.showSecond,o=t.showMillisecond,i=t.use12Hours,s=t.changeOnScroll,a=_f(),c=a.prefixCls,u=a.values,d=a.generateConfig,f=a.locale,m=a.onSelect,h=a.pickerValue,g=(u==null?void 0:u[0])||null,p=l.useContext(Ui),w=p.onCellDblClick,v=_v(d,t,g),y=K(v,5),b=y[0],C=y[1],S=y[2],x=y[3],I=y[4],E=function(Ce){var Ae=g&&d[Ce](g),Be=h&&d[Ce](h);return[Ae,Be]},_=E("getHour"),P=K(_,2),M=P[0],T=P[1],k=E("getMinute"),R=K(k,2),D=R[0],L=R[1],$=E("getSecond"),j=K($,2),U=j[0],z=j[1],F=E("getMillisecond"),V=K(F,2),N=V[0],B=V[1],H=M===null?null:Ni(M)?"am":"pm",Q=l.useMemo(function(){return i?Ni(M)?C.filter(function(le){return Ni(le.value)}):C.filter(function(le){return!Ni(le.value)}):C},[M,C,i]),G=function(Ce,Ae){var Be,Fe=Ce.filter(function(De){return!De.disabled});return Ae!=null?Ae:Fe==null||(Be=Fe[0])===null||Be===void 0?void 0:Be.value},Y=G(C,M),te=l.useMemo(function(){return S(Y)},[S,Y]),ee=G(te,D),J=l.useMemo(function(){return x(Y,ee)},[x,Y,ee]),se=G(J,U),ie=l.useMemo(function(){return I(Y,ee,se)},[I,Y,ee,se]),oe=G(ie,N),ue=l.useMemo(function(){if(!i)return[];var le=d.getNow(),Ce=d.setHour(le,6),Ae=d.setHour(le,18),Be=function(De,ze){var at=f.cellMeridiemFormat;return at?tr(De,{generateConfig:d,locale:f,format:at}):ze};return[{label:Be(Ce,"AM"),value:"am",disabled:C.every(function(Fe){return Fe.disabled||!Ni(Fe.value)})},{label:Be(Ae,"PM"),value:"pm",disabled:C.every(function(Fe){return Fe.disabled||Ni(Fe.value)})}]},[C,i,d,f]),de=function(Ce){var Ae=b(Ce);m(Ae)},he=l.useMemo(function(){var le=g||h||d.getNow(),Ce=function(Be){return Be!=null};return Ce(M)?(le=d.setHour(le,M),le=d.setMinute(le,D),le=d.setSecond(le,U),le=d.setMillisecond(le,N)):Ce(T)?(le=d.setHour(le,T),le=d.setMinute(le,L),le=d.setSecond(le,z),le=d.setMillisecond(le,B)):Ce(Y)&&(le=d.setHour(le,Y),le=d.setMinute(le,ee),le=d.setSecond(le,se),le=d.setMillisecond(le,oe)),le},[g,h,M,D,U,N,Y,ee,se,oe,T,L,z,B,d]),ye=function(Ce){de(d.setHour(he,Ce))},Se=function(Ce){de(d.setMinute(he,Ce))},Me=function(Ce){de(d.setSecond(he,Ce))},be=function(Ce){de(d.setMillisecond(he,Ce))},ke=function(Ce){Ce==="am"&&!Ni(M)?de(d.setHour(he,M-12)):Ce==="pm"&&Ni(M)&&de(d.setHour(he,M+12))},we={onDblClick:w,changeOnScroll:s};return l.createElement("div",{className:"".concat(c,"-content")},e&&l.createElement(wl,pe({units:Q,value:M,optionalValue:T,type:"hour",onChange:ye},we)),n&&l.createElement(wl,pe({units:te,value:D,optionalValue:L,type:"minute",onChange:Se},we)),r&&l.createElement(wl,pe({units:J,value:U,optionalValue:z,type:"second",onChange:Me},we)),o&&l.createElement(wl,pe({units:ie,value:N,optionalValue:B,type:"millisecond",onChange:be},we)),i&&l.createElement(wl,pe({units:ue,value:H,type:"meridiem",onChange:ke},we)))}function GE(t){var e=t.prefixCls,n=t.value,r=t.locale,o=t.generateConfig,i=t.showTime,s=i||{},a=s.format,c="".concat(e,"-time-panel"),u=Qa(t,"time"),d=K(u,1),f=d[0];return l.createElement(Fs.Provider,{value:f},l.createElement("div",{className:X(c)},l.createElement(Ja,null,n?tr(n,{locale:r,format:a,generateConfig:o}):" "),l.createElement(GV,i)))}function qV(t){var e=t.prefixCls,n=t.generateConfig,r=t.showTime,o=t.onSelect,i=t.value,s=t.pickerValue,a=t.onHover,c="".concat(e,"-datetime-panel"),u=_v(n,r),d=K(u,1),f=d[0],m=function(w){return i?yd(n,w,i):yd(n,w,s)},h=function(w){a==null||a(w&&m(w))},g=function(w){var v=m(w);o(f(v,v))};return l.createElement("div",{className:c},l.createElement(Pf,pe({},t,{onSelect:g,onHover:h})),l.createElement(GE,t))}function KV(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,o=t.pickerValue,i=t.disabledDate,s=t.onPickerValueChange,a="".concat(e,"-decade-panel"),c=Qa(t,"decade"),u=K(c,1),d=u[0],f=function(x){var I=Math.floor(r.getYear(o)/100)*100;return r.setYear(x,I)},m=function(x){var I=f(x);return r.addYear(I,99)},h=f(o),g=m(o),p=r.addYear(h,-10),w=function(x,I){return r.addYear(x,I*10)},v=function(x){var I=n.cellYearFormat,E=tr(x,{locale:n,format:I,generateConfig:r}),_=tr(r.addYear(x,9),{locale:n,format:I,generateConfig:r});return"".concat(E,"-").concat(_)},y=function(x){return q({},"".concat(e,"-cell-in-view"),Ng(r,x,h)||Ng(r,x,g)||If(r,h,g,x))},b=i?function(S,x){var I=r.setDate(S,1),E=r.setMonth(I,0),_=r.setYear(E,Math.floor(r.getYear(E)/10)*10),P=r.addYear(_,10),M=r.addDate(P,-1);return i(_,x)&&i(M,x)}:null,C="".concat(tr(h,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(tr(g,{locale:n,format:n.yearFormat,generateConfig:r}));return l.createElement(Fs.Provider,{value:d},l.createElement("div",{className:a},l.createElement(Ja,{superOffset:function(x){return r.addYear(o,x*100)},onChange:s,getStart:f,getEnd:m},C),l.createElement(zc,pe({},t,{disabledDate:b,colNum:3,rowNum:4,baseDate:p,getCellDate:w,getCellText:v,getCellClassName:y}))))}function YV(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,o=t.pickerValue,i=t.disabledDate,s=t.onPickerValueChange,a=t.onModeChange,c="".concat(e,"-month-panel"),u=Qa(t,"month"),d=K(u,1),f=d[0],m=r.setMonth(o,0),h=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),g=function(C,S){return r.addMonth(C,S)},p=function(C){var S=r.getMonth(C);return n.monthFormat?tr(C,{locale:n,format:n.monthFormat,generateConfig:r}):h[S]},w=function(){return q({},"".concat(e,"-cell-in-view"),!0)},v=i?function(b,C){var S=r.setDate(b,1),x=r.setMonth(S,r.getMonth(S)+1),I=r.addDate(x,-1);return i(S,C)&&i(I,C)}:null,y=l.createElement("button",{type:"button",key:"year","aria-label":"year panel",onClick:function(){a("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},tr(o,{locale:n,format:n.yearFormat,generateConfig:r}));return l.createElement(Fs.Provider,{value:f},l.createElement("div",{className:c},l.createElement(Ja,{superOffset:function(C){return r.addYear(o,C)},onChange:s,getStart:function(C){return r.setMonth(C,0)},getEnd:function(C){return r.setMonth(C,11)}},y),l.createElement(zc,pe({},t,{disabledDate:v,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:m,getCellDate:g,getCellText:p,getCellClassName:w}))))}function XV(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,o=t.pickerValue,i=t.onPickerValueChange,s=t.onModeChange,a="".concat(e,"-quarter-panel"),c=Qa(t,"quarter"),u=K(c,1),d=u[0],f=r.setMonth(o,0),m=function(v,y){return r.addMonth(v,y*3)},h=function(v){return tr(v,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},g=function(){return q({},"".concat(e,"-cell-in-view"),!0)},p=l.createElement("button",{type:"button",key:"year","aria-label":"year panel",onClick:function(){s("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},tr(o,{locale:n,format:n.yearFormat,generateConfig:r}));return l.createElement(Fs.Provider,{value:d},l.createElement("div",{className:a},l.createElement(Ja,{superOffset:function(v){return r.addYear(o,v)},onChange:i,getStart:function(v){return r.setMonth(v,0)},getEnd:function(v){return r.setMonth(v,11)}},p),l.createElement(zc,pe({},t,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:f,getCellDate:m,getCellText:h,getCellClassName:g}))))}function QV(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,o=t.value,i=t.hoverValue,s=t.hoverRangeValue,a=r.locale,c="".concat(e,"-week-panel-row"),u=function(f){var m={};if(s){var h=K(s,2),g=h[0],p=h[1],w=Rl(n,a,g,f),v=Rl(n,a,p,f);m["".concat(c,"-range-start")]=w,m["".concat(c,"-range-end")]=v,m["".concat(c,"-range-hover")]=!w&&!v&&If(n,g,p,f)}return i&&(m["".concat(c,"-hover")]=i.some(function(y){return Rl(n,a,f,y)})),X(c,q({},"".concat(c,"-selected"),!s&&Rl(n,a,o,f)),m)};return l.createElement(Pf,pe({},t,{mode:"week",panelName:"week",rowClassName:u}))}function JV(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,o=t.pickerValue,i=t.disabledDate,s=t.onPickerValueChange,a=t.onModeChange,c="".concat(e,"-year-panel"),u=Qa(t,"year"),d=K(u,1),f=d[0],m=function(I){var E=Math.floor(r.getYear(o)/10)*10;return r.setYear(I,E)},h=function(I){var E=m(I);return r.addYear(E,9)},g=m(o),p=h(o),w=r.addYear(g,-1),v=function(I,E){return r.addYear(I,E)},y=function(I){return tr(I,{locale:n,format:n.cellYearFormat,generateConfig:r})},b=function(I){return q({},"".concat(e,"-cell-in-view"),Ps(r,I,g)||Ps(r,I,p)||If(r,g,p,I))},C=i?function(x,I){var E=r.setMonth(x,0),_=r.setDate(E,1),P=r.addYear(_,1),M=r.addDate(P,-1);return i(_,I)&&i(M,I)}:null,S=l.createElement("button",{type:"button",key:"decade","aria-label":"decade panel",onClick:function(){a("decade")},tabIndex:-1,className:"".concat(e,"-decade-btn")},tr(g,{locale:n,format:n.yearFormat,generateConfig:r}),"-",tr(p,{locale:n,format:n.yearFormat,generateConfig:r}));return l.createElement(Fs.Provider,{value:f},l.createElement("div",{className:c},l.createElement(Ja,{superOffset:function(I){return r.addYear(o,I*10)},onChange:s,getStart:m,getEnd:h},S),l.createElement(zc,pe({},t,{disabledDate:C,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:w,getCellDate:v,getCellText:y,getCellClassName:b}))))}var ZV={date:Pf,datetime:qV,week:QV,month:YV,quarter:XV,year:JV,decade:KV,time:GE};function e9(t,e){var n,r=t.locale,o=t.generateConfig,i=t.direction,s=t.prefixCls,a=t.tabIndex,c=a===void 0?0:a,u=t.multiple,d=t.defaultValue,f=t.value,m=t.onChange,h=t.onSelect,g=t.defaultPickerValue,p=t.pickerValue,w=t.onPickerValueChange,v=t.mode,y=t.onPanelChange,b=t.picker,C=b===void 0?"date":b,S=t.showTime,x=t.hoverValue,I=t.hoverRangeValue,E=t.cellRender,_=t.dateRender,P=t.monthCellRender,M=t.components,T=M===void 0?{}:M,k=t.hideHeader,R=((n=l.useContext(jo))===null||n===void 0?void 0:n.prefixCls)||s||"rc-picker",D=l.useRef();l.useImperativeHandle(e,function(){return{nativeElement:D.current}});var L=ME(t),$=K(L,4),j=$[0],U=$[1],z=$[2],F=$[3],V=IE(r,U),N=C==="date"&&S?"datetime":C,B=l.useMemo(function(){return kE(N,z,F,j,V)},[N,z,F,j,V]),H=o.getNow(),Q=on(C,{value:v,postState:function(xe){return xe||"date"}}),G=K(Q,2),Y=G[0],te=G[1],ee=Y==="date"&&B?"datetime":Y,J=WE(o,r,N),se=on(d,{value:f}),ie=K(se,2),oe=ie[0],ue=ie[1],de=l.useMemo(function(){var me=$s(oe).filter(function(xe){return xe});return u?me:me.slice(0,1)},[oe,u]),he=Gt(function(me){ue(me),m&&(me===null||de.length!==me.length||de.some(function(xe,_e){return!Cr(o,r,xe,me[_e],N)}))&&(m==null||m(u?me:me[0]))}),ye=Gt(function(me){if(h==null||h(me),Y===C){var xe=u?J(de,me):[me];he(xe)}}),Se=on(g||de[0]||H,{value:p}),Me=K(Se,2),be=Me[0],ke=Me[1];l.useEffect(function(){de[0]&&!p&&ke(de[0])},[de[0]]);var we=function(xe,_e){y==null||y(xe||p,_e||Y)},le=function(xe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ke(xe),w==null||w(xe),_e&&we(xe)},Ce=function(xe,_e){te(xe),_e&&le(_e),we(_e,xe)},Ae=function(xe){if(ye(xe),le(xe),Y!==C){var _e=["decade","year"],Ne=[].concat(_e,["month"]),He={quarter:[].concat(_e,["quarter"]),week:[].concat(Ee(Ne),["week"]),date:[].concat(Ee(Ne),["date"])},ne=He[C]||Ne,Pe=ne.indexOf(Y),je=ne[Pe+1];je&&Ce(je,xe)}},Be=l.useMemo(function(){var me,xe;if(Array.isArray(I)){var _e=K(I,2);me=_e[0],xe=_e[1]}else me=I;return!me&&!xe?null:(me=me||xe,xe=xe||me,o.isAfter(me,xe)?[xe,me]:[me,xe])},[I,o]),Fe=xv(E,_,P),De=T[ee]||ZV[ee]||Pf,ze=l.useContext(Ui),at=l.useMemo(function(){return W(W({},ze),{},{hideHeader:k})},[ze,k]),We="".concat(R,"-panel"),Re=Ef(t,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return l.createElement(Ui.Provider,{value:at},l.createElement("div",{ref:D,tabIndex:c,className:X(We,q({},"".concat(We,"-rtl"),i==="rtl"))},l.createElement(De,pe({},Re,{showTime:B,prefixCls:R,locale:V,generateConfig:o,onModeChange:Ce,pickerValue:be,onPickerValueChange:function(xe){le(xe,!0)},value:de[0],onSelect:Ae,values:de,cellRender:Fe,hoverRangeValue:Be,hoverValue:x}))))}var zm=l.memo(l.forwardRef(e9));function t9(t){var e=t.picker,n=t.multiplePanel,r=t.pickerValue,o=t.onPickerValueChange,i=t.needConfirm,s=t.onSubmit,a=t.range,c=t.hoverValue,u=l.useContext(jo),d=u.prefixCls,f=u.generateConfig,m=l.useCallback(function(y,b){return Tl(f,e,y,b)},[f,e]),h=l.useMemo(function(){return m(r,1)},[r,m]),g=function(b){o(m(b,-1))},p={onCellDblClick:function(){i&&s()}},w=e==="time",v=W(W({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:w});return a?v.hoverRangeValue=c:v.hoverValue=c,n?l.createElement("div",{className:"".concat(d,"-panels")},l.createElement(Ui.Provider,{value:W(W({},p),{},{hideNext:!0})},l.createElement(zm,v)),l.createElement(Ui.Provider,{value:W(W({},p),{},{hidePrev:!0})},l.createElement(zm,pe({},v,{pickerValue:h,onPickerValueChange:g})))):l.createElement(Ui.Provider,{value:W({},p)},l.createElement(zm,v))}function Nw(t){return typeof t=="function"?t():t}function n9(t){var e=t.prefixCls,n=t.presets,r=t.onClick,o=t.onHover;return n.length?l.createElement("div",{className:"".concat(e,"-presets")},l.createElement("ul",null,n.map(function(i,s){var a=i.label,c=i.value;return l.createElement("li",{key:s,onClick:function(){r(Nw(c))},onMouseEnter:function(){o(Nw(c))},onMouseLeave:function(){o(null)}},a)}))):null}function qE(t){var e=t.panelRender,n=t.internalMode,r=t.picker,o=t.showNow,i=t.range,s=t.multiple,a=t.activeOffset,c=a===void 0?0:a,u=t.placement,d=t.presets,f=t.onPresetHover,m=t.onPresetSubmit,h=t.onFocus,g=t.onBlur,p=t.onPanelMouseDown,w=t.direction,v=t.value,y=t.onSelect,b=t.isInvalid,C=t.defaultOpenValue,S=t.onOk,x=t.onSubmit,I=l.useContext(jo),E=I.prefixCls,_="".concat(E,"-panel"),P=w==="rtl",M=l.useRef(null),T=l.useRef(null),k=l.useState(0),R=K(k,2),D=R[0],L=R[1],$=l.useState(0),j=K($,2),U=j[0],z=j[1],F=function(he){he.offsetWidth&&L(he.offsetWidth)};l.useEffect(function(){if(i){var de,he=((de=M.current)===null||de===void 0?void 0:de.offsetWidth)||0,ye=D-he;c<=ye?z(0):z(c+he-D)}},[D,c,i]);function V(de){return de.filter(function(he){return he})}var N=l.useMemo(function(){return V($s(v))},[v]),B=r==="time"&&!N.length,H=l.useMemo(function(){return B?V([C]):N},[B,N,C]),Q=B?C:N,G=l.useMemo(function(){return H.length?H.some(function(de){return b(de)}):!0},[H,b]),Y=function(){B&&y(C),S(),x()},te=l.createElement("div",{className:"".concat(E,"-panel-layout")},l.createElement(n9,{prefixCls:E,presets:d,onClick:m,onHover:f}),l.createElement("div",null,l.createElement(t9,pe({},t,{value:Q})),l.createElement(zV,pe({},t,{showNow:s?!1:o,invalid:G,onSubmit:Y}))));e&&(te=e(te));var ee="".concat(_,"-container"),J="marginLeft",se="marginRight",ie=l.createElement("div",{onMouseDown:p,tabIndex:-1,className:X(ee,"".concat(E,"-").concat(n,"-panel-container")),style:q(q({},P?se:J,U),P?J:se,"auto"),onFocus:h,onBlur:g},te);if(i){var oe=Af(u,P),ue=wE(oe,P);ie=l.createElement("div",{onMouseDown:p,ref:T,className:X("".concat(E,"-range-wrapper"),"".concat(E,"-").concat(r,"-range-wrapper"))},l.createElement("div",{ref:M,className:"".concat(E,"-range-arrow"),style:q({},ue,c)}),l.createElement(Lr,{onResize:F},ie))}return ie}function KE(t,e){var n=t.format,r=t.maskFormat,o=t.generateConfig,i=t.locale,s=t.preserveInvalidOnBlur,a=t.inputReadOnly,c=t.required,u=t["aria-required"],d=t.onSubmit,f=t.onFocus,m=t.onBlur,h=t.onInputChange,g=t.onInvalid,p=t.open,w=t.onOpenChange,v=t.onKeyDown,y=t.onChange,b=t.activeHelp,C=t.name,S=t.autoComplete,x=t.id,I=t.value,E=t.invalid,_=t.placeholder,P=t.disabled,M=t.activeIndex,T=t.allHelp,k=t.picker,R=function(V,N){var B=o.locale.parse(i.locale,V,[N]);return B&&o.isValidate(B)?B:null},D=n[0],L=l.useCallback(function(F){return tr(F,{locale:i,format:D,generateConfig:o})},[i,o,D]),$=l.useMemo(function(){return I.map(L)},[I,L]),j=l.useMemo(function(){var F=k==="time"?8:10,V=typeof D=="function"?D(o.getNow()).length:D.length;return Math.max(F,V)+2},[D,k,o]),U=function(V){for(var N=0;N<n.length;N+=1){var B=n[N];if(typeof B=="string"){var H=R(V,B);if(H)return H}}return!1},z=function(V){function N(Q){return V!==void 0?Q[V]:Q}var B=cr(t,{aria:!0,data:!0}),H=W(W({},B),{},{format:r,validateFormat:function(G){return!!U(G)},preserveInvalidOnBlur:s,readOnly:a,required:c,"aria-required":u,name:C,autoComplete:S,size:j,id:N(x),value:N($)||"",invalid:N(E),placeholder:N(_),active:M===V,helped:T||b&&M===V,disabled:N(P),onFocus:function(G){f(G,V)},onBlur:function(G){m(G,V)},onSubmit:d,onChange:function(G){h();var Y=U(G);if(Y){g(!1,V),y(Y,V);return}g(!!G,V)},onHelp:function(){w(!0,{index:V})},onKeyDown:function(G){var Y=!1;if(v==null||v(G,function(){Y=!0}),!G.defaultPrevented&&!Y)switch(G.key){case"Escape":w(!1,{index:V});break;case"Enter":p||w(!0);break}}},e==null?void 0:e({valueTexts:$}));return Object.keys(H).forEach(function(Q){H[Q]===void 0&&delete H[Q]}),H};return[z,L]}var r9=["onMouseEnter","onMouseLeave"];function YE(t){return l.useMemo(function(){return Ef(t,r9)},[t])}var o9=["icon","type"],i9=["onClear"];function Mf(t){var e=t.icon,n=t.type,r=ht(t,o9),o=l.useContext(jo),i=o.prefixCls;return e?l.createElement("span",pe({className:"".concat(i,"-").concat(n)},r),e):null}function Dg(t){var e=t.onClear,n=ht(t,i9);return l.createElement(Mf,pe({},n,{type:"clear",role:"button",onMouseDown:function(o){o.preventDefault()},onClick:function(o){o.stopPropagation(),e()}}))}var Um=["YYYY","MM","DD","HH","mm","ss","SSS"],Dw="顧",s9=function(){function t(e){Vn(this,t),q(this,"format",void 0),q(this,"maskFormat",void 0),q(this,"cells",void 0),q(this,"maskCells",void 0),this.format=e;var n=Um.map(function(a){return"(".concat(a,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=e.replace(r,function(a){return Dw.repeat(a.length)});var o=new RegExp("(".concat(Um.join("|"),")")),i=(e.split(o)||[]).filter(function(a){return a}),s=0;this.cells=i.map(function(a){var c=Um.includes(a),u=s,d=s+a.length;return s=d,{text:a,mask:c,start:u,end:d}}),this.maskCells=this.cells.filter(function(a){return a.mask})}return jn(t,[{key:"getSelection",value:function(n){var r=this.maskCells[n]||{},o=r.start,i=r.end;return[o||0,i||0]}},{key:"match",value:function(n){for(var r=0;r<this.maskFormat.length;r+=1){var o=this.maskFormat[r],i=n[r];if(!i||o!==Dw&&o!==i)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var r=Number.MAX_SAFE_INTEGER,o=0,i=0;i<this.maskCells.length;i+=1){var s=this.maskCells[i],a=s.start,c=s.end;if(n>=a&&n<=c)return i;var u=Math.min(Math.abs(n-a),Math.abs(n-c));u<r&&(r=u,o=i)}return o}}]),t}();function a9(t){var e={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return e[t]}var l9=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],$g=l.forwardRef(function(t,e){var n=t.active,r=t.showActiveCls,o=r===void 0?!0:r,i=t.suffixIcon,s=t.format,a=t.validateFormat,c=t.onChange;t.onInput;var u=t.helped,d=t.onHelp,f=t.onSubmit,m=t.onKeyDown,h=t.preserveInvalidOnBlur,g=h===void 0?!1:h,p=t.invalid,w=t.clearIcon,v=ht(t,l9),y=t.value,b=t.onFocus,C=t.onBlur,S=t.onMouseUp,x=l.useContext(jo),I=x.prefixCls,E=x.input,_=E===void 0?"input":E,P="".concat(I,"-input"),M=l.useState(!1),T=K(M,2),k=T[0],R=T[1],D=l.useState(y),L=K(D,2),$=L[0],j=L[1],U=l.useState(""),z=K(U,2),F=z[0],V=z[1],N=l.useState(null),B=K(N,2),H=B[0],Q=B[1],G=l.useState(null),Y=K(G,2),te=Y[0],ee=Y[1],J=$||"";l.useEffect(function(){j(y)},[y]);var se=l.useRef(),ie=l.useRef();l.useImperativeHandle(e,function(){return{nativeElement:se.current,inputElement:ie.current,focus:function(me){ie.current.focus(me)},blur:function(){ie.current.blur()}}});var oe=l.useMemo(function(){return new s9(s||"")},[s]),ue=l.useMemo(function(){return u?[0,0]:oe.getSelection(H)},[oe,H,u]),de=K(ue,2),he=de[0],ye=de[1],Se=function(me){me&&me!==s&&me!==y&&d()},Me=Gt(function(Re){a(Re)&&c(Re),j(Re),Se(Re)}),be=function(me){if(!s){var xe=me.target.value;Se(xe),j(xe),c(xe)}},ke=function(me){var xe=me.clipboardData.getData("text");a(xe)&&Me(xe)},we=l.useRef(!1),le=function(){we.current=!0},Ce=function(me){var xe=me.target,_e=xe.selectionStart,Ne=oe.getMaskCellIndex(_e);Q(Ne),ee({}),S==null||S(me),we.current=!1},Ae=function(me){R(!0),Q(0),V(""),b(me)},Be=function(me){C(me)},Fe=function(me){R(!1),Be(me)};Iv(n,function(){!n&&!g&&j(y)});var De=function(me){me.key==="Enter"&&a(J)&&f(),m==null||m(me)},ze=function(me){De(me);var xe=me.key,_e=null,Ne=null,He=ye-he,ne=s.slice(he,ye),Pe=function(lt){Q(function(Ze){var Ye=Ze+lt;return Ye=Math.max(Ye,0),Ye=Math.min(Ye,oe.size()-1),Ye})},je=function(lt){var Ze=a9(ne),Ye=K(Ze,3),Xe=Ye[0],$e=Ye[1],pt=Ye[2],bt=J.slice(he,ye),Te=Number(bt);if(isNaN(Te))return String(pt||(lt>0?Xe:$e));var Le=Te+lt,Ve=$e-Xe+1;return String(Xe+(Ve+Le-Xe)%Ve)};switch(xe){case"Backspace":case"Delete":_e="",Ne=ne;break;case"ArrowLeft":_e="",Pe(-1);break;case"ArrowRight":_e="",Pe(1);break;case"ArrowUp":_e="",Ne=je(1);break;case"ArrowDown":_e="",Ne=je(-1);break;default:isNaN(Number(xe))||(_e=F+xe,Ne=_e);break}if(_e!==null&&(V(_e),_e.length>=He&&(Pe(1),V(""))),Ne!==null){var nt=J.slice(0,he)+Sv(Ne,He)+J.slice(ye);Me(nt.slice(0,s.length))}ee({})},at=l.useRef();Kt(function(){if(!(!k||!s||we.current)){if(!oe.match(J)){Me(s);return}return ie.current.setSelectionRange(he,ye),at.current=zt(function(){ie.current.setSelectionRange(he,ye)}),function(){zt.cancel(at.current)}}},[oe,s,k,J,H,he,ye,te,Me]);var We=s?{onFocus:Ae,onBlur:Fe,onKeyDown:ze,onMouseDown:le,onMouseUp:Ce,onPaste:ke}:{};return l.createElement("div",{ref:se,className:X(P,q(q({},"".concat(P,"-active"),n&&o),"".concat(P,"-placeholder"),u))},l.createElement(_,pe({ref:ie,"aria-invalid":p,autoComplete:"off"},v,{onKeyDown:De,onBlur:Be},We,{value:J,onChange:be})),l.createElement(Mf,{type:"suffix",icon:i}),w)}),c9=["id","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveOffset","placement","onMouseDown","required","aria-required","autoFocus"],u9=["index"];function d9(t,e){var n=t.id,r=t.clearIcon,o=t.suffixIcon,i=t.separator,s=i===void 0?"~":i,a=t.activeIndex;t.activeHelp,t.allHelp;var c=t.focused;t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig;var u=t.placeholder,d=t.className,f=t.style,m=t.onClick,h=t.onClear,g=t.value;t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var p=t.disabled,w=t.invalid;t.inputReadOnly;var v=t.direction;t.onOpenChange;var y=t.onActiveOffset,b=t.placement,C=t.onMouseDown;t.required,t["aria-required"];var S=t.autoFocus,x=ht(t,c9),I=v==="rtl",E=l.useContext(jo),_=E.prefixCls,P=l.useMemo(function(){if(typeof n=="string")return[n];var J=n||{};return[J.start,J.end]},[n]),M=l.useRef(),T=l.useRef(),k=l.useRef(),R=function(se){var ie;return(ie=[T,k][se])===null||ie===void 0?void 0:ie.current};l.useImperativeHandle(e,function(){return{nativeElement:M.current,focus:function(se){if(st(se)==="object"){var ie,oe=se||{},ue=oe.index,de=ue===void 0?0:ue,he=ht(oe,u9);(ie=R(de))===null||ie===void 0||ie.focus(he)}else{var ye;(ye=R(se!=null?se:0))===null||ye===void 0||ye.focus()}},blur:function(){var se,ie;(se=R(0))===null||se===void 0||se.blur(),(ie=R(1))===null||ie===void 0||ie.blur()}}});var D=YE(x),L=l.useMemo(function(){return Array.isArray(u)?u:[u,u]},[u]),$=KE(W(W({},t),{},{id:P,placeholder:L})),j=K($,1),U=j[0],z=Af(b,I),F=wE(z,I),V=z==null?void 0:z.toLowerCase().endsWith("right"),N=l.useState({position:"absolute",width:0}),B=K(N,2),H=B[0],Q=B[1],G=Gt(function(){var J=R(a);if(J){var se=J.nativeElement,ie=se.offsetWidth,oe=se.offsetLeft,ue=se.offsetParent,de=(ue==null?void 0:ue.offsetWidth)||0,he=V?de-ie-oe:oe;Q(function(ye){return W(W({},ye),{},q({width:ie},F,he))}),y(he)}});l.useEffect(function(){G()},[a]);var Y=r&&(g[0]&&!p[0]||g[1]&&!p[1]),te=S&&!p[0],ee=S&&!te&&!p[1];return l.createElement(Lr,{onResize:G},l.createElement("div",pe({},D,{className:X(_,"".concat(_,"-range"),q(q(q(q({},"".concat(_,"-focused"),c),"".concat(_,"-disabled"),p.every(function(J){return J})),"".concat(_,"-invalid"),w.some(function(J){return J})),"".concat(_,"-rtl"),I),d),style:f,ref:M,onClick:m,onMouseDown:function(se){var ie=se.target;ie!==T.current.inputElement&&ie!==k.current.inputElement&&se.preventDefault(),C==null||C(se)}}),l.createElement($g,pe({ref:T},U(0),{autoFocus:te,"date-range":"start"})),l.createElement("div",{className:"".concat(_,"-range-separator")},s),l.createElement($g,pe({ref:k},U(1),{autoFocus:ee,"date-range":"end"})),l.createElement("div",{className:"".concat(_,"-active-bar"),style:H}),l.createElement(Mf,{type:"suffix",icon:o}),Y&&l.createElement(Dg,{icon:r,onClear:h})))}var f9=l.forwardRef(d9);function $w(t,e){var n=t!=null?t:e;return Array.isArray(n)?n:[n,n]}function Cu(t){return t===1?"end":"start"}function m9(t,e){var n=OE(t,function(){var vt=t.disabled,yt=t.allowEmpty,Tt=$w(vt,!1),gn=$w(yt,!1);return{disabled:Tt,allowEmpty:gn}}),r=K(n,6),o=r[0],i=r[1],s=r[2],a=r[3],c=r[4],u=r[5],d=o.prefixCls,f=o.styles,m=o.classNames,h=o.placement,g=o.defaultValue,p=o.value,w=o.needConfirm,v=o.onKeyDown,y=o.disabled,b=o.allowEmpty,C=o.disabledDate,S=o.minDate,x=o.maxDate,I=o.defaultOpen,E=o.open,_=o.onOpenChange,P=o.locale,M=o.generateConfig,T=o.picker,k=o.showNow,R=o.showToday,D=o.showTime,L=o.mode,$=o.onPanelChange,j=o.onCalendarChange,U=o.onOk,z=o.defaultPickerValue,F=o.pickerValue,V=o.onPickerValueChange,N=o.inputReadOnly,B=o.suffixIcon,H=o.onFocus,Q=o.onBlur,G=o.presets,Y=o.ranges,te=o.components,ee=o.cellRender,J=o.dateRender,se=o.monthCellRender,ie=o.onClick,oe=DE(e),ue=NE(E,I,y,_),de=K(ue,2),he=de[0],ye=de[1],Se=function(yt,Tt){(y.some(function(gn){return!gn})||!yt)&&ye(yt,Tt)},Me=zE(M,P,a,!0,!1,g,p,j,U),be=K(Me,5),ke=be[0],we=be[1],le=be[2],Ce=be[3],Ae=be[4],Be=le(),Fe=FE(y,b,he),De=K(Fe,7),ze=De[0],at=De[1],We=De[2],Re=De[3],me=De[4],xe=De[5],_e=De[6],Ne=function(yt,Tt){at(!0),H==null||H(yt,{range:Cu(Tt!=null?Tt:Re)})},He=function(yt,Tt){at(!1),Q==null||Q(yt,{range:Cu(Tt!=null?Tt:Re)})},ne=l.useMemo(function(){if(!D)return null;var vt=D.disabledTime,yt=vt?function(Tt){var gn=Cu(Re),kr=SE(Be,_e,Re);return vt(Tt,gn,{from:kr})}:void 0;return W(W({},D),{},{disabledTime:yt})},[D,Re,Be,_e]),Pe=on([T,T],{value:L}),je=K(Pe,2),nt=je[0],gt=je[1],lt=nt[Re]||T,Ze=lt==="date"&&ne?"datetime":lt,Ye=Ze===T&&Ze!=="time",Xe=HE(T,lt,k,R,!0),$e=UE(o,ke,we,le,Ce,y,a,ze,he,u),pt=K($e,2),bt=pt[0],Te=pt[1],Le=LV(Be,y,_e,M,P,C),Ve=AE(Be,u,b),it=K(Ve,2),Ct=it[0],Ot=it[1],tn=LE(M,P,Be,nt,he,Re,i,Ye,z,F,ne==null?void 0:ne.defaultOpenValue,V,S,x),Wt=K(tn,2),It=Wt[0],et=Wt[1],wt=Gt(function(vt,yt,Tt){var gn=Hl(nt,Re,yt);if((gn[0]!==nt[0]||gn[1]!==nt[1])&&gt(gn),$&&Tt!==!1){var kr=Ee(Be);vt&&(kr[Re]=vt),$(kr,gn)}}),Bt=function(yt,Tt){return Hl(Be,Tt,yt)},Ft=function(yt,Tt){var gn=Be;yt&&(gn=Bt(yt,Re));var kr=xe(gn);Ce(gn),bt(Re,kr===null),kr===null?Se(!1,{force:!0}):Tt||oe.current.focus({index:kr})},nn=function(yt){if(!oe.current.nativeElement.contains(document.activeElement)){var Tt=y.findIndex(function(gn){return!gn});Tt>=0&&oe.current.focus({index:Tt})}Se(!0),ie==null||ie(yt)},xn=function(){Te(null),Se(!1,{force:!0})},Qe=l.useState(null),rt=K(Qe,2),ft=rt[0],qt=rt[1],In=l.useState(null),Pn=K(In,2),fn=Pn[0],zn=Pn[1],gr=l.useMemo(function(){return fn||Be},[Be,fn]);l.useEffect(function(){he||zn(null)},[he]);var Yn=l.useState(0),mr=K(Yn,2),Hr=mr[0],Un=mr[1],Hn=$E(G,Y),$r=function(yt){zn(yt),qt("preset")},so=function(yt){var Tt=Te(yt);Tt&&Se(!1,{force:!0})},pr=function(yt){Ft(yt)},vr=function(yt){zn(yt?Bt(yt,Re):null),qt("cell")},Wr=function(yt){Se(!0),Ne(yt)},Mr=function(){We("panel")},Xn=function(yt){var Tt=Hl(Be,Re,yt);Ce(Tt),!w&&!s&&i===Ze&&Ft(yt)},Lt=function(){Se(!1)},_t=xv(ee,J,se,Cu(Re)),$t=Be[Re]||null,St=Gt(function(vt){return u(vt,{activeIndex:Re})}),xt=l.useMemo(function(){var vt=cr(o,!1),yt=Nn(o,[].concat(Ee(Object.keys(vt)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return yt},[o]),qe=l.createElement(qE,pe({},xt,{showNow:Xe,showTime:ne,range:!0,multiplePanel:Ye,activeOffset:Hr,placement:h,disabledDate:Le,onFocus:Wr,onBlur:He,onPanelMouseDown:Mr,picker:T,mode:lt,internalMode:Ze,onPanelChange:wt,format:c,value:$t,isInvalid:St,onChange:null,onSelect:Xn,pickerValue:It,defaultOpenValue:$s(D==null?void 0:D.defaultOpenValue)[Re],onPickerValueChange:et,hoverValue:gr,onHover:vr,needConfirm:w,onSubmit:Ft,onOk:Ae,presets:Hn,onPresetHover:$r,onPresetSubmit:so,onNow:pr,cellRender:_t})),Je=function(yt,Tt){var gn=Bt(yt,Tt);Ce(gn)},Qt=function(){We("input")},yn=function(yt,Tt){We("input"),Se(!0,{inherit:!0}),Re!==Tt&&he&&!w&&s&&Ft(null,!0),me(Tt),Ne(yt,Tt)},Qn=function(yt,Tt){if(Se(!1),!w&&We()==="input"){var gn=xe(Be);bt(Re,gn===null)}He(yt,Tt)},Jn=function(yt,Tt){yt.key==="Tab"&&Ft(null,!0),v==null||v(yt,Tt)},Gr=l.useMemo(function(){return{prefixCls:d,locale:P,generateConfig:M,button:te.button,input:te.input}},[d,P,M,te.button,te.input]);return Kt(function(){he&&Re!==void 0&&wt(null,T,!1)},[he,Re,T]),Kt(function(){var vt=We();!he&&vt==="input"&&(Se(!1),Ft(null,!0)),!he&&s&&!w&&vt==="panel"&&(Se(!0),Ft())},[he]),l.createElement(jo.Provider,{value:Gr},l.createElement(yE,pe({},xE(o),{popupElement:qe,popupStyle:f.popup,popupClassName:m.popup,visible:he,onClose:Lt,range:!0}),l.createElement(f9,pe({},o,{ref:oe,suffixIcon:B,activeIndex:ze||he?Re:null,activeHelp:!!fn,allHelp:!!fn&&ft==="preset",focused:ze,onFocus:yn,onBlur:Qn,onKeyDown:Jn,onSubmit:Ft,value:gr,maskFormat:c,onChange:Je,onInputChange:Qt,format:a,inputReadOnly:N,disabled:y,open:he,onOpenChange:Se,onClick:nn,onClear:xn,invalid:Ct,onInvalid:Ot,onActiveOffset:Un}))))}var h9=l.forwardRef(m9);function g9(t){var e=t.prefixCls,n=t.value,r=t.onRemove,o=t.removeIcon,i=o===void 0?"×":o,s=t.formatDate,a=t.disabled,c=t.maxTagCount,u=t.placeholder,d="".concat(e,"-selector"),f="".concat(e,"-selection"),m="".concat(f,"-overflow");function h(w,v){return l.createElement("span",{className:X("".concat(f,"-item")),title:typeof w=="string"?w:null},l.createElement("span",{className:"".concat(f,"-item-content")},w),!a&&v&&l.createElement("span",{onMouseDown:function(b){b.preventDefault()},onClick:v,className:"".concat(f,"-item-remove")},i))}function g(w){var v=s(w),y=function(C){C&&C.stopPropagation(),r(w)};return h(v,y)}function p(w){var v="+ ".concat(w.length," ...");return h(v)}return l.createElement("div",{className:d},l.createElement(Ro,{prefixCls:m,data:n,renderItem:g,renderRest:p,itemKey:function(v){return s(v)},maxCount:c}),!n.length&&l.createElement("span",{className:"".concat(e,"-selection-placeholder")},u))}var p9=["id","open","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","removeIcon"];function v9(t,e){t.id;var n=t.open,r=t.clearIcon,o=t.suffixIcon;t.activeHelp,t.allHelp;var i=t.focused;t.onFocus,t.onBlur,t.onKeyDown;var s=t.locale,a=t.generateConfig,c=t.placeholder,u=t.className,d=t.style,f=t.onClick,m=t.onClear,h=t.internalPicker,g=t.value,p=t.onChange,w=t.onSubmit;t.onInputChange;var v=t.multiple,y=t.maxTagCount;t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var b=t.disabled,C=t.invalid;t.inputReadOnly;var S=t.direction;t.onOpenChange;var x=t.onMouseDown;t.required,t["aria-required"];var I=t.autoFocus,E=t.removeIcon,_=ht(t,p9),P=S==="rtl",M=l.useContext(jo),T=M.prefixCls,k=l.useRef(),R=l.useRef();l.useImperativeHandle(e,function(){return{nativeElement:k.current,focus:function(H){var Q;(Q=R.current)===null||Q===void 0||Q.focus(H)},blur:function(){var H;(H=R.current)===null||H===void 0||H.blur()}}});var D=YE(_),L=function(H){p([H])},$=function(H){var Q=g.filter(function(G){return G&&!Cr(a,s,G,H,h)});p(Q),n||w()},j=KE(W(W({},t),{},{onChange:L}),function(B){var H=B.valueTexts;return{value:H[0]||"",active:i}}),U=K(j,2),z=U[0],F=U[1],V=!!(r&&g.length&&!b),N=v?l.createElement(l.Fragment,null,l.createElement(g9,{prefixCls:T,value:g,onRemove:$,formatDate:F,maxTagCount:y,disabled:b,removeIcon:E,placeholder:c}),l.createElement("input",{className:"".concat(T,"-multiple-input"),value:g.map(F).join(","),ref:R,readOnly:!0,autoFocus:I}),l.createElement(Mf,{type:"suffix",icon:o}),V&&l.createElement(Dg,{icon:r,onClear:m})):l.createElement($g,pe({ref:R},z(),{autoFocus:I,suffixIcon:o,clearIcon:V&&l.createElement(Dg,{icon:r,onClear:m}),showActiveCls:!1}));return l.createElement("div",pe({},D,{className:X(T,q(q(q(q(q({},"".concat(T,"-multiple"),v),"".concat(T,"-focused"),i),"".concat(T,"-disabled"),b),"".concat(T,"-invalid"),C),"".concat(T,"-rtl"),P),u),style:d,ref:k,onClick:f,onMouseDown:function(H){var Q,G=H.target;G!==((Q=R.current)===null||Q===void 0?void 0:Q.inputElement)&&H.preventDefault(),x==null||x(H)}}),N)}var b9=l.forwardRef(v9);function w9(t,e){var n=OE(t),r=K(n,6),o=r[0],i=r[1],s=r[2],a=r[3],c=r[4],u=r[5],d=o,f=d.prefixCls,m=d.styles,h=d.classNames,g=d.order,p=d.defaultValue,w=d.value,v=d.needConfirm,y=d.onChange,b=d.onKeyDown,C=d.disabled,S=d.disabledDate,x=d.minDate,I=d.maxDate,E=d.defaultOpen,_=d.open,P=d.onOpenChange,M=d.locale,T=d.generateConfig,k=d.picker,R=d.showNow,D=d.showToday,L=d.showTime,$=d.mode,j=d.onPanelChange,U=d.onCalendarChange,z=d.onOk,F=d.multiple,V=d.defaultPickerValue,N=d.pickerValue,B=d.onPickerValueChange,H=d.inputReadOnly,Q=d.suffixIcon,G=d.removeIcon,Y=d.onFocus,te=d.onBlur,ee=d.presets,J=d.components,se=d.cellRender,ie=d.dateRender,oe=d.monthCellRender,ue=d.onClick,de=DE(e);function he(qe){return qe===null?null:F?qe:qe[0]}var ye=WE(T,M,i),Se=NE(_,E,[C],P),Me=K(Se,2),be=Me[0],ke=Me[1],we=function(Je,Qt,yn){if(U){var Qn=W({},yn);delete Qn.range,U(he(Je),he(Qt),Qn)}},le=function(Je){z==null||z(he(Je))},Ce=zE(T,M,a,!1,g,p,w,we,le),Ae=K(Ce,5),Be=Ae[0],Fe=Ae[1],De=Ae[2],ze=Ae[3],at=Ae[4],We=De(),Re=FE([C]),me=K(Re,4),xe=me[0],_e=me[1],Ne=me[2],He=me[3],ne=function(Je){_e(!0),Y==null||Y(Je,{})},Pe=function(Je){_e(!1),te==null||te(Je,{})},je=on(k,{value:$}),nt=K(je,2),gt=nt[0],lt=nt[1],Ze=gt==="date"&&L?"datetime":gt,Ye=HE(k,gt,R,D),Xe=y&&function(qe,Je){y(he(qe),he(Je))},$e=UE(W(W({},o),{},{onChange:Xe}),Be,Fe,De,ze,[],a,xe,be,u),pt=K($e,2),bt=pt[1],Te=AE(We,u),Le=K(Te,2),Ve=Le[0],it=Le[1],Ct=l.useMemo(function(){return Ve.some(function(qe){return qe})},[Ve]),Ot=function(Je,Qt){if(B){var yn=W(W({},Qt),{},{mode:Qt.mode[0]});delete yn.range,B(Je[0],yn)}},tn=LE(T,M,We,[gt],be,He,i,!1,V,N,$s(L==null?void 0:L.defaultOpenValue),Ot,x,I),Wt=K(tn,2),It=Wt[0],et=Wt[1],wt=Gt(function(qe,Je,Qt){if(lt(Je),j&&Qt!==!1){var yn=qe||We[We.length-1];j(yn,Je)}}),Bt=function(){bt(De()),ke(!1,{force:!0})},Ft=function(Je){!C&&!de.current.nativeElement.contains(document.activeElement)&&de.current.focus(),ke(!0),ue==null||ue(Je)},nn=function(){bt(null),ke(!1,{force:!0})},xn=l.useState(null),Qe=K(xn,2),rt=Qe[0],ft=Qe[1],qt=l.useState(null),In=K(qt,2),Pn=In[0],fn=In[1],zn=l.useMemo(function(){var qe=[Pn].concat(Ee(We)).filter(function(Je){return Je});return F?qe:qe.slice(0,1)},[We,Pn,F]),gr=l.useMemo(function(){return!F&&Pn?[Pn]:We.filter(function(qe){return qe})},[We,Pn,F]);l.useEffect(function(){be||fn(null)},[be]);var Yn=$E(ee),mr=function(Je){fn(Je),ft("preset")},Hr=function(Je){var Qt=F?ye(De(),Je):[Je],yn=bt(Qt);yn&&!F&&ke(!1,{force:!0})},Un=function(Je){Hr(Je)},Hn=function(Je){fn(Je),ft("cell")},$r=function(Je){ke(!0),ne(Je)},so=function(Je){Ne("panel");var Qt=F?ye(De(),Je):[Je];ze(Qt),!v&&!s&&i===Ze&&Bt()},pr=function(){ke(!1)},vr=xv(se,ie,oe),Wr=l.useMemo(function(){var qe=cr(o,!1),Je=Nn(o,[].concat(Ee(Object.keys(qe)),["onChange","onCalendarChange","style","className","onPanelChange"]));return W(W({},Je),{},{multiple:o.multiple})},[o]),Mr=l.createElement(qE,pe({},Wr,{showNow:Ye,showTime:L,disabledDate:S,onFocus:$r,onBlur:Pe,picker:k,mode:gt,internalMode:Ze,onPanelChange:wt,format:c,value:We,isInvalid:u,onChange:null,onSelect:so,pickerValue:It,defaultOpenValue:L==null?void 0:L.defaultOpenValue,onPickerValueChange:et,hoverValue:zn,onHover:Hn,needConfirm:v,onSubmit:Bt,onOk:at,presets:Yn,onPresetHover:mr,onPresetSubmit:Hr,onNow:Un,cellRender:vr})),Xn=function(Je){ze(Je)},Lt=function(){Ne("input")},_t=function(Je){Ne("input"),ke(!0,{inherit:!0}),ne(Je)},$t=function(Je){ke(!1),Pe(Je)},St=function(Je,Qt){Je.key==="Tab"&&Bt(),b==null||b(Je,Qt)},xt=l.useMemo(function(){return{prefixCls:f,locale:M,generateConfig:T,button:J.button,input:J.input}},[f,M,T,J.button,J.input]);return Kt(function(){be&&He!==void 0&&wt(null,k,!1)},[be,He,k]),Kt(function(){var qe=Ne();!be&&qe==="input"&&(ke(!1),Bt()),!be&&s&&!v&&qe==="panel"&&(ke(!0),Bt())},[be]),l.createElement(jo.Provider,{value:xt},l.createElement(yE,pe({},xE(o),{popupElement:Mr,popupStyle:m.popup,popupClassName:h.popup,visible:be,onClose:pr}),l.createElement(b9,pe({},o,{ref:de,suffixIcon:Q,removeIcon:G,activeHelp:!!Pn,allHelp:!!Pn&&rt==="preset",focused:xe,onFocus:_t,onBlur:$t,onKeyDown:St,onSubmit:Bt,value:gr,maskFormat:c,onChange:Xn,onInputChange:Lt,internalPicker:i,format:a,inputReadOnly:H,disabled:C,open:be,onOpenChange:ke,onClick:Ft,onClear:nn,invalid:Ct,onInvalid:function(Je){it(Je,0)}}))))}var y9=l.forwardRef(w9),C9=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],S9=l.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-checkbox":n,o=t.className,i=t.style,s=t.checked,a=t.disabled,c=t.defaultChecked,u=c===void 0?!1:c,d=t.type,f=d===void 0?"checkbox":d,m=t.title,h=t.onChange,g=ht(t,C9),p=l.useRef(null),w=l.useRef(null),v=on(u,{value:s}),y=K(v,2),b=y[0],C=y[1];l.useImperativeHandle(e,function(){return{focus:function(E){var _;(_=p.current)===null||_===void 0||_.focus(E)},blur:function(){var E;(E=p.current)===null||E===void 0||E.blur()},input:p.current,nativeElement:w.current}});var S=X(r,o,q(q({},"".concat(r,"-checked"),b),"".concat(r,"-disabled"),a)),x=function(E){a||("checked"in t||C(E.target.checked),h==null||h({target:W(W({},t),{},{type:f,checked:E.target.checked}),stopPropagation:function(){E.stopPropagation()},preventDefault:function(){E.preventDefault()},nativeEvent:E.nativeEvent}))};return l.createElement("span",{className:S,title:m,style:i,ref:w},l.createElement("input",pe({},g,{className:"".concat(r,"-input"),ref:p,onChange:x,disabled:a,checked:!!b,type:f})),l.createElement("span",{className:"".concat(r,"-inner")}))});function Pv(t){return Dt(t,{inputAffixPadding:t.paddingXXS})}const Mv=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:o,controlHeightSM:i,controlHeightLG:s,fontSizeLG:a,lineHeightLG:c,paddingSM:u,controlPaddingHorizontalSM:d,controlPaddingHorizontal:f,colorFillAlter:m,colorPrimaryHover:h,colorPrimary:g,controlOutlineWidth:p,controlOutline:w,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-o,0),paddingBlockSM:Math.max(Math.round((i-n*r)/2*10)/10-o,0),paddingBlockLG:Math.ceil((s-a*c)/2*10)/10-o,paddingInline:u-o,paddingInlineSM:d-o,paddingInlineLG:f-o,addonBg:m,activeBorderColor:g,hoverBorderColor:h,activeShadow:"0 0 0 ".concat(p,"px ").concat(w),errorActiveShadow:"0 0 0 ".concat(p,"px ").concat(v),warningActiveShadow:"0 0 0 ".concat(p,"px ").concat(y),hoverBg:b,activeBg:b,inputFontSize:n,inputFontSizeLG:a,inputFontSizeSM:n}},x9=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),kv=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},x9(Dt(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),XE=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),Fw=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status,":not(").concat(t.componentCls,"-disabled)")]:Object.assign(Object.assign({},XE(t,e)),{["".concat(t.componentCls,"-prefix, ").concat(t.componentCls,"-suffix")]:{color:e.affixColor}}),["&".concat(t.componentCls,"-status-").concat(e.status).concat(t.componentCls,"-disabled")]:{borderColor:e.borderColor}}),QE=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XE(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{["&".concat(t.componentCls,"-disabled, &[disabled]")]:Object.assign({},kv(t))}),Fw(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),Fw(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),Lw=(t,e)=>({["&".concat(t.componentCls,"-group-wrapper-status-").concat(e.status)]:{["".concat(t.componentCls,"-group-addon")]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),A9=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.addonBg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Lw(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),Lw(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{["&".concat(t.componentCls,"-group-wrapper-disabled")]:{["".concat(t.componentCls,"-group-addon")]:Object.assign({},kv(t))}})}),JE=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(n,"-disabled, &[disabled]")]:{color:t.colorTextDisabled},["&".concat(n,"-status-error")]:{"&, & input, & textarea":{color:t.colorError}},["&".concat(n,"-status-warning")]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},ZE=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),Bw=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status,":not(").concat(t.componentCls,"-disabled)")]:Object.assign(Object.assign({},ZE(t,e)),{["".concat(t.componentCls,"-prefix, ").concat(t.componentCls,"-suffix")]:{color:e.affixColor}})}),eI=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ZE(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{["&".concat(t.componentCls,"-disabled, &[disabled]")]:Object.assign({},kv(t))}),Bw(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),Bw(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),Vw=(t,e)=>({["&".concat(t.componentCls,"-group-wrapper-status-").concat(e.status)]:{["".concat(t.componentCls,"-group-addon")]:{background:e.addonBg,color:e.addonColor}}}),E9=t=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.colorFillTertiary},["".concat(t.componentCls,"-filled:not(:focus):not(:focus-within)")]:{"&:not(:first-child)":{borderInlineStart:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)},"&:not(:last-child)":{borderInlineEnd:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)}}}},Vw(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),Vw(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{["&".concat(t.componentCls,"-group-wrapper-disabled")]:{["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderTop:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderBottom:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderTop:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderBottom:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)}}}})}),tI=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),nI=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:o}=t;return{padding:"".concat(re(e)," ").concat(re(o)),fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},rI=t=>({padding:"".concat(re(t.paddingBlockSM)," ").concat(re(t.paddingInlineSM)),fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),oI=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(re(t.paddingBlock)," ").concat(re(t.paddingInline)),color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationMid)},tI(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:"all ".concat(t.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},nI(t)),"&-sm":Object.assign({},rI(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),I9=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(e,", &-lg > ").concat(e,"-group-addon")]:Object.assign({},nI(t)),["&-sm ".concat(e,", &-sm > ").concat(e,"-group-addon")]:Object.assign({},rI(t)),["&-lg ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:t.controlHeightLG},["&-sm ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:t.controlHeightSM},["> ".concat(e)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(e,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat(re(t.paddingInline)),color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationSlow),lineHeight:1,["".concat(n,"-select")]:{margin:"".concat(re(t.calc(t.paddingBlock).add(1).mul(-1).equal())," ").concat(re(t.calc(t.paddingInline).mul(-1).equal())),["&".concat(n,"-select-single:not(").concat(n,"-select-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["".concat(n,"-select-selector")]:{backgroundColor:"inherit",border:"".concat(re(t.lineWidth)," ").concat(t.lineType," transparent"),boxShadow:"none"}},"&-open, &-focused":{["".concat(n,"-select-selector")]:{color:t.colorPrimary}}},["".concat(n,"-cascader-picker")]:{margin:"-9px ".concat(re(t.calc(t.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(n,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},["".concat(e)]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(e,"-search-with-button &")]:{zIndex:0}}},["> ".concat(e,":first-child, ").concat(e,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(e,"-affix-wrapper")]:{["&:not(:first-child) ".concat(e)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(e)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(e,":last-child, ").concat(e,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(e,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(e,"-search &")]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},["&:not(:first-child), ".concat(e,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(e,"-group-compact")]:Object.assign(Object.assign({display:"block"},Ia()),{["".concat(e,"-group-addon, ").concat(e,"-group-wrap, > ").concat(e)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(e,"-affix-wrapper,\n        & > ").concat(e,"-number-affix-wrapper,\n        & > ").concat(n,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},["".concat(e)]:{float:"none"},["& > ".concat(n,"-select > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete ").concat(e,",\n      & > ").concat(n,"-cascader-picker ").concat(e,",\n      & > ").concat(e,"-group-wrapper ").concat(e)]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},["& > ".concat(n,"-select-focused")]:{zIndex:1},["& > ".concat(n,"-select > ").concat(n,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(n,"-select:first-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete:first-child ").concat(e,",\n      & > ").concat(n,"-cascader-picker:first-child ").concat(e)]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},["& > *:last-child,\n      & > ".concat(n,"-select:last-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-cascader-picker:last-child ").concat(e,",\n      & > ").concat(n,"-cascader-picker-focused:last-child ").concat(e)]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},["& > ".concat(n,"-select-auto-complete ").concat(e)]:{verticalAlign:"top"},["".concat(e,"-group-wrapper + ").concat(e,"-group-wrapper")]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),["".concat(e,"-affix-wrapper")]:{borderRadius:0}},["".concat(e,"-group-wrapper:not(:last-child)")]:{["&".concat(e,"-search > ").concat(e,"-group")]:{["& > ".concat(e,"-group-addon > ").concat(e,"-search-button")]:{borderRadius:0},["& > ".concat(e)]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},_9=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:o}=t,i=16,s=o(n).sub(o(r).mul(2)).sub(i).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),oI(t)),QE(t)),eI(t)),JE(t)),{'&[type="color"]':{height:t.controlHeight,["&".concat(e,"-lg")]:{height:t.controlHeightLG},["&".concat(e,"-sm")]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},P9=t=>{const{componentCls:e}=t;return{["".concat(e,"-clear-icon")]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(t.motionDurationSlow),"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(re(t.inputAffixPadding))}}}},M9=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:o,colorIcon:i,colorIconHover:s,iconCls:a}=t;return{["".concat(e,"-affix-wrapper")]:Object.assign(Object.assign(Object.assign(Object.assign({},oI(t)),{display:"inline-flex",["&:not(".concat(e,"-disabled):hover")]:{zIndex:1,["".concat(e,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(e)]:{padding:0},["> input".concat(e,", > textarea").concat(e)]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(e)]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),P9(t)),{["".concat(a).concat(e,"-password-icon")]:{color:i,cursor:"pointer",transition:"all ".concat(o),"&:hover":{color:s}}})}},k9=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{["".concat(e,"-group")]:Object.assign(Object.assign(Object.assign({},cn(t)),I9(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(e,"-group-addon")]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{["".concat(e,"-group-addon")]:{borderRadius:r}}},A9(t)),E9(t)),{["&:not(".concat(e,"-compact-first-item):not(").concat(e,"-compact-last-item)").concat(e,"-compact-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderRadius:0}},["&:not(".concat(e,"-compact-last-item)").concat(e,"-compact-first-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(e,"-compact-first-item)").concat(e,"-compact-last-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(e,"-compact-last-item)").concat(e,"-compact-item")]:{["".concat(e,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},R9=t=>{const{componentCls:e,antCls:n}=t,r="".concat(e,"-search");return{[r]:{["".concat(e)]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,["+ ".concat(e,"-group-addon ").concat(r,"-button:not(").concat(n,"-btn-primary)")]:{borderInlineStartColor:t.colorPrimaryHover}}},["".concat(e,"-affix-wrapper")]:{borderRadius:0},["".concat(e,"-lg")]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},["> ".concat(e,"-group")]:{["> ".concat(e,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(r,"-button")]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0,boxShadow:"none"},["".concat(r,"-button:not(").concat(n,"-btn-primary)")]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},["&".concat(n,"-btn-loading::before")]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},["".concat(r,"-button")]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},["&-large ".concat(r,"-button")]:{height:t.controlHeightLG},["&-small ".concat(r,"-button")]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},["&".concat(e,"-compact-item")]:{["&:not(".concat(e,"-compact-last-item)")]:{["".concat(e,"-group-addon")]:{["".concat(e,"-search-button")]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(e,"-compact-first-item)")]:{["".concat(e,",").concat(e,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(e,"-group-addon ").concat(e,"-search-button,\n        > ").concat(e,",\n        ").concat(e,"-affix-wrapper")]:{"&:hover, &:focus, &:active":{zIndex:2}},["> ".concat(e,"-affix-wrapper-focused")]:{zIndex:2}}}}},T9=t=>{const{componentCls:e,paddingLG:n}=t,r="".concat(e,"-textarea");return{[r]:{position:"relative","&-show-count":{["> ".concat(e)]:{height:"100%"},["".concat(e,"-data-count")]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},["\n        &-allow-clear > ".concat(e,",\n        &-affix-wrapper").concat(r,"-has-feedback ").concat(e,"\n      ")]:{paddingInlineEnd:n},["&-affix-wrapper".concat(e,"-affix-wrapper")]:{padding:0,["> textarea".concat(e)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},["".concat(e,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(e,"-clear-icon")]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},["".concat(r,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},["&-affix-wrapper".concat(e,"-affix-wrapper-sm")]:{["".concat(e,"-suffix")]:{["".concat(e,"-clear-icon")]:{insetInlineEnd:t.paddingInlineSM}}}}}},O9=t=>{const{componentCls:e}=t;return{["".concat(e,"-out-of-range")]:{["&, & input, & textarea, ".concat(e,"-show-count-suffix, ").concat(e,"-data-count")]:{color:t.colorError}}}},Rv=Jt("Input",t=>{const e=Dt(t,Pv(t));return[_9(e),T9(e),M9(e),k9(e),R9(e),O9(e),lf(e)]},Mv,{resetFont:!1}),Hm=(t,e)=>{const{componentCls:n,controlHeight:r}=t,o=e?"".concat(n,"-").concat(e):"",i=MA(t);return[{["".concat(n,"-multiple").concat(o)]:{paddingBlock:i.containerPadding,paddingInlineStart:i.basePadding,minHeight:r,["".concat(n,"-selection-item")]:{height:i.itemHeight,lineHeight:re(i.itemLineHeight)}}}]},N9=t=>{const{componentCls:e,calc:n,lineWidth:r}=t,o=Dt(t,{fontHeight:t.fontSize,selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS,controlHeight:t.controlHeightSM}),i=Dt(t,{fontHeight:n(t.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius,controlHeight:t.controlHeightLG});return[Hm(o,"small"),Hm(t),Hm(i,"large"),{["".concat(e).concat(e,"-multiple")]:Object.assign(Object.assign({width:"100%",cursor:"text",["".concat(e,"-selector")]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},["".concat(e,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:"all ".concat(t.motionDurationSlow),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}}},kA(t)),{["".concat(e,"-multiple-input")]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},D9=N9,$9=t=>{const{pickerCellCls:e,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:o,motionDurationMid:i,cellHoverBg:s,lineWidth:a,lineType:c,colorPrimary:u,cellActiveWithRangeBg:d,colorTextLightSolid:f,colorTextDisabled:m,cellBgDisabled:h,colorFillSecondary:g}=t;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""'},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:re(r),borderRadius:o,transition:"background ".concat(i)},["&:hover:not(".concat(e,"-in-view),\n    &:hover:not(").concat(e,"-selected):not(").concat(e,"-range-start):not(").concat(e,"-range-end)")]:{[n]:{background:s}},["&-in-view".concat(e,"-today ").concat(n)]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:"".concat(re(a)," ").concat(c," ").concat(u),borderRadius:o,content:'""'}},["&-in-view".concat(e,"-in-range,\n      &-in-view").concat(e,"-range-start,\n      &-in-view").concat(e,"-range-end")]:{position:"relative",["&:not(".concat(e,"-disabled):before")]:{background:d}},["&-in-view".concat(e,"-selected,\n      &-in-view").concat(e,"-range-start,\n      &-in-view").concat(e,"-range-end")]:{["&:not(".concat(e,"-disabled) ").concat(n)]:{color:f,background:u},["&".concat(e,"-disabled ").concat(n)]:{background:g}},["&-in-view".concat(e,"-range-start:not(").concat(e,"-disabled):before")]:{insetInlineStart:"50%"},["&-in-view".concat(e,"-range-end:not(").concat(e,"-disabled):before")]:{insetInlineEnd:"50%"},["&-in-view".concat(e,"-range-start:not(").concat(e,"-range-end) ").concat(n)]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},["&-in-view".concat(e,"-range-end:not(").concat(e,"-range-start) ").concat(n)]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},"&-disabled":{color:m,pointerEvents:"none",[n]:{background:"transparent"},"&::before":{background:h}},["&-disabled".concat(e,"-today ").concat(n,"::before")]:{borderColor:m}}},F9=t=>{const{componentCls:e,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:o,pickerControlIconSize:i,cellWidth:s,paddingSM:a,paddingXS:c,paddingXXS:u,colorBgContainer:d,lineWidth:f,lineType:m,borderRadiusLG:h,colorPrimary:g,colorTextHeading:p,colorSplit:w,pickerControlIconBorderWidth:v,colorIcon:y,textHeight:b,motionDurationMid:C,colorIconHover:S,fontWeightStrong:x,cellHeight:I,pickerCellPaddingVertical:E,colorTextDisabled:_,colorText:P,fontSize:M,motionDurationSlow:T,withoutTimeCellHeight:k,pickerQuarterPanelContentHeight:R,borderRadiusSM:D,colorTextLightSolid:L,cellHoverBg:$,timeColumnHeight:j,timeColumnWidth:U,timeCellHeight:z,controlItemBgActive:F,marginXXS:V,pickerDatePanelPaddingHorizontal:N,pickerControlIconMargin:B}=t,H=t.calc(s).mul(7).add(t.calc(N).mul(2)).equal();return{[e]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:d,borderRadius:h,outline:"none","&-focused":{borderColor:g},"&-rtl":{["".concat(e,"-prev-icon,\n              ").concat(e,"-super-prev-icon")]:{transform:"rotate(45deg)"},["".concat(e,"-next-icon,\n              ").concat(e,"-super-next-icon")]:{transform:"rotate(-135deg)"},["".concat(e,"-time-panel")]:{["".concat(e,"-content")]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:H},"&-header":{display:"flex",padding:"0 ".concat(re(c)),color:p,borderBottom:"".concat(re(f)," ").concat(m," ").concat(w),"> *":{flex:"none"},button:{padding:0,color:y,lineHeight:re(b),background:"transparent",border:0,cursor:"pointer",transition:"color ".concat(C),fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center"},"> button":{minWidth:"1.6em",fontSize:M,"&:hover":{color:S},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:x,lineHeight:re(b),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:c},"&:hover":{color:g}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:i,height:i,border:"0 solid currentcolor",borderBlockWidth:"".concat(re(v)," 0"),borderInlineWidth:"".concat(re(v)," 0"),content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:B,insetInlineStart:B,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockWidth:"".concat(re(v)," 0"),borderInlineWidth:"".concat(re(v)," 0"),content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:I,fontWeight:"normal"},th:{height:t.calc(I).add(t.calc(E).mul(2)).equal(),color:P,verticalAlign:"middle"}},"&-cell":Object.assign({padding:"".concat(re(E)," 0"),color:_,cursor:"pointer","&-in-view":{color:P}},$9(t)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{["".concat(e,"-content")]:{height:t.calc(k).mul(4).equal()},[r]:{padding:"0 ".concat(re(c))}},"&-quarter-panel":{["".concat(e,"-content")]:{height:R}},"&-decade-panel":{[r]:{padding:"0 ".concat(re(t.calc(c).div(2).equal()))},["".concat(e,"-cell::before")]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{["".concat(e,"-body")]:{padding:"0 ".concat(re(c))},[r]:{width:o}},"&-date-panel":{["".concat(e,"-body")]:{padding:"".concat(re(c)," ").concat(re(N))},["".concat(e,"-content th")]:{boxSizing:"border-box",padding:0}},"&-week-panel":{["".concat(e,"-cell")]:{["&:hover ".concat(r,",\n            &-selected ").concat(r,",\n            ").concat(r)]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:"background ".concat(C)},"&:first-child:before":{borderStartStartRadius:D,borderEndStartRadius:D},"&:last-child:before":{borderStartEndRadius:D,borderEndEndRadius:D}},"&:hover td":{"&:before":{background:$}},"&-range-start td, &-range-end td, &-selected td, &-hover td":{["&".concat(n)]:{"&:before":{background:g},["&".concat(e,"-cell-week")]:{color:new rn(L).setAlpha(.5).toHexString()},[r]:{color:L}}},"&-range-hover td:before":{background:F}}},"&-week-panel, &-date-panel-show-week":{["".concat(e,"-body")]:{padding:"".concat(re(c)," ").concat(re(a))},["".concat(e,"-content th")]:{width:"auto"}},"&-datetime-panel":{display:"flex",["".concat(e,"-time-panel")]:{borderInlineStart:"".concat(re(f)," ").concat(m," ").concat(w)},["".concat(e,"-date-panel,\n          ").concat(e,"-time-panel")]:{transition:"opacity ".concat(T)},"&-active":{["".concat(e,"-date-panel,\n            ").concat(e,"-time-panel")]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",["".concat(e,"-content")]:{display:"flex",flex:"auto",height:j},"&-column":{flex:"1 0 auto",width:U,margin:"".concat(re(u)," 0"),padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:"background ".concat(C),overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t.colorTextTertiary,borderRadius:t.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:"".concat(t.colorTextTertiary," transparent")},"&::after":{display:"block",height:t.calc("100%").sub(z).equal(),content:'""'},"&:not(:first-child)":{borderInlineStart:"".concat(re(f)," ").concat(m," ").concat(w)},"&-active":{background:new rn(F).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,["&".concat(e,"-time-panel-cell")]:{marginInline:V,["".concat(e,"-time-panel-cell-inner")]:{display:"block",width:t.calc(U).sub(t.calc(V).mul(2)).equal(),height:z,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:t.calc(U).sub(z).div(2).equal(),color:P,lineHeight:re(z),borderRadius:D,cursor:"pointer",transition:"background ".concat(C),"&:hover":{background:$}},"&-selected":{["".concat(e,"-time-panel-cell-inner")]:{background:F}},"&-disabled":{["".concat(e,"-time-panel-cell-inner")]:{color:_,background:"transparent",cursor:"not-allowed"}}}}}}}}},L9=t=>{const{componentCls:e,textHeight:n,lineWidth:r,paddingSM:o,antCls:i,colorPrimary:s,cellActiveWithRangeBg:a,colorPrimaryBorder:c,lineType:u,colorSplit:d}=t;return{["".concat(e,"-dropdown")]:{["".concat(e,"-footer")]:{borderTop:"".concat(re(r)," ").concat(u," ").concat(d),"&-extra":{padding:"0 ".concat(re(o)),lineHeight:re(t.calc(n).sub(t.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:"".concat(re(r)," ").concat(u," ").concat(d)}}},["".concat(e,"-panels + ").concat(e,"-footer ").concat(e,"-ranges")]:{justifyContent:"space-between"},["".concat(e,"-ranges")]:{marginBlock:0,paddingInline:re(o),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:re(t.calc(n).sub(t.calc(r).mul(2)).equal()),display:"inline-block"},["".concat(e,"-now-btn-disabled")]:{pointerEvents:"none",color:t.colorTextDisabled},["".concat(e,"-preset > ").concat(i,"-tag-blue")]:{color:s,background:a,borderColor:c,cursor:"pointer"},["".concat(e,"-ok")]:{paddingBlock:t.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},B9=L9,V9=t=>{const{componentCls:e,controlHeightLG:n,paddingXXS:r,padding:o}=t;return{pickerCellCls:"".concat(e,"-cell"),pickerCellInnerCls:"".concat(e,"-cell-inner"),pickerYearMonthCellWidth:t.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:t.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:t.calc(r).add(t.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:t.calc(o).add(t.calc(r).div(2)).equal()}},j9=t=>{const{colorBgContainerDisabled:e,controlHeight:n,controlHeightSM:r,controlHeightLG:o,paddingXXS:i,lineWidth:s}=t,a=i*2,c=s*2,u=Math.min(n-a,n-c),d=Math.min(r-a,r-c),f=Math.min(o-a,o-c);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),cellHoverBg:t.controlItemBgHover,cellActiveWithRangeBg:t.controlItemBgActive,cellHoverWithRangeBg:new rn(t.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new rn(t.colorPrimary).lighten(20).toHexString(),cellBgDisabled:e,timeColumnWidth:o*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:r*1.5,cellHeight:r,textHeight:o,withoutTimeCellHeight:o*1.65,multipleItemBg:t.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:u,multipleItemHeightSM:d,multipleItemHeightLG:f,multipleSelectorBgDisabled:e,multipleItemColorDisabled:t.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},z9=t=>Object.assign(Object.assign(Object.assign(Object.assign({},Mv(t)),j9(t)),wf(t)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:t.zIndexPopupBase+50}),U9=t=>{const{componentCls:e}=t;return{[e]:[Object.assign(Object.assign(Object.assign({},QE(t)),eI(t)),JE(t)),{"&-outlined":{["&".concat(e,"-multiple ").concat(e,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)}},"&-filled":{["&".concat(e,"-multiple ").concat(e,"-selection-item")]:{background:t.colorBgContainer,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)}},"&-borderless":{["&".concat(e,"-multiple ").concat(e,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)}}}]}},H9=U9,Wm=(t,e,n,r)=>{const o=t.calc(n).add(2).equal(),i=t.max(t.calc(e).sub(o).div(2).equal(),0),s=t.max(t.calc(e).sub(o).sub(i).equal(),0);return{padding:"".concat(re(i)," ").concat(re(r)," ").concat(re(s))}},W9=t=>{const{componentCls:e,colorError:n,colorWarning:r}=t;return{["".concat(e,":not(").concat(e,"-disabled):not([disabled])")]:{["&".concat(e,"-status-error")]:{["".concat(e,"-active-bar")]:{background:n}},["&".concat(e,"-status-warning")]:{["".concat(e,"-active-bar")]:{background:r}}}}},G9=t=>{const{componentCls:e,antCls:n,controlHeight:r,paddingInline:o,lineWidth:i,lineType:s,colorBorder:a,borderRadius:c,motionDurationMid:u,colorTextDisabled:d,colorTextPlaceholder:f,controlHeightLG:m,fontSizeLG:h,controlHeightSM:g,paddingInlineSM:p,paddingXS:w,marginXS:v,colorTextDescription:y,lineWidthBold:b,colorPrimary:C,motionDurationSlow:S,zIndexPopup:x,paddingXXS:I,sizePopupArrow:E,colorBgElevated:_,borderRadiusLG:P,boxShadowSecondary:M,borderRadiusSM:T,colorSplit:k,cellHoverBg:R,presetsWidth:D,presetsMaxWidth:L,boxShadowPopoverArrow:$,fontHeight:j,fontHeightLG:U,lineHeightLG:z}=t;return[{[e]:Object.assign(Object.assign(Object.assign({},cn(t)),Wm(t,r,j,o)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:c,transition:"border ".concat(u,", box-shadow ").concat(u,", background ").concat(u),["".concat(e,"-input")]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:t.fontSize,lineHeight:t.lineHeight,transition:"all ".concat(u)},tI(f)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:d,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:f}}},"&-large":Object.assign(Object.assign({},Wm(t,m,U,o)),{["".concat(e,"-input > input")]:{fontSize:h,lineHeight:z}}),"&-small":Object.assign({},Wm(t,g,j,p)),["".concat(e,"-suffix")]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:t.calc(w).div(2).equal(),color:d,lineHeight:1,pointerEvents:"none",transition:"opacity ".concat(u,", color ").concat(u),"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:v}}},["".concat(e,"-clear")]:{position:"absolute",top:"50%",insetInlineEnd:0,color:d,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:"opacity ".concat(u,", color ").concat(u),"> *":{verticalAlign:"top"},"&:hover":{color:y}},"&:hover":{["".concat(e,"-clear")]:{opacity:1},["".concat(e,"-suffix:not(:last-child)")]:{opacity:0}},["".concat(e,"-separator")]:{position:"relative",display:"inline-block",width:"1em",height:h,color:d,fontSize:h,verticalAlign:"top",cursor:"default",["".concat(e,"-focused &")]:{color:y},["".concat(e,"-range-separator &")]:{["".concat(e,"-disabled &")]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",["".concat(e,"-active-bar")]:{bottom:t.calc(i).mul(-1).equal(),height:b,background:C,opacity:0,transition:"all ".concat(S," ease-out"),pointerEvents:"none"},["&".concat(e,"-focused")]:{["".concat(e,"-active-bar")]:{opacity:1}},["".concat(e,"-range-separator")]:{alignItems:"center",padding:"0 ".concat(re(w)),lineHeight:1}},"&-range, &-multiple":{["".concat(e,"-clear")]:{insetInlineEnd:o},["&".concat(e,"-small")]:{["".concat(e,"-clear")]:{insetInlineEnd:p}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},cn(t)),F9(t)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:x,["&".concat(e,"-dropdown-hidden")]:{display:"none"},"&-rtl":{direction:"rtl"},["&".concat(e,"-dropdown-placement-bottomLeft,\n            &").concat(e,"-dropdown-placement-bottomRight")]:{["".concat(e,"-range-arrow")]:{top:0,display:"block",transform:"translateY(-100%)"}},["&".concat(e,"-dropdown-placement-topLeft,\n            &").concat(e,"-dropdown-placement-topRight")]:{["".concat(e,"-range-arrow")]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},["&".concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(e,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(e,"-dropdown-placement-topRight,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(e,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(e,"-dropdown-placement-topRight")]:{animationName:hf},["&".concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(e,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(e,"-dropdown-placement-bottomRight,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(e,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(e,"-dropdown-placement-bottomRight")]:{animationName:ff},["&".concat(n,"-slide-up-leave ").concat(e,"-panel-container")]:{pointerEvents:"none"},["&".concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(e,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(e,"-dropdown-placement-topRight")]:{animationName:gf},["&".concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(e,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(e,"-dropdown-placement-bottomRight")]:{animationName:mf},["".concat(e,"-panel > ").concat(e,"-time-panel")]:{paddingTop:I},["".concat(e,"-range-wrapper")]:{display:"flex",position:"relative"},["".concat(e,"-range-arrow")]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:t.calc(o).mul(1.5).equal(),boxSizing:"content-box",transition:"all ".concat(S," ease-out")},BA(t,_,$)),{"&:before":{insetInlineStart:t.calc(o).mul(1.5).equal()}}),["".concat(e,"-panel-container")]:{overflow:"hidden",verticalAlign:"top",background:_,borderRadius:P,boxShadow:M,transition:"margin ".concat(S),display:"inline-block",pointerEvents:"auto",["".concat(e,"-panel-layout")]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},["".concat(e,"-presets")]:{display:"flex",flexDirection:"column",minWidth:D,maxWidth:L,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:w,borderInlineEnd:"".concat(re(i)," ").concat(s," ").concat(k),li:Object.assign(Object.assign({},Ci),{borderRadius:T,paddingInline:w,paddingBlock:t.calc(g).sub(j).div(2).equal(),cursor:"pointer",transition:"all ".concat(S),"+ li":{marginTop:v},"&:hover":{background:R}})}},["".concat(e,"-panels")]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{["".concat(e,"-panel")]:{borderWidth:0}}},["".concat(e,"-panel")]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,["".concat(e,"-content, table")]:{textAlign:"center"},"&-focused":{borderColor:a}}}}),"&-dropdown-range":{padding:"".concat(re(t.calc(E).mul(2).div(3).equal())," 0"),"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",["".concat(e,"-separator")]:{transform:"rotate(180deg)"},["".concat(e,"-footer")]:{"&-extra":{direction:"rtl"}}}})},Jo(t,"slide-up"),Jo(t,"slide-down"),_a(t,"move-up"),_a(t,"move-down")]},iI=Jt("DatePicker",t=>{const e=Dt(Pv(t),V9(t),{inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[B9(e),G9(e),H9(e),W9(e),D9(e),lf(t,{focusElCls:"".concat(t.componentCls,"-focused")})]},z9);var q9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const K9=q9;var Y9=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:K9}))},X9=l.forwardRef(Y9);const Q9=X9,kf=l.createContext(null);var J9=function(e){var n=e.activeTabOffset,r=e.horizontal,o=e.rtl,i=e.indicator,s=i===void 0?{}:i,a=s.size,c=s.align,u=c===void 0?"center":c,d=l.useState(),f=K(d,2),m=f[0],h=f[1],g=l.useRef(),p=fe.useCallback(function(v){return typeof a=="function"?a(v):typeof a=="number"?a:v},[a]);function w(){zt.cancel(g.current)}return l.useEffect(function(){var v={};if(n)if(r){v.width=p(n.width);var y=o?"right":"left";u==="start"&&(v[y]=n[y]),u==="center"&&(v[y]=n[y]+n.width/2,v.transform=o?"translateX(50%)":"translateX(-50%)"),u==="end"&&(v[y]=n[y]+n.width,v.transform="translateX(-100%)")}else v.height=p(n.height),u==="start"&&(v.top=n.top),u==="center"&&(v.top=n.top+n.height/2,v.transform="translateY(-50%)"),u==="end"&&(v.top=n.top+n.height,v.transform="translateY(-100%)");return w(),g.current=zt(function(){h(v)}),w},[n,r,o,u,p]),{style:m}},jw={width:0,height:0,left:0,top:0};function Z9(t,e,n){return l.useMemo(function(){for(var r,o=new Map,i=e.get((r=t[0])===null||r===void 0?void 0:r.key)||jw,s=i.left+i.width,a=0;a<t.length;a+=1){var c=t[a].key,u=e.get(c);if(!u){var d;u=e.get((d=t[a-1])===null||d===void 0?void 0:d.key)||jw}var f=o.get(c)||W({},u);f.right=s-f.left-f.width,o.set(c,f)}return o},[t.map(function(r){return r.key}).join("_"),e,n])}function zw(t,e){var n=l.useRef(t),r=l.useState({}),o=K(r,2),i=o[1];function s(a){var c=typeof a=="function"?a(n.current):a;c!==n.current&&e(c,n.current),n.current=c,i({})}return[n.current,s]}var ej=.1,Uw=.01,qu=20,Hw=Math.pow(.995,qu);function tj(t,e){var n=l.useState(),r=K(n,2),o=r[0],i=r[1],s=l.useState(0),a=K(s,2),c=a[0],u=a[1],d=l.useState(0),f=K(d,2),m=f[0],h=f[1],g=l.useState(),p=K(g,2),w=p[0],v=p[1],y=l.useRef();function b(_){var P=_.touches[0],M=P.screenX,T=P.screenY;i({x:M,y:T}),window.clearInterval(y.current)}function C(_){if(o){_.preventDefault();var P=_.touches[0],M=P.screenX,T=P.screenY;i({x:M,y:T});var k=M-o.x,R=T-o.y;e(k,R);var D=Date.now();u(D),h(D-c),v({x:k,y:R})}}function S(){if(o&&(i(null),v(null),w)){var _=w.x/m,P=w.y/m,M=Math.abs(_),T=Math.abs(P);if(Math.max(M,T)<ej)return;var k=_,R=P;y.current=window.setInterval(function(){if(Math.abs(k)<Uw&&Math.abs(R)<Uw){window.clearInterval(y.current);return}k*=Hw,R*=Hw,e(k*qu,R*qu)},qu)}}var x=l.useRef();function I(_){var P=_.deltaX,M=_.deltaY,T=0,k=Math.abs(P),R=Math.abs(M);k===R?T=x.current==="x"?P:M:k>R?(T=P,x.current="x"):(T=M,x.current="y"),e(-T,-T)&&_.preventDefault()}var E=l.useRef(null);E.current={onTouchStart:b,onTouchMove:C,onTouchEnd:S,onWheel:I},l.useEffect(function(){function _(k){E.current.onTouchStart(k)}function P(k){E.current.onTouchMove(k)}function M(k){E.current.onTouchEnd(k)}function T(k){E.current.onWheel(k)}return document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",M,{passive:!0}),t.current.addEventListener("touchstart",_,{passive:!0}),t.current.addEventListener("wheel",T,{passive:!1}),function(){document.removeEventListener("touchmove",P),document.removeEventListener("touchend",M)}},[])}function sI(t){var e=l.useState(0),n=K(e,2),r=n[0],o=n[1],i=l.useRef(0),s=l.useRef();return s.current=t,ad(function(){var a;(a=s.current)===null||a===void 0||a.call(s)},[r]),function(){i.current===r&&(i.current+=1,o(i.current))}}function nj(t){var e=l.useRef([]),n=l.useState({}),r=K(n,2),o=r[1],i=l.useRef(typeof t=="function"?t():t),s=sI(function(){var c=i.current;e.current.forEach(function(u){c=u(c)}),e.current=[],i.current=c,o({})});function a(c){e.current.push(c),s()}return[i.current,a]}var Ww={width:0,height:0,left:0,top:0,right:0};function rj(t,e,n,r,o,i,s){var a=s.tabs,c=s.tabPosition,u=s.rtl,d,f,m;return["top","bottom"].includes(c)?(d="width",f=u?"right":"left",m=Math.abs(n)):(d="height",f="top",m=-n),l.useMemo(function(){if(!a.length)return[0,0];for(var h=a.length,g=h,p=0;p<h;p+=1){var w=t.get(a[p].key)||Ww;if(w[f]+w[d]>m+e){g=p-1;break}}for(var v=0,y=h-1;y>=0;y-=1){var b=t.get(a[y].key)||Ww;if(b[f]<m){v=y+1;break}}return v>=g?[0,0]:[v,g]},[t,e,r,o,i,m,c,a.map(function(h){return h.key}).join("_"),u])}function Gw(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var oj="TABS_DQ";function aI(t){return String(t).replace(/"/g,oj)}function lI(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}var cI=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.editable,o=t.locale,i=t.style;return!r||r.showAdd===!1?null:l.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(a){r.onEdit("add",{event:a})}},r.addIcon||"+")}),qw=l.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,o=t.extra;if(!o)return null;var i,s={};return st(o)==="object"&&!l.isValidElement(o)?s=o:s.right=o,n==="right"&&(i=s.right),n==="left"&&(i=s.left),i?l.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},i):null}),ij=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.id,o=t.tabs,i=t.locale,s=t.mobile,a=t.more,c=a===void 0?{}:a,u=t.style,d=t.className,f=t.editable,m=t.tabBarGutter,h=t.rtl,g=t.removeAriaLabel,p=t.onTabClick,w=t.getPopupContainer,v=t.popupClassName,y=l.useState(!1),b=K(y,2),C=b[0],S=b[1],x=l.useState(null),I=K(x,2),E=I[0],_=I[1],P=c.icon,M=P===void 0?"More":P,T="".concat(r,"-more-popup"),k="".concat(n,"-dropdown"),R=E!==null?"".concat(T,"-").concat(E):null,D=i==null?void 0:i.dropdownAriaLabel;function L(N,B){N.preventDefault(),N.stopPropagation(),f.onEdit("remove",{key:B,event:N})}var $=l.createElement(Xa,{onClick:function(B){var H=B.key,Q=B.domEvent;p(H,Q),S(!1)},prefixCls:"".concat(k,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":R,selectedKeys:[E],"aria-label":D!==void 0?D:"expanded dropdown"},o.map(function(N){var B=N.closable,H=N.disabled,Q=N.closeIcon,G=N.key,Y=N.label,te=lI(B,Q,f,H);return l.createElement(Vc,{key:G,id:"".concat(T,"-").concat(G),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(G),disabled:H},l.createElement("span",null,Y),te&&l.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(k,"-menu-item-remove"),onClick:function(J){J.stopPropagation(),L(J,G)}},Q||f.removeIcon||"×"))}));function j(N){for(var B=o.filter(function(te){return!te.disabled}),H=B.findIndex(function(te){return te.key===E})||0,Q=B.length,G=0;G<Q;G+=1){H=(H+N+Q)%Q;var Y=B[H];if(!Y.disabled){_(Y.key);return}}}function U(N){var B=N.which;if(!C){[Ie.DOWN,Ie.SPACE,Ie.ENTER].includes(B)&&(S(!0),N.preventDefault());return}switch(B){case Ie.UP:j(-1),N.preventDefault();break;case Ie.DOWN:j(1),N.preventDefault();break;case Ie.ESC:S(!1);break;case Ie.SPACE:case Ie.ENTER:E!==null&&p(E,N);break}}l.useEffect(function(){var N=document.getElementById(R);N&&N.scrollIntoView&&N.scrollIntoView(!1)},[E]),l.useEffect(function(){C||_(null)},[C]);var z=q({},h?"marginRight":"marginLeft",m);o.length||(z.visibility="hidden",z.order=1);var F=X(q({},"".concat(k,"-rtl"),h)),V=s?null:l.createElement(JA,pe({prefixCls:k,overlay:$,visible:o.length?C:!1,onVisibleChange:S,overlayClassName:X(F,v),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:w},c),l.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(r,"-more"),"aria-expanded":C,onKeyDown:U},M));return l.createElement("div",{className:X("".concat(n,"-nav-operations"),d),style:u,ref:e},V,l.createElement(cI,{prefixCls:n,locale:i,editable:f}))});const sj=l.memo(ij,function(t,e){return e.tabMoving});var aj=function(e){var n=e.prefixCls,r=e.id,o=e.active,i=e.tab,s=i.key,a=i.label,c=i.disabled,u=i.closeIcon,d=i.icon,f=e.closable,m=e.renderWrapper,h=e.removeAriaLabel,g=e.editable,p=e.onClick,w=e.onFocus,v=e.style,y="".concat(n,"-tab"),b=lI(f,u,g,c);function C(E){c||p(E)}function S(E){E.preventDefault(),E.stopPropagation(),g.onEdit("remove",{key:s,event:E})}var x=l.useMemo(function(){return d&&typeof a=="string"?l.createElement("span",null,a):a},[a,d]),I=l.createElement("div",{key:s,"data-node-key":aI(s),className:X(y,q(q(q({},"".concat(y,"-with-remove"),b),"".concat(y,"-active"),o),"".concat(y,"-disabled"),c)),style:v,onClick:C},l.createElement("div",{role:"tab","aria-selected":o,id:r&&"".concat(r,"-tab-").concat(s),className:"".concat(y,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(_){_.stopPropagation(),C(_)},onKeyDown:function(_){[Ie.SPACE,Ie.ENTER].includes(_.which)&&(_.preventDefault(),C(_))},onFocus:w},d&&l.createElement("span",{className:"".concat(y,"-icon")},d),a&&x),b&&l.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(y,"-remove"),onClick:function(_){_.stopPropagation(),S(_)}},u||g.removeIcon||"×"));return m?m(I):I},lj=function(e,n){var r=e.offsetWidth,o=e.offsetHeight,i=e.offsetTop,s=e.offsetLeft,a=e.getBoundingClientRect(),c=a.width,u=a.height,d=a.x,f=a.y;return Math.abs(c-r)<1?[c,u,d-n.x,f-n.y]:[r,o,s,i]},ta=function(e){var n=e.current||{},r=n.offsetWidth,o=r===void 0?0:r,i=n.offsetHeight,s=i===void 0?0:i;if(e.current){var a=e.current.getBoundingClientRect(),c=a.width,u=a.height;if(Math.abs(c-o)<1)return[c,u]}return[o,s]},Su=function(e,n){return e[n?0:1]},Kw=l.forwardRef(function(t,e){var n=t.className,r=t.style,o=t.id,i=t.animated,s=t.activeKey,a=t.rtl,c=t.extra,u=t.editable,d=t.locale,f=t.tabPosition,m=t.tabBarGutter,h=t.children,g=t.onTabClick,p=t.onTabScroll,w=t.indicator,v=l.useContext(kf),y=v.prefixCls,b=v.tabs,C=l.useRef(null),S=l.useRef(null),x=l.useRef(null),I=l.useRef(null),E=l.useRef(null),_=l.useRef(null),P=l.useRef(null),M=f==="top"||f==="bottom",T=zw(0,function(It,et){M&&p&&p({direction:It>et?"left":"right"})}),k=K(T,2),R=k[0],D=k[1],L=zw(0,function(It,et){!M&&p&&p({direction:It>et?"top":"bottom"})}),$=K(L,2),j=$[0],U=$[1],z=l.useState([0,0]),F=K(z,2),V=F[0],N=F[1],B=l.useState([0,0]),H=K(B,2),Q=H[0],G=H[1],Y=l.useState([0,0]),te=K(Y,2),ee=te[0],J=te[1],se=l.useState([0,0]),ie=K(se,2),oe=ie[0],ue=ie[1],de=nj(new Map),he=K(de,2),ye=he[0],Se=he[1],Me=Z9(b,ye,Q[0]),be=Su(V,M),ke=Su(Q,M),we=Su(ee,M),le=Su(oe,M),Ce=be<ke+we,Ae=Ce?be-le:be-we,Be="".concat(y,"-nav-operations-hidden"),Fe=0,De=0;M&&a?(Fe=0,De=Math.max(0,ke-Ae)):(Fe=Math.min(0,Ae-ke),De=0);function ze(It){return It<Fe?Fe:It>De?De:It}var at=l.useRef(null),We=l.useState(),Re=K(We,2),me=Re[0],xe=Re[1];function _e(){xe(Date.now())}function Ne(){at.current&&clearTimeout(at.current)}tj(I,function(It,et){function wt(Bt,Ft){Bt(function(nn){var xn=ze(nn+Ft);return xn})}return Ce?(M?wt(D,It):wt(U,et),Ne(),_e(),!0):!1}),l.useEffect(function(){return Ne(),me&&(at.current=setTimeout(function(){xe(0)},100)),Ne},[me]);var He=rj(Me,Ae,M?R:j,ke,we,le,W(W({},t),{},{tabs:b})),ne=K(He,2),Pe=ne[0],je=ne[1],nt=Gt(function(){var It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,et=Me.get(It)||{width:0,height:0,left:0,right:0,top:0};if(M){var wt=R;a?et.right<R?wt=et.right:et.right+et.width>R+Ae&&(wt=et.right+et.width-Ae):et.left<-R?wt=-et.left:et.left+et.width>-R+Ae&&(wt=-(et.left+et.width-Ae)),U(0),D(ze(wt))}else{var Bt=j;et.top<-j?Bt=-et.top:et.top+et.height>-j+Ae&&(Bt=-(et.top+et.height-Ae)),D(0),U(ze(Bt))}}),gt={};f==="top"||f==="bottom"?gt[a?"marginRight":"marginLeft"]=m:gt.marginTop=m;var lt=b.map(function(It,et){var wt=It.key;return l.createElement(aj,{id:o,prefixCls:y,key:wt,tab:It,style:et===0?void 0:gt,closable:It.closable,editable:u,active:wt===s,renderWrapper:h,removeAriaLabel:d==null?void 0:d.removeAriaLabel,onClick:function(Ft){g(wt,Ft)},onFocus:function(){nt(wt),_e(),I.current&&(a||(I.current.scrollLeft=0),I.current.scrollTop=0)}})}),Ze=function(){return Se(function(){var et,wt=new Map,Bt=(et=E.current)===null||et===void 0?void 0:et.getBoundingClientRect();return b.forEach(function(Ft){var nn,xn=Ft.key,Qe=(nn=E.current)===null||nn===void 0?void 0:nn.querySelector('[data-node-key="'.concat(aI(xn),'"]'));if(Qe){var rt=lj(Qe,Bt),ft=K(rt,4),qt=ft[0],In=ft[1],Pn=ft[2],fn=ft[3];wt.set(xn,{width:qt,height:In,left:Pn,top:fn})}}),wt})};l.useEffect(function(){Ze()},[b.map(function(It){return It.key}).join("_")]);var Ye=sI(function(){var It=ta(C),et=ta(S),wt=ta(x);N([It[0]-et[0]-wt[0],It[1]-et[1]-wt[1]]);var Bt=ta(P);J(Bt);var Ft=ta(_);ue(Ft);var nn=ta(E);G([nn[0]-Bt[0],nn[1]-Bt[1]]),Ze()}),Xe=b.slice(0,Pe),$e=b.slice(je+1),pt=[].concat(Ee(Xe),Ee($e)),bt=Me.get(s),Te=J9({activeTabOffset:bt,horizontal:M,indicator:w,rtl:a}),Le=Te.style;l.useEffect(function(){nt()},[s,Fe,De,Gw(bt),Gw(Me),M]),l.useEffect(function(){Ye()},[a]);var Ve=!!pt.length,it="".concat(y,"-nav-wrap"),Ct,Ot,tn,Wt;return M?a?(Ot=R>0,Ct=R!==De):(Ct=R<0,Ot=R!==Fe):(tn=j<0,Wt=j!==Fe),l.createElement(Lr,{onResize:Ye},l.createElement("div",{ref:Ii(e,C),role:"tablist",className:X("".concat(y,"-nav"),n),style:r,onKeyDown:function(){_e()}},l.createElement(qw,{ref:S,position:"left",extra:c,prefixCls:y}),l.createElement(Lr,{onResize:Ye},l.createElement("div",{className:X(it,q(q(q(q({},"".concat(it,"-ping-left"),Ct),"".concat(it,"-ping-right"),Ot),"".concat(it,"-ping-top"),tn),"".concat(it,"-ping-bottom"),Wt)),ref:I},l.createElement(Lr,{onResize:Ye},l.createElement("div",{ref:E,className:"".concat(y,"-nav-list"),style:{transform:"translate(".concat(R,"px, ").concat(j,"px)"),transition:me?"none":void 0}},lt,l.createElement(cI,{ref:P,prefixCls:y,locale:d,editable:u,style:W(W({},lt.length===0?void 0:gt),{},{visibility:Ve?"hidden":null})}),l.createElement("div",{className:X("".concat(y,"-ink-bar"),q({},"".concat(y,"-ink-bar-animated"),i.inkBar)),style:Le}))))),l.createElement(sj,pe({},t,{removeAriaLabel:d==null?void 0:d.removeAriaLabel,ref:_,prefixCls:y,tabs:pt,className:!Ve&&Be,tabMoving:!!me})),l.createElement(qw,{ref:x,position:"right",extra:c,prefixCls:y})))}),uI=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,o=t.style,i=t.id,s=t.active,a=t.tabKey,c=t.children;return l.createElement("div",{id:i&&"".concat(i,"-panel-").concat(a),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(a),"aria-hidden":!s,style:o,className:X(n,s&&"".concat(n,"-active"),r),ref:e},c)}),cj=["renderTabBar"],uj=["label","key"],dj=function(e){var n=e.renderTabBar,r=ht(e,cj),o=l.useContext(kf),i=o.tabs;if(n){var s=W(W({},r),{},{panes:i.map(function(a){var c=a.label,u=a.key,d=ht(a,uj);return l.createElement(uI,pe({tab:c,key:u,tabKey:u},d))})});return n(s,Kw)}return l.createElement(Kw,r)},fj=["key","forceRender","style","className","destroyInactiveTabPane"],mj=function(e){var n=e.id,r=e.activeKey,o=e.animated,i=e.tabPosition,s=e.destroyInactiveTabPane,a=l.useContext(kf),c=a.prefixCls,u=a.tabs,d=o.tabPane,f="".concat(c,"-tabpane");return l.createElement("div",{className:X("".concat(c,"-content-holder"))},l.createElement("div",{className:X("".concat(c,"-content"),"".concat(c,"-content-").concat(i),q({},"".concat(c,"-content-animated"),d))},u.map(function(m){var h=m.key,g=m.forceRender,p=m.style,w=m.className,v=m.destroyInactiveTabPane,y=ht(m,fj),b=h===r;return l.createElement(Ir,pe({key:h,visible:b,forceRender:g,removeOnLeave:!!(s||v),leavedClassName:"".concat(f,"-hidden")},o.tabPaneMotion),function(C,S){var x=C.style,I=C.className;return l.createElement(uI,pe({},y,{prefixCls:f,id:n,tabKey:h,animated:d,active:b,style:W(W({},p),x),className:X(w,I),ref:S}))})})))};function hj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=W({inkBar:!0},st(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var gj=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],Yw=0,pj=l.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,o=r===void 0?"rc-tabs":r,i=t.className,s=t.items,a=t.direction,c=t.activeKey,u=t.defaultActiveKey,d=t.editable,f=t.animated,m=t.tabPosition,h=m===void 0?"top":m,g=t.tabBarGutter,p=t.tabBarStyle,w=t.tabBarExtraContent,v=t.locale,y=t.more,b=t.destroyInactiveTabPane,C=t.renderTabBar,S=t.onChange,x=t.onTabClick,I=t.onTabScroll,E=t.getPopupContainer,_=t.popupClassName,P=t.indicator,M=ht(t,gj),T=l.useMemo(function(){return(s||[]).filter(function(oe){return oe&&st(oe)==="object"&&"key"in oe})},[s]),k=a==="rtl",R=hj(f),D=l.useState(!1),L=K(D,2),$=L[0],j=L[1];l.useEffect(function(){j(tv())},[]);var U=on(function(){var oe;return(oe=T[0])===null||oe===void 0?void 0:oe.key},{value:c,defaultValue:u}),z=K(U,2),F=z[0],V=z[1],N=l.useState(function(){return T.findIndex(function(oe){return oe.key===F})}),B=K(N,2),H=B[0],Q=B[1];l.useEffect(function(){var oe=T.findIndex(function(de){return de.key===F});if(oe===-1){var ue;oe=Math.max(0,Math.min(H,T.length-1)),V((ue=T[oe])===null||ue===void 0?void 0:ue.key)}Q(oe)},[T.map(function(oe){return oe.key}).join("_"),F,H]);var G=on(null,{value:n}),Y=K(G,2),te=Y[0],ee=Y[1];l.useEffect(function(){n||(ee("rc-tabs-".concat(Yw)),Yw+=1)},[]);function J(oe,ue){x==null||x(oe,ue);var de=oe!==F;V(oe),de&&(S==null||S(oe))}var se={id:te,activeKey:F,animated:R,tabPosition:h,rtl:k,mobile:$},ie=W(W({},se),{},{editable:d,locale:v,more:y,tabBarGutter:g,onTabClick:J,onTabScroll:I,extra:w,style:p,panes:null,getPopupContainer:E,popupClassName:_,indicator:P});return l.createElement(kf.Provider,{value:{tabs:T,prefixCls:o}},l.createElement("div",pe({ref:e,id:n,className:X(o,"".concat(o,"-").concat(h),q(q(q({},"".concat(o,"-mobile"),$),"".concat(o,"-editable"),d),"".concat(o,"-rtl"),k),i)},M),l.createElement(dj,pe({},ie,{renderTabBar:C})),l.createElement(mj,pe({destroyInactiveTabPane:b},se,{animated:R}))))});const vj={motionAppear:!1,motionEnter:!0,motionLeave:!0};function bj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},vj),{motionName:jr(t,"switch")})),n}var wj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function yj(t){return t.filter(e=>e)}function Cj(t,e){if(t)return t;const n=Nr(e).map(r=>{if(l.isValidElement(r)){const{key:o,props:i}=r,s=i||{},{tab:a}=s,c=wj(s,["tab"]);return Object.assign(Object.assign({key:String(o)},c),{label:a})}return null});return yj(n)}const Sj=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{["".concat(e,"-switch")]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}}}},[Jo(t,"slide-up"),Jo(t,"slide-down")]]},xj=Sj,Aj=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:o,colorBorderSecondary:i,itemSelectedColor:s}=t;return{["".concat(e,"-card")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab")]:{margin:0,padding:n,background:r,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(i),transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut)},["".concat(e,"-tab-active")]:{color:s,background:t.colorBgContainer},["".concat(e,"-ink-bar")]:{visibility:"hidden"}},["&".concat(e,"-top, &").concat(e,"-bottom")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab + ").concat(e,"-tab")]:{marginLeft:{_skip_check_:!0,value:re(o)}}}},["&".concat(e,"-top")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab")]:{borderRadius:"".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG)," 0 0")},["".concat(e,"-tab-active")]:{borderBottomColor:t.colorBgContainer}}},["&".concat(e,"-bottom")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab")]:{borderRadius:"0 0 ".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG))},["".concat(e,"-tab-active")]:{borderTopColor:t.colorBgContainer}}},["&".concat(e,"-left, &").concat(e,"-right")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab + ").concat(e,"-tab")]:{marginTop:re(o)}}},["&".concat(e,"-left")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(re(t.borderRadiusLG)," 0 0 ").concat(re(t.borderRadiusLG))}},["".concat(e,"-tab-active")]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},["&".concat(e,"-right")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG)," 0")}},["".concat(e,"-tab-active")]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},Ej=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{["".concat(e,"-dropdown")]:Object.assign(Object.assign({},cn(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},["".concat(e,"-dropdown-menu")]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:"".concat(re(r)," 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Ci),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:"".concat(re(t.paddingXXS)," ").concat(re(t.paddingSM)),color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Ij=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:o,verticalItemPadding:i,verticalItemMargin:s,calc:a}=t;return{["".concat(e,"-top, ").concat(e,"-bottom")]:{flexDirection:"column",["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(r),content:"''"},["".concat(e,"-ink-bar")]:{height:t.lineWidthBold,"&-animated":{transition:"width ".concat(t.motionDurationSlow,", left ").concat(t.motionDurationSlow,",\n            right ").concat(t.motionDurationSlow)}},["".concat(e,"-nav-wrap")]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},["&".concat(e,"-nav-wrap-ping-left::before")]:{opacity:1},["&".concat(e,"-nav-wrap-ping-right::after")]:{opacity:1}}}},["".concat(e,"-top")]:{["> ".concat(e,"-nav,\n        > div > ").concat(e,"-nav")]:{"&::before":{bottom:0},["".concat(e,"-ink-bar")]:{bottom:0}}},["".concat(e,"-bottom")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},["".concat(e,"-ink-bar")]:{top:0}},["> ".concat(e,"-content-holder, > div > ").concat(e,"-content-holder")]:{order:0}},["".concat(e,"-left, ").concat(e,"-right")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{flexDirection:"column",minWidth:a(t.controlHeight).mul(1.25).equal(),["".concat(e,"-tab")]:{padding:i,textAlign:"center"},["".concat(e,"-tab + ").concat(e,"-tab")]:{margin:s},["".concat(e,"-nav-wrap")]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},["&".concat(e,"-nav-wrap-ping-top::before")]:{opacity:1},["&".concat(e,"-nav-wrap-ping-bottom::after")]:{opacity:1}},["".concat(e,"-ink-bar")]:{width:t.lineWidthBold,"&-animated":{transition:"height ".concat(t.motionDurationSlow,", top ").concat(t.motionDurationSlow)}},["".concat(e,"-nav-list, ").concat(e,"-nav-operations")]:{flex:"1 0 auto",flexDirection:"column"}}},["".concat(e,"-left")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-ink-bar")]:{right:{_skip_check_:!0,value:0}}},["> ".concat(e,"-content-holder, > div > ").concat(e,"-content-holder")]:{marginLeft:{_skip_check_:!0,value:re(a(t.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},["> ".concat(e,"-content > ").concat(e,"-tabpane")]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},["".concat(e,"-right")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{order:1,["".concat(e,"-ink-bar")]:{left:{_skip_check_:!0,value:0}}},["> ".concat(e,"-content-holder, > div > ").concat(e,"-content-holder")]:{order:0,marginRight:{_skip_check_:!0,value:a(t.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},["> ".concat(e,"-content > ").concat(e,"-tabpane")]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},_j=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:o,horizontalItemPaddingLG:i}=t;return{[e]:{"&-small":{["> ".concat(e,"-nav")]:{["".concat(e,"-tab")]:{padding:o,fontSize:t.titleFontSizeSM}}},"&-large":{["> ".concat(e,"-nav")]:{["".concat(e,"-tab")]:{padding:i,fontSize:t.titleFontSizeLG}}}},["".concat(e,"-card")]:{["&".concat(e,"-small")]:{["> ".concat(e,"-nav")]:{["".concat(e,"-tab")]:{padding:n}},["&".concat(e,"-bottom")]:{["> ".concat(e,"-nav ").concat(e,"-tab")]:{borderRadius:"0 0 ".concat(re(t.borderRadius)," ").concat(re(t.borderRadius))}},["&".concat(e,"-top")]:{["> ".concat(e,"-nav ").concat(e,"-tab")]:{borderRadius:"".concat(re(t.borderRadius)," ").concat(re(t.borderRadius)," 0 0")}},["&".concat(e,"-right")]:{["> ".concat(e,"-nav ").concat(e,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(re(t.borderRadius)," ").concat(re(t.borderRadius)," 0")}}},["&".concat(e,"-left")]:{["> ".concat(e,"-nav ").concat(e,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(re(t.borderRadius)," 0 0 ").concat(re(t.borderRadius))}}}},["&".concat(e,"-large")]:{["> ".concat(e,"-nav")]:{["".concat(e,"-tab")]:{padding:r}}}}}},Pj=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:o,tabsHorizontalItemMargin:i,horizontalItemPadding:s,itemSelectedColor:a,itemColor:c}=t,u="".concat(e,"-tab");return{[u]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},Qo(t)),"&-btn":{outline:"none",transition:"all ".concat(t.motionDurationSlow),["".concat(u,"-icon:not(:last-child)")]:{marginInlineEnd:t.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:t.calc(t.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),"&:hover":{color:t.colorTextHeading}},"&:hover":{color:r},["&".concat(u,"-active ").concat(u,"-btn")]:{color:a,textShadow:t.tabsActiveTextShadow},["&".concat(u,"-disabled")]:{color:t.colorTextDisabled,cursor:"not-allowed"},["&".concat(u,"-disabled ").concat(u,"-btn, &").concat(u,"-disabled ").concat(e,"-remove")]:{"&:focus, &:active":{color:t.colorTextDisabled}},["& ".concat(u,"-remove ").concat(o)]:{margin:0},["".concat(o,":not(:last-child)")]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},["".concat(u," + ").concat(u)]:{margin:{_skip_check_:!0,value:i}}}},Mj=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:o,calc:i}=t;return{["".concat(e,"-rtl")]:{direction:"rtl",["".concat(e,"-nav")]:{["".concat(e,"-tab")]:{margin:{_skip_check_:!0,value:n},["".concat(e,"-tab:last-of-type")]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:re(t.marginSM)}},["".concat(e,"-tab-remove")]:{marginRight:{_skip_check_:!0,value:re(t.marginXS)},marginLeft:{_skip_check_:!0,value:re(i(t.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},["&".concat(e,"-left")]:{["> ".concat(e,"-nav")]:{order:1},["> ".concat(e,"-content-holder")]:{order:0}},["&".concat(e,"-right")]:{["> ".concat(e,"-nav")]:{order:0},["> ".concat(e,"-content-holder")]:{order:1}},["&".concat(e,"-card").concat(e,"-top, &").concat(e,"-card").concat(e,"-bottom")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-tab + ").concat(e,"-tab")]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},["".concat(e,"-dropdown-rtl")]:{direction:"rtl"},["".concat(e,"-menu-item")]:{["".concat(e,"-dropdown-rtl")]:{textAlign:{_skip_check_:!0,value:"right"}}}}},kj=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:o,itemHoverColor:i,itemActiveColor:s,colorBorderSecondary:a}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{display:"flex",["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{position:"relative",display:"flex",flex:"none",alignItems:"center",["".concat(e,"-nav-wrap")]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(t.motionDurationSlow),content:"''",pointerEvents:"none"}},["".concat(e,"-nav-list")]:{position:"relative",display:"flex",transition:"opacity ".concat(t.motionDurationSlow)},["".concat(e,"-nav-operations")]:{display:"flex",alignSelf:"stretch"},["".concat(e,"-nav-operations-hidden")]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},["".concat(e,"-nav-more")]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.calc(t.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},["".concat(e,"-nav-add")]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:o},padding:"0 ".concat(re(t.paddingXS)),background:"transparent",border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(a),borderRadius:"".concat(re(t.borderRadiusLG)," ").concat(re(t.borderRadiusLG)," 0 0"),outline:"none",cursor:"pointer",color:t.colorText,transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut),"&:hover":{color:i},"&:active, &:focus:not(:focus-visible)":{color:s}},Qo(t))},["".concat(e,"-extra-content")]:{flex:"none"},["".concat(e,"-ink-bar")]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),Pj(t)),{["".concat(e,"-content")]:{position:"relative",width:"100%"},["".concat(e,"-content-holder")]:{flex:"auto",minWidth:0,minHeight:0},["".concat(e,"-tabpane")]:{outline:"none","&-hidden":{display:"none"}}}),["".concat(e,"-centered")]:{["> ".concat(e,"-nav, > div > ").concat(e,"-nav")]:{["".concat(e,"-nav-wrap")]:{["&:not([class*='".concat(e,"-nav-wrap-ping'])")]:{justifyContent:"center"}}}}}},Rj=t=>{const e=t.controlHeightLG;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:e,cardPadding:"".concat((e-Math.round(t.fontSize*t.lineHeight))/2-t.lineWidth,"px ").concat(t.padding,"px"),cardPaddingSM:"".concat(t.paddingXXS*1.5,"px ").concat(t.padding,"px"),cardPaddingLG:"".concat(t.paddingXS,"px ").concat(t.padding,"px ").concat(t.paddingXXS*1.5,"px"),titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:"0 0 ".concat(t.margin,"px 0"),horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:"".concat(t.paddingSM,"px 0"),horizontalItemPaddingSM:"".concat(t.paddingXS,"px 0"),horizontalItemPaddingLG:"".concat(t.padding,"px 0"),verticalItemPadding:"".concat(t.paddingXS,"px ").concat(t.paddingLG,"px"),verticalItemMargin:"".concat(t.margin,"px 0 0 0"),itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}},Tj=Jt("Tabs",t=>{const e=Dt(t,{tabsCardPadding:t.cardPadding,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:"0 0 0 ".concat(re(t.horizontalItemGutter)),tabsHorizontalItemMarginRTL:"0 0 0 ".concat(re(t.horizontalItemGutter))});return[_j(e),Mj(e),Ij(e),Ej(e),Aj(e),kj(e),xj(e)]},Rj),Oj=()=>null,Nj=Oj;var Dj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const dI=t=>{var e,n,r,o,i,s,a,c,u,d,f;const{type:m,className:h,rootClassName:g,size:p,onEdit:w,hideAdd:v,centered:y,addIcon:b,removeIcon:C,moreIcon:S,more:x,popupClassName:I,children:E,items:_,animated:P,style:M,indicatorSize:T,indicator:k}=t,R=Dj(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:D}=R,{direction:L,tabs:$,getPrefixCls:j,getPopupContainer:U}=l.useContext(Ge),z=j("tabs",D),F=Dn(z),[V,N,B]=Tj(z,F);let H;m==="editable-card"&&(H={onEdit:(se,ie)=>{let{key:oe,event:ue}=ie;w==null||w(se==="add"?ue:oe,se)},removeIcon:(e=C!=null?C:$==null?void 0:$.removeIcon)!==null&&e!==void 0?e:l.createElement(fr,null),addIcon:(b!=null?b:$==null?void 0:$.addIcon)||l.createElement(Q9,null),showAdd:v!==!0});const Q=j(),G=io(p),Y=Cj(_,E),te=bj(z,P),ee=Object.assign(Object.assign({},$==null?void 0:$.style),M),J={align:(n=k==null?void 0:k.align)!==null&&n!==void 0?n:(r=$==null?void 0:$.indicator)===null||r===void 0?void 0:r.align,size:(a=(i=(o=k==null?void 0:k.size)!==null&&o!==void 0?o:T)!==null&&i!==void 0?i:(s=$==null?void 0:$.indicator)===null||s===void 0?void 0:s.size)!==null&&a!==void 0?a:$==null?void 0:$.indicatorSize};return V(l.createElement(pj,Object.assign({direction:L,getPopupContainer:U},R,{items:Y,className:X({["".concat(z,"-").concat(G)]:G,["".concat(z,"-card")]:["card","editable-card"].includes(m),["".concat(z,"-editable-card")]:m==="editable-card",["".concat(z,"-centered")]:y},$==null?void 0:$.className,h,g,N,B,F),popupClassName:X(I,N,B,F),style:ee,editable:H,more:Object.assign({icon:(f=(d=(u=(c=$==null?void 0:$.more)===null||c===void 0?void 0:c.icon)!==null&&u!==void 0?u:$==null?void 0:$.moreIcon)!==null&&d!==void 0?d:S)!==null&&f!==void 0?f:l.createElement(vv,null),transitionName:"".concat(Q,"-slide-up")},x),prefixCls:z,animated:te,indicator:J})))};dI.TabPane=Nj;const fI=dI,$j=t=>{const{checkboxCls:e}=t,n="".concat(e,"-wrapper");return[{["".concat(e,"-group")]:Object.assign(Object.assign({},cn(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,["> ".concat(t.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},cn(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},cn(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",["".concat(e,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(e,"-inner")]:Object.assign({},Np(t))},["".concat(e,"-inner")]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(t.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:"".concat(re(t.lineWidthBold)," solid ").concat(t.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(t.motionDurationFast," ").concat(t.motionEaseInBack,", opacity ").concat(t.motionDurationFast)}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(e,":not(").concat(e,"-disabled)\n      ")]:{["&:hover ".concat(e,"-inner")]:{borderColor:t.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(e,"-checked:not(").concat(e,"-disabled) ").concat(e,"-inner")]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(e,"-checked:not(").concat(e,"-disabled):after")]:{borderColor:t.colorPrimaryHover}}},{["".concat(e,"-checked")]:{["".concat(e,"-inner")]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseOutBack," ").concat(t.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(e,"-checked:not(").concat(e,"-disabled)\n      ")]:{["&:hover ".concat(e,"-inner")]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{["".concat(e,"-inner")]:{backgroundColor:"".concat(t.colorBgContainer," !important"),borderColor:"".concat(t.colorBorder," !important"),"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},["&:hover ".concat(e,"-inner")]:{backgroundColor:"".concat(t.colorBgContainer," !important"),borderColor:"".concat(t.colorPrimary," !important")}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(e,"-disabled")]:{["&, ".concat(e,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(e,"-inner")]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},["&".concat(e,"-indeterminate ").concat(e,"-inner::after")]:{background:t.colorTextDisabled}}}]};function Fj(t,e){const n=Dt(e,{checkboxCls:".".concat(t),checkboxSize:e.controlInteractiveSize});return[$j(n)]}const mI=Jt("Checkbox",(t,e)=>{let{prefixCls:n}=e;return[Fj(n,t)]}),Lj=fe.createContext(null),hI=Lj;var Bj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Vj=(t,e)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:s,indeterminate:a=!1,style:c,onMouseEnter:u,onMouseLeave:d,skipGroup:f=!1,disabled:m}=t,h=Bj(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:g,direction:p,checkbox:w}=l.useContext(Ge),v=l.useContext(hI),{isFormItemInput:y}=l.useContext(_r),b=l.useContext(Vo),C=(n=(v==null?void 0:v.disabled)||m)!==null&&n!==void 0?n:b,S=l.useRef(h.value);l.useEffect(()=>{v==null||v.registerValue(h.value)},[]),l.useEffect(()=>{if(!f)return h.value!==S.current&&(v==null||v.cancelValue(S.current),v==null||v.registerValue(h.value),S.current=h.value),()=>v==null?void 0:v.cancelValue(h.value)},[h.value]);const x=g("checkbox",r),I=Dn(x),[E,_,P]=mI(x,I),M=Object.assign({},h);v&&!f&&(M.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),v.toggleOption&&v.toggleOption({label:s,value:h.value})},M.name=v.name,M.checked=v.value.includes(h.value));const T=X("".concat(x,"-wrapper"),{["".concat(x,"-rtl")]:p==="rtl",["".concat(x,"-wrapper-checked")]:M.checked,["".concat(x,"-wrapper-disabled")]:C,["".concat(x,"-wrapper-in-form-item")]:y},w==null?void 0:w.className,o,i,P,I,_),k=X({["".concat(x,"-indeterminate")]:a},zp,_),R=a?"mixed":void 0;return E(l.createElement(Up,{component:"Checkbox",disabled:C},l.createElement("label",{className:T,style:Object.assign(Object.assign({},w==null?void 0:w.style),c),onMouseEnter:u,onMouseLeave:d},l.createElement(S9,Object.assign({"aria-checked":R},M,{prefixCls:x,className:k,disabled:C,ref:e})),s!==void 0&&l.createElement("span",null,s))))},jj=l.forwardRef(Vj),gI=jj;var zj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Uj=l.forwardRef((t,e)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:s,rootClassName:a,style:c,onChange:u}=t,d=zj(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:f,direction:m}=l.useContext(Ge),[h,g]=l.useState(d.value||n||[]),[p,w]=l.useState([]);l.useEffect(()=>{"value"in d&&g(d.value||[])},[d.value]);const v=l.useMemo(()=>o.map(D=>typeof D=="string"||typeof D=="number"?{label:D,value:D}:D),[o]),y=D=>{w(L=>L.filter($=>$!==D))},b=D=>{w(L=>[].concat(Ee(L),[D]))},C=D=>{const L=h.indexOf(D.value),$=Ee(h);L===-1?$.push(D.value):$.splice(L,1),"value"in d||g($),u==null||u($.filter(j=>p.includes(j)).sort((j,U)=>{const z=v.findIndex(V=>V.value===j),F=v.findIndex(V=>V.value===U);return z-F}))},S=f("checkbox",i),x="".concat(S,"-group"),I=Dn(S),[E,_,P]=mI(S,I),M=Nn(d,["value","disabled"]),T=o.length?v.map(D=>l.createElement(gI,{prefixCls:S,key:D.value.toString(),disabled:"disabled"in D?D.disabled:d.disabled,value:D.value,checked:h.includes(D.value),onChange:D.onChange,className:"".concat(x,"-item"),style:D.style,title:D.title,id:D.id,required:D.required},D.label)):r,k={toggleOption:C,value:h,disabled:d.disabled,name:d.name,registerValue:b,cancelValue:y},R=X(x,{["".concat(x,"-rtl")]:m==="rtl"},s,a,P,I,_);return E(l.createElement("div",Object.assign({className:R,style:c},M,{ref:e}),l.createElement(hI.Provider,{value:k},T)))}),Hj=Uj,Tv=gI;Tv.Group=Hj;Tv.__ANT_CHECKBOX=!0;const ui=Tv,Wj=l.createContext({}),pI=Wj,Gj=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},qj=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Kj=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=t,i={};for(let s=o;s>=0;s--)s===0?(i["".concat(r).concat(e,"-").concat(s)]={display:"none"},i["".concat(r,"-push-").concat(s)]={insetInlineStart:"auto"},i["".concat(r,"-pull-").concat(s)]={insetInlineEnd:"auto"},i["".concat(r).concat(e,"-push-").concat(s)]={insetInlineStart:"auto"},i["".concat(r).concat(e,"-pull-").concat(s)]={insetInlineEnd:"auto"},i["".concat(r).concat(e,"-offset-").concat(s)]={marginInlineStart:0},i["".concat(r).concat(e,"-order-").concat(s)]={order:0}):(i["".concat(r).concat(e,"-").concat(s)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(s/o*100,"%"),maxWidth:"".concat(s/o*100,"%")}],i["".concat(r).concat(e,"-push-").concat(s)]={insetInlineStart:"".concat(s/o*100,"%")},i["".concat(r).concat(e,"-pull-").concat(s)]={insetInlineEnd:"".concat(s/o*100,"%")},i["".concat(r).concat(e,"-offset-").concat(s)]={marginInlineStart:"".concat(s/o*100,"%")},i["".concat(r).concat(e,"-order-").concat(s)]={order:s});return i["".concat(r).concat(e,"-flex")]={flex:"var(--".concat(n).concat(e,"-flex)")},i},Fg=(t,e)=>Kj(t,e),Yj=(t,e,n)=>({["@media (min-width: ".concat(re(e),")")]:Object.assign({},Fg(t,n))}),Xj=()=>({}),Qj=()=>({}),Jj=Jt("Grid",Gj,Xj),Zj=Jt("Grid",t=>{const e=Dt(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[qj(e),Fg(e,""),Fg(e,"-xs"),Object.keys(n).map(r=>Yj(e,n[r],r)).reduce((r,o)=>Object.assign(Object.assign({},r),o),{})]},Qj);var ez=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Xw(t){return typeof t=="number"?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}const tz=["xs","sm","md","lg","xl","xxl"],nz=l.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=l.useContext(Ge),{gutter:o,wrap:i}=l.useContext(pI),{prefixCls:s,span:a,order:c,offset:u,push:d,pull:f,className:m,children:h,flex:g,style:p}=t,w=ez(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),v=n("col",s),[y,b,C]=Zj(v),S={};let x={};tz.forEach(_=>{let P={};const M=t[_];typeof M=="number"?P.span=M:typeof M=="object"&&(P=M||{}),delete w[_],x=Object.assign(Object.assign({},x),{["".concat(v,"-").concat(_,"-").concat(P.span)]:P.span!==void 0,["".concat(v,"-").concat(_,"-order-").concat(P.order)]:P.order||P.order===0,["".concat(v,"-").concat(_,"-offset-").concat(P.offset)]:P.offset||P.offset===0,["".concat(v,"-").concat(_,"-push-").concat(P.push)]:P.push||P.push===0,["".concat(v,"-").concat(_,"-pull-").concat(P.pull)]:P.pull||P.pull===0,["".concat(v,"-rtl")]:r==="rtl"}),P.flex&&(x["".concat(v,"-").concat(_,"-flex")]=!0,S["--".concat(v,"-").concat(_,"-flex")]=Xw(P.flex))});const I=X(v,{["".concat(v,"-").concat(a)]:a!==void 0,["".concat(v,"-order-").concat(c)]:c,["".concat(v,"-offset-").concat(u)]:u,["".concat(v,"-push-").concat(d)]:d,["".concat(v,"-pull-").concat(f)]:f},m,x,b,C),E={};if(o&&o[0]>0){const _=o[0]/2;E.paddingLeft=_,E.paddingRight=_}return g&&(E.flex=Xw(g),i===!1&&!E.minWidth&&(E.minWidth=0)),y(l.createElement("div",Object.assign({},w,{style:Object.assign(Object.assign(Object.assign({},E),p),S),className:I,ref:e}),h))}),vI=nz;var rz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Qw(t,e){const[n,r]=l.useState(typeof t=="string"?t:""),o=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let i=0;i<Ma.length;i++){const s=Ma[i];if(!e[s])continue;const a=t[s];if(a!==void 0){r(a);return}}};return l.useEffect(()=>{o()},[JSON.stringify(t),e]),n}const oz=l.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:o,className:i,style:s,children:a,gutter:c=0,wrap:u}=t,d=rz(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:m}=l.useContext(Ge),[h,g]=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[p,w]=l.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),v=Qw(o,p),y=Qw(r,p),b=l.useRef(c),C=DA();l.useEffect(()=>{const $=C.subscribe(j=>{w(j);const U=b.current||0;(!Array.isArray(U)&&typeof U=="object"||Array.isArray(U)&&(typeof U[0]=="object"||typeof U[1]=="object"))&&g(j)});return()=>C.unsubscribe($)},[]);const S=()=>{const $=[void 0,void 0];return(Array.isArray(c)?c:[c,void 0]).forEach((U,z)=>{if(typeof U=="object")for(let F=0;F<Ma.length;F++){const V=Ma[F];if(h[V]&&U[V]!==void 0){$[z]=U[V];break}}else $[z]=U}),$},x=f("row",n),[I,E,_]=Jj(x),P=S(),M=X(x,{["".concat(x,"-no-wrap")]:u===!1,["".concat(x,"-").concat(y)]:y,["".concat(x,"-").concat(v)]:v,["".concat(x,"-rtl")]:m==="rtl"},i,E,_),T={},k=P[0]!=null&&P[0]>0?P[0]/-2:void 0;k&&(T.marginLeft=k,T.marginRight=k);const[R,D]=P;T.rowGap=D;const L=l.useMemo(()=>({gutter:[R,D],wrap:u}),[R,D,u]);return I(l.createElement(pI.Provider,{value:L},l.createElement("div",Object.assign({},d,{className:M,style:Object.assign(Object.assign({},T),s),ref:e}),a)))}),iz=oz,sz=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:i,orientationMargin:s,verticalMarginInline:a}=t;return{[e]:Object.assign(Object.assign({},cn(t)),{borderBlockStart:"".concat(re(o)," solid ").concat(r),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(re(o)," solid ").concat(r)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(re(t.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(e,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat(re(t.dividerHorizontalWithTextGutterMargin)," 0"),color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(r),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(re(o)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(e,"-with-text-left")]:{"&::before":{width:"calc(".concat(s," * 100%)")},"&::after":{width:"calc(100% - ".concat(s," * 100%)")}},["&-horizontal".concat(e,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(s," * 100%)")},"&::after":{width:"calc(".concat(s," * 100%)")}},["".concat(e,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:"".concat(re(o)," 0 0")},["&-horizontal".concat(e,"-with-text").concat(e,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(e,"-dashed")]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:"".concat(re(o)," 0 0")},["&-horizontal".concat(e,"-with-text").concat(e,"-dotted")]:{"&::before, &::after":{borderStyle:"dotted none none"}},["&-vertical".concat(e,"-dotted")]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(e,"-with-text")]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},["&-horizontal".concat(e,"-with-text-left").concat(e,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(e,"-inner-text")]:{paddingInlineStart:n}},["&-horizontal".concat(e,"-with-text-right").concat(e,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(e,"-inner-text")]:{paddingInlineEnd:n}}})}},az=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),lz=Jt("Divider",t=>{const e=Dt(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[sz(e)]},az,{unitless:{orientationMargin:!0}});var cz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const uz=t=>{const{getPrefixCls:e,direction:n,divider:r}=l.useContext(Ge),{prefixCls:o,type:i="horizontal",orientation:s="center",orientationMargin:a,className:c,rootClassName:u,children:d,dashed:f,variant:m="solid",plain:h,style:g}=t,p=cz(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),w=e("divider",o),[v,y,b]=lz(w),C=!!d,S=s==="left"&&a!=null,x=s==="right"&&a!=null,I=X(w,r==null?void 0:r.className,y,b,"".concat(w,"-").concat(i),{["".concat(w,"-with-text")]:C,["".concat(w,"-with-text-").concat(s)]:C,["".concat(w,"-dashed")]:!!f,["".concat(w,"-").concat(m)]:m!=="solid",["".concat(w,"-plain")]:!!h,["".concat(w,"-rtl")]:n==="rtl",["".concat(w,"-no-default-orientation-margin-left")]:S,["".concat(w,"-no-default-orientation-margin-right")]:x},c,u),E=l.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),_=Object.assign(Object.assign({},S&&{marginLeft:E}),x&&{marginRight:E});return v(l.createElement("div",Object.assign({className:I,style:Object.assign(Object.assign({},r==null?void 0:r.style),g)},p,{role:"separator"}),d&&i!=="vertical"&&l.createElement("span",{className:"".concat(w,"-inner-text"),style:_},d)))},Wn=uz;function dz(t){return!!(t.addonBefore||t.addonAfter)}function fz(t){return!!(t.prefix||t.suffix||t.allowClear)}function Jw(t,e,n){var r=e.cloneNode(!0),o=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},o}function Cd(t,e,n,r){if(n){var o=e;if(e.type==="click"){o=Jw(e,t,""),n(o);return}if(t.type!=="file"&&r!==void 0){o=Jw(e,t,r),n(o);return}n(o)}}function mz(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var o=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(o,o);break;default:t.setSelectionRange(0,o)}}}}var bI=fe.forwardRef(function(t,e){var n,r,o=t.inputElement,i=t.children,s=t.prefixCls,a=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,m=t.style,h=t.disabled,g=t.readOnly,p=t.focused,w=t.triggerFocus,v=t.allowClear,y=t.value,b=t.handleReset,C=t.hidden,S=t.classes,x=t.classNames,I=t.dataAttrs,E=t.styles,_=t.components,P=t.onClear,M=i!=null?i:o,T=(_==null?void 0:_.affixWrapper)||"span",k=(_==null?void 0:_.groupWrapper)||"span",R=(_==null?void 0:_.wrapper)||"span",D=(_==null?void 0:_.groupAddon)||"span",L=l.useRef(null),$=function(de){var he;(he=L.current)!==null&&he!==void 0&&he.contains(de.target)&&(w==null||w())},j=fz(t),U=l.cloneElement(M,{value:y,className:X(M.props.className,!j&&(x==null?void 0:x.variant))||null}),z=l.useRef(null);if(fe.useImperativeHandle(e,function(){return{nativeElement:z.current||L.current}}),j){var F,V=null;if(v){var N,B=!h&&!g&&y,H="".concat(s,"-clear-icon"),Q=st(v)==="object"&&v!==null&&v!==void 0&&v.clearIcon?v.clearIcon:"✖";V=fe.createElement("span",{onClick:function(de){b==null||b(de),P==null||P()},onMouseDown:function(de){return de.preventDefault()},className:X(H,(N={},q(N,"".concat(H,"-hidden"),!B),q(N,"".concat(H,"-has-suffix"),!!c),N)),role:"button",tabIndex:-1},Q)}var G="".concat(s,"-affix-wrapper"),Y=X(G,(F={},q(F,"".concat(s,"-disabled"),h),q(F,"".concat(G,"-disabled"),h),q(F,"".concat(G,"-focused"),p),q(F,"".concat(G,"-readonly"),g),q(F,"".concat(G,"-input-with-clear-btn"),c&&v&&y),F),S==null?void 0:S.affixWrapper,x==null?void 0:x.affixWrapper,x==null?void 0:x.variant),te=(c||v)&&fe.createElement("span",{className:X("".concat(s,"-suffix"),x==null?void 0:x.suffix),style:E==null?void 0:E.suffix},V,c);U=fe.createElement(T,pe({className:Y,style:E==null?void 0:E.affixWrapper,onClick:$},I==null?void 0:I.affixWrapper,{ref:L}),a&&fe.createElement("span",{className:X("".concat(s,"-prefix"),x==null?void 0:x.prefix),style:E==null?void 0:E.prefix},a),U,te)}if(dz(t)){var ee="".concat(s,"-group"),J="".concat(ee,"-addon"),se="".concat(ee,"-wrapper"),ie=X("".concat(s,"-wrapper"),ee,S==null?void 0:S.wrapper,x==null?void 0:x.wrapper),oe=X(se,q({},"".concat(se,"-disabled"),h),S==null?void 0:S.group,x==null?void 0:x.groupWrapper);U=fe.createElement(k,{className:oe,ref:z},fe.createElement(R,{className:ie},u&&fe.createElement(D,{className:J},u),U,d&&fe.createElement(D,{className:J},d)))}return fe.cloneElement(U,{className:X((n=U.props)===null||n===void 0?void 0:n.className,f)||null,style:W(W({},(r=U.props)===null||r===void 0?void 0:r.style),m),hidden:C})}),hz=["show"];function wI(t,e){return l.useMemo(function(){var n={};e&&(n.show=st(e)==="object"&&e.formatter?e.formatter:!!e),n=W(W({},n),t);var r=n,o=r.show,i=ht(r,hz);return W(W({},i),{},{show:!!o,showFormatter:typeof o=="function"?o:void 0,strategy:i.strategy||function(s){return s.length}})},[t,e])}var gz=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],pz=l.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,o=t.onFocus,i=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,c=t.onKeyUp,u=t.prefixCls,d=u===void 0?"rc-input":u,f=t.disabled,m=t.htmlSize,h=t.className,g=t.maxLength,p=t.suffix,w=t.showCount,v=t.count,y=t.type,b=y===void 0?"text":y,C=t.classes,S=t.classNames,x=t.styles,I=t.onCompositionStart,E=t.onCompositionEnd,_=ht(t,gz),P=l.useState(!1),M=K(P,2),T=M[0],k=M[1],R=l.useRef(!1),D=l.useRef(!1),L=l.useRef(null),$=l.useRef(null),j=function(le){L.current&&mz(L.current,le)},U=on(t.defaultValue,{value:t.value}),z=K(U,2),F=z[0],V=z[1],N=F==null?"":String(F),B=l.useState(null),H=K(B,2),Q=H[0],G=H[1],Y=wI(v,w),te=Y.max||g,ee=Y.strategy(N),J=!!te&&ee>te;l.useImperativeHandle(e,function(){var we;return{focus:j,blur:function(){var Ce;(Ce=L.current)===null||Ce===void 0||Ce.blur()},setSelectionRange:function(Ce,Ae,Be){var Fe;(Fe=L.current)===null||Fe===void 0||Fe.setSelectionRange(Ce,Ae,Be)},select:function(){var Ce;(Ce=L.current)===null||Ce===void 0||Ce.select()},input:L.current,nativeElement:((we=$.current)===null||we===void 0?void 0:we.nativeElement)||L.current}}),l.useEffect(function(){k(function(we){return we&&f?!1:we})},[f]);var se=function(le,Ce,Ae){var Be=Ce;if(!R.current&&Y.exceedFormatter&&Y.max&&Y.strategy(Ce)>Y.max){if(Be=Y.exceedFormatter(Ce,{max:Y.max}),Ce!==Be){var Fe,De;G([((Fe=L.current)===null||Fe===void 0?void 0:Fe.selectionStart)||0,((De=L.current)===null||De===void 0?void 0:De.selectionEnd)||0])}}else if(Ae.source==="compositionEnd")return;V(Be),L.current&&Cd(L.current,le,r,Be)};l.useEffect(function(){if(Q){var we;(we=L.current)===null||we===void 0||we.setSelectionRange.apply(we,Ee(Q))}},[Q]);var ie=function(le){se(le,le.target.value,{source:"change"})},oe=function(le){R.current=!1,se(le,le.currentTarget.value,{source:"compositionEnd"}),E==null||E(le)},ue=function(le){s&&le.key==="Enter"&&!D.current&&(D.current=!0,s(le)),a==null||a(le)},de=function(le){le.key==="Enter"&&(D.current=!1),c==null||c(le)},he=function(le){k(!0),o==null||o(le)},ye=function(le){k(!1),i==null||i(le)},Se=function(le){V(""),j(),L.current&&Cd(L.current,le,r)},Me=J&&"".concat(d,"-out-of-range"),be=function(){var le=Nn(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return fe.createElement("input",pe({autoComplete:n},le,{onChange:ie,onFocus:he,onBlur:ye,onKeyDown:ue,onKeyUp:de,className:X(d,q({},"".concat(d,"-disabled"),f),S==null?void 0:S.input),style:x==null?void 0:x.input,ref:L,size:m,type:b,onCompositionStart:function(Ae){R.current=!0,I==null||I(Ae)},onCompositionEnd:oe}))},ke=function(){var le=Number(te)>0;if(p||Y.show){var Ce=Y.showFormatter?Y.showFormatter({value:N,count:ee,maxLength:te}):"".concat(ee).concat(le?" / ".concat(te):"");return fe.createElement(fe.Fragment,null,Y.show&&fe.createElement("span",{className:X("".concat(d,"-show-count-suffix"),q({},"".concat(d,"-show-count-has-suffix"),!!p),S==null?void 0:S.count),style:W({},x==null?void 0:x.count)},Ce),p)}return null};return fe.createElement(bI,pe({},_,{prefixCls:d,className:X(h,Me),handleReset:Se,value:N,focused:T,triggerFocus:j,suffix:ke(),disabled:f,classes:C,classNames:S,styles:x}),be())});const vz=t=>{const{getPrefixCls:e,direction:n}=l.useContext(Ge),{prefixCls:r,className:o}=t,i=e("input-group",r),s=e("input"),[a,c]=Rv(s),u=X(i,{["".concat(i,"-lg")]:t.size==="large",["".concat(i,"-sm")]:t.size==="small",["".concat(i,"-compact")]:t.compact,["".concat(i,"-rtl")]:n==="rtl"},c,o),d=l.useContext(_r),f=l.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return a(l.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},l.createElement(_r.Provider,{value:f},t.children)))},bz=vz,wz=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:fe.createElement(ts,null)}),e},yI=wz;function CI(t,e){const n=l.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var o,i,s,a;!((o=t.current)===null||o===void 0)&&o.input&&((i=t.current)===null||i===void 0?void 0:i.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return l.useEffect(()=>(e&&r(),()=>n.current.forEach(o=>{o&&clearTimeout(o)})),[]),r}function yz(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var Cz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Sz(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}const xz=l.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:o=!0,status:i,size:s,disabled:a,onBlur:c,onFocus:u,suffix:d,allowClear:f,addonAfter:m,addonBefore:h,className:g,style:p,styles:w,rootClassName:v,onChange:y,classNames:b,variant:C}=t,S=Cz(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:x,direction:I,input:E}=fe.useContext(Ge),_=x("input",r),P=l.useRef(null),M=Dn(_),[T,k,R]=Rv(_,M),{compactSize:D,compactItemClassnames:L}=Ns(_,I),$=io(ie=>{var oe;return(oe=s!=null?s:D)!==null&&oe!==void 0?oe:ie}),j=fe.useContext(Vo),U=a!=null?a:j,{status:z,hasFeedback:F,feedbackIcon:V}=l.useContext(_r),N=Ga(z,i),B=yz(t)||!!F;l.useRef(B);const H=CI(P,!0),Q=ie=>{H(),c==null||c(ie)},G=ie=>{H(),u==null||u(ie)},Y=ie=>{H(),y==null||y(ie)},te=(F||d)&&fe.createElement(fe.Fragment,null,d,F&&V),ee=yI(f!=null?f:E==null?void 0:E.allowClear),[J,se]=Bc("input",C,o);return T(fe.createElement(pz,Object.assign({ref:oo(e,P),prefixCls:_,autoComplete:E==null?void 0:E.autoComplete},S,{disabled:U,onBlur:Q,onFocus:G,style:Object.assign(Object.assign({},E==null?void 0:E.style),p),styles:Object.assign(Object.assign({},E==null?void 0:E.styles),w),suffix:te,allowClear:ee,className:X(g,v,R,M,L,E==null?void 0:E.className),onChange:Y,addonBefore:h&&fe.createElement(Gi,{form:!0,space:!0},h),addonAfter:m&&fe.createElement(Gi,{form:!0,space:!0},m),classNames:Object.assign(Object.assign(Object.assign({},b),E==null?void 0:E.classNames),{input:X({["".concat(_,"-sm")]:$==="small",["".concat(_,"-lg")]:$==="large",["".concat(_,"-rtl")]:I==="rtl"},b==null?void 0:b.input,(n=E==null?void 0:E.classNames)===null||n===void 0?void 0:n.input,k),variant:X({["".concat(_,"-").concat(J)]:se},Pa(_,N)),affixWrapper:X({["".concat(_,"-affix-wrapper-sm")]:$==="small",["".concat(_,"-affix-wrapper-lg")]:$==="large",["".concat(_,"-affix-wrapper-rtl")]:I==="rtl"},k),wrapper:X({["".concat(_,"-group-rtl")]:I==="rtl"},k),groupWrapper:X({["".concat(_,"-group-wrapper-sm")]:$==="small",["".concat(_,"-group-wrapper-lg")]:$==="large",["".concat(_,"-group-wrapper-rtl")]:I==="rtl",["".concat(_,"-group-wrapper-").concat(J)]:se},Pa("".concat(_,"-group-wrapper"),N,F),k)})})))}),Rf=xz,Az=t=>{const{componentCls:e,paddingXS:n}=t;return{["".concat(e)]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},["".concat(e,"-input")]:{textAlign:"center",paddingInline:t.paddingXXS},["&".concat(e,"-sm ").concat(e,"-input")]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},["&".concat(e,"-lg ").concat(e,"-input")]:{paddingInline:t.paddingXS}}}},Ez=Jt(["Input","OTP"],t=>{const e=Dt(t,Pv(t));return[Az(e)]},Mv);var Iz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const _z=l.forwardRef((t,e)=>{const{value:n,onChange:r,onActiveChange:o,index:i,mask:s}=t,a=Iz(t,["value","onChange","onActiveChange","index","mask"]),c=n&&typeof s=="string"?s:n,u=g=>{r(i,g.target.value)},d=l.useRef(null);l.useImperativeHandle(e,()=>d.current);const f=()=>{zt(()=>{var g;const p=(g=d.current)===null||g===void 0?void 0:g.input;document.activeElement===p&&p&&p.select()})},m=g=>{let{key:p}=g;p==="ArrowLeft"?o(i-1):p==="ArrowRight"&&o(i+1),f()},h=g=>{g.key==="Backspace"&&!n&&o(i-1),f()};return l.createElement(Rf,Object.assign({},a,{ref:d,value:c,onInput:u,onFocus:f,onKeyDown:m,onKeyUp:h,onMouseDown:f,onMouseUp:f,type:s===!0?"password":"text"}))}),Pz=_z;var Mz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function xu(t){return(t||"").split("")}const kz=l.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:o,defaultValue:i,value:s,onChange:a,formatter:c,variant:u,disabled:d,status:f,autoFocus:m,mask:h}=t,g=Mz(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:p,direction:w}=l.useContext(Ge),v=p("otp",n),y=cr(g,{aria:!0,data:!0,attr:!0}),b=Dn(v),[C,S,x]=Ez(v,b),I=io(F=>o!=null?o:F),E=l.useContext(_r),_=Ga(E.status,f),P=l.useMemo(()=>Object.assign(Object.assign({},E),{status:_,hasFeedback:!1,feedbackIcon:null}),[E,_]),M=l.useRef(null),T=l.useRef({});l.useImperativeHandle(e,()=>({focus:()=>{var F;(F=T.current[0])===null||F===void 0||F.focus()},blur:()=>{var F;for(let V=0;V<r;V+=1)(F=T.current[V])===null||F===void 0||F.blur()},nativeElement:M.current}));const k=F=>c?c(F):F,[R,D]=l.useState(xu(k(i||"")));l.useEffect(()=>{s!==void 0&&D(xu(s))},[s]);const L=Gt(F=>{D(F),a&&F.length===r&&F.every(V=>V)&&F.some((V,N)=>R[N]!==V)&&a(F.join(""))}),$=Gt((F,V)=>{let N=Ee(R);for(let H=0;H<F;H+=1)N[H]||(N[H]="");V.length<=1?N[F]=V:N=N.slice(0,F).concat(xu(V)),N=N.slice(0,r);for(let H=N.length-1;H>=0&&!N[H];H-=1)N.pop();const B=k(N.map(H=>H||" ").join(""));return N=xu(B).map((H,Q)=>H===" "&&!N[Q]?N[Q]:H),N}),j=(F,V)=>{var N;const B=$(F,V),H=Math.min(F+V.length,r-1);H!==F&&((N=T.current[H])===null||N===void 0||N.focus()),L(B)},U=F=>{var V;(V=T.current[F])===null||V===void 0||V.focus()},z={variant:u,disabled:d,status:_,mask:h};return C(l.createElement("div",Object.assign({},y,{ref:M,className:X(v,{["".concat(v,"-sm")]:I==="small",["".concat(v,"-lg")]:I==="large",["".concat(v,"-rtl")]:w==="rtl"},x,S)}),l.createElement(_r.Provider,{value:P},Array.from({length:r}).map((F,V)=>{const N="otp-".concat(V),B=R[V]||"";return l.createElement(Pz,Object.assign({ref:H=>{T.current[V]=H},key:N,index:V,size:I,htmlSize:1,className:"".concat(v,"-input"),onChange:j,value:B,onActiveChange:U,autoFocus:V===0&&m},z))}))))}),Rz=kz;var Tz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const Oz=Tz;var Nz=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Oz}))},Dz=l.forwardRef(Nz);const $z=Dz;var Fz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const Lz=Fz;var Bz=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Lz}))},Vz=l.forwardRef(Bz);const Ov=Vz;var jz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const zz=t=>t?l.createElement(Ov,null):l.createElement($z,null),Uz={click:"onClick",hover:"onMouseOver"},Hz=l.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:o=!0,iconRender:i=zz}=t,s=typeof o=="object"&&o.visible!==void 0,[a,c]=l.useState(()=>s?o.visible:!1),u=l.useRef(null);l.useEffect(()=>{s&&c(o.visible)},[s,o]);const d=CI(u),f=()=>{n||(a&&d(),c(E=>{var _;const P=!E;return typeof o=="object"&&((_=o.onVisibleChange)===null||_===void 0||_.call(o,P)),P}))},m=E=>{const _=Uz[r]||"",P=i(a),M={[_]:f,className:"".concat(E,"-icon"),key:"passwordIcon",onMouseDown:T=>{T.preventDefault()},onMouseUp:T=>{T.preventDefault()}};return l.cloneElement(l.isValidElement(P)?P:l.createElement("span",null,P),M)},{className:h,prefixCls:g,inputPrefixCls:p,size:w}=t,v=jz(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:y}=l.useContext(Ge),b=y("input",p),C=y("input-password",g),S=o&&m(C),x=X(C,h,{["".concat(C,"-").concat(w)]:!!w}),I=Object.assign(Object.assign({},Nn(v,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:x,prefixCls:b,suffix:S});return w&&(I.size=w),l.createElement(Rf,Object.assign({ref:oo(e,u)},I))}),Wz=Hz;var Gz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const qz=l.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:o,size:i,suffix:s,enterButton:a=!1,addonAfter:c,loading:u,disabled:d,onSearch:f,onChange:m,onCompositionStart:h,onCompositionEnd:g}=t,p=Gz(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:w,direction:v}=l.useContext(Ge),y=l.useRef(!1),b=w("input-search",n),C=w("input",r),{compactSize:S}=Ns(b,v),x=io(z=>{var F;return(F=i!=null?i:S)!==null&&F!==void 0?F:z}),I=l.useRef(null),E=z=>{z!=null&&z.target&&z.type==="click"&&f&&f(z.target.value,z,{source:"clear"}),m==null||m(z)},_=z=>{var F;document.activeElement===((F=I.current)===null||F===void 0?void 0:F.input)&&z.preventDefault()},P=z=>{var F,V;f&&f((V=(F=I.current)===null||F===void 0?void 0:F.input)===null||V===void 0?void 0:V.value,z,{source:"input"})},M=z=>{y.current||u||P(z)},T=typeof a=="boolean"?l.createElement(qa,null):null,k="".concat(b,"-button");let R;const D=a||{},L=D.type&&D.type.__ANT_BUTTON===!0;L||D.type==="button"?R=ur(D,Object.assign({onMouseDown:_,onClick:z=>{var F,V;(V=(F=D==null?void 0:D.props)===null||F===void 0?void 0:F.onClick)===null||V===void 0||V.call(F,z),P(z)},key:"enterButton"},L?{className:k,size:x}:{})):R=l.createElement(un,{className:k,type:a?"primary":void 0,size:x,disabled:d,key:"enterButton",onMouseDown:_,onClick:P,loading:u,icon:T},a),c&&(R=[R,ur(c,{key:"addonAfter"})]);const $=X(b,{["".concat(b,"-rtl")]:v==="rtl",["".concat(b,"-").concat(x)]:!!x,["".concat(b,"-with-button")]:!!a},o),j=z=>{y.current=!0,h==null||h(z)},U=z=>{y.current=!1,g==null||g(z)};return l.createElement(Rf,Object.assign({ref:oo(I,e),onPressEnter:M},p,{size:x,onCompositionStart:j,onCompositionEnd:U,prefixCls:C,addonAfter:R,suffix:s,onChange:E,className:$,disabled:d}))}),Kz=qz;var Yz="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",Xz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Gm={},co;function Qz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&Gm[n])return Gm[n];var r=window.getComputedStyle(t),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=Xz.map(function(u){return"".concat(u,":").concat(r.getPropertyValue(u))}).join(";"),c={sizingStyle:a,paddingSize:i,borderSize:s,boxSizing:o};return e&&n&&(Gm[n]=c),c}function Jz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;co||(co=document.createElement("textarea"),co.setAttribute("tab-index","-1"),co.setAttribute("aria-hidden","true"),document.body.appendChild(co)),t.getAttribute("wrap")?co.setAttribute("wrap",t.getAttribute("wrap")):co.removeAttribute("wrap");var o=Qz(t,e),i=o.paddingSize,s=o.borderSize,a=o.boxSizing,c=o.sizingStyle;co.setAttribute("style","".concat(c,";").concat(Yz)),co.value=t.value||t.placeholder||"";var u=void 0,d=void 0,f,m=co.scrollHeight;if(a==="border-box"?m+=s:a==="content-box"&&(m-=i),n!==null||r!==null){co.value=" ";var h=co.scrollHeight-i;n!==null&&(u=h*n,a==="border-box"&&(u=u+i+s),m=Math.max(u,m)),r!==null&&(d=h*r,a==="border-box"&&(d=d+i+s),f=m>d?"":"hidden",m=Math.min(d,m))}var g={height:m,overflowY:f,resize:"none"};return u&&(g.minHeight=u),d&&(g.maxHeight=d),g}var Zz=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],qm=0,Km=1,Ym=2,eU=l.forwardRef(function(t,e){var n=t,r=n.prefixCls,o=n.defaultValue,i=n.value,s=n.autoSize,a=n.onResize,c=n.className,u=n.style,d=n.disabled,f=n.onChange;n.onInternalAutoSize;var m=ht(n,Zz),h=on(o,{value:i,postState:function(B){return B!=null?B:""}}),g=K(h,2),p=g[0],w=g[1],v=function(B){w(B.target.value),f==null||f(B)},y=l.useRef();l.useImperativeHandle(e,function(){return{textArea:y.current}});var b=l.useMemo(function(){return s&&st(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),C=K(b,2),S=C[0],x=C[1],I=!!s,E=function(){try{if(document.activeElement===y.current){var B=y.current,H=B.selectionStart,Q=B.selectionEnd,G=B.scrollTop;y.current.setSelectionRange(H,Q),y.current.scrollTop=G}}catch(Y){}},_=l.useState(Ym),P=K(_,2),M=P[0],T=P[1],k=l.useState(),R=K(k,2),D=R[0],L=R[1],$=function(){T(qm)};Kt(function(){I&&$()},[i,S,x,I]),Kt(function(){if(M===qm)T(Km);else if(M===Km){var N=Jz(y.current,!1,S,x);T(Ym),L(N)}else E()},[M]);var j=l.useRef(),U=function(){zt.cancel(j.current)},z=function(B){M===Ym&&(a==null||a(B),s&&(U(),j.current=zt(function(){$()})))};l.useEffect(function(){return U},[]);var F=I?D:null,V=W(W({},u),F);return(M===qm||M===Km)&&(V.overflowY="hidden",V.overflowX="hidden"),l.createElement(Lr,{onResize:z,disabled:!(s||a)},l.createElement("textarea",pe({},m,{ref:y,style:V,className:X(r,c,q({},"".concat(r,"-disabled"),d)),disabled:d,value:p,onChange:v})))}),tU=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],nU=fe.forwardRef(function(t,e){var n,r=t.defaultValue,o=t.value,i=t.onFocus,s=t.onBlur,a=t.onChange,c=t.allowClear,u=t.maxLength,d=t.onCompositionStart,f=t.onCompositionEnd,m=t.suffix,h=t.prefixCls,g=h===void 0?"rc-textarea":h,p=t.showCount,w=t.count,v=t.className,y=t.style,b=t.disabled,C=t.hidden,S=t.classNames,x=t.styles,I=t.onResize,E=t.onClear,_=t.onPressEnter,P=t.readOnly,M=t.autoSize,T=t.onKeyDown,k=ht(t,tU),R=on(r,{value:o,defaultValue:r}),D=K(R,2),L=D[0],$=D[1],j=L==null?"":String(L),U=fe.useState(!1),z=K(U,2),F=z[0],V=z[1],N=fe.useRef(!1),B=fe.useState(null),H=K(B,2),Q=H[0],G=H[1],Y=l.useRef(null),te=l.useRef(null),ee=function(){var me;return(me=te.current)===null||me===void 0?void 0:me.textArea},J=function(){ee().focus()};l.useImperativeHandle(e,function(){var Re;return{resizableTextArea:te.current,focus:J,blur:function(){ee().blur()},nativeElement:((Re=Y.current)===null||Re===void 0?void 0:Re.nativeElement)||ee()}}),l.useEffect(function(){V(function(Re){return!b&&Re})},[b]);var se=fe.useState(null),ie=K(se,2),oe=ie[0],ue=ie[1];fe.useEffect(function(){if(oe){var Re;(Re=ee()).setSelectionRange.apply(Re,Ee(oe))}},[oe]);var de=wI(w,p),he=(n=de.max)!==null&&n!==void 0?n:u,ye=Number(he)>0,Se=de.strategy(j),Me=!!he&&Se>he,be=function(me,xe){var _e=xe;!N.current&&de.exceedFormatter&&de.max&&de.strategy(xe)>de.max&&(_e=de.exceedFormatter(xe,{max:de.max}),xe!==_e&&ue([ee().selectionStart||0,ee().selectionEnd||0])),$(_e),Cd(me.currentTarget,me,a,_e)},ke=function(me){N.current=!0,d==null||d(me)},we=function(me){N.current=!1,be(me,me.currentTarget.value),f==null||f(me)},le=function(me){be(me,me.target.value)},Ce=function(me){me.key==="Enter"&&_&&_(me),T==null||T(me)},Ae=function(me){V(!0),i==null||i(me)},Be=function(me){V(!1),s==null||s(me)},Fe=function(me){$(""),J(),Cd(ee(),me,a)},De=m,ze;de.show&&(de.showFormatter?ze=de.showFormatter({value:j,count:Se,maxLength:he}):ze="".concat(Se).concat(ye?" / ".concat(he):""),De=fe.createElement(fe.Fragment,null,De,fe.createElement("span",{className:X("".concat(g,"-data-count"),S==null?void 0:S.count),style:x==null?void 0:x.count},ze)));var at=function(me){var xe;I==null||I(me),(xe=ee())!==null&&xe!==void 0&&xe.style.height&&G(!0)},We=!M&&!p&&!c;return fe.createElement(bI,{ref:Y,value:j,allowClear:c,handleReset:Fe,suffix:De,prefixCls:g,classNames:W(W({},S),{},{affixWrapper:X(S==null?void 0:S.affixWrapper,q(q({},"".concat(g,"-show-count"),p),"".concat(g,"-textarea-allow-clear"),c))}),disabled:b,focused:F,className:X(v,Me&&"".concat(g,"-out-of-range")),style:W(W({},y),Q&&!We?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ze=="string"?ze:void 0}},hidden:C,readOnly:P,onClear:E},fe.createElement(eU,pe({},k,{autoSize:M,maxLength:u,onKeyDown:Ce,onChange:le,onFocus:Ae,onBlur:Be,onCompositionStart:ke,onCompositionEnd:we,className:X(S==null?void 0:S.textarea),style:W(W({},x==null?void 0:x.textarea),{},{resize:y==null?void 0:y.resize}),disabled:b,prefixCls:g,onResize:at,ref:te,readOnly:P})))}),rU=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const oU=l.forwardRef((t,e)=>{var n,r;const{prefixCls:o,bordered:i=!0,size:s,disabled:a,status:c,allowClear:u,classNames:d,rootClassName:f,className:m,style:h,styles:g,variant:p}=t,w=rU(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:v,direction:y,textArea:b}=l.useContext(Ge),C=io(s),S=l.useContext(Vo),x=a!=null?a:S,{status:I,hasFeedback:E,feedbackIcon:_}=l.useContext(_r),P=Ga(I,c),M=l.useRef(null);l.useImperativeHandle(e,()=>{var z;return{resizableTextArea:(z=M.current)===null||z===void 0?void 0:z.resizableTextArea,focus:F=>{var V,N;Sz((N=(V=M.current)===null||V===void 0?void 0:V.resizableTextArea)===null||N===void 0?void 0:N.textArea,F)},blur:()=>{var F;return(F=M.current)===null||F===void 0?void 0:F.blur()}}});const T=v("input",o),k=Dn(T),[R,D,L]=Rv(T,k),[$,j]=Bc("textArea",p,i),U=yI(u!=null?u:b==null?void 0:b.allowClear);return R(l.createElement(nU,Object.assign({autoComplete:b==null?void 0:b.autoComplete},w,{style:Object.assign(Object.assign({},b==null?void 0:b.style),h),styles:Object.assign(Object.assign({},b==null?void 0:b.styles),g),disabled:x,allowClear:U,className:X(L,k,m,f,b==null?void 0:b.className),classNames:Object.assign(Object.assign(Object.assign({},d),b==null?void 0:b.classNames),{textarea:X({["".concat(T,"-sm")]:C==="small",["".concat(T,"-lg")]:C==="large"},D,d==null?void 0:d.textarea,(n=b==null?void 0:b.classNames)===null||n===void 0?void 0:n.textarea),variant:X({["".concat(T,"-").concat($)]:j},Pa(T,P)),affixWrapper:X("".concat(T,"-textarea-affix-wrapper"),{["".concat(T,"-affix-wrapper-rtl")]:y==="rtl",["".concat(T,"-affix-wrapper-sm")]:C==="small",["".concat(T,"-affix-wrapper-lg")]:C==="large",["".concat(T,"-textarea-show-count")]:t.showCount||((r=t.count)===null||r===void 0?void 0:r.show)},D)}),prefixCls:T,suffix:E&&l.createElement("span",{className:"".concat(T,"-textarea-suffix")},_),ref:M})))}),iU=oU,Za=Rf;Za.Group=bz;Za.Search=Kz;Za.TextArea=iU;Za.Password=Wz;Za.OTP=Rz;const lr=Za;var sU={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const aU=sU;var lU=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:aU}))},cU=l.forwardRef(lU);const SI=cU;var uU={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const dU=uU;var fU=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:dU}))},mU=l.forwardRef(fU);const xI=mU;var hU={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const gU=hU;var pU=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:gU}))},vU=l.forwardRef(pU);const bU=vU;function wU(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function yU(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function Nv(t,e){const n={adjustX:1,adjustY:1};switch(e){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return{points:t==="rtl"?["tr","br"]:["tl","bl"],offset:[0,4],overflow:n}}}function AI(t,e){const{allowClear:n=!0}=t,{clearIcon:r,removeIcon:o}=OA(Object.assign(Object.assign({},t),{prefixCls:e,componentName:"DatePicker"}));return[l.useMemo(()=>n===!1?!1:Object.assign({clearIcon:r},n===!0?{}:n),[n,r]),o]}const[CU,SU]=["week","WeekPicker"],[xU,AU]=["month","MonthPicker"],[EU,IU]=["year","YearPicker"],[_U,PU]=["quarter","QuarterPicker"],[EI,Zw]=["time","TimePicker"],MU=t=>l.createElement(un,Object.assign({size:"small",type:"primary"},t)),kU=MU;function II(t){return l.useMemo(()=>Object.assign({button:kU},t),[t])}var RU=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const TU=t=>l.forwardRef((n,r)=>{var o;const{prefixCls:i,getPopupContainer:s,components:a,className:c,style:u,placement:d,size:f,disabled:m,bordered:h=!0,placeholder:g,popupClassName:p,dropdownClassName:w,status:v,rootClassName:y,variant:b,picker:C}=n,S=RU(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),x=l.useRef(null),{getPrefixCls:I,direction:E,getPopupContainer:_,rangePicker:P}=l.useContext(Ge),M=I("picker",i),{compactSize:T,compactItemClassnames:k}=Ns(M,E),R=I(),[D,L]=Bc("rangePicker",b,h),$=Dn(M),[j,U,z]=iI(M,$),[F]=AI(n,M),V=II(a),N=io(oe=>{var ue;return(ue=f!=null?f:T)!==null&&ue!==void 0?ue:oe}),B=l.useContext(Vo),H=m!=null?m:B,Q=l.useContext(_r),{hasFeedback:G,status:Y,feedbackIcon:te}=Q,ee=l.createElement(l.Fragment,null,C===EI?l.createElement(xI,null):l.createElement(SI,null),G&&te);l.useImperativeHandle(r,()=>x.current);const[J]=es("Calendar",ld),se=Object.assign(Object.assign({},J),n.locale),[ie]=ti("DatePicker",(o=n.popupStyle)===null||o===void 0?void 0:o.zIndex);return j(l.createElement(Gi,{space:!0},l.createElement(h9,Object.assign({separator:l.createElement("span",{"aria-label":"to",className:"".concat(M,"-separator")},l.createElement(bU,null)),disabled:H,ref:x,popupAlign:Nv(E,d),placement:d,placeholder:yU(se,C,g),suffixIcon:ee,prevIcon:l.createElement("span",{className:"".concat(M,"-prev-icon")}),nextIcon:l.createElement("span",{className:"".concat(M,"-next-icon")}),superPrevIcon:l.createElement("span",{className:"".concat(M,"-super-prev-icon")}),superNextIcon:l.createElement("span",{className:"".concat(M,"-super-next-icon")}),transitionName:"".concat(R,"-slide-up"),picker:C},S,{className:X({["".concat(M,"-").concat(N)]:N,["".concat(M,"-").concat(D)]:L},Pa(M,Ga(Y,v),G),U,k,c,P==null?void 0:P.className,z,$,y),style:Object.assign(Object.assign({},P==null?void 0:P.style),u),locale:se.lang,prefixCls:M,getPopupContainer:s||_,generateConfig:t,components:V,direction:E,classNames:{popup:X(U,p||w,z,$,y)},styles:{popup:Object.assign(Object.assign({},n.popupStyle),{zIndex:ie})},allowClear:F}))))}),OU=TU;var NU=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const DU=t=>{const e=(c,u)=>{const d=u===Zw?"timePicker":"datePicker";return l.forwardRef((m,h)=>{var g;const{prefixCls:p,getPopupContainer:w,components:v,style:y,className:b,rootClassName:C,size:S,bordered:x,placement:I,placeholder:E,popupClassName:_,dropdownClassName:P,disabled:M,status:T,variant:k,onCalendarChange:R}=m,D=NU(m,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:L,direction:$,getPopupContainer:j,[d]:U}=l.useContext(Ge),z=L("picker",p),{compactSize:F,compactItemClassnames:V}=Ns(z,$),N=l.useRef(null),[B,H]=Bc("datePicker",k,x),Q=Dn(z),[G,Y,te]=iI(z,Q);l.useImperativeHandle(h,()=>N.current);const ee={showToday:!0},J=c||m.picker,se=L(),{onSelect:ie,multiple:oe}=D,ue=ie&&c==="time"&&!oe,de=(at,We,Re)=>{R==null||R(at,We,Re),ue&&ie(at)},[he,ye]=AI(m,z),Se=II(v),Me=io(at=>{var We;return(We=S!=null?S:F)!==null&&We!==void 0?We:at}),be=l.useContext(Vo),ke=M!=null?M:be,we=l.useContext(_r),{hasFeedback:le,status:Ce,feedbackIcon:Ae}=we,Be=l.createElement(l.Fragment,null,J==="time"?l.createElement(xI,null):l.createElement(SI,null),le&&Ae),[Fe]=es("DatePicker",ld),De=Object.assign(Object.assign({},Fe),m.locale),[ze]=ti("DatePicker",(g=m.popupStyle)===null||g===void 0?void 0:g.zIndex);return G(l.createElement(Gi,{space:!0},l.createElement(y9,Object.assign({ref:N,placeholder:wU(De,J,E),suffixIcon:Be,dropdownAlign:Nv($,I),placement:I,prevIcon:l.createElement("span",{className:"".concat(z,"-prev-icon")}),nextIcon:l.createElement("span",{className:"".concat(z,"-next-icon")}),superPrevIcon:l.createElement("span",{className:"".concat(z,"-super-prev-icon")}),superNextIcon:l.createElement("span",{className:"".concat(z,"-super-next-icon")}),transitionName:"".concat(se,"-slide-up"),picker:c,onCalendarChange:de},ee,D,{locale:De.lang,className:X({["".concat(z,"-").concat(Me)]:Me,["".concat(z,"-").concat(B)]:H},Pa(z,Ga(Ce,T),le),Y,V,U==null?void 0:U.className,b,te,Q,C),style:Object.assign(Object.assign({},U==null?void 0:U.style),y),prefixCls:z,getPopupContainer:w||j,generateConfig:t,components:Se,direction:$,disabled:ke,classNames:{popup:X(Y,te,Q,C,_||P)},styles:{popup:Object.assign(Object.assign({},m.popupStyle),{zIndex:ze})},allowClear:he,removeIcon:ye}))))})},n=e(),r=e(CU,SU),o=e(xU,AU),i=e(EU,IU),s=e(_U,PU),a=e(EI,Zw);return{DatePicker:n,WeekPicker:r,MonthPicker:o,YearPicker:i,TimePicker:a,QuarterPicker:s}},$U=DU,FU=t=>{const{DatePicker:e,WeekPicker:n,MonthPicker:r,YearPicker:o,TimePicker:i,QuarterPicker:s}=$U(t),a=OU(t),c=e;return c.WeekPicker=n,c.MonthPicker=r,c.YearPicker=o,c.RangePicker=a,c.TimePicker=i,c.QuarterPicker=s,c},_I=FU,el=_I(AV);function PI(t){const e=Nv(t.direction,t.placement);return e.overflow.adjustY=!1,e.overflow.adjustX=!1,Object.assign(Object.assign({},t),{dropdownAlign:e})}const LU=pf(el,"picker",null,PI);el._InternalPanelDoNotUseOrYouWillBeFired=LU;const BU=pf(el.RangePicker,"picker",null,PI);el._InternalRangePanelDoNotUseOrYouWillBeFired=BU;el.generatePicker=_I;const VU=el;var ey=l.createContext(null),MI=l.createContext({}),jU=["prefixCls","className","containerRef"],zU=function(e){var n=e.prefixCls,r=e.className,o=e.containerRef,i=ht(e,jU),s=l.useContext(MI),a=s.panel,c=Ii(a,o);return l.createElement("div",pe({className:X("".concat(n,"-content"),r),role:"dialog",ref:c},cr(e,{aria:!0}),{"aria-modal":"true"},i))};function ty(t){return typeof t=="string"&&String(Number(t))===t?(nr(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(t)):t}var ny={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function UU(t,e){var n,r,o,i=t.prefixCls,s=t.open,a=t.placement,c=t.inline,u=t.push,d=t.forceRender,f=t.autoFocus,m=t.keyboard,h=t.classNames,g=t.rootClassName,p=t.rootStyle,w=t.zIndex,v=t.className,y=t.id,b=t.style,C=t.motion,S=t.width,x=t.height,I=t.children,E=t.mask,_=t.maskClosable,P=t.maskMotion,M=t.maskClassName,T=t.maskStyle,k=t.afterOpenChange,R=t.onClose,D=t.onMouseEnter,L=t.onMouseOver,$=t.onMouseLeave,j=t.onClick,U=t.onKeyDown,z=t.onKeyUp,F=t.styles,V=t.drawerRender,N=l.useRef(),B=l.useRef(),H=l.useRef();l.useImperativeHandle(e,function(){return N.current});var Q=function(ke){var we=ke.keyCode,le=ke.shiftKey;switch(we){case Ie.TAB:{if(we===Ie.TAB){if(!le&&document.activeElement===H.current){var Ce;(Ce=B.current)===null||Ce===void 0||Ce.focus({preventScroll:!0})}else if(le&&document.activeElement===B.current){var Ae;(Ae=H.current)===null||Ae===void 0||Ae.focus({preventScroll:!0})}}break}case Ie.ESC:{R&&m&&(ke.stopPropagation(),R(ke));break}}};l.useEffect(function(){if(s&&f){var be;(be=N.current)===null||be===void 0||be.focus({preventScroll:!0})}},[s]);var G=l.useState(!1),Y=K(G,2),te=Y[0],ee=Y[1],J=l.useContext(ey),se;typeof u=="boolean"?se=u?{}:{distance:0}:se=u||{};var ie=(n=(r=(o=se)===null||o===void 0?void 0:o.distance)!==null&&r!==void 0?r:J==null?void 0:J.pushDistance)!==null&&n!==void 0?n:180,oe=l.useMemo(function(){return{pushDistance:ie,push:function(){ee(!0)},pull:function(){ee(!1)}}},[ie]);l.useEffect(function(){if(s){var be;J==null||(be=J.push)===null||be===void 0||be.call(J)}else{var ke;J==null||(ke=J.pull)===null||ke===void 0||ke.call(J)}},[s]),l.useEffect(function(){return function(){var be;J==null||(be=J.pull)===null||be===void 0||be.call(J)}},[]);var ue=E&&l.createElement(Ir,pe({key:"mask"},P,{visible:s}),function(be,ke){var we=be.className,le=be.style;return l.createElement("div",{className:X("".concat(i,"-mask"),we,h==null?void 0:h.mask,M),style:W(W(W({},le),T),F==null?void 0:F.mask),onClick:_&&s?R:void 0,ref:ke})}),de=typeof C=="function"?C(a):C,he={};if(te&&ie)switch(a){case"top":he.transform="translateY(".concat(ie,"px)");break;case"bottom":he.transform="translateY(".concat(-ie,"px)");break;case"left":he.transform="translateX(".concat(ie,"px)");break;default:he.transform="translateX(".concat(-ie,"px)");break}a==="left"||a==="right"?he.width=ty(S):he.height=ty(x);var ye={onMouseEnter:D,onMouseOver:L,onMouseLeave:$,onClick:j,onKeyDown:U,onKeyUp:z},Se=l.createElement(Ir,pe({key:"panel"},de,{visible:s,forceRender:d,onVisibleChanged:function(ke){k==null||k(ke)},removeOnLeave:!1,leavedClassName:"".concat(i,"-content-wrapper-hidden")}),function(be,ke){var we=be.className,le=be.style,Ce=l.createElement(zU,pe({id:y,containerRef:ke,prefixCls:i,className:X(v,h==null?void 0:h.content),style:W(W({},b),F==null?void 0:F.content)},cr(t,{aria:!0}),ye),I);return l.createElement("div",pe({className:X("".concat(i,"-content-wrapper"),h==null?void 0:h.wrapper,we),style:W(W(W({},he),le),F==null?void 0:F.wrapper)},cr(t,{data:!0})),V?V(Ce):Ce)}),Me=W({},p);return w&&(Me.zIndex=w),l.createElement(ey.Provider,{value:oe},l.createElement("div",{className:X(i,"".concat(i,"-").concat(a),g,q(q({},"".concat(i,"-open"),s),"".concat(i,"-inline"),c)),style:Me,tabIndex:-1,ref:N,onKeyDown:Q},ue,l.createElement("div",{tabIndex:0,ref:B,style:ny,"aria-hidden":"true","data-sentinel":"start"}),Se,l.createElement("div",{tabIndex:0,ref:H,style:ny,"aria-hidden":"true","data-sentinel":"end"})))}var HU=l.forwardRef(UU),WU=function(e){var n=e.open,r=n===void 0?!1:n,o=e.prefixCls,i=o===void 0?"rc-drawer":o,s=e.placement,a=s===void 0?"right":s,c=e.autoFocus,u=c===void 0?!0:c,d=e.keyboard,f=d===void 0?!0:d,m=e.width,h=m===void 0?378:m,g=e.mask,p=g===void 0?!0:g,w=e.maskClosable,v=w===void 0?!0:w,y=e.getContainer,b=e.forceRender,C=e.afterOpenChange,S=e.destroyOnClose,x=e.onMouseEnter,I=e.onMouseOver,E=e.onMouseLeave,_=e.onClick,P=e.onKeyDown,M=e.onKeyUp,T=e.panelRef,k=l.useState(!1),R=K(k,2),D=R[0],L=R[1],$=l.useState(!1),j=K($,2),U=j[0],z=j[1];Kt(function(){z(!0)},[]);var F=U?r:!1,V=l.useRef(),N=l.useRef();Kt(function(){F&&(N.current=document.activeElement)},[F]);var B=function(te){var ee;if(L(te),C==null||C(te),!te&&N.current&&!((ee=V.current)!==null&&ee!==void 0&&ee.contains(N.current))){var J;(J=N.current)===null||J===void 0||J.focus({preventScroll:!0})}},H=l.useMemo(function(){return{panel:T}},[T]);if(!b&&!D&&!F&&S)return null;var Q={onMouseEnter:x,onMouseOver:I,onMouseLeave:E,onClick:_,onKeyDown:P,onKeyUp:M},G=W(W({},e),{},{open:F,prefixCls:i,placement:a,autoFocus:u,keyboard:f,width:h,mask:p,maskClosable:v,inline:y===!1,afterOpenChange:B,ref:V},Q);return l.createElement(MI.Provider,{value:H},l.createElement(Oc,{open:F||b||D,autoDestroy:!1,getContainer:y,autoLock:p&&(F||D)},l.createElement(HU,G)))};const GU=t=>{var e,n;const{prefixCls:r,title:o,footer:i,extra:s,loading:a,onClose:c,headerStyle:u,bodyStyle:d,footerStyle:f,children:m,classNames:h,styles:g}=t,{drawer:p}=l.useContext(Ge),w=l.useCallback(S=>l.createElement("button",{type:"button",onClick:c,"aria-label":"Close",className:"".concat(r,"-close")},S),[c]),[v,y]=Hx(hd(t),hd(p),{closable:!0,closeIconRender:w}),b=l.useMemo(()=>{var S,x;return!o&&!v?null:l.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(S=p==null?void 0:p.styles)===null||S===void 0?void 0:S.header),u),g==null?void 0:g.header),className:X("".concat(r,"-header"),{["".concat(r,"-header-close-only")]:v&&!o&&!s},(x=p==null?void 0:p.classNames)===null||x===void 0?void 0:x.header,h==null?void 0:h.header)},l.createElement("div",{className:"".concat(r,"-header-title")},y,o&&l.createElement("div",{className:"".concat(r,"-title")},o)),s&&l.createElement("div",{className:"".concat(r,"-extra")},s))},[v,y,s,u,r,o]),C=l.useMemo(()=>{var S,x;if(!i)return null;const I="".concat(r,"-footer");return l.createElement("div",{className:X(I,(S=p==null?void 0:p.classNames)===null||S===void 0?void 0:S.footer,h==null?void 0:h.footer),style:Object.assign(Object.assign(Object.assign({},(x=p==null?void 0:p.styles)===null||x===void 0?void 0:x.footer),f),g==null?void 0:g.footer)},i)},[i,f,r]);return l.createElement(l.Fragment,null,b,l.createElement("div",{className:X("".concat(r,"-body"),h==null?void 0:h.body,(e=p==null?void 0:p.classNames)===null||e===void 0?void 0:e.body),style:Object.assign(Object.assign(Object.assign({},(n=p==null?void 0:p.styles)===null||n===void 0?void 0:n.body),d),g==null?void 0:g.body)},a?l.createElement(Wx,{active:!0,title:!1,paragraph:{rows:5},className:"".concat(r,"-body-skeleton")}):m),C)},kI=GU,qU=t=>{const e="100%";return{left:"translateX(-".concat(e,")"),right:"translateX(".concat(e,")"),top:"translateY(-".concat(e,")"),bottom:"translateY(".concat(e,")")}[t]},RI=(t,e)=>({"&-enter, &-appear":Object.assign(Object.assign({},t),{"&-active":e}),"&-leave":Object.assign(Object.assign({},e),{"&-active":t})}),TI=(t,e)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:"all ".concat(e)}}},RI({opacity:t},{opacity:1})),KU=(t,e)=>[TI(.7,e),RI({transform:qU(t)},{transform:"none"})],YU=t=>{const{componentCls:e,motionDurationSlow:n}=t;return{[e]:{["".concat(e,"-mask-motion")]:TI(0,n),["".concat(e,"-panel-motion")]:["left","right","top","bottom"].reduce((r,o)=>Object.assign(Object.assign({},r),{["&-".concat(o)]:KU(o,n)}),{})}}},XU=YU,QU=t=>{const{borderRadiusSM:e,componentCls:n,zIndexPopup:r,colorBgMask:o,colorBgElevated:i,motionDurationSlow:s,motionDurationMid:a,paddingXS:c,padding:u,paddingLG:d,fontSizeLG:f,lineHeightLG:m,lineWidth:h,lineType:g,colorSplit:p,marginXS:w,colorIcon:v,colorIconHover:y,colorBgTextHover:b,colorBgTextActive:C,colorText:S,fontWeightStrong:x,footerPaddingBlock:I,footerPaddingInline:E,calc:_}=t,P="".concat(n,"-content-wrapper");return{[n]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:S,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",["&".concat(n,"-left")]:{boxShadow:t.boxShadowDrawerLeft},["&".concat(n,"-right")]:{boxShadow:t.boxShadowDrawerRight},["&".concat(n,"-top")]:{boxShadow:t.boxShadowDrawerUp},["&".concat(n,"-bottom")]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},["".concat(n,"-mask")]:{position:"absolute",inset:0,zIndex:r,background:o,pointerEvents:"auto"},[P]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:"all ".concat(s),"&-hidden":{display:"none"}},["&-left > ".concat(P)]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},["&-right > ".concat(P)]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},["&-top > ".concat(P)]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},["&-bottom > ".concat(P)]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},["".concat(n,"-content")]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},["".concat(n,"-header")]:{display:"flex",flex:0,alignItems:"center",padding:"".concat(re(u)," ").concat(re(d)),fontSize:f,lineHeight:m,borderBottom:"".concat(re(h)," ").concat(g," ").concat(p),"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},["".concat(n,"-extra")]:{flex:"none"},["".concat(n,"-close")]:Object.assign({display:"inline-flex",width:_(f).add(c).equal(),height:_(f).add(c).equal(),borderRadius:e,justifyContent:"center",alignItems:"center",marginInlineEnd:w,color:v,fontWeight:x,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:"all ".concat(a),textRendering:"auto","&:hover":{color:y,backgroundColor:b,textDecoration:"none"},"&:active":{backgroundColor:C}},Qo(t)),["".concat(n,"-title")]:{flex:1,margin:0,fontWeight:t.fontWeightStrong,fontSize:f,lineHeight:m},["".concat(n,"-body")]:{flex:1,minWidth:0,minHeight:0,padding:d,overflow:"auto",["".concat(n,"-body-skeleton")]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},["".concat(n,"-footer")]:{flexShrink:0,padding:"".concat(re(I)," ").concat(re(E)),borderTop:"".concat(re(h)," ").concat(g," ").concat(p)},"&-rtl":{direction:"rtl"}}}},JU=t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding}),OI=Jt("Drawer",t=>{const e=Dt(t,{});return[QU(e),XU(e)]},JU);var NI=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const ZU={distance:180},DI=t=>{const{rootClassName:e,width:n,height:r,size:o="default",mask:i=!0,push:s=ZU,open:a,afterOpenChange:c,onClose:u,prefixCls:d,getContainer:f,style:m,className:h,visible:g,afterVisibleChange:p,maskStyle:w,drawerStyle:v,contentWrapperStyle:y}=t,b=NI(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:C,getPrefixCls:S,direction:x,drawer:I}=l.useContext(Ge),E=S("drawer",d),[_,P,M]=OI(E),T=f===void 0&&C?()=>C(document.body):f,k=X({"no-mask":!i,["".concat(E,"-rtl")]:x==="rtl"},e,P,M),R=l.useMemo(()=>n!=null?n:o==="large"?736:378,[n,o]),D=l.useMemo(()=>r!=null?r:o==="large"?736:378,[r,o]),L={motionName:jr(E,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},$=H=>({motionName:jr(E,"panel-motion-".concat(H)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),j=Gx(),[U,z]=ti("Drawer",b.zIndex),{classNames:F={},styles:V={}}=b,{classNames:N={},styles:B={}}=I||{};return _(l.createElement(Gi,{form:!0,space:!0},l.createElement(Mc.Provider,{value:z},l.createElement(WU,Object.assign({prefixCls:E,onClose:u,maskMotion:L,motion:$},b,{classNames:{mask:X(F.mask,N.mask),content:X(F.content,N.content),wrapper:X(F.wrapper,N.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},V.mask),w),B.mask),content:Object.assign(Object.assign(Object.assign({},V.content),v),B.content),wrapper:Object.assign(Object.assign(Object.assign({},V.wrapper),y),B.wrapper)},open:a!=null?a:g,mask:i,push:s,width:R,height:D,style:Object.assign(Object.assign({},I==null?void 0:I.style),m),className:X(I==null?void 0:I.className,h),rootClassName:k,getContainer:T,afterOpenChange:c!=null?c:p,panelRef:j,zIndex:U}),l.createElement(kI,Object.assign({prefixCls:E},b,{onClose:u}))))))},eH=t=>{const{prefixCls:e,style:n,className:r,placement:o="right"}=t,i=NI(t,["prefixCls","style","className","placement"]),{getPrefixCls:s}=l.useContext(Ge),a=s("drawer",e),[c,u,d]=OI(a),f=X(a,"".concat(a,"-pure"),"".concat(a,"-").concat(o),u,d,r);return c(l.createElement("div",{className:f,style:n},l.createElement(kI,Object.assign({prefixCls:a},i))))};DI._InternalPanelDoNotUseOrYouWillBeFired=eH;const Tf=DI;function ry(t){return["small","middle","large"].includes(t)}function oy(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const $I=fe.createContext({latestIndex:0}),tH=$I.Provider,nH=t=>{let{className:e,index:n,children:r,split:o,style:i}=t;const{latestIndex:s}=l.useContext($I);return r==null?null:l.createElement(l.Fragment,null,l.createElement("div",{className:e,style:i},r),n<s&&o&&l.createElement("span",{className:"".concat(e,"-split")},o))},rH=nH;var oH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const iH=l.forwardRef((t,e)=>{var n,r,o;const{getPrefixCls:i,space:s,direction:a}=l.useContext(Ge),{size:c=(n=s==null?void 0:s.size)!==null&&n!==void 0?n:"small",align:u,className:d,rootClassName:f,children:m,direction:h="horizontal",prefixCls:g,split:p,style:w,wrap:v=!1,classNames:y,styles:b}=t,C=oH(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[S,x]=Array.isArray(c)?c:[c,c],I=ry(x),E=ry(S),_=oy(x),P=oy(S),M=Nr(m,{keepEmpty:!0}),T=u===void 0&&h==="horizontal"?"center":u,k=i("space",g),[R,D,L]=bx(k),$=X(k,s==null?void 0:s.className,D,"".concat(k,"-").concat(h),{["".concat(k,"-rtl")]:a==="rtl",["".concat(k,"-align-").concat(T)]:T,["".concat(k,"-gap-row-").concat(x)]:I,["".concat(k,"-gap-col-").concat(S)]:E},d,f,L),j=X("".concat(k,"-item"),(r=y==null?void 0:y.item)!==null&&r!==void 0?r:(o=s==null?void 0:s.classNames)===null||o===void 0?void 0:o.item);let U=0;const z=M.map((N,B)=>{var H,Q;N!=null&&(U=B);const G=(N==null?void 0:N.key)||"".concat(j,"-").concat(B);return l.createElement(rH,{className:j,key:G,index:B,split:p,style:(H=b==null?void 0:b.item)!==null&&H!==void 0?H:(Q=s==null?void 0:s.styles)===null||Q===void 0?void 0:Q.item},N)}),F=l.useMemo(()=>({latestIndex:U}),[U]);if(M.length===0)return null;const V={};return v&&(V.flexWrap="wrap"),!E&&P&&(V.columnGap=S),!I&&_&&(V.rowGap=x),R(l.createElement("div",Object.assign({ref:e,className:$,style:Object.assign(Object.assign(Object.assign({},V),s==null?void 0:s.style),w)},C),l.createElement(tH,{value:F},z)))}),FI=iH;FI.Compact=s3;const LI=FI;var sH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const BI=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=l.useContext(Ge),{prefixCls:o,type:i="default",danger:s,disabled:a,loading:c,onClick:u,htmlType:d,children:f,className:m,menu:h,arrow:g,autoFocus:p,overlay:w,trigger:v,align:y,open:b,onOpenChange:C,placement:S,getPopupContainer:x,href:I,icon:E=l.createElement(vv,null),title:_,buttonsRender:P=Y=>Y,mouseEnterDelay:M,mouseLeaveDelay:T,overlayClassName:k,overlayStyle:R,destroyPopupOnHide:D,dropdownRender:L}=t,$=sH(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),j=n("dropdown",o),U="".concat(j,"-button"),z={menu:h,arrow:g,autoFocus:p,align:y,disabled:a,trigger:a?[]:v,onOpenChange:C,getPopupContainer:x||e,mouseEnterDelay:M,mouseLeaveDelay:T,overlayClassName:k,overlayStyle:R,destroyPopupOnHide:D,dropdownRender:L},{compactSize:F,compactItemClassnames:V}=Ns(j,r),N=X(U,V,m);"overlay"in t&&(z.overlay=w),"open"in t&&(z.open=b),"placement"in t?z.placement=S:z.placement=r==="rtl"?"bottomLeft":"bottomRight";const B=l.createElement(un,{type:i,danger:s,disabled:a,loading:c,onClick:u,htmlType:d,href:I,title:_},f),H=l.createElement(un,{type:i,danger:s,icon:E}),[Q,G]=P([B,H]);return l.createElement(LI.Compact,Object.assign({className:N,size:F,block:!0},$),Q,l.createElement(wv,Object.assign({},z),G))};BI.__ANT_BUTTON=!0;const aH=BI,VI=wv;VI.Button=aH;const lH=VI;function Sd(t){const[e,n]=l.useState(t);return l.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const cH=t=>{const{componentCls:e}=t,n="".concat(e,"-show-help"),r="".concat(e,"-show-help-item");return{[n]:{transition:"opacity ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut),"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:"height ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut,",\n                     opacity ").concat(t.motionDurationSlow," ").concat(t.motionEaseInOut,",\n                     transform ").concat(t.motionDurationSlow," ").concat(t.motionEaseInOut," !important"),["&".concat(r,"-appear, &").concat(r,"-enter")]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},["&".concat(r,"-leave-active")]:{transform:"translateY(-5px)"}}}}},uH=cH,dH=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:"0 0 0 ".concat(re(t.controlOutlineWidth)," ").concat(t.controlOutline)},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),iy=(t,e)=>{const{formItemCls:n}=t;return{[n]:{["".concat(n,"-label > label")]:{height:e},["".concat(n,"-control-input")]:{minHeight:e}}}},fH=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},cn(t)),dH(t)),{["".concat(e,"-text")]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},iy(t,t.controlHeightSM)),"&-large":Object.assign({},iy(t,t.controlHeightLG))})}},mH=t=>{const{formItemCls:e,iconCls:n,componentCls:r,rootPrefixCls:o,antCls:i,labelRequiredMarkColor:s,labelColor:a,labelFontSize:c,labelHeight:u,labelColonMarginInlineStart:d,labelColonMarginInlineEnd:f,itemMarginBottom:m}=t;return{[e]:Object.assign(Object.assign({},cn(t)),{marginBottom:m,verticalAlign:"top","&-with-help":{transition:"none"},["&-hidden,\n        &-hidden".concat(i,"-row")]:{display:"none"},"&-has-warning":{["".concat(e,"-split")]:{color:t.colorError}},"&-has-error":{["".concat(e,"-split")]:{color:t.colorWarning}},["".concat(e,"-label")]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:u,color:a,fontSize:c,["> ".concat(n)]:{fontSize:t.fontSize,verticalAlign:"top"},["&".concat(e,"-required:not(").concat(e,"-required-mark-optional)::before")]:{display:"inline-block",marginInlineEnd:t.marginXXS,color:s,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',["".concat(r,"-hide-required-mark &")]:{display:"none"}},["".concat(e,"-optional")]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,["".concat(r,"-hide-required-mark &")]:{display:"none"}},["".concat(e,"-tooltip")]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:d,marginInlineEnd:f},["&".concat(e,"-no-colon::after")]:{content:'"\\a0"'}}},["".concat(e,"-control")]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,["&:first-child:not([class^=\"'".concat(o,"-col-'\"]):not([class*=\"' ").concat(o,"-col-'\"])")]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:"color ".concat(t.motionDurationMid," ").concat(t.motionEaseOut)},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},["&-with-help ".concat(e,"-explain")]:{height:"auto",opacity:1},["".concat(e,"-feedback-icon")]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:ev,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},sy=(t,e)=>{const{formItemCls:n}=t;return{["".concat(e,"-horizontal")]:{["".concat(n,"-label")]:{flexGrow:0},["".concat(n,"-control")]:{flex:"1 1 0",minWidth:0},["".concat(n,"-label[class$='-24'], ").concat(n,"-label[class*='-24 ']")]:{["& + ".concat(n,"-control")]:{minWidth:"unset"}}}}},hH=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{["".concat(e,"-inline")]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},["> ".concat(n,"-label,\n        > ").concat(n,"-control")]:{display:"inline-block",verticalAlign:"top"},["> ".concat(n,"-label")]:{flex:"none"},["".concat(e,"-text")]:{display:"inline-block"},["".concat(n,"-has-feedback")]:{display:"inline-block"}}}}},Io=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),jI=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{["".concat(n," ").concat(n,"-label")]:Io(t),["".concat(e,":not(").concat(e,"-inline)")]:{[n]:{flexWrap:"wrap",["".concat(n,"-label, ").concat(n,"-control")]:{['&:not([class*=" '.concat(r,'-col-xs"])')]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},gH=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{["".concat(e,"-vertical")]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(n,"-row")]:{flexDirection:"column"},["".concat(n,"-label > label")]:{height:"auto"},["".concat(n,"-control")]:{width:"100%"},["".concat(n,"-label,\n        ").concat(r,"-col-24").concat(n,"-label,\n        ").concat(r,"-col-xl-24").concat(n,"-label")]:Io(t)}},["@media (max-width: ".concat(re(t.screenXSMax),")")]:[jI(t),{[e]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-xs-24").concat(n,"-label")]:Io(t)}}}],["@media (max-width: ".concat(re(t.screenSMMax),")")]:{[e]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-sm-24").concat(n,"-label")]:Io(t)}}},["@media (max-width: ".concat(re(t.screenMDMax),")")]:{[e]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-md-24").concat(n,"-label")]:Io(t)}}},["@media (max-width: ".concat(re(t.screenLGMax),")")]:{[e]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-lg-24").concat(n,"-label")]:Io(t)}}}}},pH=t=>{const{formItemCls:e,antCls:n}=t;return{["".concat(e,"-vertical")]:{["".concat(e,"-row")]:{flexDirection:"column"},["".concat(e,"-label > label")]:{height:"auto"},["".concat(e,"-control")]:{width:"100%"}},["".concat(e,"-vertical ").concat(e,"-label,\n      ").concat(n,"-col-24").concat(e,"-label,\n      ").concat(n,"-col-xl-24").concat(e,"-label")]:Io(t),["@media (max-width: ".concat(re(t.screenXSMax),")")]:[jI(t),{[e]:{["".concat(n,"-col-xs-24").concat(e,"-label")]:Io(t)}}],["@media (max-width: ".concat(re(t.screenSMMax),")")]:{[e]:{["".concat(n,"-col-sm-24").concat(e,"-label")]:Io(t)}},["@media (max-width: ".concat(re(t.screenMDMax),")")]:{[e]:{["".concat(n,"-col-md-24").concat(e,"-label")]:Io(t)}},["@media (max-width: ".concat(re(t.screenLGMax),")")]:{[e]:{["".concat(n,"-col-lg-24").concat(e,"-label")]:Io(t)}}}},vH=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:"0 0 ".concat(t.paddingXS,"px"),verticalLabelMargin:0,inlineItemMarginBottom:0}),zI=(t,e)=>Dt(t,{formItemCls:"".concat(t.componentCls,"-item"),rootPrefixCls:e}),Dv=Jt("Form",(t,e)=>{let{rootPrefixCls:n}=e;const r=zI(t,n);return[fH(r),mH(r),uH(r),sy(r,r.componentCls),sy(r,r.formItemCls),hH(r),gH(r),pH(r),Jp(r),ev]},vH,{order:-1e3}),ay=[];function Xm(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof t=="string"?t:"".concat(e,"-").concat(r),error:t,errorStatus:n}}const bH=t=>{let{help:e,helpStatus:n,errors:r=ay,warnings:o=ay,className:i,fieldId:s,onVisibleChanged:a}=t;const{prefixCls:c}=l.useContext(Qp),u="".concat(c,"-item-explain"),d=Dn(c),[f,m,h]=Dv(c,d),g=l.useMemo(()=>fd(c),[c]),p=Sd(r),w=Sd(o),v=l.useMemo(()=>e!=null?[Xm(e,"help",n)]:[].concat(Ee(p.map((b,C)=>Xm(b,"error","error",C))),Ee(w.map((b,C)=>Xm(b,"warning","warning",C)))),[e,n,p,w]),y={};return s&&(y.id="".concat(s,"_help")),f(l.createElement(Ir,{motionDeadline:g.motionDeadline,motionName:"".concat(c,"-show-help"),visible:!!v.length,onVisibleChanged:a},b=>{const{className:C,style:S}=b;return l.createElement("div",Object.assign({},y,{className:X(u,C,h,d,i,m),style:S,role:"alert"}),l.createElement(Lp,Object.assign({keys:v},fd(c),{motionName:"".concat(c,"-show-help-item"),component:!1}),x=>{const{key:I,error:E,errorStatus:_,className:P,style:M}=x;return l.createElement("div",{key:I,className:X(P,{["".concat(u,"-").concat(_)]:_}),style:M},E)}))}))},UI=bH,wH=["parentNode"],yH="form_item";function Wl(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function HI(t,e){if(!t.length)return;const n=t.join("_");return e?"".concat(e,"_").concat(n):wH.includes(n)?"".concat(yH,"_").concat(n):n}function WI(t,e,n,r,o,i){let s=r;return i!==void 0?s=i:n.validating?s="validating":t.length?s="error":e.length?s="warning":(n.touched||o&&n.validated)&&(s="success"),s}function ly(t){return Wl(t).join("_")}function CH(t,e){const n=e.getFieldInstance(t),r=gS(n);if(r)return r;const o=HI(Wl(t),e.__INTERNAL__.name);if(o)return document.getElementById(o)}function GI(t){const[e]=Xp(),n=l.useRef({}),r=l.useMemo(()=>t!=null?t:Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:o=>i=>{const s=ly(o);i?n.current[s]=i:delete n.current[s]}},scrollToField:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=CH(o,r);s&&nk(s,Object.assign({scrollMode:"if-needed",block:"nearest"},i))},getFieldInstance:o=>{const i=ly(o);return n.current[i]}}),[t,e]);return[r]}var SH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const xH=(t,e)=>{const n=l.useContext(Vo),{getPrefixCls:r,direction:o,form:i}=l.useContext(Ge),{prefixCls:s,className:a,rootClassName:c,size:u,disabled:d=n,form:f,colon:m,labelAlign:h,labelWrap:g,labelCol:p,wrapperCol:w,hideRequiredMark:v,layout:y="horizontal",scrollToFirstError:b,requiredMark:C,onFinishFailed:S,name:x,style:I,feedbackIcons:E,variant:_}=t,P=SH(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),M=io(u),T=l.useContext(OS),k=l.useMemo(()=>C!==void 0?C:v?!1:i&&i.requiredMark!==void 0?i.requiredMark:!0,[v,C,i]),R=m!=null?m:i==null?void 0:i.colon,D=r("form",s),L=Dn(D),[$,j,U]=Dv(D,L),z=X(D,"".concat(D,"-").concat(y),{["".concat(D,"-hide-required-mark")]:k===!1,["".concat(D,"-rtl")]:o==="rtl",["".concat(D,"-").concat(M)]:M},U,L,j,i==null?void 0:i.className,a,c),[F]=GI(f),{__INTERNAL__:V}=F;V.name=x;const N=l.useMemo(()=>({name:x,labelAlign:h,labelCol:p,labelWrap:g,wrapperCol:w,vertical:y==="vertical",colon:R,requiredMark:k,itemRef:V.itemRef,form:F,feedbackIcons:E}),[x,h,p,w,y,R,k,F,E]),B=l.useRef(null);l.useImperativeHandle(e,()=>{var G;return Object.assign(Object.assign({},F),{nativeElement:(G=B.current)===null||G===void 0?void 0:G.nativeElement})});const H=(G,Y)=>{if(G){let te={block:"nearest"};typeof G=="object"&&(te=G),F.scrollToField(Y,te)}},Q=G=>{if(S==null||S(G),G.errorFields.length){const Y=G.errorFields[0].name;if(b!==void 0){H(b,Y);return}i&&i.scrollToFirstError!==void 0&&H(i.scrollToFirstError,Y)}};return $(l.createElement(Ux.Provider,{value:_},l.createElement(Op,{disabled:d},l.createElement(Pc.Provider,{value:M},l.createElement(zx,{validateMessages:T},l.createElement(Ai.Provider,{value:N},l.createElement(za,Object.assign({id:x},P,{name:x,onFinishFailed:Q,form:F,ref:B,style:Object.assign(Object.assign({},i==null?void 0:i.style),I),className:z}))))))))},AH=l.forwardRef(xH),EH=AH;function IH(t){if(typeof t=="function")return t;const e=Nr(t);return e.length<=1?e[0]:e}const qI=()=>{const{status:t,errors:e=[],warnings:n=[]}=l.useContext(_r);return{status:t,errors:e,warnings:n}};qI.Context=_r;const _H=qI;function PH(t){const[e,n]=l.useState(t),r=l.useRef(null),o=l.useRef([]),i=l.useRef(!1);l.useEffect(()=>(i.current=!1,()=>{i.current=!0,zt.cancel(r.current),r.current=null}),[]);function s(a){i.current||(r.current===null&&(o.current=[],r.current=zt(()=>{r.current=null,n(c=>{let u=c;return o.current.forEach(d=>{u=d(u)}),u})})),o.current.push(a))}return[e,s]}function MH(){const{itemRef:t}=l.useContext(Ai),e=l.useRef({});function n(r,o){const i=o&&typeof o=="object"&&o.ref,s=r.join("_");return(e.current.name!==s||e.current.originRef!==i)&&(e.current.name=s,e.current.originRef=i,e.current.ref=oo(t(r),i)),e.current.ref}return n}const kH=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{["".concat(e,"-control")]:{display:"flex"}}}},RH=Dp(["Form","item-item"],(t,e)=>{let{rootPrefixCls:n}=e;const r=zI(t,n);return[kH(r)]}),TH=t=>{const{prefixCls:e,status:n,wrapperCol:r,children:o,errors:i,warnings:s,_internalItemRender:a,extra:c,help:u,fieldId:d,marginBottom:f,onErrorVisibleChanged:m}=t,h="".concat(e,"-item"),g=l.useContext(Ai),p=r||g.wrapperCol||{},w=X("".concat(h,"-control"),p.className),v=l.useMemo(()=>Object.assign({},g),[g]);delete v.labelCol,delete v.wrapperCol;const y=l.createElement("div",{className:"".concat(h,"-control-input")},l.createElement("div",{className:"".concat(h,"-control-input-content")},o)),b=l.useMemo(()=>({prefixCls:e,status:n}),[e,n]),C=f!==null||i.length||s.length?l.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},l.createElement(Qp.Provider,{value:b},l.createElement(UI,{fieldId:d,errors:i,warnings:s,help:u,helpStatus:n,className:"".concat(h,"-explain-connected"),onVisibleChanged:m})),!!f&&l.createElement("div",{style:{width:0,height:f}})):null,S={};d&&(S.id="".concat(d,"_extra"));const x=c?l.createElement("div",Object.assign({},S,{className:"".concat(h,"-extra")}),c):null,I=a&&a.mark==="pro_table_render"&&a.render?a.render(t,{input:y,errorList:C,extra:x}):l.createElement(l.Fragment,null,y,C,x);return l.createElement(Ai.Provider,{value:v},l.createElement(vI,Object.assign({},p,{className:w}),I),l.createElement(RH,{prefixCls:e}))},OH=TH;var NH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const DH=NH;var $H=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:DH}))},FH=l.forwardRef($H);const LH=FH;var BH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function VH(t){return t?typeof t=="object"&&!l.isValidElement(t)?t:{title:t}:null}const jH=t=>{let{prefixCls:e,label:n,htmlFor:r,labelCol:o,labelAlign:i,colon:s,required:a,requiredMark:c,tooltip:u,vertical:d}=t;var f;const[m]=es("Form"),{labelAlign:h,labelCol:g,labelWrap:p,colon:w}=l.useContext(Ai);if(!n)return null;const v=o||g||{},y=i||h,b="".concat(e,"-item-label"),C=X(b,y==="left"&&"".concat(b,"-left"),v.className,{["".concat(b,"-wrap")]:!!p});let S=n;const x=s===!0||w!==!1&&s!==!1;x&&!d&&typeof n=="string"&&n.trim()&&(S=n.replace(/[:|：]\s*$/,""));const E=VH(u);if(E){const{icon:T=l.createElement(LH,null)}=E,k=BH(E,["icon"]),R=l.createElement(To,Object.assign({},k),l.cloneElement(T,{className:"".concat(e,"-item-tooltip"),title:"",onClick:D=>{D.preventDefault()},tabIndex:null}));S=l.createElement(l.Fragment,null,S,R)}const _=c==="optional",P=typeof c=="function";P?S=c(S,{required:!!a}):_&&!a&&(S=l.createElement(l.Fragment,null,S,l.createElement("span",{className:"".concat(e,"-item-optional"),title:""},(m==null?void 0:m.optional)||((f=Do.Form)===null||f===void 0?void 0:f.optional))));const M=X({["".concat(e,"-item-required")]:a,["".concat(e,"-item-required-mark-optional")]:_||P,["".concat(e,"-item-no-colon")]:!x});return l.createElement(vI,Object.assign({},v,{className:C}),l.createElement("label",{htmlFor:r,className:M,title:typeof n=="string"?n:""},S))},zH=jH,UH={success:Va,warning:ja,error:ts,validating:Si};function KI(t){let{children:e,errors:n,warnings:r,hasFeedback:o,validateStatus:i,prefixCls:s,meta:a,noStyle:c}=t;const u="".concat(s,"-item"),{feedbackIcons:d}=l.useContext(Ai),f=WI(n,r,a,null,!!o,i),{isFormItemInput:m,status:h,hasFeedback:g,feedbackIcon:p}=l.useContext(_r),w=l.useMemo(()=>{var v;let y;if(o){const C=o!==!0&&o.icons||d,S=f&&((v=C==null?void 0:C({status:f,errors:n,warnings:r}))===null||v===void 0?void 0:v[f]),x=f&&UH[f];y=S!==!1&&x?l.createElement("span",{className:X("".concat(u,"-feedback-icon"),"".concat(u,"-feedback-icon-").concat(f))},S||l.createElement(x,null)):null}const b={status:f||"",errors:n,warnings:r,hasFeedback:!!o,feedbackIcon:y,isFormItemInput:!0};return c&&(b.status=(f!=null?f:h)||"",b.isFormItemInput=m,b.hasFeedback=!!(o!=null?o:g),b.feedbackIcon=o!==void 0?b.feedbackIcon:p),b},[f,o,c,m,h]);return l.createElement(_r.Provider,{value:w},e)}var HH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function WH(t){const{prefixCls:e,className:n,rootClassName:r,style:o,help:i,errors:s,warnings:a,validateStatus:c,meta:u,hasFeedback:d,hidden:f,children:m,fieldId:h,required:g,isRequired:p,onSubItemMetaChange:w,layout:v}=t,y=HH(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),b="".concat(e,"-item"),{requiredMark:C,vertical:S}=l.useContext(Ai),x=S||v==="vertical",I=l.useRef(null),E=Sd(s),_=Sd(a),P=i!=null,M=!!(P||s.length||a.length),T=!!I.current&&Rc(I.current),[k,R]=l.useState(null);Kt(()=>{if(M&&I.current){const U=getComputedStyle(I.current);R(parseInt(U.marginBottom,10))}},[M,T]);const D=U=>{U||R(null)},$=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const z=U?E:u.errors,F=U?_:u.warnings;return WI(z,F,u,"",!!d,c)}(),j=X(b,n,r,{["".concat(b,"-with-help")]:P||E.length||_.length,["".concat(b,"-has-feedback")]:$&&d,["".concat(b,"-has-success")]:$==="success",["".concat(b,"-has-warning")]:$==="warning",["".concat(b,"-has-error")]:$==="error",["".concat(b,"-is-validating")]:$==="validating",["".concat(b,"-hidden")]:f,["".concat(b,"-").concat(v)]:v});return l.createElement("div",{className:j,style:o,ref:I},l.createElement(iz,Object.assign({className:"".concat(b,"-row")},Nn(y,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),l.createElement(zH,Object.assign({htmlFor:h},t,{requiredMark:C,required:g!=null?g:p,prefixCls:e,vertical:x})),l.createElement(OH,Object.assign({},t,u,{errors:E,warnings:_,prefixCls:e,status:$,help:i,marginBottom:k,onErrorVisibleChanged:D}),l.createElement(jx.Provider,{value:w},l.createElement(KI,{prefixCls:e,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:d,validateStatus:$},m)))),!!k&&l.createElement("div",{className:"".concat(b,"-margin-offset"),style:{marginBottom:-k}}))}const GH="__SPLIT__";function qH(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(o=>{const i=t[o],s=e[o];return i===s||typeof i=="function"||typeof s=="function"})}const KH=l.memo(t=>{let{children:e}=t;return e},(t,e)=>qH(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function cy(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function YH(t){const{name:e,noStyle:n,className:r,dependencies:o,prefixCls:i,shouldUpdate:s,rules:a,children:c,required:u,label:d,messageVariables:f,trigger:m="onChange",validateTrigger:h,hidden:g,help:p,layout:w}=t,{getPrefixCls:v}=l.useContext(Ge),{name:y}=l.useContext(Ai),b=IH(c),C=typeof b=="function",S=l.useContext(jx),{validateTrigger:x}=l.useContext(_s),I=h!==void 0?h:x,E=e!=null,_=v("form",i),P=Dn(_),[M,T,k]=Dv(_,P);Os();const R=l.useContext(dc),D=l.useRef(),[L,$]=PH({}),[j,U]=Is(()=>cy()),z=G=>{const Y=R==null?void 0:R.getKey(G.name);if(U(G.destroy?cy():G,!0),n&&p!==!1&&S){let te=G.name;if(G.destroy)te=D.current||te;else if(Y!==void 0){const[ee,J]=Y;te=[ee].concat(Ee(J)),D.current=te}S(G,te)}},F=(G,Y)=>{$(te=>{const ee=Object.assign({},te),se=[].concat(Ee(G.name.slice(0,-1)),Ee(Y)).join(GH);return G.destroy?delete ee[se]:ee[se]=G,ee})},[V,N]=l.useMemo(()=>{const G=Ee(j.errors),Y=Ee(j.warnings);return Object.values(L).forEach(te=>{G.push.apply(G,Ee(te.errors||[])),Y.push.apply(Y,Ee(te.warnings||[]))}),[G,Y]},[L,j.errors,j.warnings]),B=MH();function H(G,Y,te){return n&&!g?l.createElement(KI,{prefixCls:_,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:j,errors:V,warnings:N,noStyle:!0},G):l.createElement(WH,Object.assign({key:"row"},t,{className:X(r,k,P,T),prefixCls:_,fieldId:Y,isRequired:te,errors:V,warnings:N,meta:j,onSubItemMetaChange:F,layout:w}),G)}if(!E&&!C&&!o)return M(H(b));let Q={};return typeof d=="string"?Q.label=d:e&&(Q.label=String(e)),f&&(Q=Object.assign(Object.assign({},Q),f)),M(l.createElement(Yp,Object.assign({},t,{messageVariables:Q,trigger:m,validateTrigger:I,onMetaChange:z}),(G,Y,te)=>{const ee=Wl(e).length&&Y?Y.name:[],J=HI(ee,y),se=u!==void 0?u:!!(a!=null&&a.some(ue=>{if(ue&&typeof ue=="object"&&ue.required&&!ue.warningOnly)return!0;if(typeof ue=="function"){const de=ue(te);return(de==null?void 0:de.required)&&!(de!=null&&de.warningOnly)}return!1})),ie=Object.assign({},G);let oe=null;if(Array.isArray(b)&&E)oe=b;else if(!(C&&(!(s||o)||E))){if(!(o&&!C&&!E))if(l.isValidElement(b)){const ue=Object.assign(Object.assign({},b.props),ie);if(ue.id||(ue.id=J),p||V.length>0||N.length>0||t.extra){const ye=[];(p||V.length>0)&&ye.push("".concat(J,"_help")),t.extra&&ye.push("".concat(J,"_extra")),ue["aria-describedby"]=ye.join(" ")}V.length>0&&(ue["aria-invalid"]="true"),se&&(ue["aria-required"]="true"),_i(b)&&(ue.ref=B(ee,b)),new Set([].concat(Ee(Wl(m)),Ee(Wl(I)))).forEach(ye=>{ue[ye]=function(){for(var Se,Me,be,ke,we,le=arguments.length,Ce=new Array(le),Ae=0;Ae<le;Ae++)Ce[Ae]=arguments[Ae];(be=ie[ye])===null||be===void 0||(Se=be).call.apply(Se,[ie].concat(Ce)),(we=(ke=b.props)[ye])===null||we===void 0||(Me=we).call.apply(Me,[ke].concat(Ce))}});const he=[ue["aria-required"],ue["aria-invalid"],ue["aria-describedby"]];oe=l.createElement(KH,{control:ie,update:b,childProps:he},ur(b,ue))}else C&&(s||o)&&!E?oe=b(te):oe=b}return H(oe,J,se)}))}const YI=YH;YI.useStatus=_H;const XH=YI;var QH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const JH=t=>{var{prefixCls:e,children:n}=t,r=QH(t,["prefixCls","children"]);const{getPrefixCls:o}=l.useContext(Ge),i=o("form",e),s=l.useMemo(()=>({prefixCls:i,status:"error"}),[i]);return l.createElement(Fx,Object.assign({},r),(a,c,u)=>l.createElement(Qp.Provider,{value:s},n(a.map(d=>Object.assign(Object.assign({},d),{fieldKey:d.key})),c,{errors:u.errors,warnings:u.warnings})))},ZH=JH;function eW(){const{form:t}=l.useContext(Ai);return t}const Pi=EH;Pi.Item=XH;Pi.List=ZH;Pi.ErrorList=UI;Pi.useForm=GI;Pi.useFormInstance=eW;Pi.useWatch=Vx;Pi.Provider=zx;Pi.create=()=>{};const Rr=Pi;function XI(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function tW(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function ma(t,e,n,r){var o=td.unstable_batchedUpdates?function(s){td.unstable_batchedUpdates(n,s)}:n;return t!=null&&t.addEventListener&&t.addEventListener(e,o,r),{remove:function(){t!=null&&t.removeEventListener&&t.removeEventListener(e,o,r)}}}var Uc=l.createContext(null),nW=function(e){var n=e.visible,r=e.maskTransitionName,o=e.getContainer,i=e.prefixCls,s=e.rootClassName,a=e.icons,c=e.countRender,u=e.showSwitch,d=e.showProgress,f=e.current,m=e.transform,h=e.count,g=e.scale,p=e.minScale,w=e.maxScale,v=e.closeIcon,y=e.onSwitchLeft,b=e.onSwitchRight,C=e.onClose,S=e.onZoomIn,x=e.onZoomOut,I=e.onRotateRight,E=e.onRotateLeft,_=e.onFlipX,P=e.onFlipY,M=e.onReset,T=e.toolbarRender,k=e.zIndex,R=e.image,D=l.useContext(Uc),L=a.rotateLeft,$=a.rotateRight,j=a.zoomIn,U=a.zoomOut,z=a.close,F=a.left,V=a.right,N=a.flipX,B=a.flipY,H="".concat(i,"-operations-operation");l.useEffect(function(){var te=function(J){J.keyCode===Ie.ESC&&(J.stopImmediatePropagation(),C())};return n&&window.addEventListener("keydown",te,!0),function(){window.removeEventListener("keydown",te,!0)}},[n]);var Q=[{icon:B,onClick:P,type:"flipY"},{icon:N,onClick:_,type:"flipX"},{icon:L,onClick:E,type:"rotateLeft"},{icon:$,onClick:I,type:"rotateRight"},{icon:U,onClick:x,type:"zoomOut",disabled:g<=p},{icon:j,onClick:S,type:"zoomIn",disabled:g===w}],G=Q.map(function(te){var ee,J=te.icon,se=te.onClick,ie=te.type,oe=te.disabled;return l.createElement("div",{className:X(H,(ee={},q(ee,"".concat(i,"-operations-operation-").concat(ie),!0),q(ee,"".concat(i,"-operations-operation-disabled"),!!oe),ee)),onClick:se,key:ie},J)}),Y=l.createElement("div",{className:"".concat(i,"-operations")},G);return l.createElement(Ir,{visible:n,motionName:r},function(te){var ee=te.className,J=te.style;return l.createElement(Oc,{open:!0,getContainer:o!=null?o:document.body},l.createElement("div",{className:X("".concat(i,"-operations-wrapper"),ee,s),style:W(W({},J),{},{zIndex:k})},v===null?null:l.createElement("button",{className:"".concat(i,"-close"),onClick:C},v||z),u&&l.createElement(l.Fragment,null,l.createElement("div",{className:X("".concat(i,"-switch-left"),q({},"".concat(i,"-switch-left-disabled"),f===0)),onClick:y},F),l.createElement("div",{className:X("".concat(i,"-switch-right"),q({},"".concat(i,"-switch-right-disabled"),f===h-1)),onClick:b},V)),l.createElement("div",{className:"".concat(i,"-footer")},d&&l.createElement("div",{className:"".concat(i,"-progress")},c?c(f+1,h):"".concat(f+1," / ").concat(h)),T?T(Y,W(W({icons:{flipYIcon:G[0],flipXIcon:G[1],rotateLeftIcon:G[2],rotateRightIcon:G[3],zoomOutIcon:G[4],zoomInIcon:G[5]},actions:{onFlipY:P,onFlipX:_,onRotateLeft:E,onRotateRight:I,onZoomOut:x,onZoomIn:S,onReset:M,onClose:C},transform:m},D?{current:f,total:h}:{}),{},{image:R})):Y)))})},Au={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function rW(t,e,n,r){var o=l.useRef(null),i=l.useRef([]),s=l.useState(Au),a=K(s,2),c=a[0],u=a[1],d=function(g){u(Au),xa(Au,c)||r==null||r({transform:Au,action:g})},f=function(g,p){o.current===null&&(i.current=[],o.current=zt(function(){u(function(w){var v=w;return i.current.forEach(function(y){v=W(W({},v),y)}),o.current=null,r==null||r({transform:v,action:p}),v})})),i.current.push(W(W({},c),g))},m=function(g,p,w,v,y){var b=t.current,C=b.width,S=b.height,x=b.offsetWidth,I=b.offsetHeight,E=b.offsetLeft,_=b.offsetTop,P=g,M=c.scale*g;M>n?(M=n,P=n/c.scale):M<e&&(M=y?M:e,P=M/c.scale);var T=w!=null?w:innerWidth/2,k=v!=null?v:innerHeight/2,R=P-1,D=R*C*.5,L=R*S*.5,$=R*(T-c.x-E),j=R*(k-c.y-_),U=c.x-($-D),z=c.y-(j-L);if(g<1&&M===1){var F=x*M,V=I*M,N=XI(),B=N.width,H=N.height;F<=B&&V<=H&&(U=0,z=0)}f({x:U,y:z,scale:M},p)};return{transform:c,resetTransform:d,updateTransform:f,dispatchZoomChange:m}}function uy(t,e,n,r){var o=e+n,i=(n-r)/2;if(n>r){if(e>0)return q({},t,i);if(e<0&&o<r)return q({},t,-i)}else if(e<0||o>r)return q({},t,e<0?i:-i);return{}}function QI(t,e,n,r){var o=XI(),i=o.width,s=o.height,a=null;return t<=i&&e<=s?a={x:0,y:0}:(t>i||e>s)&&(a=W(W({},uy("x",n,t,i)),uy("y",r,e,s))),a}var ha=1,oW=1;function iW(t,e,n,r,o,i,s){var a=o.rotate,c=o.scale,u=o.x,d=o.y,f=l.useState(!1),m=K(f,2),h=m[0],g=m[1],p=l.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),w=function(S){!e||S.button!==0||(S.preventDefault(),S.stopPropagation(),p.current={diffX:S.pageX-u,diffY:S.pageY-d,transformX:u,transformY:d},g(!0))},v=function(S){n&&h&&i({x:S.pageX-p.current.diffX,y:S.pageY-p.current.diffY},"move")},y=function(){if(n&&h){g(!1);var S=p.current,x=S.transformX,I=S.transformY,E=u!==x&&d!==I;if(!E)return;var _=t.current.offsetWidth*c,P=t.current.offsetHeight*c,M=t.current.getBoundingClientRect(),T=M.left,k=M.top,R=a%180!==0,D=QI(R?P:_,R?_:P,T,k);D&&i(W({},D),"dragRebound")}},b=function(S){if(!(!n||S.deltaY==0)){var x=Math.abs(S.deltaY/100),I=Math.min(x,oW),E=ha+I*r;S.deltaY>0&&(E=ha/E),s(E,"wheel",S.clientX,S.clientY)}};return l.useEffect(function(){var C,S,x,I;if(e){x=ma(window,"mouseup",y,!1),I=ma(window,"mousemove",v,!1);try{window.top!==window.self&&(C=ma(window.top,"mouseup",y,!1),S=ma(window.top,"mousemove",v,!1))}catch(E){}}return function(){var E,_,P,M;(E=x)===null||E===void 0||E.remove(),(_=I)===null||_===void 0||_.remove(),(P=C)===null||P===void 0||P.remove(),(M=S)===null||M===void 0||M.remove()}},[n,h,u,d,a,e]),{isMoving:h,onMouseDown:w,onMouseMove:v,onMouseUp:y,onWheel:b}}function sW(t){return new Promise(function(e){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src=t})}function JI(t){var e=t.src,n=t.isCustomPlaceholder,r=t.fallback,o=l.useState(n?"loading":"normal"),i=K(o,2),s=i[0],a=i[1],c=l.useRef(!1),u=s==="error";l.useEffect(function(){var h=!0;return sW(e).then(function(g){!g&&h&&a("error")}),function(){h=!1}},[e]),l.useEffect(function(){n&&!c.current?a("loading"):u&&a("normal")},[e]);var d=function(){a("normal")},f=function(g){c.current=!1,s==="loading"&&g!==null&&g!==void 0&&g.complete&&(g.naturalWidth||g.naturalHeight)&&(c.current=!0,d())},m=u&&r?{src:r}:{onLoad:d,src:e};return[f,m,s]}function xd(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.hypot(n,r)}function aW(t,e,n,r){var o=xd(t,n),i=xd(e,r);if(o===0&&i===0)return[t.x,t.y];var s=o/(o+i),a=t.x+s*(e.x-t.x),c=t.y+s*(e.y-t.y);return[a,c]}function lW(t,e,n,r,o,i,s){var a=o.rotate,c=o.scale,u=o.x,d=o.y,f=l.useState(!1),m=K(f,2),h=m[0],g=m[1],p=l.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),w=function(S){p.current=W(W({},p.current),S)},v=function(S){if(e){S.stopPropagation(),g(!0);var x=S.touches,I=x===void 0?[]:x;I.length>1?w({point1:{x:I[0].clientX,y:I[0].clientY},point2:{x:I[1].clientX,y:I[1].clientY},eventType:"touchZoom"}):w({point1:{x:I[0].clientX-u,y:I[0].clientY-d},eventType:"move"})}},y=function(S){var x=S.touches,I=x===void 0?[]:x,E=p.current,_=E.point1,P=E.point2,M=E.eventType;if(I.length>1&&M==="touchZoom"){var T={x:I[0].clientX,y:I[0].clientY},k={x:I[1].clientX,y:I[1].clientY},R=aW(_,P,T,k),D=K(R,2),L=D[0],$=D[1],j=xd(T,k)/xd(_,P);s(j,"touchZoom",L,$,!0),w({point1:T,point2:k,eventType:"touchZoom"})}else M==="move"&&(i({x:I[0].clientX-_.x,y:I[0].clientY-_.y},"move"),w({eventType:"move"}))},b=function(){if(n){if(h&&g(!1),w({eventType:"none"}),r>c)return i({x:0,y:0,scale:r},"touchZoom");var S=t.current.offsetWidth*c,x=t.current.offsetHeight*c,I=t.current.getBoundingClientRect(),E=I.left,_=I.top,P=a%180!==0,M=QI(P?x:S,P?S:x,E,_);M&&i(W({},M),"dragRebound")}};return l.useEffect(function(){var C;return n&&e&&(C=ma(window,"touchmove",function(S){return S.preventDefault()},{passive:!1})),function(){var S;(S=C)===null||S===void 0||S.remove()}},[n,e]),{isTouching:h,onTouchStart:v,onTouchMove:y,onTouchEnd:b}}var cW=["fallback","src","imgRef"],uW=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],dW=function(e){var n=e.fallback,r=e.src,o=e.imgRef,i=ht(e,cW),s=JI({src:r,fallback:n}),a=K(s,2),c=a[0],u=a[1];return fe.createElement("img",pe({ref:function(f){o.current=f,c(f)}},i,u))},ZI=function(e){var n=e.prefixCls,r=e.src,o=e.alt,i=e.imageInfo,s=e.fallback,a=e.movable,c=a===void 0?!0:a,u=e.onClose,d=e.visible,f=e.icons,m=f===void 0?{}:f,h=e.rootClassName,g=e.closeIcon,p=e.getContainer,w=e.current,v=w===void 0?0:w,y=e.count,b=y===void 0?1:y,C=e.countRender,S=e.scaleStep,x=S===void 0?.5:S,I=e.minScale,E=I===void 0?1:I,_=e.maxScale,P=_===void 0?50:_,M=e.transitionName,T=M===void 0?"zoom":M,k=e.maskTransitionName,R=k===void 0?"fade":k,D=e.imageRender,L=e.imgCommonProps,$=e.toolbarRender,j=e.onTransform,U=e.onChange,z=ht(e,uW),F=l.useRef(),V=l.useContext(Uc),N=V&&b>1,B=V&&b>=1,H=l.useState(!0),Q=K(H,2),G=Q[0],Y=Q[1],te=rW(F,E,P,j),ee=te.transform,J=te.resetTransform,se=te.updateTransform,ie=te.dispatchZoomChange,oe=iW(F,c,d,x,ee,se,ie),ue=oe.isMoving,de=oe.onMouseDown,he=oe.onWheel,ye=lW(F,c,d,E,ee,se,ie),Se=ye.isTouching,Me=ye.onTouchStart,be=ye.onTouchMove,ke=ye.onTouchEnd,we=ee.rotate,le=ee.scale,Ce=X(q({},"".concat(n,"-moving"),ue));l.useEffect(function(){G||Y(!0)},[G]);var Ae=function(){J("close")},Be=function(){ie(ha+x,"zoomIn")},Fe=function(){ie(ha/(ha+x),"zoomOut")},De=function(){se({rotate:we+90},"rotateRight")},ze=function(){se({rotate:we-90},"rotateLeft")},at=function(){se({flipX:!ee.flipX},"flipX")},We=function(){se({flipY:!ee.flipY},"flipY")},Re=function(){J("reset")},me=function(je){je==null||je.preventDefault(),je==null||je.stopPropagation(),v>0&&(Y(!1),J("prev"),U==null||U(v-1,v))},xe=function(je){je==null||je.preventDefault(),je==null||je.stopPropagation(),v<b-1&&(Y(!1),J("next"),U==null||U(v+1,v))},_e=function(je){!d||!N||(je.keyCode===Ie.LEFT?me():je.keyCode===Ie.RIGHT&&xe())},Ne=function(je){d&&(le!==1?se({x:0,y:0,scale:1},"doubleClick"):ie(ha+x,"doubleClick",je.clientX,je.clientY))};l.useEffect(function(){var Pe=ma(window,"keydown",_e,!1);return function(){Pe.remove()}},[d,N,v]);var He=fe.createElement(dW,pe({},L,{width:e.width,height:e.height,imgRef:F,className:"".concat(n,"-img"),alt:o,style:{transform:"translate3d(".concat(ee.x,"px, ").concat(ee.y,"px, 0) scale3d(").concat(ee.flipX?"-":"").concat(le,", ").concat(ee.flipY?"-":"").concat(le,", 1) rotate(").concat(we,"deg)"),transitionDuration:(!G||Se)&&"0s"},fallback:s,src:r,onWheel:he,onMouseDown:de,onDoubleClick:Ne,onTouchStart:Me,onTouchMove:be,onTouchEnd:ke,onTouchCancel:ke})),ne=W({url:r,alt:o},i);return fe.createElement(fe.Fragment,null,fe.createElement(qp,pe({transitionName:T,maskTransitionName:R,closable:!1,keyboard:!0,prefixCls:n,onClose:u,visible:d,classNames:{wrapper:Ce},rootClassName:h,getContainer:p},z,{afterClose:Ae}),fe.createElement("div",{className:"".concat(n,"-img-wrapper")},D?D(He,W({transform:ee,image:ne},V?{current:v}:{})):He)),fe.createElement(nW,{visible:d,transform:ee,maskTransitionName:R,closeIcon:g,getContainer:p,prefixCls:n,rootClassName:h,icons:m,countRender:C,showSwitch:N,showProgress:B,current:v,count:b,scale:le,minScale:E,maxScale:P,toolbarRender:$,onSwitchLeft:me,onSwitchRight:xe,onZoomIn:Be,onZoomOut:Fe,onRotateRight:De,onRotateLeft:ze,onFlipX:at,onFlipY:We,onClose:u,onReset:Re,zIndex:z.zIndex!==void 0?z.zIndex+1:void 0,image:ne}))},Lg=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function fW(t){var e=l.useState({}),n=K(e,2),r=n[0],o=n[1],i=l.useCallback(function(a,c){return o(function(u){return W(W({},u),{},q({},a,c))}),function(){o(function(u){var d=W({},u);return delete d[a],d})}},[]),s=l.useMemo(function(){return t?t.map(function(a){if(typeof a=="string")return{data:{src:a}};var c={};return Object.keys(a).forEach(function(u){["src"].concat(Ee(Lg)).includes(u)&&(c[u]=a[u])}),{data:c}}):Object.keys(r).reduce(function(a,c){var u=r[c],d=u.canPreview,f=u.data;return d&&a.push({data:f,id:c}),a},[])},[t,r]);return[s,i,!!t]}var mW=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],hW=["src"],gW=function(e){var n,r=e.previewPrefixCls,o=r===void 0?"rc-image-preview":r,i=e.children,s=e.icons,a=s===void 0?{}:s,c=e.items,u=e.preview,d=e.fallback,f=st(u)==="object"?u:{},m=f.visible,h=f.onVisibleChange,g=f.getContainer,p=f.current,w=f.movable,v=f.minScale,y=f.maxScale,b=f.countRender,C=f.closeIcon,S=f.onChange,x=f.onTransform,I=f.toolbarRender,E=f.imageRender,_=ht(f,mW),P=fW(c),M=K(P,3),T=M[0],k=M[1],R=M[2],D=on(0,{value:p}),L=K(D,2),$=L[0],j=L[1],U=l.useState(!1),z=K(U,2),F=z[0],V=z[1],N=((n=T[$])===null||n===void 0?void 0:n.data)||{},B=N.src,H=ht(N,hW),Q=on(!!m,{value:m,onChange:function(Se,Me){h==null||h(Se,Me,$)}}),G=K(Q,2),Y=G[0],te=G[1],ee=l.useState(null),J=K(ee,2),se=J[0],ie=J[1],oe=l.useCallback(function(ye,Se,Me,be){var ke=R?T.findIndex(function(we){return we.data.src===Se}):T.findIndex(function(we){return we.id===ye});j(ke<0?0:ke),te(!0),ie({x:Me,y:be}),V(!0)},[T,R]);l.useEffect(function(){Y?F||j(0):V(!1)},[Y]);var ue=function(Se,Me){j(Se),S==null||S(Se,Me)},de=function(){te(!1),ie(null)},he=l.useMemo(function(){return{register:k,onPreview:oe}},[k,oe]);return l.createElement(Uc.Provider,{value:he},i,l.createElement(ZI,pe({"aria-hidden":!Y,movable:w,visible:Y,prefixCls:o,closeIcon:C,onClose:de,mousePosition:se,imgCommonProps:H,src:B,fallback:d,icons:a,minScale:v,maxScale:y,getContainer:g,current:$,count:T.length,countRender:b,onTransform:x,toolbarRender:I,imageRender:E,onChange:ue},_)))},dy=0;function pW(t,e){var n=l.useState(function(){return dy+=1,String(dy)}),r=K(n,1),o=r[0],i=l.useContext(Uc),s={data:e,canPreview:t};return l.useEffect(function(){if(i)return i.register(o,s)},[]),l.useEffect(function(){i&&i.register(o,s)},[t,e]),o}var vW=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],bW=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],$v=function(e){var n=e.src,r=e.alt,o=e.onPreviewClose,i=e.prefixCls,s=i===void 0?"rc-image":i,a=e.previewPrefixCls,c=a===void 0?"".concat(s,"-preview"):a,u=e.placeholder,d=e.fallback,f=e.width,m=e.height,h=e.style,g=e.preview,p=g===void 0?!0:g,w=e.className,v=e.onClick,y=e.onError,b=e.wrapperClassName,C=e.wrapperStyle,S=e.rootClassName,x=ht(e,vW),I=u&&u!==!0,E=st(p)==="object"?p:{},_=E.src,P=E.visible,M=P===void 0?void 0:P,T=E.onVisibleChange,k=T===void 0?o:T,R=E.getContainer,D=R===void 0?void 0:R,L=E.mask,$=E.maskClassName,j=E.movable,U=E.icons,z=E.scaleStep,F=E.minScale,V=E.maxScale,N=E.imageRender,B=E.toolbarRender,H=ht(E,bW),Q=_!=null?_:n,G=on(!!M,{value:M,onChange:k}),Y=K(G,2),te=Y[0],ee=Y[1],J=JI({src:n,isCustomPlaceholder:I,fallback:d}),se=K(J,3),ie=se[0],oe=se[1],ue=se[2],de=l.useState(null),he=K(de,2),ye=he[0],Se=he[1],Me=l.useContext(Uc),be=!!p,ke=function(){ee(!1),Se(null)},we=X(s,b,S,q({},"".concat(s,"-error"),ue==="error")),le=l.useMemo(function(){var Fe={};return Lg.forEach(function(De){e[De]!==void 0&&(Fe[De]=e[De])}),Fe},Lg.map(function(Fe){return e[Fe]})),Ce=l.useMemo(function(){return W(W({},le),{},{src:Q})},[Q,le]),Ae=pW(be,Ce),Be=function(De){var ze=tW(De.target),at=ze.left,We=ze.top;Me?Me.onPreview(Ae,Q,at,We):(Se({x:at,y:We}),ee(!0)),v==null||v(De)};return l.createElement(l.Fragment,null,l.createElement("div",pe({},x,{className:we,onClick:be?Be:v,style:W({width:f,height:m},C)}),l.createElement("img",pe({},le,{className:X("".concat(s,"-img"),q({},"".concat(s,"-img-placeholder"),u===!0),w),style:W({height:m},h),ref:ie},oe,{width:f,height:m,onError:y})),ue==="loading"&&l.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},u),L&&be&&l.createElement("div",{className:X("".concat(s,"-mask"),$),style:{display:(h==null?void 0:h.display)==="none"?"none":void 0}},L)),!Me&&be&&l.createElement(ZI,pe({"aria-hidden":!te,visible:te,prefixCls:c,onClose:ke,mousePosition:ye,src:Q,alt:r,imageInfo:{width:f,height:m},fallback:d,getContainer:D,icons:U,movable:j,scaleStep:z,minScale:F,maxScale:V,rootClassName:S,imageRender:N,imgCommonProps:le,toolbarRender:B},H)))};$v.PreviewGroup=gW;var wW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const yW=wW;var CW=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:yW}))},SW=l.forwardRef(CW);const xW=SW;var AW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const EW=AW;var IW=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:EW}))},_W=l.forwardRef(IW);const PW=_W;var MW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const kW=MW;var RW=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:kW}))},TW=l.forwardRef(RW);const fy=TW;var OW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const NW=OW;var DW=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:NW}))},$W=l.forwardRef(DW);const FW=$W;var LW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const BW=LW;var VW=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:BW}))},jW=l.forwardRef(VW);const zW=jW,Bg=t=>({position:t||"absolute",inset:0}),UW=t=>{const{iconCls:e,motionDurationSlow:n,paddingXXS:r,marginXXS:o,prefixCls:i,colorTextLightSolid:s}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:s,background:new rn("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:"opacity ".concat(n),[".".concat(i,"-mask-info")]:Object.assign(Object.assign({},Ci),{padding:"0 ".concat(re(r)),[e]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},HW=t=>{const{previewCls:e,modalMaskBg:n,paddingSM:r,marginXL:o,margin:i,paddingLG:s,previewOperationColorDisabled:a,previewOperationHoverColor:c,motionDurationSlow:u,iconCls:d,colorTextLightSolid:f}=t,m=new rn(n).setAlpha(.1),h=m.clone().setAlpha(.2);return{["".concat(e,"-footer")]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor,transform:"translateX(-50%)"},["".concat(e,"-progress")]:{marginBottom:i},["".concat(e,"-close")]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:f,backgroundColor:m.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:"all ".concat(u),"&:hover":{backgroundColor:h.toRgbString()},["& > ".concat(d)]:{fontSize:t.previewOperationSize}},["".concat(e,"-operations")]:{display:"flex",alignItems:"center",padding:"0 ".concat(re(s)),backgroundColor:m.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:"all ".concat(u),userSelect:"none",["&:not(".concat(e,"-operations-operation-disabled):hover > ").concat(d)]:{color:c},"&-disabled":{color:a,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},["& > ".concat(d)]:{fontSize:t.previewOperationSize}}}}},WW=t=>{const{modalMaskBg:e,iconCls:n,previewOperationColorDisabled:r,previewCls:o,zIndexPopup:i,motionDurationSlow:s}=t,a=new rn(e).setAlpha(.1),c=a.clone().setAlpha(.2);return{["".concat(o,"-switch-left, ").concat(o,"-switch-right")]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:a.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:"all ".concat(s),userSelect:"none","&:hover":{background:c.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",["> ".concat(n)]:{cursor:"not-allowed"}}},["> ".concat(n)]:{fontSize:t.previewOperationSize}},["".concat(o,"-switch-left")]:{insetInlineStart:t.marginSM},["".concat(o,"-switch-right")]:{insetInlineEnd:t.marginSM}}},GW=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:r,componentCls:o}=t;return[{["".concat(o,"-preview-root")]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},["".concat(n,"-body")]:Object.assign(Object.assign({},Bg()),{overflow:"hidden"}),["".concat(n,"-img")]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:"transform ".concat(r," ").concat(e," 0s"),userSelect:"none","&-wrapper":Object.assign(Object.assign({},Bg()),{transition:"transform ".concat(r," ").concat(e," 0s"),display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},["".concat(n,"-moving")]:{["".concat(n,"-preview-img")]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{["".concat(o,"-preview-root")]:{["".concat(n,"-wrap")]:{zIndex:t.zIndexPopup}}},{["".concat(o,"-preview-operations-wrapper")]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal()},"&":[HW(t),WW(t)]}]},qW=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",["".concat(e,"-img")]:{width:"100%",height:"auto",verticalAlign:"middle"},["".concat(e,"-img-placeholder")]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},["".concat(e,"-mask")]:Object.assign({},UW(t)),["".concat(e,"-mask:hover")]:{opacity:1},["".concat(e,"-placeholder")]:Object.assign({},Bg())}}},KW=t=>{const{previewCls:e}=t;return{["".concat(e,"-root")]:Wa(t,"zoom"),"&":Zp(t,!0)}},YW=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new rn(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new rn(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new rn(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),e2=Jt("Image",t=>{const e="".concat(t.componentCls,"-preview"),n=Dt(t,{previewCls:e,modalMaskBg:new rn("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[qW(n),GW(n),Yx(Dt(n,{componentCls:e})),KW(n)]},YW);var XW=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const t2={rotateLeft:l.createElement(xW,null),rotateRight:l.createElement(PW,null),zoomIn:l.createElement(FW,null),zoomOut:l.createElement(zW,null),close:l.createElement(fr,null),left:l.createElement(ka,null),right:l.createElement(er,null),flipX:l.createElement(fy,null),flipY:l.createElement(fy,{rotate:90})},QW=t=>{var{previewPrefixCls:e,preview:n}=t,r=XW(t,["previewPrefixCls","preview"]);const{getPrefixCls:o}=l.useContext(Ge),i=o("image",e),s="".concat(i,"-preview"),a=o(),c=Dn(i),[u,d,f]=e2(i,c),[m]=ti("ImagePreview",typeof n=="object"?n.zIndex:void 0),h=l.useMemo(()=>{var g;if(n===!1)return n;const p=typeof n=="object"?n:{},w=X(d,f,c,(g=p.rootClassName)!==null&&g!==void 0?g:"");return Object.assign(Object.assign({},p),{transitionName:jr(a,"zoom",p.transitionName),maskTransitionName:jr(a,"fade",p.maskTransitionName),rootClassName:w,zIndex:m})},[n]);return u(l.createElement($v.PreviewGroup,Object.assign({preview:h,previewPrefixCls:s,icons:t2},r)))},JW=QW;var my=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const n2=t=>{var e;const{prefixCls:n,preview:r,className:o,rootClassName:i,style:s}=t,a=my(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:u=Do,getPopupContainer:d,image:f}=l.useContext(Ge),m=c("image",n),h=c(),g=u.Image||Do.Image,p=Dn(m),[w,v,y]=e2(m,p),b=X(i,v,y,p),C=X(o,v,f==null?void 0:f.className),[S]=ti("ImagePreview",typeof r=="object"?r.zIndex:void 0),x=l.useMemo(()=>{var E;if(r===!1)return r;const _=typeof r=="object"?r:{},{getContainer:P,closeIcon:M}=_,T=my(_,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:l.createElement("div",{className:"".concat(m,"-mask-info")},l.createElement(Ov,null),g==null?void 0:g.preview),icons:t2},T),{getContainer:P!=null?P:d,transitionName:jr(h,"zoom",_.transitionName),maskTransitionName:jr(h,"fade",_.maskTransitionName),zIndex:S,closeIcon:M!=null?M:(E=f==null?void 0:f.preview)===null||E===void 0?void 0:E.closeIcon})},[r,g,(e=f==null?void 0:f.preview)===null||e===void 0?void 0:e.closeIcon]),I=Object.assign(Object.assign({},f==null?void 0:f.style),s);return w(l.createElement($v,Object.assign({prefixCls:m,preview:x,rootClassName:b,className:C,style:I},a)))};n2.PreviewGroup=JW;const Of=n2;function ZW(t,e,n){return typeof n=="boolean"?n:t.length?!0:Nr(e).some(o=>o.type===dE)}const eG=t=>{const{componentCls:e,bodyBg:n,lightSiderBg:r,lightTriggerBg:o,lightTriggerColor:i}=t;return{["".concat(e,"-sider-light")]:{background:r,["".concat(e,"-sider-trigger")]:{color:i,background:o},["".concat(e,"-sider-zero-width-trigger")]:{color:i,background:o,border:"1px solid ".concat(n),borderInlineStart:0}}}},tG=eG,nG=t=>{const{antCls:e,componentCls:n,colorText:r,triggerColor:o,footerBg:i,triggerBg:s,headerHeight:a,headerPadding:c,headerColor:u,footerPadding:d,triggerHeight:f,zeroTriggerHeight:m,zeroTriggerWidth:h,motionDurationMid:g,motionDurationSlow:p,fontSize:w,borderRadius:v,bodyBg:y,headerBg:b,siderBg:C}=t;return{[n]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:y,"&, *":{boxSizing:"border-box"},["&".concat(n,"-has-sider")]:{flexDirection:"row",["> ".concat(n,", > ").concat(n,"-content")]:{width:0}},["".concat(n,"-header, &").concat(n,"-footer")]:{flex:"0 0 auto"},["".concat(n,"-sider")]:{position:"relative",minWidth:0,background:C,transition:"all ".concat(g,", background 0s"),"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,["".concat(e,"-menu").concat(e,"-menu-inline-collapsed")]:{width:"auto"}},"&-has-trigger":{paddingBottom:f},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:f,color:o,lineHeight:re(f),textAlign:"center",background:s,cursor:"pointer",transition:"all ".concat(g)},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:a,insetInlineEnd:t.calc(h).mul(-1).equal(),zIndex:1,width:h,height:m,color:o,fontSize:t.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:C,borderStartStartRadius:0,borderStartEndRadius:v,borderEndEndRadius:v,borderEndStartRadius:0,cursor:"pointer",transition:"background ".concat(p," ease"),"&::after":{position:"absolute",inset:0,background:"transparent",transition:"all ".concat(p),content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:t.calc(h).mul(-1).equal(),borderStartStartRadius:v,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:v}}}}},tG(t)),{"&-rtl":{direction:"rtl"}}),["".concat(n,"-header")]:{height:a,padding:c,color:u,lineHeight:re(a),background:b,["".concat(e,"-menu")]:{lineHeight:"inherit"}},["".concat(n,"-footer")]:{padding:d,color:r,fontSize:w,background:i},["".concat(n,"-content")]:{flex:"auto",color:r,minHeight:0}}},rG=t=>{const{colorBgLayout:e,controlHeight:n,controlHeightLG:r,colorText:o,controlHeightSM:i,marginXXS:s,colorTextLightSolid:a,colorBgContainer:c}=t,u=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:n*2,headerPadding:"0 ".concat(u,"px"),headerColor:o,footerPadding:"".concat(i,"px ").concat(u,"px"),footerBg:e,siderBg:"#001529",triggerHeight:r+s*2,triggerBg:"#002140",triggerColor:a,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:c,lightTriggerBg:c,lightTriggerColor:o}},r2=Jt("Layout",t=>[nG(t)],rG,{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var o2=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Nf(t){let{suffixCls:e,tagName:n,displayName:r}=t;return o=>l.forwardRef((s,a)=>l.createElement(o,Object.assign({ref:a,suffixCls:e,tagName:n},s)))}const Fv=l.forwardRef((t,e)=>{const{prefixCls:n,suffixCls:r,className:o,tagName:i}=t,s=o2(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:a}=l.useContext(Ge),c=a("layout",n),[u,d,f]=r2(c),m=r?"".concat(c,"-").concat(r):c;return u(l.createElement(i,Object.assign({className:X(n||m,o,d,f),ref:e},s)))}),oG=l.forwardRef((t,e)=>{const{direction:n}=l.useContext(Ge),[r,o]=l.useState([]),{prefixCls:i,className:s,rootClassName:a,children:c,hasSider:u,tagName:d,style:f}=t,m=o2(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),h=Nn(m,["suffixCls"]),{getPrefixCls:g,layout:p}=l.useContext(Ge),w=g("layout",i),v=ZW(r,c,u),[y,b,C]=r2(w),S=X(w,{["".concat(w,"-has-sider")]:v,["".concat(w,"-rtl")]:n==="rtl"},p==null?void 0:p.className,s,a,b,C),x=l.useMemo(()=>({siderHook:{addSider:I=>{o(E=>[].concat(Ee(E),[I]))},removeSider:I=>{o(E=>E.filter(_=>_!==I))}}}),[]);return y(l.createElement(uE.Provider,{value:x},l.createElement(d,Object.assign({ref:e,className:S,style:Object.assign(Object.assign({},p==null?void 0:p.style),f)},h),c)))}),iG=Nf({tagName:"div",displayName:"Layout"})(oG),sG=Nf({suffixCls:"header",tagName:"header",displayName:"Header"})(Fv),aG=Nf({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(Fv),lG=Nf({suffixCls:"content",tagName:"main",displayName:"Content"})(Fv),cG=iG,tl=cG;tl.Header=sG;tl.Footer=aG;tl.Content=lG;tl.Sider=dE;tl._InternalSiderContext=xf;const Ms=tl;function uG(t){let{percent:e,prefixCls:n}=t;const r="".concat(n,"-dot"),o="".concat(r,"-holder"),i="".concat(o,"-hidden"),[s,a]=l.useState(!1);Kt(()=>{e!==0&&a(!0)},[e!==0]);const c=Math.max(Math.min(e,100),0),u=100,d=u/5,f=u/2-d/2,m=f*2*Math.PI,h=(g,p)=>l.createElement("circle",{className:X(g,"".concat(r,"-circle")),r:f,cx:"50",cy:"50",strokeWidth:d,style:p});return s?l.createElement("span",{className:X(o,"".concat(r,"-progress"),c<=0&&i)},l.createElement("svg",{viewBox:"0 0 ".concat(u," ").concat(u),role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},h("".concat(r,"-circle-bg")),h("",{strokeDasharray:"".concat(m*c/100," ").concat(m*(100-c)/100),strokeDashoffset:"".concat(m/4)}))):null}function dG(t){const{prefixCls:e,percent:n=0}=t,r="".concat(e,"-dot"),o="".concat(r,"-holder"),i="".concat(o,"-hidden");return l.createElement(l.Fragment,null,l.createElement("span",{className:X(o,n>0&&i)},l.createElement("span",{className:X(r,"".concat(e,"-dot-spin"))},[1,2,3,4].map(s=>l.createElement("i",{className:"".concat(e,"-dot-item"),key:s})))),l.createElement(uG,{prefixCls:e,percent:n}))}function fG(t){const{prefixCls:e,indicator:n,percent:r}=t,o="".concat(e,"-dot");return n&&l.isValidElement(n)?ur(n,{className:X(n.props.className,o),percent:r}):l.createElement(dG,{prefixCls:e,percent:r})}const mG=new Rt("antSpinMove",{to:{opacity:1}}),hG=new Rt("antRotate",{to:{transform:"rotate(405deg)"}}),gG=t=>{const{componentCls:e,calc:n}=t;return{["".concat(e)]:Object.assign(Object.assign({},cn(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOutCirc),"&-spinning":{position:"relative",display:"inline-block",opacity:1},["".concat(e,"-text")]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:"all ".concat(t.motionDurationMid),"&-show":{opacity:1,visibility:"visible"},[e]:{["".concat(e,"-dot-holder")]:{color:t.colorWhite},["".concat(e,"-text")]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",["> div > ".concat(e)]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,["".concat(e,"-dot")]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},["".concat(e,"-text")]:{position:"absolute",top:"50%",width:"100%",textShadow:"0 1px 2px ".concat(t.colorBgContainer)},["&".concat(e,"-show-text ").concat(e,"-dot")]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{["".concat(e,"-dot")]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},["".concat(e,"-text")]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},["&".concat(e,"-show-text ").concat(e,"-dot")]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{["".concat(e,"-dot")]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},["".concat(e,"-text")]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},["&".concat(e,"-show-text ").concat(e,"-dot")]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},["".concat(e,"-container")]:{position:"relative",transition:"opacity ".concat(t.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:"all ".concat(t.motionDurationSlow),content:'""',pointerEvents:"none"}},["".concat(e,"-blur")]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},["".concat(e,"-dot-holder")]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:"transform ".concat(t.motionDurationSlow," ease, opacity ").concat(t.motionDurationSlow," ease"),transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},["".concat(e,"-dot-progress")]:{position:"absolute",top:"50%",transform:"translateY(-50%)",insetInlineStart:0},["".concat(e,"-dot")]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:mG,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:hG,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>"".concat(r," ").concat(t.motionDurationSlow," ease")).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},["&-sm ".concat(e,"-dot")]:{"&, &-holder":{fontSize:t.dotSizeSM}},["&-sm ".concat(e,"-dot-holder")]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},["&-lg ".concat(e,"-dot")]:{"&, &-holder":{fontSize:t.dotSizeLG}},["&-lg ".concat(e,"-dot-holder")]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},["&".concat(e,"-show-text ").concat(e,"-text")]:{display:"block"}})}},pG=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},vG=Jt("Spin",t=>{const e=Dt(t,{spinDotDefault:t.colorTextDescription});return[gG(e)]},pG),bG=200,hy=[[30,.05],[70,.03],[96,.01]];function wG(t,e){const[n,r]=l.useState(0),o=l.useRef(),i=e==="auto";return l.useEffect(()=>(i&&t&&(r(0),o.current=setInterval(()=>{r(s=>{const a=100-s;for(let c=0;c<hy.length;c+=1){const[u,d]=hy[c];if(s<=u)return s+a*d}return s})},bG)),()=>{clearInterval(o.current)}),[i,t]),i?n:e}var yG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};let i2;function CG(t,e){return!!t&&!!e&&!isNaN(Number(e))}const s2=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:o=0,className:i,rootClassName:s,size:a="default",tip:c,wrapperClassName:u,style:d,children:f,fullscreen:m=!1,indicator:h,percent:g}=t,p=yG(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:w,direction:v,spin:y}=l.useContext(Ge),b=w("spin",n),[C,S,x]=vG(b),[I,E]=l.useState(()=>r&&!CG(r,o)),_=wG(I,g);l.useEffect(()=>{if(r){const L=rk(o,()=>{E(!0)});return L(),()=>{var $;($=L==null?void 0:L.cancel)===null||$===void 0||$.call(L)}}E(!1)},[o,r]);const P=l.useMemo(()=>typeof f<"u"&&!m,[f,m]),M=X(b,y==null?void 0:y.className,{["".concat(b,"-sm")]:a==="small",["".concat(b,"-lg")]:a==="large",["".concat(b,"-spinning")]:I,["".concat(b,"-show-text")]:!!c,["".concat(b,"-rtl")]:v==="rtl"},i,!m&&s,S,x),T=X("".concat(b,"-container"),{["".concat(b,"-blur")]:I}),k=(e=h!=null?h:y==null?void 0:y.indicator)!==null&&e!==void 0?e:i2,R=Object.assign(Object.assign({},y==null?void 0:y.style),d),D=l.createElement("div",Object.assign({},p,{style:R,className:M,"aria-live":"polite","aria-busy":I}),l.createElement(fG,{prefixCls:b,indicator:k,percent:_}),c&&(P||m)?l.createElement("div",{className:"".concat(b,"-text")},c):null);return C(P?l.createElement("div",Object.assign({},p,{className:X("".concat(b,"-nested-loading"),u,S,x)}),I&&l.createElement("div",{key:"loading"},D),l.createElement("div",{className:T,key:"container"},f)):m?l.createElement("div",{className:X("".concat(b,"-fullscreen"),{["".concat(b,"-fullscreen-show")]:I},s,S,x)},D):D)};s2.setDefaultIndicator=t=>{i2=t};const dn=s2;var SG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const xG=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:o,type:i,title:s,children:a,footer:c}=t,u=SG(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:d}=l.useContext(Ge),f=d(),m=e||d("modal"),h=Dn(f),[g,p,w]=Jx(m,h),v="".concat(m,"-confirm");let y={};return i?y={closable:o!=null?o:!1,title:"",footer:"",children:l.createElement(eA,Object.assign({},t,{prefixCls:m,confirmPrefixCls:v,rootPrefixCls:f,content:a}))}:y={closable:o!=null?o:!0,title:s,footer:c!==null&&l.createElement(Kx,Object.assign({},t)),children:a},g(l.createElement(Tx,Object.assign({prefixCls:m,className:X(p,"".concat(m,"-pure-panel"),i&&v,i&&"".concat(v,"-").concat(i),n,w,h)},u,{closeIcon:qx(m,r),closable:o},y)))},AG=mA(xG);function a2(t){return Dc(oA(t))}const zo=Zx;zo.useModal=cA;zo.info=function(e){return Dc(iA(e))};zo.success=function(e){return Dc(sA(e))};zo.error=function(e){return Dc(aA(e))};zo.warning=a2;zo.warn=a2;zo.confirm=function(e){return Dc(lA(e))};zo.destroyAll=function(){for(;vs.length;){const e=vs.pop();e&&e()}};zo.config=b5;zo._InternalPanelDoNotUseOrYouWillBeFired=AG;const ni=zo;var EG={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},IG=function(){var e=l.useRef([]),n=l.useRef(null);return l.useEffect(function(){var r=Date.now(),o=!1;e.current.forEach(function(i){if(i){o=!0;var s=i.style;s.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(s.transitionDuration="0s, 0s")}}),o&&(n.current=Date.now())}),e.current},gy=0,_G=Er();function PG(){var t;return _G?(t=gy,gy+=1):t="TEST_OR_SSR",t}const MG=function(t){var e=l.useState(),n=K(e,2),r=n[0],o=n[1];return l.useEffect(function(){o("rc_progress_".concat(PG()))},[]),t||r};var py=function(e){var n=e.bg,r=e.children;return l.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function vy(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),o="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(o)})}var kG=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,o=t.gradientId,i=t.radius,s=t.style,a=t.ptg,c=t.strokeLinecap,u=t.strokeWidth,d=t.size,f=t.gapDegree,m=r&&st(r)==="object",h=m?"#FFF":void 0,g=d/2,p=l.createElement("circle",{className:"".concat(n,"-circle-path"),r:i,cx:g,cy:g,stroke:h,strokeLinecap:c,strokeWidth:u,opacity:a===0?0:1,style:s,ref:e});if(!m)return p;var w="".concat(o,"-conic"),v=f?"".concat(180+f/2,"deg"):"0deg",y=vy(r,(360-f)/360),b=vy(r,1),C="conic-gradient(from ".concat(v,", ").concat(y.join(", "),")"),S="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(b.join(", "),")");return l.createElement(l.Fragment,null,l.createElement("mask",{id:w},p),l.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(w,")")},l.createElement(py,{bg:S},l.createElement(py,{bg:C}))))}),Ol=100,Qm=function(e,n,r,o,i,s,a,c,u,d){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,m=r/100*360*((360-s)/360),h=s===0?0:{bottom:0,top:180,left:90,right:-90}[a],g=(100-o)/100*n;u==="round"&&o!==100&&(g+=d/2,g>=n&&(g=n-.01));var p=Ol/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:g+f,transform:"rotate(".concat(i+m+h,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},RG=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function by(t){var e=t!=null?t:[];return Array.isArray(e)?e:[e]}var TG=function(e){var n=W(W({},EG),e),r=n.id,o=n.prefixCls,i=n.steps,s=n.strokeWidth,a=n.trailWidth,c=n.gapDegree,u=c===void 0?0:c,d=n.gapPosition,f=n.trailColor,m=n.strokeLinecap,h=n.style,g=n.className,p=n.strokeColor,w=n.percent,v=ht(n,RG),y=Ol/2,b=MG(r),C="".concat(b,"-gradient"),S=y-s/2,x=Math.PI*2*S,I=u>0?90+u/2:-90,E=x*((360-u)/360),_=st(i)==="object"?i:{count:i,gap:2},P=_.count,M=_.gap,T=by(w),k=by(p),R=k.find(function(F){return F&&st(F)==="object"}),D=R&&st(R)==="object",L=D?"butt":m,$=Qm(x,E,0,100,I,u,d,f,L,s),j=IG(),U=function(){var V=0;return T.map(function(N,B){var H=k[B]||k[k.length-1],Q=Qm(x,E,V,N,I,u,d,H,L,s);return V+=N,l.createElement(kG,{key:B,color:H,ptg:N,radius:S,prefixCls:o,gradientId:C,style:Q,strokeLinecap:L,strokeWidth:s,gapDegree:u,ref:function(Y){j[B]=Y},size:Ol})}).reverse()},z=function(){var V=Math.round(P*(T[0]/100)),N=100/P,B=0;return new Array(P).fill(null).map(function(H,Q){var G=Q<=V-1?k[0]:f,Y=G&&st(G)==="object"?"url(#".concat(C,")"):void 0,te=Qm(x,E,B,N,I,u,d,G,"butt",s,M);return B+=(E-te.strokeDashoffset+M)*100/E,l.createElement("circle",{key:Q,className:"".concat(o,"-circle-path"),r:S,cx:y,cy:y,stroke:Y,strokeWidth:s,opacity:1,style:te,ref:function(J){j[Q]=J}})})};return l.createElement("svg",pe({className:X("".concat(o,"-circle"),g),viewBox:"0 0 ".concat(Ol," ").concat(Ol),style:h,id:r,role:"presentation"},v),!P&&l.createElement("circle",{className:"".concat(o,"-circle-trail"),r:S,cx:y,cy:y,stroke:f,strokeLinecap:L,strokeWidth:a||s,style:$}),P?z():U())};function Hi(t){return!t||t<0?0:t>100?100:t}function Ad(t){let{success:e,successPercent:n}=t,r=n;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const OG=t=>{let{percent:e,success:n,successPercent:r}=t;const o=Hi(Ad({success:n,successPercent:r}));return[o,Hi(Hi(e)-o)]},NG=t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:r}=e;return[r||ba.green,n||null]},Df=(t,e,n)=>{var r,o,i,s;let a=-1,c=-1;if(e==="step"){const u=n.steps,d=n.strokeWidth;typeof t=="string"||typeof t>"u"?(a=t==="small"?2:14,c=d!=null?d:8):typeof t=="number"?[a,c]=[t,t]:[a=14,c=8]=Array.isArray(t)?t:[t.width,t.height],a*=u}else if(e==="line"){const u=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?c=u||(t==="small"?6:8):typeof t=="number"?[a,c]=[t,t]:[a=-1,c=8]=Array.isArray(t)?t:[t.width,t.height]}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[a,c]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[a,c]=[t,t]:Array.isArray(t)&&(a=(o=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&o!==void 0?o:120,c=(s=(i=t[0])!==null&&i!==void 0?i:t[1])!==null&&s!==void 0?s:120));return[a,c]},DG=3,$G=t=>DG/t*100,FG=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:o,gapDegree:i,width:s=120,type:a,children:c,success:u,size:d=s,steps:f}=t,[m,h]=Df(d,"circle");let{strokeWidth:g}=t;g===void 0&&(g=Math.max($G(m),6));const p={width:m,height:h,fontSize:m*.15+6},w=l.useMemo(()=>{if(i||i===0)return i;if(a==="dashboard")return 75},[i,a]),v=OG(t),y=o||a==="dashboard"&&"bottom"||void 0,b=Object.prototype.toString.call(t.strokeColor)==="[object Object]",C=NG({success:u,strokeColor:t.strokeColor}),S=X("".concat(e,"-inner"),{["".concat(e,"-circle-gradient")]:b}),x=l.createElement(TG,{steps:f,percent:f?v[1]:v,strokeWidth:g,trailWidth:g,strokeColor:f?C[1]:C,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:w,gapPosition:y}),I=m<=20,E=l.createElement("div",{className:S,style:p},x,!I&&c);return I?l.createElement(To,{title:c},E):E},LG=FG,Ed="--progress-line-stroke-color",l2="--progress-percent",wy=t=>{const e=t?"100%":"-100%";return new Rt("antProgress".concat(t?"RTL":"LTR","Active"),{"0%":{transform:"translateX(".concat(e,") scaleX(0)"),opacity:.1},"20%":{transform:"translateX(".concat(e,") scaleX(0)"),opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},BG=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},cn(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},["".concat(e,"-outer")]:{display:"inline-flex",alignItems:"center",width:"100%"},["".concat(e,"-inner")]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},["".concat(e,"-inner:not(").concat(e,"-circle-gradient)")]:{["".concat(e,"-circle-path")]:{stroke:t.defaultColor}},["".concat(e,"-success-bg, ").concat(e,"-bg")]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOutCirc)},["".concat(e,"-layout-bottom")]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",["".concat(e,"-text")]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},["".concat(e,"-bg")]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit","var(".concat(Ed,")")]},height:"100%",width:"calc(1 / var(".concat(l2,") * 100%)"),display:"block"},["&".concat(e,"-bg-inner")]:{minWidth:"max-content","&::after":{content:"none"},["".concat(e,"-text-inner")]:{color:t.colorWhite,["&".concat(e,"-text-bright")]:{color:"rgba(0, 0, 0, 0.45)"}}}},["".concat(e,"-success-bg")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},["".concat(e,"-text")]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},["&".concat(e,"-text-outer")]:{width:"max-content"},["&".concat(e,"-text-outer").concat(e,"-text-start")]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},["".concat(e,"-text-inner")]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:"0 ".concat(re(t.paddingXXS)),["&".concat(e,"-text-start")]:{justifyContent:"start"},["&".concat(e,"-text-end")]:{justifyContent:"end"}},["&".concat(e,"-status-active")]:{["".concat(e,"-bg::before")]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:wy(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},["&".concat(e,"-rtl").concat(e,"-status-active")]:{["".concat(e,"-bg::before")]:{animationName:wy(!0)}},["&".concat(e,"-status-exception")]:{["".concat(e,"-bg")]:{backgroundColor:t.colorError},["".concat(e,"-text")]:{color:t.colorError}},["&".concat(e,"-status-exception ").concat(e,"-inner:not(").concat(e,"-circle-gradient)")]:{["".concat(e,"-circle-path")]:{stroke:t.colorError}},["&".concat(e,"-status-success")]:{["".concat(e,"-bg")]:{backgroundColor:t.colorSuccess},["".concat(e,"-text")]:{color:t.colorSuccess}},["&".concat(e,"-status-success ").concat(e,"-inner:not(").concat(e,"-circle-gradient)")]:{["".concat(e,"-circle-path")]:{stroke:t.colorSuccess}}})}},VG=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{["".concat(e,"-circle-trail")]:{stroke:t.remainingColor},["&".concat(e,"-circle ").concat(e,"-inner")]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},["&".concat(e,"-circle ").concat(e,"-text")]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},["".concat(e,"-circle&-status-exception")]:{["".concat(e,"-text")]:{color:t.colorError}},["".concat(e,"-circle&-status-success")]:{["".concat(e,"-text")]:{color:t.colorSuccess}}},["".concat(e,"-inline-circle")]:{lineHeight:1,["".concat(e,"-inner")]:{verticalAlign:"bottom"}}}},jG=t=>{const{componentCls:e}=t;return{[e]:{["".concat(e,"-steps")]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:"all ".concat(t.motionDurationSlow),"&-active":{backgroundColor:t.defaultColor}}}}}},zG=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{["".concat(e,"-small&-line, ").concat(e,"-small&-line ").concat(e,"-text ").concat(n)]:{fontSize:t.fontSizeSM}}}},UG=t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:"".concat(t.fontSize/t.fontSizeSM,"em")}),HG=Jt("Progress",t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=Dt(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[BG(n),VG(n),jG(n),zG(n)]},UG);var WG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const GG=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(n=>{let{key:r,value:o}=n;return"".concat(o," ").concat(r,"%")}).join(", ")},qG=(t,e)=>{const{from:n=ba.blue,to:r=ba.blue,direction:o=e==="rtl"?"to left":"to right"}=t,i=WG(t,["from","to","direction"]);if(Object.keys(i).length!==0){const a=GG(i),c="linear-gradient(".concat(o,", ").concat(a,")");return{background:c,[Ed]:c}}const s="linear-gradient(".concat(o,", ").concat(n,", ").concat(r,")");return{background:s,[Ed]:s}},KG=t=>{const{prefixCls:e,direction:n,percent:r,size:o,strokeWidth:i,strokeColor:s,strokeLinecap:a="round",children:c,trailColor:u=null,percentPosition:d,success:f}=t,{align:m,type:h}=d,g=s&&typeof s!="string"?qG(s,n):{[Ed]:s,background:s},p=a==="square"||a==="butt"?0:void 0,w=o!=null?o:[-1,i||(o==="small"?6:8)],[v,y]=Df(w,"line",{strokeWidth:i}),b={backgroundColor:u||void 0,borderRadius:p},C=Object.assign(Object.assign({width:"".concat(Hi(r),"%"),height:y,borderRadius:p},g),{[l2]:Hi(r)/100}),S=Ad(t),x={width:"".concat(Hi(S),"%"),height:y,borderRadius:p,backgroundColor:f==null?void 0:f.strokeColor},I={width:v<0?"100%":v},E=l.createElement("div",{className:"".concat(e,"-inner"),style:b},l.createElement("div",{className:X("".concat(e,"-bg"),"".concat(e,"-bg-").concat(h)),style:C},h==="inner"&&c),S!==void 0&&l.createElement("div",{className:"".concat(e,"-success-bg"),style:x})),_=h==="outer"&&m==="start",P=h==="outer"&&m==="end";return h==="outer"&&m==="center"?l.createElement("div",{className:"".concat(e,"-layout-bottom")},E,c):l.createElement("div",{className:"".concat(e,"-outer"),style:I},_&&c,E,P&&c)},YG=KG,XG=t=>{const{size:e,steps:n,percent:r=0,strokeWidth:o=8,strokeColor:i,trailColor:s=null,prefixCls:a,children:c}=t,u=Math.round(n*(r/100)),d=e==="small"?2:14,f=e!=null?e:[d,o],[m,h]=Df(f,"step",{steps:n,strokeWidth:o}),g=m/n,p=new Array(n);for(let w=0;w<n;w++){const v=Array.isArray(i)?i[w]:i;p[w]=l.createElement("div",{key:w,className:X("".concat(a,"-steps-item"),{["".concat(a,"-steps-item-active")]:w<=u-1}),style:{backgroundColor:w<=u-1?v:s,width:g,height:h}})}return l.createElement("div",{className:"".concat(a,"-steps-outer")},p,c)},QG=XG;var JG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const ZG=["normal","exception","active","success"],eq=l.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:o,steps:i,strokeColor:s,percent:a=0,size:c="default",showInfo:u=!0,type:d="line",status:f,format:m,style:h,percentPosition:g={}}=t,p=JG(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:w="end",type:v="outer"}=g,y=Array.isArray(s)?s[0]:s,b=typeof s=="string"||Array.isArray(s)?s:void 0,C=l.useMemo(()=>{if(y){const U=typeof y=="string"?y:Object.values(y)[0];return new rn(U).isLight()}return!1},[s]),S=l.useMemo(()=>{var U,z;const F=Ad(t);return parseInt(F!==void 0?(U=F!=null?F:0)===null||U===void 0?void 0:U.toString():(z=a!=null?a:0)===null||z===void 0?void 0:z.toString(),10)},[a,t.success,t.successPercent]),x=l.useMemo(()=>!ZG.includes(f)&&S>=100?"success":f||"normal",[f,S]),{getPrefixCls:I,direction:E,progress:_}=l.useContext(Ge),P=I("progress",n),[M,T,k]=HG(P),R=d==="line",D=R&&!i,L=l.useMemo(()=>{if(!u)return null;const U=Ad(t);let z;const F=m||(N=>"".concat(N,"%")),V=R&&C&&v==="inner";return v==="inner"||m||x!=="exception"&&x!=="success"?z=F(Hi(a),Hi(U)):x==="exception"?z=R?l.createElement(ts,null):l.createElement(fr,null):x==="success"&&(z=R?l.createElement(Va,null):l.createElement(Ds,null)),l.createElement("span",{className:X("".concat(P,"-text"),{["".concat(P,"-text-bright")]:V,["".concat(P,"-text-").concat(w)]:D,["".concat(P,"-text-").concat(v)]:D}),title:typeof z=="string"?z:void 0},z)},[u,a,S,x,d,P,m]);let $;d==="line"?$=i?l.createElement(QG,Object.assign({},t,{strokeColor:b,prefixCls:P,steps:typeof i=="object"?i.count:i}),L):l.createElement(YG,Object.assign({},t,{strokeColor:y,prefixCls:P,direction:E,percentPosition:{align:w,type:v}}),L):(d==="circle"||d==="dashboard")&&($=l.createElement(LG,Object.assign({},t,{strokeColor:y,prefixCls:P,progressStatus:x}),L));const j=X(P,"".concat(P,"-status-").concat(x),{["".concat(P,"-").concat(d==="dashboard"&&"circle"||d)]:d!=="line",["".concat(P,"-inline-circle")]:d==="circle"&&Df(c,"circle")[0]<=20,["".concat(P,"-line")]:D,["".concat(P,"-line-align-").concat(w)]:D,["".concat(P,"-line-position-").concat(v)]:D,["".concat(P,"-steps")]:i,["".concat(P,"-show-info")]:u,["".concat(P,"-").concat(c)]:typeof c=="string",["".concat(P,"-rtl")]:E==="rtl"},_==null?void 0:_.className,r,o,T,k);return M(l.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},_==null?void 0:_.style),h),className:j,role:"progressbar","aria-valuenow":S,"aria-valuemin":0,"aria-valuemax":100},Nn(p,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),$))}),tq=eq;var nq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const rq=nq;var oq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:rq}))},iq=l.forwardRef(oq);const c2=iq;var sq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const aq=sq;var lq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:aq}))},cq=l.forwardRef(lq);const uq=cq;var dq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const fq=dq;var mq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:fq}))},hq=l.forwardRef(mq);const u2=hq;var gq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const pq=gq;var vq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:pq}))},bq=l.forwardRef(vq);const wq=bq;var yq={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const Cq=yq;var Sq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Cq}))},xq=l.forwardRef(Sq);const Aq=xq;var Eq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Iq=Eq;var _q=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Iq}))},Pq=l.forwardRef(_q);const Mq=Pq;var kq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const Rq=kq;var Tq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Rq}))},Oq=l.forwardRef(Tq);const Nq=Oq;var Dq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const $q=Dq;var Fq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:$q}))},Lq=l.forwardRef(Fq);const Bq=Lq;var Vq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"};const jq=Vq;var zq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:jq}))},Uq=l.forwardRef(zq);const Hq=Uq;var Wq={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const Gq=Wq;var qq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Gq}))},Kq=l.forwardRef(qq);const Yq=Kq;var Xq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"};const Qq=Xq;var Jq=function(e,n){return l.createElement(Yt,pe({},e,{ref:n,icon:Qq}))},Zq=l.forwardRef(Jq);const eK=Zq,tK=()=>l.createElement("svg",{width:"252",height:"294"},l.createElement("title",null,"No Found"),l.createElement("defs",null,l.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(0 .012)"},l.createElement("mask",{fill:"#fff"}),l.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),l.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),l.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),l.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),l.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),l.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),l.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),l.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),l.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),l.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),l.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),l.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),l.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),l.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),l.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),l.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),l.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),l.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),l.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),l.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),l.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),l.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),l.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),l.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),l.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),l.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),l.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),l.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),l.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),l.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),l.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),l.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),l.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),l.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),l.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),l.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),l.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),l.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),l.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),nK=tK,rK=()=>l.createElement("svg",{width:"254",height:"294"},l.createElement("title",null,"Server Error"),l.createElement("defs",null,l.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),l.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(0 .067)"},l.createElement("mask",{fill:"#fff"}),l.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),l.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),l.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),l.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),l.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),l.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),l.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),l.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),l.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),l.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),l.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),l.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),l.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),l.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),l.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),l.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),l.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),l.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),l.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),l.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),l.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),l.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),l.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),l.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),l.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),l.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),l.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),l.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),l.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),l.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),l.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),l.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),l.createElement("mask",{fill:"#fff"}),l.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),l.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),l.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),l.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),l.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),l.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),l.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),l.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),l.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),l.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),l.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"}))),oK=rK,iK=t=>{const{componentCls:e,lineHeightHeading3:n,iconCls:r,padding:o,paddingXL:i,paddingXS:s,paddingLG:a,marginXS:c,lineHeight:u}=t;return{[e]:{padding:"".concat(re(t.calc(a).mul(2).equal())," ").concat(re(i)),"&-rtl":{direction:"rtl"}},["".concat(e," ").concat(e,"-image")]:{width:t.imageWidth,height:t.imageHeight,margin:"auto"},["".concat(e," ").concat(e,"-icon")]:{marginBottom:a,textAlign:"center",["& > ".concat(r)]:{fontSize:t.iconFontSize}},["".concat(e," ").concat(e,"-title")]:{color:t.colorTextHeading,fontSize:t.titleFontSize,lineHeight:n,marginBlock:c,textAlign:"center"},["".concat(e," ").concat(e,"-subtitle")]:{color:t.colorTextDescription,fontSize:t.subtitleFontSize,lineHeight:u,textAlign:"center"},["".concat(e," ").concat(e,"-content")]:{marginTop:a,padding:"".concat(re(a)," ").concat(re(t.calc(o).mul(2.5).equal())),backgroundColor:t.colorFillAlter},["".concat(e," ").concat(e,"-extra")]:{margin:t.extraMargin,textAlign:"center","& > *":{marginInlineEnd:s,"&:last-child":{marginInlineEnd:0}}}}},sK=t=>{const{componentCls:e,iconCls:n}=t;return{["".concat(e,"-success ").concat(e,"-icon > ").concat(n)]:{color:t.resultSuccessIconColor},["".concat(e,"-error ").concat(e,"-icon > ").concat(n)]:{color:t.resultErrorIconColor},["".concat(e,"-info ").concat(e,"-icon > ").concat(n)]:{color:t.resultInfoIconColor},["".concat(e,"-warning ").concat(e,"-icon > ").concat(n)]:{color:t.resultWarningIconColor}}},aK=t=>[iK(t),sK(t)],lK=t=>aK(t),cK=t=>({titleFontSize:t.fontSizeHeading3,subtitleFontSize:t.fontSize,iconFontSize:t.fontSizeHeading3*3,extraMargin:"".concat(t.paddingLG,"px 0 0 0")}),uK=Jt("Result",t=>{const e=t.colorInfo,n=t.colorError,r=t.colorSuccess,o=t.colorWarning,i=Dt(t,{resultInfoIconColor:e,resultErrorIconColor:n,resultSuccessIconColor:r,resultWarningIconColor:o,imageWidth:250,imageHeight:295});return[lK(i)]},cK),dK=()=>l.createElement("svg",{width:"251",height:"294"},l.createElement("title",null,"Unauthorized"),l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),l.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),l.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),l.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),l.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),l.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),l.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),l.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),l.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),l.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),l.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),l.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),l.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),l.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),l.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),l.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),l.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),l.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),l.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),l.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),l.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),l.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),l.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),l.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),l.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),l.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),l.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),l.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),l.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),l.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),l.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),l.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),l.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),l.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),l.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),l.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),l.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}))),fK=dK,mK={success:Va,error:ts,info:ja,warning:eK},Hc={404:nK,500:oK,403:fK},hK=Object.keys(Hc),gK=t=>{let{prefixCls:e,icon:n,status:r}=t;const o=X("".concat(e,"-icon"));if(hK.includes("".concat(r))){const s=Hc[r];return l.createElement("div",{className:"".concat(o," ").concat(e,"-image")},l.createElement(s,null))}const i=l.createElement(mK[r]);return n===null||n===!1?null:l.createElement("div",{className:o},n||i)},pK=t=>{let{prefixCls:e,extra:n}=t;return n?l.createElement("div",{className:"".concat(e,"-extra")},n):null},$f=t=>{let{prefixCls:e,className:n,rootClassName:r,subTitle:o,title:i,style:s,children:a,status:c="info",icon:u,extra:d}=t;const{getPrefixCls:f,direction:m,result:h}=l.useContext(Ge),g=f("result",e),[p,w,v]=uK(g),y=X(g,"".concat(g,"-").concat(c),n,h==null?void 0:h.className,r,{["".concat(g,"-rtl")]:m==="rtl"},w,v),b=Object.assign(Object.assign({},h==null?void 0:h.style),s);return p(l.createElement("div",{className:y,style:b},l.createElement(gK,{prefixCls:g,status:c,icon:u}),l.createElement("div",{className:"".concat(g,"-title")},i),o&&l.createElement("div",{className:"".concat(g,"-subtitle")},o),l.createElement(pK,{prefixCls:g,extra:d}),a&&l.createElement("div",{className:"".concat(g,"-content")},a)))};$f.PRESENTED_IMAGE_403=Hc[403];$f.PRESENTED_IMAGE_404=Hc[404];$f.PRESENTED_IMAGE_500=Hc[500];const vK=$f;var bK=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],d2=l.forwardRef(function(t,e){var n,r=t.prefixCls,o=r===void 0?"rc-switch":r,i=t.className,s=t.checked,a=t.defaultChecked,c=t.disabled,u=t.loadingIcon,d=t.checkedChildren,f=t.unCheckedChildren,m=t.onClick,h=t.onChange,g=t.onKeyDown,p=ht(t,bK),w=on(!1,{value:s,defaultValue:a}),v=K(w,2),y=v[0],b=v[1];function C(E,_){var P=y;return c||(P=E,b(P),h==null||h(P,_)),P}function S(E){E.which===Ie.LEFT?C(!1,E):E.which===Ie.RIGHT&&C(!0,E),g==null||g(E)}function x(E){var _=C(!y,E);m==null||m(_,E)}var I=X(o,i,(n={},q(n,"".concat(o,"-checked"),y),q(n,"".concat(o,"-disabled"),c),n));return l.createElement("button",pe({},p,{type:"button",role:"switch","aria-checked":y,disabled:c,className:I,ref:e,onKeyDown:S,onClick:x}),u,l.createElement("span",{className:"".concat(o,"-inner")},l.createElement("span",{className:"".concat(o,"-inner-checked")},d),l.createElement("span",{className:"".concat(o,"-inner-unchecked")},f)))});d2.displayName="Switch";const wK=t=>{const{componentCls:e,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:i,innerMaxMarginSM:s,handleSizeSM:a,calc:c}=t,u="".concat(e,"-inner"),d=re(c(a).add(c(r).mul(2)).equal()),f=re(c(s).mul(2).equal());return{[e]:{["&".concat(e,"-small")]:{minWidth:o,height:n,lineHeight:re(n),["".concat(e,"-inner")]:{paddingInlineStart:s,paddingInlineEnd:i,["".concat(u,"-checked, ").concat(u,"-unchecked")]:{minHeight:n},["".concat(u,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(d," - ").concat(f,")"),marginInlineEnd:"calc(100% - ".concat(d," + ").concat(f,")")},["".concat(u,"-unchecked")]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(e,"-handle")]:{width:a,height:a},["".concat(e,"-loading-icon")]:{top:c(c(a).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},["&".concat(e,"-checked")]:{["".concat(e,"-inner")]:{paddingInlineStart:i,paddingInlineEnd:s,["".concat(u,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(u,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(d," + ").concat(f,")"),marginInlineEnd:"calc(-100% + ".concat(d," - ").concat(f,")")}},["".concat(e,"-handle")]:{insetInlineStart:"calc(100% - ".concat(re(c(a).add(r).equal()),")")}},["&:not(".concat(e,"-disabled):active")]:{["&:not(".concat(e,"-checked) ").concat(u)]:{["".concat(u,"-unchecked")]:{marginInlineStart:c(t.marginXXS).div(2).equal(),marginInlineEnd:c(t.marginXXS).mul(-1).div(2).equal()}},["&".concat(e,"-checked ").concat(u)]:{["".concat(u,"-checked")]:{marginInlineStart:c(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:c(t.marginXXS).div(2).equal()}}}}}}},yK=t=>{const{componentCls:e,handleSize:n,calc:r}=t;return{[e]:{["".concat(e,"-loading-icon").concat(t.iconCls)]:{position:"relative",top:r(r(n).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},["&".concat(e,"-checked ").concat(e,"-loading-icon")]:{color:t.switchColor}}}},CK=t=>{const{componentCls:e,trackPadding:n,handleBg:r,handleShadow:o,handleSize:i,calc:s}=t,a="".concat(e,"-handle");return{[e]:{[a]:{position:"absolute",top:n,insetInlineStart:n,width:i,height:i,transition:"all ".concat(t.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(i).div(2).equal(),boxShadow:o,transition:"all ".concat(t.switchDuration," ease-in-out"),content:'""'}},["&".concat(e,"-checked ").concat(a)]:{insetInlineStart:"calc(100% - ".concat(re(s(i).add(n).equal()),")")},["&:not(".concat(e,"-disabled):active")]:{["".concat(a,"::before")]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},["&".concat(e,"-checked ").concat(a,"::before")]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},SK=t=>{const{componentCls:e,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:i,handleSize:s,calc:a}=t,c="".concat(e,"-inner"),u=re(a(s).add(a(r).mul(2)).equal()),d=re(a(i).mul(2).equal());return{[e]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:o,transition:"padding-inline-start ".concat(t.switchDuration," ease-in-out, padding-inline-end ").concat(t.switchDuration," ease-in-out"),["".concat(c,"-checked, ").concat(c,"-unchecked")]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:"margin-inline-start ".concat(t.switchDuration," ease-in-out, margin-inline-end ").concat(t.switchDuration," ease-in-out"),pointerEvents:"none",minHeight:n},["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(u," - ").concat(d,")"),marginInlineEnd:"calc(100% - ".concat(u," + ").concat(d,")")},["".concat(c,"-unchecked")]:{marginTop:a(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(e,"-checked ").concat(c)]:{paddingInlineStart:o,paddingInlineEnd:i,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(u," + ").concat(d,")"),marginInlineEnd:"calc(-100% + ".concat(u," - ").concat(d,")")}},["&:not(".concat(e,"-disabled):active")]:{["&:not(".concat(e,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:a(r).mul(2).equal(),marginInlineEnd:a(r).mul(-1).mul(2).equal()}},["&".concat(e,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:a(r).mul(-1).mul(2).equal(),marginInlineEnd:a(r).mul(2).equal()}}}}}},xK=t=>{const{componentCls:e,trackHeight:n,trackMinWidth:r}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},cn(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:"".concat(re(n)),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(t.motionDurationMid),userSelect:"none",["&:hover:not(".concat(e,"-disabled)")]:{background:t.colorTextTertiary}}),Qo(t)),{["&".concat(e,"-checked")]:{background:t.switchColor,["&:hover:not(".concat(e,"-disabled)")]:{background:t.colorPrimaryHover}},["&".concat(e,"-loading, &").concat(e,"-disabled")]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(e,"-rtl")]:{direction:"rtl"}})}},AK=t=>{const{fontSize:e,lineHeight:n,controlHeight:r,colorWhite:o}=t,i=e*n,s=r/2,a=2,c=i-a*2,u=s-a*2;return{trackHeight:i,trackHeightSM:s,trackMinWidth:c*2+a*4,trackMinWidthSM:u*2+a*2,trackPadding:a,handleBg:o,handleSize:c,handleSizeSM:u,handleShadow:"0 2px 4px 0 ".concat(new rn("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:c/2,innerMaxMargin:c+a+a*2,innerMinMarginSM:u/2,innerMaxMarginSM:u+a+a*2}},EK=Jt("Switch",t=>{const e=Dt(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(t.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[xK(e),SK(e),CK(e),yK(e),wK(e)]},AK);var IK=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const _K=l.forwardRef((t,e)=>{const{prefixCls:n,size:r,disabled:o,loading:i,className:s,rootClassName:a,style:c,checked:u,value:d,defaultChecked:f,defaultValue:m,onChange:h}=t,g=IK(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[p,w]=on(!1,{value:u!=null?u:d,defaultValue:f!=null?f:m}),{getPrefixCls:v,direction:y,switch:b}=l.useContext(Ge),C=l.useContext(Vo),S=(o!=null?o:C)||i,x=v("switch",n),I=l.createElement("div",{className:"".concat(x,"-handle")},i&&l.createElement(Si,{className:"".concat(x,"-loading-icon")})),[E,_,P]=EK(x),M=io(r),T=X(b==null?void 0:b.className,{["".concat(x,"-small")]:M==="small",["".concat(x,"-loading")]:i,["".concat(x,"-rtl")]:y==="rtl"},s,a,_,P),k=Object.assign(Object.assign({},b==null?void 0:b.style),c),R=function(){w(arguments.length<=0?void 0:arguments[0]),h==null||h.apply(void 0,arguments)};return E(l.createElement(Up,{component:"Switch"},l.createElement(d2,Object.assign({},g,{checked:p,onChange:R,prefixCls:x,className:T,style:k,disabled:S,ref:e,loadingIcon:I}))))}),f2=_K;f2.__ANT_SWITCH=!0;const PK=f2,Jm=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",o=t.type||"",i=o.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim();if(/^\*(\/\*)?$/.test(s))return!0;if(a.charAt(0)==="."){var c=r.toLowerCase(),u=a.toLowerCase(),d=[u];return(u===".jpg"||u===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(f){return c.endsWith(f)})}return/\/\*$/.test(a)?i===a.replace(/\/.*$/,""):o===a?!0:/^\w+$/.test(a)?(nr(!1,"Upload takes an invalidate 'accept' type '".concat(a,"'.Skip for check.")),!0):!1})}return!0};function MK(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}function yy(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function kK(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),t.onProgress(i)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(o){var i=t.data[o];if(Array.isArray(i)){i.forEach(function(s){n.append("".concat(o,"[]"),s)});return}n.append(o,i)}),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(i){t.onError(i)},e.onload=function(){return e.status<200||e.status>=300?t.onError(MK(t,e),yy(e)):t.onSuccess(yy(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(o){r[o]!==null&&e.setRequestHeader(o,r[o])}),e.send(n),{abort:function(){e.abort()}}}var RK=function(e,n,r){var o=[],i=[];e.forEach(function(u){return i.push(u.webkitGetAsEntry())});function s(u){var d=u.createReader();function f(){d.readEntries(function(m){var h=Array.prototype.slice.apply(m);i.push.apply(i,Ee(h));var g=!h.length;g||f()})}f()}var a=function(d,f){d&&(d.path=f||"",d.isFile?d.file(function(m){r(m)&&(d.fullPath&&!m.webkitRelativePath&&(Object.defineProperties(m,{webkitRelativePath:{writable:!0}}),m.webkitRelativePath=d.fullPath.replace(/^\//,""),Object.defineProperties(m,{webkitRelativePath:{writable:!1}})),o.push(m))}):d.isDirectory&&s(d))};function c(){for(var u=0;u<i.length;)a(i[u]),u++;n(o)}c()},TK=+new Date,OK=0;function Zm(){return"rc-upload-".concat(TK,"-").concat(++OK)}var NK=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],DK=function(t){Zo(n,t);var e=ei(n);function n(){var r;Vn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),q(Pt(r),"state",{uid:Zm()}),q(Pt(r),"reqs",{}),q(Pt(r),"fileInput",void 0),q(Pt(r),"_isMounted",void 0),q(Pt(r),"onChange",function(a){var c=r.props,u=c.accept,d=c.directory,f=a.target.files,m=Ee(f).filter(function(h){return!d||Jm(h,u)});r.uploadFiles(m),r.reset()}),q(Pt(r),"onClick",function(a){var c=r.fileInput;if(c){var u=a.target,d=r.props.onClick;if(u&&u.tagName==="BUTTON"){var f=c.parentNode;f.focus(),u.blur()}c.click(),d&&d(a)}}),q(Pt(r),"onKeyDown",function(a){a.key==="Enter"&&r.onClick(a)}),q(Pt(r),"onFileDrop",function(a){var c=r.props.multiple;if(a.preventDefault(),a.type!=="dragover")if(r.props.directory)RK(Array.prototype.slice.call(a.dataTransfer.items),r.uploadFiles,function(d){return Jm(d,r.props.accept)});else{var u=Ee(a.dataTransfer.files).filter(function(d){return Jm(d,r.props.accept)});c===!1&&(u=u.slice(0,1)),r.uploadFiles(u)}}),q(Pt(r),"uploadFiles",function(a){var c=Ee(a),u=c.map(function(d){return d.uid=Zm(),r.processFile(d,c)});Promise.all(u).then(function(d){var f=r.props.onBatchStart;f==null||f(d.map(function(m){var h=m.origin,g=m.parsedFile;return{file:h,parsedFile:g}})),d.filter(function(m){return m.parsedFile!==null}).forEach(function(m){r.post(m)})})}),q(Pt(r),"processFile",function(){var a=Ji(Ar().mark(function c(u,d){var f,m,h,g,p,w,v,y,b;return Ar().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=r.props.beforeUpload,m=u,!f){S.next=14;break}return S.prev=3,S.next=6,f(u,d);case 6:m=S.sent,S.next=12;break;case 9:S.prev=9,S.t0=S.catch(3),m=!1;case 12:if(m!==!1){S.next=14;break}return S.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(h=r.props.action,typeof h!="function"){S.next=21;break}return S.next=18,h(u);case 18:g=S.sent,S.next=22;break;case 21:g=h;case 22:if(p=r.props.data,typeof p!="function"){S.next=29;break}return S.next=26,p(u);case 26:w=S.sent,S.next=30;break;case 29:w=p;case 30:return v=(st(m)==="object"||typeof m=="string")&&m?m:u,v instanceof File?y=v:y=new File([v],u.name,{type:u.type}),b=y,b.uid=u.uid,S.abrupt("return",{origin:u,data:w,parsedFile:b,action:g});case 35:case"end":return S.stop()}},c,null,[[3,9]])}));return function(c,u){return a.apply(this,arguments)}}()),q(Pt(r),"saveFileInput",function(a){r.fileInput=a}),r}return jn(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var i=this,s=o.data,a=o.origin,c=o.action,u=o.parsedFile;if(this._isMounted){var d=this.props,f=d.onStart,m=d.customRequest,h=d.name,g=d.headers,p=d.withCredentials,w=d.method,v=a.uid,y=m||kK,b={action:c,filename:h,data:s,file:u,headers:g,withCredentials:p,method:w||"post",onProgress:function(S){var x=i.props.onProgress;x==null||x(S,u)},onSuccess:function(S,x){var I=i.props.onSuccess;I==null||I(S,u,x),delete i.reqs[v]},onError:function(S,x){var I=i.props.onError;I==null||I(S,x,u),delete i.reqs[v]}};f(a),this.reqs[v]=y(b)}}},{key:"reset",value:function(){this.setState({uid:Zm()})}},{key:"abort",value:function(o){var i=this.reqs;if(o){var s=o.uid?o.uid:o;i[s]&&i[s].abort&&i[s].abort(),delete i[s]}else Object.keys(i).forEach(function(a){i[a]&&i[a].abort&&i[a].abort(),delete i[a]})}},{key:"render",value:function(){var o=this.props,i=o.component,s=o.prefixCls,a=o.className,c=o.classNames,u=c===void 0?{}:c,d=o.disabled,f=o.id,m=o.style,h=o.styles,g=h===void 0?{}:h,p=o.multiple,w=o.accept,v=o.capture,y=o.children,b=o.directory,C=o.openFileDialogOnClick,S=o.onMouseEnter,x=o.onMouseLeave,I=o.hasControlInside,E=ht(o,NK),_=X(q(q(q({},s,!0),"".concat(s,"-disabled"),d),a,a)),P=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=d?{}:{onClick:C?this.onClick:function(){},onKeyDown:C?this.onKeyDown:function(){},onMouseEnter:S,onMouseLeave:x,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:I?void 0:"0"};return fe.createElement(i,pe({},M,{className:_,role:I?void 0:"button",style:m}),fe.createElement("input",pe({},cr(E,{aria:!0,data:!0}),{id:f,disabled:d,type:"file",ref:this.saveFileInput,onClick:function(k){return k.stopPropagation()},key:this.state.uid,style:W({display:"none"},g.input),className:u.input,accept:w},P,{multiple:p,onChange:this.onChange},v!=null?{capture:v}:{})),y)}}]),n}(l.Component);function eh(){}var Vg=function(t){Zo(n,t);var e=ei(n);function n(){var r;Vn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),q(Pt(r),"uploader",void 0),q(Pt(r),"saveUploader",function(a){r.uploader=a}),r}return jn(n,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return fe.createElement(DK,pe({},this.props,{ref:this.saveUploader}))}}]),n}(l.Component);q(Vg,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:eh,onError:eh,onSuccess:eh,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const $K=t=>{const{componentCls:e,iconCls:n}=t;return{["".concat(e,"-wrapper")]:{["".concat(e,"-drag")]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:"".concat(re(t.lineWidth)," dashed ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(t.motionDurationSlow),[e]:{padding:t.padding},["".concat(e,"-btn")]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:t.borderRadiusLG,"&:focus-visible":{outline:"".concat(re(t.lineWidthFocus)," solid ").concat(t.colorPrimaryBorder)}},["".concat(e,"-drag-container")]:{display:"table-cell",verticalAlign:"middle"},["\n          &:not(".concat(e,"-disabled):hover,\n          &-hover:not(").concat(e,"-disabled)\n        ")]:{borderColor:t.colorPrimaryHover},["p".concat(e,"-drag-icon")]:{marginBottom:t.margin,[n]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},["p".concat(e,"-text")]:{margin:"0 0 ".concat(re(t.marginXXS)),color:t.colorTextHeading,fontSize:t.fontSizeLG},["p".concat(e,"-hint")]:{color:t.colorTextDescription,fontSize:t.fontSize},["&".concat(e,"-disabled")]:{["p".concat(e,"-drag-icon ").concat(n,",\n            p").concat(e,"-text,\n            p").concat(e,"-hint\n          ")]:{color:t.colorTextDisabled}}}}}},FK=$K,LK=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSize:o,lineHeight:i,calc:s}=t,a="".concat(e,"-list-item"),c="".concat(a,"-actions"),u="".concat(a,"-action"),d=t.fontHeightSM;return{["".concat(e,"-wrapper")]:{["".concat(e,"-list")]:Object.assign(Object.assign({},Ia()),{lineHeight:t.lineHeight,[a]:{position:"relative",height:s(t.lineHeight).mul(o).equal(),marginTop:t.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:"background-color ".concat(t.motionDurationSlow),"&:hover":{backgroundColor:t.controlItemBgHover},["".concat(a,"-name")]:Object.assign(Object.assign({},Ci),{padding:"0 ".concat(re(t.paddingXS)),lineHeight:i,flex:"auto",transition:"all ".concat(t.motionDurationSlow)}),[c]:{whiteSpace:"nowrap",[u]:{opacity:0},[r]:{color:t.actionsColor,transition:"all ".concat(t.motionDurationSlow)},["\n              ".concat(u,":focus-visible,\n              &.picture ").concat(u,"\n            ")]:{opacity:1},["".concat(u).concat(n,"-btn")]:{height:d,border:0,lineHeight:1}},["".concat(e,"-icon ").concat(r)]:{color:t.colorTextDescription,fontSize:o},["".concat(a,"-progress")]:{position:"absolute",bottom:t.calc(t.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:s(o).add(t.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},["".concat(a,":hover ").concat(u)]:{opacity:1},["".concat(a,"-error")]:{color:t.colorError,["".concat(a,"-name, ").concat(e,"-icon ").concat(r)]:{color:t.colorError},[c]:{["".concat(r,", ").concat(r,":hover")]:{color:t.colorError},[u]:{opacity:1}}},["".concat(e,"-list-item-container")]:{transition:"opacity ".concat(t.motionDurationSlow,", height ").concat(t.motionDurationSlow),"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},BK=LK,VK=t=>{const{componentCls:e}=t,n=new Rt("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),r=new Rt("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),o="".concat(e,"-animate-inline");return[{["".concat(e,"-wrapper")]:{["".concat(o,"-appear, ").concat(o,"-enter, ").concat(o,"-leave")]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},["".concat(o,"-appear, ").concat(o,"-enter")]:{animationName:n},["".concat(o,"-leave")]:{animationName:r}}},{["".concat(e,"-wrapper")]:Zp(t)},n,r]},jK=VK,zK=t=>{const{componentCls:e,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:o,calc:i}=t,s="".concat(e,"-list"),a="".concat(s,"-item");return{["".concat(e,"-wrapper")]:{["\n        ".concat(s).concat(s,"-picture,\n        ").concat(s).concat(s,"-picture-card,\n        ").concat(s).concat(s,"-picture-circle\n      ")]:{[a]:{position:"relative",height:i(r).add(i(t.lineWidth).mul(2)).add(i(t.paddingXS).mul(2)).equal(),padding:t.paddingXS,border:"".concat(re(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},["".concat(a,"-thumbnail")]:Object.assign(Object.assign({},Ci),{width:r,height:r,lineHeight:re(i(r).add(t.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),["".concat(a,"-progress")]:{bottom:o,width:"calc(100% - ".concat(re(i(t.paddingSM).mul(2).equal()),")"),marginTop:0,paddingInlineStart:i(r).add(t.paddingXS).equal()}},["".concat(a,"-error")]:{borderColor:t.colorError,["".concat(a,"-thumbnail ").concat(n)]:{["svg path[fill='".concat(Ea[0],"']")]:{fill:t.colorErrorBg},["svg path[fill='".concat(Ea.primary,"']")]:{fill:t.colorError}}},["".concat(a,"-uploading")]:{borderStyle:"dashed",["".concat(a,"-name")]:{marginBottom:o}}},["".concat(s).concat(s,"-picture-circle ").concat(a)]:{["&, &::before, ".concat(a,"-thumbnail")]:{borderRadius:"50%"}}}}},UK=t=>{const{componentCls:e,iconCls:n,fontSizeLG:r,colorTextLightSolid:o,calc:i}=t,s="".concat(e,"-list"),a="".concat(s,"-item"),c=t.uploadPicCardSize;return{["\n      ".concat(e,"-wrapper").concat(e,"-picture-card-wrapper,\n      ").concat(e,"-wrapper").concat(e,"-picture-circle-wrapper\n    ")]:Object.assign(Object.assign({},Ia()),{display:"block",["".concat(e).concat(e,"-select")]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:"".concat(re(t.lineWidth)," dashed ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(t.motionDurationSlow),["> ".concat(e)]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},["&:not(".concat(e,"-disabled):hover")]:{borderColor:t.colorPrimary}},["".concat(s).concat(s,"-picture-card, ").concat(s).concat(s,"-picture-circle")]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:t.marginXS,marginInlineEnd:t.marginXS}},"@supports (gap: 1px)":{gap:t.marginXS},["".concat(s,"-item-container")]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:"calc(100% - ".concat(re(i(t.paddingXS).mul(2).equal()),")"),height:"calc(100% - ".concat(re(i(t.paddingXS).mul(2).equal()),")"),backgroundColor:t.colorBgMask,opacity:0,transition:"all ".concat(t.motionDurationSlow),content:'" "'}},["".concat(a,":hover")]:{["&::before, ".concat(a,"-actions")]:{opacity:1}},["".concat(a,"-actions")]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:"all ".concat(t.motionDurationSlow),["\n            ".concat(n,"-eye,\n            ").concat(n,"-download,\n            ").concat(n,"-delete\n          ")]:{zIndex:10,width:r,margin:"0 ".concat(re(t.marginXXS)),fontSize:r,cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},["".concat(a,"-thumbnail, ").concat(a,"-thumbnail img")]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},["".concat(a,"-name")]:{display:"none",textAlign:"center"},["".concat(a,"-file + ").concat(a,"-name")]:{position:"absolute",bottom:t.margin,display:"block",width:"calc(100% - ".concat(re(i(t.paddingXS).mul(2).equal()),")")},["".concat(a,"-uploading")]:{["&".concat(a)]:{backgroundColor:t.colorFillAlter},["&::before, ".concat(n,"-eye, ").concat(n,"-download, ").concat(n,"-delete")]:{display:"none"}},["".concat(a,"-progress")]:{bottom:t.marginXL,width:"calc(100% - ".concat(re(i(t.paddingXS).mul(2).equal()),")"),paddingInlineStart:0}}}),["".concat(e,"-wrapper").concat(e,"-picture-circle-wrapper")]:{["".concat(e).concat(e,"-select")]:{borderRadius:"50%"}}}},HK=t=>{const{componentCls:e}=t;return{["".concat(e,"-rtl")]:{direction:"rtl"}}},WK=HK,GK=t=>{const{componentCls:e,colorTextDisabled:n}=t;return{["".concat(e,"-wrapper")]:Object.assign(Object.assign({},cn(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},["".concat(e,"-select")]:{display:"inline-block"},["".concat(e,"-disabled")]:{color:n,cursor:"not-allowed"}})}},qK=t=>({actionsColor:t.colorTextDescription}),KK=Jt("Upload",t=>{const{fontSizeHeading3:e,fontHeight:n,lineWidth:r,controlHeightLG:o,calc:i}=t,s=Dt(t,{uploadThumbnailSize:i(e).mul(2).equal(),uploadProgressOffset:i(i(n).div(2)).add(r).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[GK(s),FK(s),zK(s),UK(s),BK(s),jK(s),WK(s),Jp(s)]},qK);function Eu(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function Iu(t,e){const n=Ee(e),r=n.findIndex(o=>{let{uid:i}=o;return i===t.uid});return r===-1?n.push(t):n[r]=t,n}function th(t,e){const n=t.uid!==void 0?"uid":"name";return e.filter(r=>r[n]===t[n])[0]}function YK(t,e){const n=t.uid!==void 0?"uid":"name",r=e.filter(o=>o[n]!==t[n]);return r.length===e.length?null:r}const XK=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},m2=t=>t.indexOf("image/")===0,QK=t=>{if(t.type&&!t.thumbUrl)return m2(t.type);const e=t.thumbUrl||t.url||"",n=XK(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(e)||n)},Di=200;function JK(t){return new Promise(e=>{if(!t.type||!m2(t.type)){e("");return}const n=document.createElement("canvas");n.width=Di,n.height=Di,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Di,"px; height: ").concat(Di,"px; z-index: 9999; display: none;"),document.body.appendChild(n);const r=n.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:i,height:s}=o;let a=Di,c=Di,u=0,d=0;i>s?(c=s*(Di/i),d=-(c-a)/2):(a=i*(Di/s),u=-(a-c)/2),r.drawImage(o,u,d,a,c);const f=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(o.src),e(f)},o.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(o.src=i.result)},i.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&e(i.result)},i.readAsDataURL(t)}else o.src=window.URL.createObjectURL(t)})}const ZK=l.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:o,locale:i,listType:s,file:a,items:c,progress:u,iconRender:d,actionIconRender:f,itemRender:m,isImgUrl:h,showPreviewIcon:g,showRemoveIcon:p,showDownloadIcon:w,previewIcon:v,removeIcon:y,downloadIcon:b,extra:C,onPreview:S,onDownload:x,onClose:I}=t;var E,_;const{status:P}=a,[M,T]=l.useState(P);l.useEffect(()=>{P!=="removed"&&T(P)},[P]);const[k,R]=l.useState(!1);l.useEffect(()=>{const ie=setTimeout(()=>{R(!0)},300);return()=>{clearTimeout(ie)}},[]);const D=d(a);let L=l.createElement("div",{className:"".concat(n,"-icon")},D);if(s==="picture"||s==="picture-card"||s==="picture-circle")if(M==="uploading"||!a.thumbUrl&&!a.url){const ie=X("".concat(n,"-list-item-thumbnail"),{["".concat(n,"-list-item-file")]:M!=="uploading"});L=l.createElement("div",{className:ie},D)}else{const ie=h!=null&&h(a)?l.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:"".concat(n,"-list-item-image"),crossOrigin:a.crossOrigin}):D,oe=X("".concat(n,"-list-item-thumbnail"),{["".concat(n,"-list-item-file")]:h&&!h(a)});L=l.createElement("a",{className:oe,onClick:ue=>S(a,ue),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},ie)}const $=X("".concat(n,"-list-item"),"".concat(n,"-list-item-").concat(M)),j=typeof a.linkProps=="string"?JSON.parse(a.linkProps):a.linkProps,U=p?f((typeof y=="function"?y(a):y)||l.createElement(uq,null),()=>I(a),n,i.removeFile,!0):null,z=w&&M==="done"?f((typeof b=="function"?b(a):b)||l.createElement(u2,null),()=>x(a),n,i.downloadFile):null,F=s!=="picture-card"&&s!=="picture-circle"&&l.createElement("span",{key:"download-delete",className:X("".concat(n,"-list-item-actions"),{picture:s==="picture"})},z,U),V=typeof C=="function"?C(a):C,N=V&&l.createElement("span",{className:"".concat(n,"-list-item-extra")},V),B=X("".concat(n,"-list-item-name")),H=a.url?l.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:B,title:a.name},j,{href:a.url,onClick:ie=>S(a,ie)}),a.name,N):l.createElement("span",{key:"view",className:B,onClick:ie=>S(a,ie),title:a.name},a.name,N),Q=g&&(a.url||a.thumbUrl)?l.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:ie=>S(a,ie),title:i.previewFile},typeof v=="function"?v(a):v||l.createElement(Ov,null)):null,G=(s==="picture-card"||s==="picture-circle")&&M!=="uploading"&&l.createElement("span",{className:"".concat(n,"-list-item-actions")},Q,M==="done"&&z,U),{getPrefixCls:Y}=l.useContext(Ge),te=Y(),ee=l.createElement("div",{className:$},L,H,F,G,k&&l.createElement(Ir,{motionName:"".concat(te,"-fade"),visible:M==="uploading",motionDeadline:2e3},ie=>{let{className:oe}=ie;const ue="percent"in a?l.createElement(tq,Object.assign({},u,{type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]})):null;return l.createElement("div",{className:X("".concat(n,"-list-item-progress"),oe)},ue)})),J=a.response&&typeof a.response=="string"?a.response:((E=a.error)===null||E===void 0?void 0:E.statusText)||((_=a.error)===null||_===void 0?void 0:_.message)||i.uploadError,se=M==="error"?l.createElement(To,{title:J,getPopupContainer:ie=>ie.parentNode},ee):ee;return l.createElement("div",{className:X("".concat(n,"-list-item-container"),r),style:o,ref:e},m?m(se,a,c,{download:x.bind(null,a),preview:S.bind(null,a),remove:I.bind(null,a)}):se)}),eY=ZK,tY=(t,e)=>{const{listType:n="text",previewFile:r=JK,onPreview:o,onDownload:i,onRemove:s,locale:a,iconRender:c,isImageUrl:u=QK,prefixCls:d,items:f=[],showPreviewIcon:m=!0,showRemoveIcon:h=!0,showDownloadIcon:g=!1,removeIcon:p,previewIcon:w,downloadIcon:v,extra:y,progress:b={size:[-1,2],showInfo:!1},appendAction:C,appendActionVisible:S=!0,itemRender:x,disabled:I}=t,E=$A(),[_,P]=l.useState(!1);l.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(f||[]).forEach(B=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(B.originFileObj instanceof File||B.originFileObj instanceof Blob)||B.thumbUrl!==void 0||(B.thumbUrl="",r&&r(B.originFileObj).then(H=>{B.thumbUrl=H||"",E()}))})},[n,f,r]),l.useEffect(()=>{P(!0)},[]);const M=(B,H)=>{if(o)return H==null||H.preventDefault(),o(B)},T=B=>{typeof i=="function"?i(B):B.url&&window.open(B.url)},k=B=>{s==null||s(B)},R=B=>{if(c)return c(B,n);const H=B.status==="uploading",Q=u!=null&&u(B)?l.createElement(Yq,null):l.createElement(Aq,null);let G=H?l.createElement(Si,null):l.createElement(Bq,null);return n==="picture"?G=H?l.createElement(Si,null):Q:(n==="picture-card"||n==="picture-circle")&&(G=H?a.uploading:Q),G},D=(B,H,Q,G,Y)=>{const te={type:"text",size:"small",title:G,onClick:ee=>{var J,se;H(),l.isValidElement(B)&&((se=(J=B.props).onClick)===null||se===void 0||se.call(J,ee))},className:"".concat(Q,"-list-item-action")};if(Y&&(te.disabled=I),l.isValidElement(B)){const ee=ur(B,Object.assign(Object.assign({},B.props),{onClick:()=>{}}));return l.createElement(un,Object.assign({},te,{icon:ee}))}return l.createElement(un,Object.assign({},te),l.createElement("span",null,B))};l.useImperativeHandle(e,()=>({handlePreview:M,handleDownload:T}));const{getPrefixCls:L}=l.useContext(Ge),$=L("upload",d),j=L(),U=X("".concat($,"-list"),"".concat($,"-list-").concat(n)),z=Ee(f.map(B=>({key:B.uid,file:B}))),F=n==="picture-card"||n==="picture-circle"?"animate-inline":"animate";let V={motionDeadline:2e3,motionName:"".concat($,"-").concat(F),keys:z,motionAppear:_};const N=l.useMemo(()=>{const B=Object.assign({},fd(j));return delete B.onAppearEnd,delete B.onEnterEnd,delete B.onLeaveEnd,B},[j]);return n!=="picture-card"&&n!=="picture-circle"&&(V=Object.assign(Object.assign({},N),V)),l.createElement("div",{className:U},l.createElement(Lp,Object.assign({},V,{component:!1}),B=>{let{key:H,file:Q,className:G,style:Y}=B;return l.createElement(eY,{key:H,locale:a,prefixCls:$,className:G,style:Y,file:Q,items:f,progress:b,listType:n,isImgUrl:u,showPreviewIcon:m,showRemoveIcon:h,showDownloadIcon:g,removeIcon:p,previewIcon:w,downloadIcon:v,extra:y,iconRender:R,actionIconRender:D,itemRender:x,onPreview:M,onDownload:T,onClose:k})}),C&&l.createElement(Ir,Object.assign({},V,{visible:S,forceRender:!0}),B=>{let{className:H,style:Q}=B;return ur(C,G=>({className:X(G.className,H),style:Object.assign(Object.assign(Object.assign({},Q),{pointerEvents:H?"none":void 0}),G.style)}))}))},nY=l.forwardRef(tY),rY=nY;var oY=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Nl="__LIST_IGNORE_".concat(Date.now(),"__"),iY=(t,e)=>{const{fileList:n,defaultFileList:r,onRemove:o,showUploadList:i=!0,listType:s="text",onPreview:a,onDownload:c,onChange:u,onDrop:d,previewFile:f,disabled:m,locale:h,iconRender:g,isImageUrl:p,progress:w,prefixCls:v,className:y,type:b="select",children:C,style:S,itemRender:x,maxCount:I,data:E={},multiple:_=!1,hasControlInside:P=!0,action:M="",accept:T="",supportServerRender:k=!0,rootClassName:R}=t,D=l.useContext(Vo),L=m!=null?m:D,[$,j]=on(r||[],{value:n,postState:me=>me!=null?me:[]}),[U,z]=l.useState("drop"),F=l.useRef(null),V=l.useRef(null);l.useMemo(()=>{const me=Date.now();(n||[]).forEach((xe,_e)=>{!xe.uid&&!Object.isFrozen(xe)&&(xe.uid="__AUTO__".concat(me,"_").concat(_e,"__"))})},[n]);const N=(me,xe,_e)=>{let Ne=Ee(xe),He=!1;I===1?Ne=Ne.slice(-1):I&&(He=Ne.length>I,Ne=Ne.slice(0,I)),Wi.flushSync(()=>{j(Ne)});const ne={file:me,fileList:Ne};_e&&(ne.event=_e),(!He||me.status==="removed"||Ne.some(Pe=>Pe.uid===me.uid))&&Wi.flushSync(()=>{u==null||u(ne)})},B=(me,xe)=>oY(void 0,void 0,void 0,function*(){const{beforeUpload:_e,transformFile:Ne}=t;let He=me;if(_e){const ne=yield _e(me,xe);if(ne===!1)return!1;if(delete me[Nl],ne===Nl)return Object.defineProperty(me,Nl,{value:!0,configurable:!0}),!1;typeof ne=="object"&&ne&&(He=ne)}return Ne&&(He=yield Ne(He)),He}),H=me=>{const xe=me.filter(He=>!He.file[Nl]);if(!xe.length)return;const _e=xe.map(He=>Eu(He.file));let Ne=Ee($);_e.forEach(He=>{Ne=Iu(He,Ne)}),_e.forEach((He,ne)=>{let Pe=He;if(xe[ne].parsedFile)He.status="uploading";else{const{originFileObj:je}=He;let nt;try{nt=new File([je],je.name,{type:je.type})}catch(gt){nt=new Blob([je],{type:je.type}),nt.name=je.name,nt.lastModifiedDate=new Date,nt.lastModified=new Date().getTime()}nt.uid=He.uid,Pe=nt}N(Pe,Ne)})},Q=(me,xe,_e)=>{try{typeof me=="string"&&(me=JSON.parse(me))}catch(ne){}if(!th(xe,$))return;const Ne=Eu(xe);Ne.status="done",Ne.percent=100,Ne.response=me,Ne.xhr=_e;const He=Iu(Ne,$);N(Ne,He)},G=(me,xe)=>{if(!th(xe,$))return;const _e=Eu(xe);_e.status="uploading",_e.percent=me.percent;const Ne=Iu(_e,$);N(_e,Ne,me)},Y=(me,xe,_e)=>{if(!th(_e,$))return;const Ne=Eu(_e);Ne.error=me,Ne.response=xe,Ne.status="error";const He=Iu(Ne,$);N(Ne,He)},te=me=>{let xe;Promise.resolve(typeof o=="function"?o(me):o).then(_e=>{var Ne;if(_e===!1)return;const He=YK(me,$);He&&(xe=Object.assign(Object.assign({},me),{status:"removed"}),$==null||$.forEach(ne=>{const Pe=xe.uid!==void 0?"uid":"name";ne[Pe]===xe[Pe]&&!Object.isFrozen(ne)&&(ne.status="removed")}),(Ne=F.current)===null||Ne===void 0||Ne.abort(xe),N(xe,He))})},ee=me=>{z(me.type),me.type==="drop"&&(d==null||d(me))};l.useImperativeHandle(e,()=>({onBatchStart:H,onSuccess:Q,onProgress:G,onError:Y,fileList:$,upload:F.current,nativeElement:V.current}));const{getPrefixCls:J,direction:se,upload:ie}=l.useContext(Ge),oe=J("upload",v),ue=Object.assign(Object.assign({onBatchStart:H,onError:Y,onProgress:G,onSuccess:Q},t),{data:E,multiple:_,action:M,accept:T,supportServerRender:k,prefixCls:oe,disabled:L,beforeUpload:B,onChange:void 0,hasControlInside:P});delete ue.className,delete ue.style,(!C||L)&&delete ue.id;const de="".concat(oe,"-wrapper"),[he,ye,Se]=KK(oe,de),[Me]=es("Upload",Do.Upload),{showRemoveIcon:be,showPreviewIcon:ke,showDownloadIcon:we,removeIcon:le,previewIcon:Ce,downloadIcon:Ae,extra:Be}=typeof i=="boolean"?{}:i,Fe=typeof be>"u"?!L:!!be,De=(me,xe)=>i?l.createElement(rY,{prefixCls:oe,listType:s,items:$,previewFile:f,onPreview:a,onDownload:c,onRemove:te,showRemoveIcon:Fe,showPreviewIcon:ke,showDownloadIcon:we,removeIcon:le,previewIcon:Ce,downloadIcon:Ae,iconRender:g,extra:Be,locale:Object.assign(Object.assign({},Me),h),isImageUrl:p,progress:w,appendAction:me,appendActionVisible:xe,itemRender:x,disabled:L}):me,ze=X(de,y,R,ye,Se,ie==null?void 0:ie.className,{["".concat(oe,"-rtl")]:se==="rtl",["".concat(oe,"-picture-card-wrapper")]:s==="picture-card",["".concat(oe,"-picture-circle-wrapper")]:s==="picture-circle"}),at=Object.assign(Object.assign({},ie==null?void 0:ie.style),S);if(b==="drag"){const me=X(ye,oe,"".concat(oe,"-drag"),{["".concat(oe,"-drag-uploading")]:$.some(xe=>xe.status==="uploading"),["".concat(oe,"-drag-hover")]:U==="dragover",["".concat(oe,"-disabled")]:L,["".concat(oe,"-rtl")]:se==="rtl"});return he(l.createElement("span",{className:ze,ref:V},l.createElement("div",{className:me,style:at,onDrop:ee,onDragOver:ee,onDragLeave:ee},l.createElement(Vg,Object.assign({},ue,{ref:F,className:"".concat(oe,"-btn")}),l.createElement("div",{className:"".concat(oe,"-drag-container")},C))),De()))}const We=X(oe,"".concat(oe,"-select"),{["".concat(oe,"-disabled")]:L}),Re=l.createElement("div",{className:We,style:C?void 0:{display:"none"}},l.createElement(Vg,Object.assign({},ue,{ref:F})));return he(s==="picture-card"||s==="picture-circle"?l.createElement("span",{className:ze,ref:V},De(Re,!!C)):l.createElement("span",{className:ze,ref:V},Re,De()))},sY=l.forwardRef(iY),h2=sY;var aY=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const lY=l.forwardRef((t,e)=>{var{style:n,height:r,hasControlInside:o=!1}=t,i=aY(t,["style","height","hasControlInside"]);return l.createElement(h2,Object.assign({ref:e,hasControlInside:o},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),cY=lY,Lv=h2;Lv.Dragger=cY;Lv.LIST_IGNORE=Nl;const Wc=Lv;var Ff={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.default=void 0;var uY={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};Lf.default=uY;var Bf={},Gc={},Vf={},qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.commonLocale=void 0;qc.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var dY=Zi.default;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.default=void 0;var Cy=dY(z1),fY=qc,mY=(0,Cy.default)((0,Cy.default)({},fY.commonLocale),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});Vf.default=mY;var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.default=void 0;const hY={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};Kc.default=hY;var g2=Zi.default;Object.defineProperty(Gc,"__esModule",{value:!0});Gc.default=void 0;var gY=g2(Vf),pY=g2(Kc);const vY={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},gY.default),timePickerLocale:Object.assign({},pY.default)};Gc.default=vY;var bY=Zi.default;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=void 0;var wY=bY(Gc);Bf.default=wY.default;var jf=Zi.default;Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=void 0;var yY=jf(Lf),CY=jf(Bf),SY=jf(Gc),xY=jf(Kc);const Yr="${label} is not a valid ${type}",AY={locale:"en",Pagination:yY.default,DatePicker:SY.default,TimePicker:xY.default,Calendar:CY.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Yr,method:Yr,array:Yr,object:Yr,number:Yr,date:Yr,boolean:Yr,integer:Yr,float:Yr,regexp:Yr,email:Yr,url:Yr,hex:Yr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Ff.default=AY;var EY=Ff;const IY=U1(EY);var zf={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=void 0;var _Y={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};Uf.default=_Y;var Hf={},Yc={},Wf={},PY=Zi.default;Object.defineProperty(Wf,"__esModule",{value:!0});Wf.default=void 0;var Sy=PY(z1),MY=qc,kY=(0,Sy.default)((0,Sy.default)({},MY.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});Wf.default=kY;var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.default=void 0;const RY={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};Xc.default=RY;var p2=Zi.default;Object.defineProperty(Yc,"__esModule",{value:!0});Yc.default=void 0;var TY=p2(Wf),OY=p2(Xc);const v2={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},TY.default),timePickerLocale:Object.assign({},OY.default)};v2.lang.ok="确定";Yc.default=v2;var NY=Zi.default;Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=void 0;var DY=NY(Yc);Hf.default=DY.default;var Gf=Zi.default;Object.defineProperty(zf,"__esModule",{value:!0});zf.default=void 0;var $Y=Gf(Uf),FY=Gf(Hf),LY=Gf(Yc),BY=Gf(Xc);const Xr="${label}不是一个有效的${type}",VY={locale:"zh-cn",Pagination:$Y.default,DatePicker:LY.default,TimePicker:BY.default,Calendar:FY.default,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:Xr,method:Xr,array:Xr,object:Xr,number:Xr,date:Xr,boolean:Xr,integer:Xr,float:Xr,regexp:Xr,email:Xr,url:Xr,hex:Xr},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};zf.default=VY;var jY=zf;const zY=U1(jY);let Sr,mo;const UY=()=>{const t=$c.useApp();return Sr=t.message,mo=t.modal,t.notification,null},HY="modulepreload",WY=function(t,e){return new URL(t,e).href},xy={},fo=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=WY(i,r),i in xy)return;xy[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(i,'"]').concat(a)))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":HY,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error("Unable to preload CSS for ".concat(i))))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},ot=WM(),GY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAABYFJREFUeF7tnUtsVFUYx39HSMCAipAgoDzEoCWBBIyGBYlQXRjQCOgGUGO7MZK4gI1t1UBdYGd0UXbGVWt8sZKHj6oxPExIAEnAYNIaUGoBqSQVWiG2QXrM19thLjN3pp17zrSTme/bNM2533/O+c3/Pr4zM+cY8kXC3gOsA57HUAXMAe7Km1N+jf9guYihA/gCy37qTW+uYZrIhp32PibyJpZXMUwuP0YOI7L0Ax9ykybeMn9lKmUDTdhngM8w3O3wsuWfaunD8DJ1Zn94sGmg1hreYwewHYh2bvljKnSEFst26tiJMVaS0+CS9kXgk0IV9XhgkFoaTGsaaNJWY/kew0QFFIvADQZZS4P5IXBowu7FDN3NNeISsOyj3qw3vG9nMki3XjfjkryVZzHMMSTta8AHznIqIAS2CNBDwCrl4YXAYUPCXsUgFZGGKwFLrzhUnvwnuWpp/hCBAQE69ECq4YeAAvXD8ZaKAlWgngl4llOHKlDPBDzLqUMVqGcCnuXUoaUK9JUlsHouLBjDIrazFw6dh49+8UzFQc6LQ1vWQM1Sh144praehto2RxFP6c5Al82EkzWeeuMgs7wVTl12EPCU6gx062PQ/KSn3jjIbDsAu044CHhKdQbauBJ2rPTUGweZd45A4xEHAU+pCtQTyJSMAlWg0QT0lPfsDAWqQKMJjOYuf6gLVs/LTdC1XZQrwqFSGsoD99UBmDYpKADCpalre/gtkvKzNUYJ2v8fdPQEffQRRb3Ly4O2PHCnQgoAKQRS4doeBnD4PBzuio+k7Rwc/TN+/pg8NkkpKA5NhThUStVUuLb7BCpazSfcnVpUh0onZeJCZoRkJipqAsW1PQXV1aGis+csnMr6TnJhri060MK6E/9oH0DljT/ocNmQ3ivQ0HuoQEMw1KHxz+7ITAWqQKMJjKZS8sxOHTomQLtATnuXKImbktToBze6DMNPbvXuoISsXQqTJ6Q1+29Cy2novg6zpmS3h1+9JIBKjX6qFuaP4+/u/uiDZS1BlbN+ESwPVWMnL8PeM2lsme0lB1Q6JOXkrqdg1Vw/bitEpb0HNn+Z/sRz42JYPD2t0P437G5P/5/ZXpJAw50SuNOGf277+qPwwsO58Xx3DhLHAkeFa/zMjGOXoOdfmHEnrJgdtMoskZzGEm2/w6XrMHsKrFmY/XojtacySuKUz+cmqd8Pboo+Qqbbar4J2qrnBbX+eEfJAxVA9o1sTGGYCrRAG+3dAOsWpZMyYSrQAoHWLIGWtUFSFEwFWiBQOVygSuT6iEKvoTGg5ktRoAo0JwHnCWYfbKtmwCZZc2ec4/OOoHx1iZIAKrX3tsdvr8FdBhUnV2r+5p9A/rpESQCVAYhLNywaH6gCcc8Zd3fKOEoGqHRGnDpralC63hvz99FV04NZpVxx4RqcvRK0XhmAq/3Qfc3dmanXKymgLqdaOFem8BbkmP3ycZ3M18+yBCpOF6hRTm066s+NUWDLEmjq8pEJtbMvmGwuZpQt0Ciovr6/VHGnfHjAcvqn5khlXtT1sWgkd5e1Q0cafDHaFahnqgpUgXom4FlOHapAPRPwLKcOVaCeCXiWU4cWAaguJugL6vDqjJ3AfF+aFa7zq6wfqusv+3KBZZ9cQ7fKb558aVa4zhbDu7aKCYS+8FfhSFyGP8iDwbLrSfst8LSLVsXn3lp2PQD6CPCzLh0c2xYD3OAh3jYX01tXNNka7qAltmRlJ75EnflUENy+iUrSNsLQBisaoyVgaaDeJFKHZ+9Kk7TPYflYt/8Zgahs/wObqTdfh4+M3uYnaR8Y3n3h2dG+URV23FeyqwJ15kLmuPPvm5SwT2CQnWxWYFiI5X4MUysKnuUaIGs9/IbhOJYD1JsfczH4H38bf4ukmW5cAAAAAElFTkSuQmCC",qY=[ln.Group,ln.WorkingGroup],KY=[ge.GroupCreated,ge.GroupInfoUpdated,ge.MemberQuit,ge.GroupOwnerTransferred,ge.MemberKicked,ge.MemberInvited,ge.MemberEnter,ge.GroupDismissed,ge.GroupMemberMuted,ge.GroupMuted,ge.GroupCancelMuted,ge.GroupMemberCancelMuted,ge.GroupNameUpdated],Bv=[ge.RevokeMessage,ge.FriendAdded,ge.BurnMessageChange,...KY],b2={MassMsg:903},YY=[ge.TextMessage,ge.AtTextMessage,ge.FileMessage,ge.QuoteMessage,ge.PictureMessage,ge.VideoMessage,ge.CardMessage,ge.LocationMessage,ge.VoiceMessage,ge.CustomMessage],mt=t=>{var s,a,c;const{msg:e,error:n,duration:r,onClose:o}=t!=null?t:{};let i="";n&&(i=(a=(s=n==null?void 0:n.message)!=null?s:n==null?void 0:n.errDlt)!=null?a:O("toast.accessFailed")),Sr.open({type:n?"error":"success",content:(c=e!=null?e:i)!=null?c:O("toast.accessSuccess"),duration:r,onClose:o}),n&&console.error(e,n)},w2=["png","jpg","jpeg","gif","bmp","webp"],qf=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(t)/Math.log(e)),o=t/Math.pow(e,r);return"".concat(o%1===0?o:o.toFixed(2)," ").concat(n[r])},y2=t=>{let e=0,n=0,r=0;t>60&&(e=parseInt(t/60),t=parseInt(t%60),e>60&&(n=parseInt(e/60),e=parseInt(e%60),n>24&&(r=parseInt(n/24),n=parseInt(n%24))));let o="";return t>0&&(o=O("date.second",{num:parseInt(t)})),e>0&&(o=O("date.minute",{num:parseInt(e)})+o),n>0&&(o=O("date.hour",{num:parseInt(n)})+o),r>0&&(o=O("date.day",{num:parseInt(r)})+o),o},XY=t=>{let e=Math.floor(t/60).toString(),n=(t%60).toString();return e=e.length===1?"0"+e:e,n=n.length===1?"0"+n:n,e+":"+n},pi=async(t,e)=>{var o;if(window.electronAPI){try{const i=new URL(t),s=new URLSearchParams(i.search);s.set("save-type",(o=e.saveType)!=null?o:"file"),e.randomName&&s.set("random-prefix",On()),i.search=s.toString();const a=i.toString();if(!!At.getState().downloadMap[a])return;window.electronAPI.ipcInvoke("startDownload",a),At.getState().addDownloadTask(a,{...e,originUrl:t,downloadUrl:a,downloadState:"downloading"})}catch(i){e.showError&&Sr.error(O("toast.downloadFailed"))}return}const n=document.createElement("a");n.style.display="none";const r=t.lastIndexOf("/");n.download=t.slice(r+1),n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},nl=({downloadMap:t,compareKey:e,compareValue:n})=>{for(const r in t)if(t[r][e]===n)return t[r];return null},C2=t=>{for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new File([i],"screenshot".concat(Date.now(),".png"),{type:n})},S2=t=>t.replace(/\n/g,"<br>"),QY=t=>{const e=t.lastIndexOf(".");return t.slice(e+1)},JY=(t,e=40)=>{t=t?t.split("")[0]:O("placeholder.unknown");let n=["#0072E3"],r=document.createElement("canvas");r.setAttribute("width",e),r.setAttribute("height",e);let o=r.getContext("2d");return o.fillStyle=n[Math.floor(Math.random()*n.length)],o.fillRect(0,0,e,e),o.fillStyle="rgb(255,255,255)",o.font=e*.4+"px Arial",o.textBaseline="middle",o.textAlign="center",o.fillText(t,e/2,e/2),r.toDataURL("image/png",1)};sn.extend(yM);sn.extend(CM);sn.extend(SM);sn.updateLocale("en",{calendar:{sameDay:"HH:mm",nextDay:"[tomorrow]",nextWeek:"dddd",lastDay:"[yesterday] HH:mm",lastWeek:"dddd HH:mm",sameElse:"YYYY/M/D HH:mm"}});sn.updateLocale("zh-cn",{calendar:{sameDay:"HH:mm",nextDay:"[明天]",nextWeek:"dddd",lastDay:"[昨天] HH:mm",lastWeek:"dddd HH:mm",sameElse:"YYYY年M月D日 HH:mm"}});const Mn=({userID:t,groupID:e,name:n,fromAt:r})=>"<span class='link-el".concat(r?"":" member-el"," max-w-[200px] truncate inline-block align-bottom' onclick='userClick(\"").concat(t,'","').concat(e!=null?e:"","\")'>").concat(n,"</span>"),ZY=t=>{var r,o;const e=ct.getState().selfInfo.userID,n=i=>i.userID===e?O("you"):i.nickname;try{switch(t.contentType){case ge.FriendAdded:return O("messageDescription.alreadyFriendMessage");case ge.RevokeMessage:const i=JSON.parse(t.notificationElem.detail),s=i.revokerID===e?O("you"):i.revokerNickname,a=i.sourceMessageSendID===e?O("you"):i.sourceMessageSenderNickname;return i.revokerID!==i.sourceMessageSendID?O("messageDescription.advanceRevokeMessage",{operator:Mn({userID:i.revokerID,groupID:t.groupID,name:s}),revoker:Mn({userID:i.sourceMessageSendID,groupID:t.groupID,name:a})}):O("messageDescription.revokeMessage",{revoker:Mn({userID:i.revokerID,groupID:t.groupID,name:s})});case ge.GroupCreated:const d=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.createGroupMessage",{creator:Mn({userID:d.userID,groupID:t.groupID,name:n(d)})});case ge.GroupInfoUpdated:const m=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.updateGroupInfoMessage",{operator:Mn({userID:m.userID,groupID:t.groupID,name:n(m)})});case ge.GroupOwnerTransferred:const h=JSON.parse(t.notificationElem.detail),g=h.opUser,p=h.newGroupOwner;return O("messageDescription.transferGroupMessage",{owner:Mn({userID:g.userID,groupID:t.groupID,name:n(g)}),newOwner:Mn({userID:p.userID,groupID:t.groupID,name:n(p)})});case ge.MemberQuit:const v=JSON.parse(t.notificationElem.detail).quitUser;return O("messageDescription.quitGroupMessage",{name:Mn({userID:v.userID,groupID:t.groupID,name:n(v)})});case ge.MemberInvited:const y=JSON.parse(t.notificationElem.detail),b=y.opUser,C=(r=y.invitedUserList)!=null?r:[];let S="";return C.slice(0,3).map(H=>S+="".concat(Mn({userID:H.userID,groupID:t.groupID,name:n(H)}),"、")),S=S.slice(0,-1),O("messageDescription.invitedToGroupMessage",{operator:Mn({userID:b.userID,groupID:t.groupID,name:n(b)}),invitedUser:"".concat(S).concat(C.length>3?"".concat(O("placeholder.and")).concat(O("placeholder.somePerson",{num:C.length})):"")});case ge.MemberKicked:const x=JSON.parse(t.notificationElem.detail),I=x.opUser,E=(o=x.kickedUserList)!=null?o:[];let _="";return E.slice(0,3).map(H=>_+="".concat(Mn({userID:H.userID,groupID:t.groupID,name:n(H)}),"、")),_=_.slice(0,-1),O("messageDescription.kickInGroupMessage",{operator:Mn({userID:I.userID,groupID:t.groupID,name:n(I)}),kickedUser:"".concat(_).concat(E.length>3?"...":"")});case ge.MemberEnter:const M=JSON.parse(t.notificationElem.detail).entrantUser;return O("messageDescription.joinGroupMessage",{name:Mn({userID:M.userID,groupID:t.groupID,name:n(M)})});case ge.GroupDismissed:const k=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.disbanedGroupMessage",{operator:Mn({userID:k.userID,groupID:t.groupID,name:n(k)})});case ge.GroupMuted:const D=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.allMuteMessage",{operator:Mn({userID:D.userID,groupID:t.groupID,name:n(D)})});case ge.GroupCancelMuted:const $=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.cancelAllMuteMessage",{operator:Mn({userID:$.userID,groupID:t.groupID,name:n($)})});case ge.GroupMemberMuted:const j=JSON.parse(t.notificationElem.detail),U=y2(j.mutedSeconds);return O("messageDescription.singleMuteMessage",{operator:Mn({userID:j.opUser.userID,groupID:t.groupID,name:n(j.opUser)}),name:Mn({userID:j.mutedUser.userID,groupID:t.groupID,name:n(j.mutedUser)}),muteTime:U});case ge.GroupMemberCancelMuted:const z=JSON.parse(t.notificationElem.detail);return O("messageDescription.cancelSingleMuteMessage",{operator:Mn({userID:z.opUser.userID,groupID:t.groupID,name:n(z.opUser)}),name:Mn({userID:z.mutedUser.userID,groupID:t.groupID,name:n(z.mutedUser)})});case ge.GroupAnnouncementUpdated:const F=JSON.parse(t.notificationElem.detail);return O("messageDescription.updateGroupAnnouncementMessage",{operator:Mn({userID:F.opUser.userID,groupID:t.groupID,name:n(F.opUser)})});case ge.GroupNameUpdated:const V=JSON.parse(t.notificationElem.detail);return O("messageDescription.updateGroupNameMessage",{operator:Mn({userID:V.opUser.userID,groupID:t.groupID,name:n(V.opUser)}),name:V.group.groupName});case ge.BurnMessageChange:const N=JSON.parse(t.notificationElem.detail);return O("messageDescription.burnReadStatus",{status:N.isPrivate?O("open"):O("close")});case ge.OANotification:return JSON.parse(t.notificationElem.detail).text;default:return""}}catch(i){return""}},x2=t=>{if(!t)return"";const e=sn(t).fromNow();return e.includes(O("date.second"))?O("date.justNow"):!e.includes(O("date.second"))&&!e.includes(O("date.minute"))?sn(t).calendar():e},qi=(t,e=!1)=>{if(!t)return"";const n=sn().diff(t,"day")<7,r=e||!QM(t);return!n&&!r?sn(t).format("M/D HH:mm"):sn(t).calendar()},eX=t=>t.replace(new RegExp("\\n","g"),"<br>").replace(new RegExp("\n","g"),"<br>"),Ra=t=>{var o,i,s;if(!t)return"";const e=ct.getState().selfInfo.userID,n=a=>a===e,r=a=>a.userID===e?O("you"):a.nickname;try{switch(t.contentType){case ge.TextMessage:return(o=t.textElem)==null?void 0:o.content;case ge.AtTextMessage:let a=t.atTextElem.text;const c=/@\S+\s/g,u=a.match(c);return u==null||u.map(ie=>{var ue;const oe=((ue=t.atTextElem.atUsersInfo)!=null?ue:[]).find(de=>de.atUserID===ie.slice(1,-1));if(oe){const de=new RegExp(ie,"g");a=a.replace(de,"@".concat(oe.groupNickname," "))}}),a;case ge.PictureMessage:return O("messageDescription.imageMessage");case ge.VideoMessage:return O("messageDescription.videoMessage");case ge.VoiceMessage:return O("messageDescription.voiceMessage");case ge.LocationMessage:const d=JSON.parse(t.locationElem.description);return O("messageDescription.locationMessage",{location:d.name});case ge.CardMessage:return O("messageDescription.cardMessage");case ge.MergeMessage:return O("messageDescription.mergeMessage");case ge.FileMessage:return O("messageDescription.fileMessage",{file:t.fileElem.fileName});case ge.RevokeMessage:const f=JSON.parse(t.notificationElem.detail),m=n(f.revokerID)?O("you"):f.revokerNickname,h=n(f.sourceMessageSendID)?O("you"):f.sourceMessageSenderNickname;return f.revokerID!==f.sourceMessageSendID?O("messageDescription.advanceRevokeMessage",{operator:m,revoker:h}):O("messageDescription.revokeMessage",{revoker:h});case ge.CustomMessage:const p=t.customElem;return JSON.parse(p.data).customType===b2.MassMsg?O("messageDescription.massMessage"):O("messageDescription.customMessage");case ge.QuoteMessage:return t.quoteElem.text||O("messageDescription.quoteMessage");case ge.FaceMessage:return O("messageDescription.faceMessage");case ge.FriendAdded:return O("messageDescription.alreadyFriendMessage");case ge.MemberEnter:const y=JSON.parse(t.notificationElem.detail).entrantUser;return O("messageDescription.joinGroupMessage",{name:r(y)});case ge.GroupCreated:const C=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.createGroupMessage",{creator:r(C)});case ge.MemberInvited:const S=JSON.parse(t.notificationElem.detail),x=S.opUser,I=(i=S.invitedUserList)!=null?i:[];let E="";return I.slice(0,3).map(ie=>E+="".concat(r(ie),"、")),E=E.slice(0,-1),O("messageDescription.invitedToGroupMessage",{operator:r(x),invitedUser:"".concat(E).concat(I.length>3?"".concat(O("placeholder.and")).concat(O("placeholder.somePerson",{num:I.length})):"")});case ge.MemberKicked:const _=JSON.parse(t.notificationElem.detail),P=_.opUser,M=(s=_.kickedUserList)!=null?s:[];let T="";return M.slice(0,3).map(ie=>T+="".concat(r(ie),"、")),T=T.slice(0,-1),O("messageDescription.kickInGroupMessage",{operator:r(P),kickedUser:"".concat(T).concat(M.length>3?"".concat(O("placeholder.and")).concat(O("placeholder.somePerson",{num:M.length})):"")});case ge.MemberQuit:const R=JSON.parse(t.notificationElem.detail).quitUser;return O("messageDescription.quitGroupMessage",{name:r(R)});case ge.GroupInfoUpdated:const L=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.updateGroupInfoMessage",{operator:r(L)});case ge.GroupOwnerTransferred:const $=JSON.parse(t.notificationElem.detail),j=$.opUser,U=$.newGroupOwner;return O("messageDescription.transferGroupMessage",{owner:r(j),newOwner:r(U)});case ge.GroupDismissed:const F=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.disbanedGroupMessage",{operator:r(F)});case ge.GroupMuted:const N=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.allMuteMessage",{operator:r(N)});case ge.GroupCancelMuted:const H=JSON.parse(t.notificationElem.detail).opUser;return O("messageDescription.cancelAllMuteMessage",{operator:r(H)});case ge.GroupMemberMuted:const Q=JSON.parse(t.notificationElem.detail),G=y2(Q.mutedSeconds);return O("messageDescription.singleMuteMessage",{operator:r(Q.opUser),name:r(Q.mutedUser),muteTime:G});case ge.GroupMemberCancelMuted:const Y=JSON.parse(t.notificationElem.detail);return O("messageDescription.cancelSingleMuteMessage",{operator:r(Y.opUser),name:r(Y.mutedUser)});case ge.GroupAnnouncementUpdated:const te=JSON.parse(t.notificationElem.detail);return O("messageDescription.updateGroupAnnouncementMessage",{operator:r(te.opUser)});case ge.GroupNameUpdated:const ee=JSON.parse(t.notificationElem.detail);return O("messageDescription.updateGroupNameMessage",{operator:r(ee.opUser),name:ee.group.groupName});case ge.OANotification:return JSON.parse(t.notificationElem.detail).text;case ge.BurnMessageChange:const se=JSON.parse(t.notificationElem.detail);return O("messageDescription.burnReadStatus",{status:se.isPrivate?O("open"):O("close")});default:return""}}catch(a){return""}},tX=()=>{oX();const{getSelfInfoByReq:t}=ct.getState(),{getBlackListByReq:e,getRecvFriendApplicationListByReq:n,getRecvGroupApplicationListByReq:r,getSendFriendApplicationListByReq:o,getSendGroupApplicationListByReq:i}=mn.getState(),{getConversationListByReq:s,getUnReadCountByReq:a}=tt.getState();a(),s(),t(),e(),n(),r(),o(),i(),a().then(c=>{var u;return(u=window.electronAPI)==null?void 0:u.ipcInvoke("updateUnreadCount",c)})},Ay=t=>{const e=[],n=t.filter(r=>!e.includes(r.conversationID)&&e.push(r.conversationID));return n.sort((r,o)=>{if(r.isPinned===o.isPinned){const i=r.draftTextTime>r.latestMsgSendTime?r.draftTextTime:r.latestMsgSendTime,s=o.draftTextTime>o.latestMsgSendTime?o.draftTextTime:o.latestMsgSendTime;return i>s?-1:i<s?1:0}else return r.isPinned&&!o.isPinned?-1:1}),n},Ta=t=>t?qY.includes(t):!1,nX=t=>{var s,a;let e=t.text;const n=/@\S+\b/g,r=e.match(n),o=(s=t.atUsersInfo)!=null?s:[],i=(a=tt.getState().currentConversation)==null?void 0:a.groupID;return r==null||r.map(c=>{const u=o.find(d=>d.atUserID===c.slice(1));u&&(e=e.replace(c,Mn({fromAt:!0,userID:u.atUserID,name:"@".concat(u.groupNickname),groupID:i})))}),e},rX=/\b(https?:\/\/|www\.)[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(:\d+)?(\.[a-zA-Z]{2,})?(\/[a-zA-Z0-9\/._-]*(%[a-fA-F0-9]{2})*(\/[a-zA-Z0-9\/._-]*)*(\?\S*)?(#\S*)?)?\b/g,A2=t=>t.replace(rX,e=>{let n=e;return e.match(/^https?:\/\//)||(n="https://"+e),'<a href="'.concat(n,'" target="_blank" class="link-el">').concat(e,"</a>")}),oX=async()=>{var o,i;const t=(o=await lS())!=null?o:[],e=mn.getState().recvFriendApplicationList.filter(s=>s.handleResult===0&&!t.includes("".concat(s.fromUserID,"_").concat(s.createTime))).length,n=(i=await cS())!=null?i:[],r=mn.getState().recvGroupApplicationList.filter(s=>s.handleResult===0&&!n.includes("".concat(s.userID,"_").concat(s.reqTime))).length;mn.getState().updateUnHandleFriendApplicationCount(e),mn.getState().updateUnHandleGroupApplicationCount(r)},iX=()=>{window.Notification&&window.Notification.permission==="default"&&Notification.requestPermission()},sX=({message:t,conversation:e,callback:n})=>{if(!window.Notification||window.Notification.permission!=="granted")return;let r=e.faceURL||JY(e.showName);!e.faceURL&&e.conversationType===ln.WorkingGroup&&(r=GY);const o=new Notification(e.showName,{dir:"auto",tag:On(),renotify:!0,icon:r,body:Vv(t)});o.onclick=()=>{n(e),window.focus(),setTimeout(()=>{var i;return(i=window.electronAPI)==null?void 0:i.ipcInvoke("showMainWindow")}),o.close()}},Vv=t=>!t.groupID||Bv.includes(t.contentType)||t.sendID===ct.getState().selfInfo.userID?Ra(t):"".concat(t.senderNickname,"：").concat(Ra(t)),aX=G1.Debug,jv=window.location.hostname,zv=window.location.protocol,Kf=zv==="https:",lX=Kf?"wss:":"ws:",cX="".concat(lX,"//").concat(jv).concat(Kf?"/msg_gateway":":10001"),uX="".concat(zv,"//").concat(jv).concat(Kf?"/api":":10002"),dX="".concat(zv,"//").concat(jv).concat(Kf?"/chat":":10008"),fX=()=>localStorage.getItem("wsUrl")||cX,E2=()=>localStorage.getItem("apiUrl")||uX,mX=()=>localStorage.getItem("chatUrl")||dX,rfe=()=>{var t;return JSON.parse((t=localStorage.getItem("logLevel"))!=null?t:aX.toString())},hX="聊聊唄版權所有",gX=380,I2="2024",Ey="https://app-1302656840.cos.ap-nanjing.myqcloud.com/",pX=!1,vX=()=>{var n,r;const t=(n=window.electronAPI)==null?void 0:n.getPlatform(),e=(r=window.electronAPI)==null?void 0:r.getOsArch();return t===_h.Windows?e!=null&&e.includes("arm")?"winArmDownloadUrl":"winDownloadUrl":t===_h.MacOSX?e!=null&&e.includes("arm")?"macArmDownloadUrl":"macDownloadUrl":e!=null&&e.includes("arm")?"linuxArmDownloadUrl":"linuxDownloadUrl"};function bX(){const t=l.useRef(!1);let e="";l.useEffect(()=>{var s;if(!window.electronAPI||!Ey)return;const o=(a,c)=>{var u;(u=window.electronAPI)==null||u.ipcInvoke("appUpdate",{isHot:t.current,pkgPath:c}).then(()=>Sr.success(t.current?O("toast.applyUpdateSuccess"):O("toast.applyDownloadSuccess")))},i=(s=window.electronAPI)==null?void 0:s.subscribe("updateDownloadSuccess",o);return setTimeout(n,1e4),()=>{i==null||i()}},[]);const n=()=>{fetch("".concat(Ey,"release.local")).then(o=>o.json()).then(o=>{const{version:i,versionCode:s,hotUpdate:a,asarDownloadUrl:c,releaseNotes:u}=o;gX>=s||(t.current=a,e=a?c:o[vX()],r(i,u))}).catch(o=>{console.log(o)})},r=(o,i)=>{var a;const s={type:"info",title:O("toast.appUpdate"),message:O("toast.updateVersion",{version:o,description:i}),buttons:[O("yes"),O("no")]};(a=window.electronAPI)==null||a.ipcInvoke("showMessageBox",s).then(c=>{var u;c||(u=window.electronAPI)==null||u.ipcInvoke("startDownload","".concat(e,"?is-update=true"))})}}const wX=window.electronAPI,ce=jM({coreWasmPath:"./openIM.wasm",sqlWasmPath:"".concat(wX?"..":"","/sql-wasm.wasm")}),yX=()=>{const t=ct(o=>o.updateAppSettings),e=ct(o=>o.initImageCache),n=jd(),r=GM();return bX(),l.useEffect(()=>{(async()=>{const i=await rc(),s=await yi();if(!i||!s){n("/login");return}})()},[r.pathname]),l.useEffect(()=>{window.userClick=(o,i)=>{if(!o||o==="AtAllTag")return;const s=tt.getState().currentGroupInfo;i&&(s==null?void 0:s.lookMemberInfo)===Ph.NotAllowed||ot.emit("OPEN_USER_CARD",{userID:o,groupID:i,isSelf:o===ct.getState().selfInfo.userID,notAdd:!!i&&(s==null?void 0:s.applyMemberFriend)===Ph.NotAllowed})}},[]),l.useEffect(()=>{(async()=>{var s,a;if(!window.electronAPI)return;t({closeAction:await((s=window.electronAPI)==null?void 0:s.ipcInvoke("getKeyStore",{key:"closeAction"}))||"miniSize"});const i=await NR();e(i),(a=window.electronAPI)==null||a.ipcInvoke("main-win-ready")})(),iX()},[]),A(K1,{})},mn=Vd()((t,e)=>({friendList:[],blackList:[],groupList:[],recvFriendApplicationList:[],sendFriendApplicationList:[],recvGroupApplicationList:[],sendGroupApplicationList:[],unHandleFriendApplicationCount:0,unHandleGroupApplicationCount:0,getFriendListByReq:async()=>{try{let n=0,r=[],o=!0;for(;;){const i=o?1e4:1e3,{data:s}=await ce.getFriendListPage({offset:n,count:i});if(r=[...r,...s],n+=i,s.length<i)break;o=!1}t(()=>({friendList:r.map(i=>i.friendInfo)}))}catch(n){mt({error:n,msg:O("toast.getFriendListFailed")})}},setFriendList:n=>{t(()=>({friendList:n}))},updateFriend:(n,r)=>{const o=[...e().friendList],i=o.findIndex(s=>s.userID===n.userID);i<0||(r?o.splice(i,1):o[i]={...n},t(()=>({friendList:o})))},pushNewFriend:n=>{t(r=>({friendList:[...r.friendList,n]}))},getBlackListByReq:async()=>{try{const{data:n}=await ce.getBlackList();t(()=>({blackList:n}))}catch(n){mt({error:n,msg:O("toast.getBlackListFailed")})}},updateBlack:(n,r)=>{const o=[...e().blackList],i=o.findIndex(s=>s.userID===n.userID);i<0||(r?o.splice(i,1):o[i]={...n},t(()=>({blackList:o})))},pushNewBlack:n=>{t(r=>({blackList:[...r.blackList,n]}))},getGroupListByReq:async()=>{try{let n=0,r=[];for(;;){const{data:o}=await ce.getJoinedGroupListPage({offset:n,count:1e3});if(r=[...r,...o],n+=1e3,o.length<1e3)break}t(()=>({groupList:r}))}catch(n){mt({error:n,msg:O("toast.getGroupListFailed")})}},setGroupList:n=>{t(()=>({groupList:n}))},updateGroup:(n,r)=>{const o=[...e().groupList],i=o.findIndex(s=>s.groupID===n.groupID);i<0||(r?o.splice(i,1):o[i]={...n},t(()=>({groupList:o})))},pushNewGroup:n=>{t(r=>({groupList:[...r.groupList,n]}))},getRecvFriendApplicationListByReq:async()=>{try{const{data:n}=await ce.getFriendApplicationListAsRecipient();t(()=>({recvFriendApplicationList:n}))}catch(n){console.error(n)}},updateRecvFriendApplication:async n=>{let r=[...e().recvFriendApplicationList],o=!1;const i=r.findIndex(s=>s.fromUserID===n.fromUserID);if(i<0?r=[...r,n]:(o=!0,r[i]={...n}),i<0||o){const s=await lS(),a=r.filter(c=>c.handleResult===0&&!s.includes("".concat(c.fromUserID,"_").concat(c.createTime))).length;t(()=>({recvFriendApplicationList:r,unHandleFriendApplicationCount:a}));return}t(()=>({recvFriendApplicationList:r}))},getSendFriendApplicationListByReq:async()=>{try{const{data:n}=await ce.getFriendApplicationListAsApplicant();t(()=>({sendFriendApplicationList:n}))}catch(n){console.error(n)}},updateSendFriendApplication:n=>{let r=[...e().sendFriendApplicationList];const o=r.findIndex(i=>i.toUserID===n.toUserID);o<0?r=[...r,n]:r[o]={...n},t(()=>({sendFriendApplicationList:r}))},getRecvGroupApplicationListByReq:async()=>{try{const{data:n}=await ce.getGroupApplicationListAsRecipient();t(()=>({recvGroupApplicationList:n}))}catch(n){console.error(n)}},updateRecvGroupApplication:async n=>{let r=[...e().recvGroupApplicationList];const o=r.findIndex(i=>i.userID===n.userID);if(o<0?r=[...r,n]:r[o]={...n},o<0||n.handleResult===zM.Unprocessed){const i=await cS(),s=r.filter(a=>a.handleResult===0&&!i.includes("".concat(a.userID,"_").concat(a.reqTime))).length;t(()=>({recvGroupApplicationList:r,unHandleGroupApplicationCount:s}));return}t(()=>({recvGroupApplicationList:r}))},getSendGroupApplicationListByReq:async()=>{try{const{data:n}=await ce.getGroupApplicationListAsApplicant();t(()=>({sendGroupApplicationList:n}))}catch(n){console.error(n)}},updateSendGroupApplication:n=>{let r=[...e().sendGroupApplicationList];const o=r.findIndex(i=>i.groupID===n.groupID);o<0?r=[...r,n]:r[o]={...n},t(()=>({sendGroupApplicationList:r}))},updateUnHandleFriendApplicationCount:n=>{t(()=>({unHandleFriendApplicationCount:n}))},updateUnHandleGroupApplicationCount:n=>{t(()=>({unHandleGroupApplicationCount:n}))},clearContactStore:()=>{t(()=>({friendList:[],blackList:[],groupList:[],recvFriendApplicationList:[],sendFriendApplicationList:[],recvGroupApplicationList:[],sendGroupApplicationList:[],unHandleFriendApplicationCount:0,unHandleGroupApplicationCount:0}))}}));var N1;const jg={className:"emojione",base:"".concat(((N1=window.electronAPI)==null?void 0:N1.getDataPath("extraResources"))||"https://cdnjs.cloudflare.com/ajax/libs/","/twemoji/14.0.2/")},Uv=t=>{const{children:e,tag:n,dbSelectAll:r,options:o={},...i}=t,s=l.useRef(null),a=l.useRef({}),c=!n,u=()=>{if(c)for(const d in a.current){const f=a.current[d].current;kh.parse(f,{...jg,...o})}else{const d=s.current;kh.parse(d,{...jg,...o})}};return l.useEffect(()=>{u()},[]),c?A(to,{children:fe.Children.map(e,(d,f)=>typeof d=="string"?(console.warn("Twemoji can't parse string child when noWrapper is set. Skipping child \"".concat(d,'"')),d):(a.current[f]=a.current[f]||fe.createRef(),fe.cloneElement(d,{ref:a.current[f],onDoubleClick:()=>{if(!r)return;const m=document.createRange();m.selectNodeContents(a.current[f].current);const h=window.getSelection();h&&(h.removeAllRanges(),h.addRange(m))}})))}):fe.createElement(n!=null?n:"div",{ref:s,...i},e)},CX=/<img[^>]*class="emojione"[^>]*alt="([^"]*)"[^>]*>/g,Yf=t=>{const e=document.createElement("div");return e.textContent=t.replace(CX,(n,r)=>r),document.body.appendChild(e),kh.parse(document.body,jg),setTimeout(()=>document.body.removeChild(e)),SX(e.innerHTML)};function SX(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/<style[\s\S]*?<\/style>/gi,"").replace(/<html>(\r?\n)<body>(\r?\n)/g,"").replace(/(\r?\n)<\/body>(\r?\n)<\/html>/g,"")}const yl=1e4,Cl=20;function xX({scrollToView:t}){const{conversationID:e}=wp(),[n,r]=l.useState({initLoading:!0,hasMoreOld:!0,hasMoreNew:!0,messageList:[],firstItemIndex:yl}),o=xr(n),i=At(b=>b.getConversationPreviewImgList),s=At(b=>b.updateCheckMode),a=At(b=>b.clearPreviewList),c=tt(b=>b.updateQuoteMessage),u=l.useRef(0);l.useEffect(()=>(At.getState().jumpClientMsgID||f(!1).then(()=>i()),()=>{m(),p(),y(),s(!1),c(),a(),r(()=>({initLoading:!0,hasMoreOld:!0,hasMoreNew:!0,messageList:[],firstItemIndex:yl})),u.current=0}),[e]),l.useEffect(()=>{const b=R=>{r(D=>({...D,messageList:[...D.messageList,R]}))},C=R=>{r(D=>{const L=[...D.messageList],$=L.findIndex(j=>j.clientMsgID===R.clientMsgID);return $!==-1&&(L[$]={...L[$],...R}),{...D,messageList:L}})},S=({sendID:R,senderNickname:D,senderFaceUrl:L})=>{r($=>{const j=[...$.messageList].map(U=>(U.sendID===R&&(U.senderFaceUrl=L,U.senderNickname=D),U));return{...$,messageList:j}})},x=R=>{r(D=>{const L=[...D.messageList],$=L.findIndex(j=>j.clientMsgID===R);return $<0?D:(L.splice($,1),{...D,messageList:L})})},I=R=>{r(D=>{const L=[...D.messageList],$=L.findIndex(j=>j.clientMsgID===R.clientMsgID);return $<0?D:(L.splice($,1),{...D,messageList:[...L,R]})})},E=()=>{r(()=>({initLoading:!1,hasMoreOld:!0,hasMoreNew:!0,messageList:[],firstItemIndex:yl})),u.current=0},_=R=>{r(D=>({...D,messageList:D.messageList.map(L=>({...L,[R]:!1}))}))},P=({message:R,conversationID:D})=>v(R,D),M=R=>setTimeout(()=>{R(o.current.messageList)}),T=()=>f(!1),k=R=>{};return ot.on("PUSH_NEW_MSG",b),ot.on("UPDATE_ONE_MSG",C),ot.on("UPDATE_MSG_NICK_AND_FACEURL",S),ot.on("DELETE_ONE_MSG",x),ot.on("DELETE_AND_PUSH_ONE_MSG",I),ot.on("CLEAR_MSGS",E),ot.on("CLEAR_MSG_STATE",_),ot.on("LOAD_HISTORY_MSGS",T),ot.on("GET_MSG_CONTEXT",P),ot.on("GET_MSG_LIST",M),ot.on("SYNC_NEW_MSGS",k),()=>{ot.off("PUSH_NEW_MSG",b),ot.off("UPDATE_ONE_MSG",C),ot.off("UPDATE_MSG_NICK_AND_FACEURL",S),ot.off("DELETE_ONE_MSG",x),ot.off("DELETE_AND_PUSH_ONE_MSG",I),ot.off("CLEAR_MSGS",E),ot.off("CLEAR_MSG_STATE",_),ot.off("LOAD_HISTORY_MSGS",T),ot.off("GET_MSG_CONTEXT",P),ot.off("GET_MSG_LIST",M),ot.off("SYNC_NEW_MSGS",k)}},[]);const{loading:d,runAsync:f,cancel:m}=qo(async(b=!0)=>{var S;const{data:C}=await ce.getAdvancedHistoryMessageList({lastMinSeq:u.current,count:Cl,startClientMsgID:b?(S=o.current.messageList[0])==null?void 0:S.clientMsgID:"",conversationID:e!=null?e:""});C.messageList.map((x,I)=>{var _;if(!I){x.gapTime=!0;return}const E=(_=C.messageList[I-1])==null?void 0:_.sendTime;x.sessionType===ln.Notification?C.messageList[I-1].gapTime=x.sendTime-E>3e5:x.gapTime=x.sendTime-E>3e5}),r(x=>({...x,initLoading:!1,hasMoreOld:C.messageList.length!==0,messageList:[...C.messageList,...b?x.messageList:[]],firstItemIndex:x.firstItemIndex-C.messageList.length})),u.current=C.lastMinSeq},{manual:!0}),{loading:h,runAsync:g,cancel:p}=qo(async()=>{var S,x;const b=o.current.messageList.findLast(I=>!!I.seq),{data:C}=await ce.getAdvancedHistoryMessageListReverse({lastMinSeq:(S=b==null?void 0:b.seq)!=null?S:0,count:Cl,startClientMsgID:(x=b==null?void 0:b.clientMsgID)!=null?x:"",conversationID:e!=null?e:""});C.messageList.map((I,E)=>{var P;if(At.getState().enableReverseLoad&&(I.isAppend=!0),!E){I.gapTime=!0;return}const _=(P=C.messageList[E-1])==null?void 0:P.sendTime;I.sessionType===ln.Notification?C.messageList[E-1].gapTime=I.sendTime-_>3e5:I.gapTime=I.sendTime-_>3e5}),r(I=>({...I,hasMoreNew:C.messageList.length!==0,messageList:[...I.messageList,...C.messageList]}))},{manual:!0}),{loading:w,runAsync:v,cancel:y}=qo(async(b,C)=>{const S={userID:"",groupID:"",count:Cl,lastMinSeq:b.seq,startClientMsgID:b.clientMsgID,conversationID:C};console.log(S);const[{data:x},{data:I}]=await Promise.all([ce.getAdvancedHistoryMessageList(S),ce.getAdvancedHistoryMessageListReverse(S)]),E=[...x.messageList,b,...I.messageList];E.map((_,P)=>{var T;if(!P)return;const M=(T=E[P-1])==null?void 0:T.sendTime;E[P-1].gapTime=_.sendTime-M>3e5}),r(_=>({..._,initLoading:!1,hasMoreOld:x.messageList.length!==0,hasMoreNew:I.messageList.length!==0,messageList:E,firstItemIndex:yl-x.messageList.length})),u.current=x.lastMinSeq,t(yl-Cl+x.messageList.length)},{manual:!0});return{SPLIT_COUNT:Cl,loadState:n,latestLoadState:o,conversationID:e,moreOldLoading:d,moreNewLoading:h,getMessageContextLoading:w,getMoreOldMessages:f,getMoreNewMessages:g,getMessageContext:v}}const _2=t=>ot.emit("PUSH_NEW_MSG",t),Oo=t=>ot.emit("UPDATE_ONE_MSG",t),nh=t=>ot.emit("UPDATE_MSG_NICK_AND_FACEURL",t),Id=t=>ot.emit("DELETE_ONE_MSG",t),AX=t=>ot.emit("DELETE_AND_PUSH_ONE_MSG",t),EX=()=>ot.emit("CLEAR_MSGS"),P2=t=>ot.emit("CLEAR_MSG_STATE",t),M2=()=>ot.emit("LOAD_HISTORY_MSGS"),IX=t=>ot.emit("GET_MSG_CONTEXT",t),k2=()=>new Promise(t=>{ot.emit("GET_MSG_LIST",e=>t(e))}),_X=[1501,1503,1504,1505],R2=(t,e=!0)=>{const n=HM.create({baseURL:t,timeout:25e3});return n.interceptors.request.use(async r=>{var i;const o=e?await rc():await Ic();return r.headers.token=(i=r.headers.token)!=null?i:o,r.headers.operationID=On(),r},r=>Promise.reject(r)),n.interceptors.response.use(r=>(_X.includes(r.data.errCode)&&mt({msg:O("toast.loginExpiration"),error:O("toast.loginExpiration"),onClose:()=>{ct.getState().userLogout(!0)}}),r.data.errCode!==0?Promise.reject(r.data):r.data),r=>(r.message.includes("timeout")&&console.error("error",r),r.message.includes("Network Error")&&console.error("error",r),Promise.reject(r))),n},PX={20001:O("errCode.passwordError"),20002:O("errCode.accountNotExist"),20003:O("errCode.phoneNumberRegistered"),20004:O("errCode.accountRegistered"),20005:O("errCode.operationTooFrequent"),20006:O("errCode.verificationCodeError"),20007:O("errCode.verificationCodeExpired"),20008:O("errCode.verificationCodeErrorLimitExceed"),20009:O("errCode.verificationCodeUsed"),20010:O("errCode.invitationCodeUsed"),20011:O("errCode.invitationCodeNotExist"),20012:O("errCode.operationRestriction"),20014:O("errCode.accountRegistered")};var T2=(t=>(t[t.Blacked=1302]="Blacked",t))(T2||{});const Ls=t=>{const e=t;e.errMsg&&Sr.error(PX[e.errCode]||e.errMsg)},Mi=R2(mX());var D1,$1;const O2=($1=(D1=window.electronAPI)==null?void 0:D1.getPlatform())!=null?$1:5,Xf=t=>t&&(t.includes("+")?t:"+".concat(t)),ofe=()=>Ts(t=>Mi.post("/account/code/send",{...t},{headers:{operationID:On()}}),{onError:Ls}),ife=()=>Ts(t=>Mi.post("/account/code/verify",{...t,areaCode:Xf(t.areaCode)},{headers:{operationID:On()}}),{onError:Ls}),sfe=()=>Ts(t=>Mi.post("/account/register",{...t,user:{...t.user,areaCode:Xf(t.user.areaCode)},platform:O2},{headers:{operationID:On()}}),{onError:Ls}),afe=()=>Ts(t=>Mi.post("/account/password/reset",{...t,areaCode:Xf(t.areaCode)},{headers:{operationID:On()}}),{onError:Ls}),MX=async t=>{const e=await Ic();return Mi.post("/account/password/change",{...t},{headers:{token:e,operationID:On()}})},lfe=()=>Ts(t=>Mi.post("/account/login",{...t,platform:O2,areaCode:Xf(t.areaCode)},{headers:{operationID:On()}}),{onError:Ls});var di=(t=>(t[t.Allow=1]="Allow",t[t.NotAllow=2]="NotAllow",t))(di||{});const N2=async t=>{const e=await Ic();return Mi.post("/user/find/full",{userIDs:t},{headers:{operationID:On(),token:e}})},kX=async t=>{const e=await Ic();return Mi.post("/user/search/full",{keyword:t,pagination:{pageNumber:1,showNumber:1}},{headers:{operationID:On(),token:e}})},Hv=async t=>{var n;const e=await Ic();return Mi.post("/user/update",{...t,userID:(n=ct.getState().selfInfo)==null?void 0:n.userID},{headers:{operationID:On(),token:e}})},ct=Vd()((t,e)=>({syncState:"success",progress:0,reinstall:!0,isLogining:!1,connectState:"success",selfInfo:{},appSettings:{locale:uS(),closeAction:"miniSize"},imageCache:{},updateSyncState:n=>{t({syncState:n})},updateProgressState:n=>{t({progress:n})},updateReinstallState:n=>{t({reinstall:n})},updateIsLogining:n=>{t({isLogining:n})},updateConnectState:n=>{t({connectState:n})},getSelfInfoByReq:()=>{ce.getSelfUserInfo().then(({data:n})=>{t(()=>({selfInfo:n})),N2([n.userID]).then(({data:{users:r}})=>t(o=>({selfInfo:{...o.selfInfo,...r[0]}})))}).catch(n=>{mt({error:n,msg:O("toast.getSelfInfoFailed")}),e().userLogout()})},updateSelfInfo:n=>{t(r=>({selfInfo:{...r.selfInfo,...n}}))},updateAppSettings:n=>{n.locale&&TR(n.locale),t(r=>({appSettings:{...r.appSettings,...n}}))},userLogout:async(n=!1)=>{var r;n||await ce.logout(),aS(),t({selfInfo:{},progress:0}),mn.getState().clearContactStore(),tt.getState().clearConversationStore(),(r=window.electronAPI)==null||r.ipcInvoke("updateUnreadCount",0),dM.navigate("/login")},initImageCache:n=>{t(()=>({imageCache:n}))},addImageCache:(n,r)=>{const o={...e().imageCache};o[n]=r,Eb(o),t(()=>({imageCache:o}))},clearImageCache:()=>{Eb({}),t({imageCache:{}})}})),At=Vd()((t,e)=>({previewImgList:[],isCheckMode:!1,jumpClientMsgID:void 0,enableReverseLoad:!1,downloadMap:{},updateMessagePreview:n=>{const r=[...e().previewImgList],o=r.findIndex(i=>i.clientMsgID===n.clientMsgID);if(o>-1){const i=r[o].videoUrl?"videoUrl":"url";r[o][i]="file://".concat(n.localEx),t(()=>({previewImgList:r}))}},clearPreviewList:()=>{EX(),t(()=>({previewImgList:[],hasMore:!1}))},updateCheckMode:n=>{n||P2("checked"),t(()=>({isCheckMode:n}))},updateJumpClientMsgID:n=>{t(()=>({jumpClientMsgID:n}))},updateReverseLoad:n=>{t(()=>({enableReverseLoad:n}))},getConversationPreviewImgList:async()=>{var i;const n=(i=tt.getState().currentConversation)==null?void 0:i.conversationID;if(!n)return;const{data:{searchResultItems:r}}=await ce.searchLocalMessages({conversationID:n,keywordList:[],keywordListMatchType:0,senderUserIDList:[],messageTypeList:[ge.PictureMessage,ge.VideoMessage],searchTimePosition:0,searchTimePeriod:0,pageIndex:1,count:200});if(!(r!=null&&r[0].messageCount))return;console.log(r[0].messageList);const o=r[0].messageList.map(s=>{var a,c,u;return{url:(a=_d(s))!=null?a:"",clientMsgID:s.clientMsgID,videoUrl:Iy(s),thumbUrl:(u=(c=s.pictureElem)==null?void 0:c.snapshotPicture.url)!=null?u:""}});t(()=>({previewImgList:[...o]}))},tryAddPreviewImg:n=>{const r=n.filter(o=>RX.includes(o.contentType)).map(o=>{var i,s,a;return{url:(i=_d(o))!=null?i:"",clientMsgID:o.clientMsgID,videoUrl:Iy(o),thumbUrl:(a=(s=o.pictureElem)==null?void 0:s.snapshotPicture.url)!=null?a:""}});r.length!==0&&t(o=>({previewImgList:[...r,...o.previewImgList]}))},addDownloadTask:(n,r)=>{t(o=>({downloadMap:{...o.downloadMap,[n]:{...r}}}))},updateDownloadTask:(n,r)=>{const o={...e().downloadMap};o[n]={...o[n],...r},t(()=>({downloadMap:o}))},removeDownloadTask:n=>{const r={...e().downloadMap};r[n]&&(delete r[n],t(()=>({downloadMap:r})))}})),RX=[ge.PictureMessage,ge.VideoMessage],_d=t=>{var e,n,r,o;if(t.contentType===ge.VideoMessage){const i=t.videoElem.snapshotPath;if(i&&((e=window.electronAPI)!=null&&e.fileExists(i)))return"file://".concat(i);const s=t.videoElem.snapshotUrl,a=ct.getState().imageCache[s];return a&&((n=window.electronAPI)!=null&&n.fileExists(a))?"file://".concat(a):s}return t.localEx&&((r=window.electronAPI)!=null&&r.fileExists(t.localEx))?"file://".concat(t.localEx):(o=window.electronAPI)!=null&&o.fileExists(t.pictureElem.sourcePath)?"file://".concat(t.pictureElem.sourcePath):t.pictureElem.sourcePicture.url},Iy=t=>{var e,n;if(t.contentType===ge.VideoMessage)return t.localEx&&((e=window.electronAPI)!=null&&e.fileExists(t.localEx))?"file://".concat(t.localEx):(n=window.electronAPI)!=null&&n.fileExists(t.videoElem.videoPath)?"file://".concat(t.videoElem.videoPath):t.videoElem.videoUrl},_y=500,tt=Vd()((t,e)=>({conversationIniting:!0,conversationList:[],currentConversation:void 0,unReadCount:0,currentGroupInfo:void 0,currentMemberInGroup:void 0,quoteMessage:void 0,revokeMap:{},getConversationListByReq:async(n,r)=>{!r&&!n&&t(()=>({conversationIniting:!0}));let o=[];try{const{data:i}=await ce.getConversationListSplit({offset:n?e().conversationList.length:0,count:_y});o=i}catch(i){return mt({error:i,msg:O("toast.getConversationFailed")}),n||t(()=>({conversationIniting:!1})),!0}return t(i=>({conversationList:[...n?i.conversationList:[],...o]})),!r&&!n&&t(()=>({conversationIniting:!1})),o.length===_y},updateConversationList:(n,r)=>{const o=n.findIndex(a=>{var c;return a.conversationID===((c=e().currentConversation)==null?void 0:c.conversationID)});if(o>-1&&e().updateCurrentConversation(n[o]),r==="filter"){t(a=>({conversationList:Ay([...n,...a.conversationList])}));return}let i=[];const s=n.map(a=>a.conversationID);i=e().conversationList.filter(a=>!s.includes(a.conversationID)),t(()=>({conversationList:Ay([...n,...i])}))},delConversationByCID:n=>{const r=e().conversationList,o=r.findIndex(i=>i.conversationID===n);o<0||(r.splice(o,1),t(()=>({conversationList:[...r]})))},updateCurrentConversation:(n,r)=>{if(!n){t(()=>({currentConversation:void 0,quoteMessage:void 0,currentGroupInfo:void 0,currentMemberInGroup:void 0}));return}const o=e().currentConversation,i=n.conversationID!==(o==null?void 0:o.conversationID);i&&Ta(n.conversationType)&&(e().getCurrentGroupInfoByReq(n.groupID),e().getCurrentMemberInGroupByReq(n.groupID),At.getState().updateReverseLoad(!1)),i&&!r&&At.getState().updateJumpClientMsgID(),t(()=>({currentConversation:{...n}}))},updateCurrentConversationFields:n=>{t(r=>({currentConversation:{...r.currentConversation,...n}}))},getUnReadCountByReq:async()=>{try{const{data:n}=await ce.getTotalUnreadMsgCount();return t(()=>({unReadCount:n})),n}catch(n){return console.error(n),0}},updateUnReadCount:n=>{t(()=>({unReadCount:n}))},getCurrentGroupInfoByReq:async n=>{let r;try{const{data:o}=await ce.getSpecifiedGroupsInfo([n]);r=o[0]}catch(o){mt({error:o,msg:O("toast.getGroupInfoFailed")});return}t(()=>({currentGroupInfo:{...r}}))},updateCurrentGroupInfo:n=>{t(()=>({currentGroupInfo:{...n}}))},getCurrentMemberInGroupByReq:async n=>{let r;const o=ct.getState().selfInfo.userID;try{const{data:i}=await ce.getSpecifiedGroupMembersInfo({groupID:n,userIDList:[o]});r=i[0]}catch(i){mt({error:i,msg:O("toast.getGroupMemberFailed")});return}t(()=>({currentMemberInGroup:{...r}}))},setCurrentMemberInGroup:n=>{t(()=>({currentMemberInGroup:n}))},tryUpdateCurrentMemberInGroup:n=>{const r=e().currentMemberInGroup;n.groupID===(r==null?void 0:r.groupID)&&n.userID===(r==null?void 0:r.userID)&&t(()=>({currentMemberInGroup:{...n}}))},updateQuoteMessage:n=>{t(()=>({quoteMessage:n}))},addRevokedMessage:(n,r)=>{t(o=>({revokeMap:{...o.revokeMap,[n.clientMsgID]:{text:Yf(TX(n)),atEl:n.atTextElem,quoteMessage:r}}}))},clearConversationStore:()=>{t(()=>({conversationList:[],currentConversation:void 0,unReadCount:0,currentGroupInfo:void 0,currentMemberInGroup:void 0,quoteMessage:void 0}))}})),TX=t=>t.contentType===ge.AtTextMessage?t.atTextElem.text:t.contentType===ge.QuoteMessage?t.quoteElem.text:t.textElem.content,OX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA0tJREFUWEfVWEFO20AUfX9sGnalJyi9QXqCpgcoSU5AkJpIXRU2QFZNVwndEFaVEiRyA8ftAYATACfAPUGzbAXMrybBUXBsz7djVW2WmT//v5k/897zEFJ+R6f+NmveBVE5La6wMeaAiEbPXH2yt1OfmLwUl/z4zNv4fU8eQJXCimdJxBwocH2/Vb+OBdgbjD0Q1bLkLDyWOSit8eslgN2hVyGo88IL5kjIwOclgL2B3wfhY458xU9hXm5xd+BfEOFN8dXyZVxu8b8O8MvAKz8QNhbXS1C7AKr59mC1WWQAManY4syYHLaqJ6ZEd+iPCNiWlmPwDzAFBC6D6Ll0XjSOeoPxLYg2kxIQaO+gudU3C9GkrgSFfMW6YzgsjJ12Baqf52wbgJO0FYYAu1+9TXLVbSpAxslhq2qOQ+wvaxemSnJ0+r2mtY5PSgjWXb1rZKc79DsEfEoqzozLdqtqVZ6sLBGrJIsgprJ3p7ZB6KftHpGqH7x/N7Ydge7gW4OIz2xx4XhhNHPYrFoXa4rOdF79/GcBGmC9oc9/HWDJ1S9Ci5RWPAMbTNMU1mJm2mm3tka2nbFdtiUejP4RpySAalhJ+tEepe3ijKroCqAnSpV6+cwk5apYhVhUEpHLYb4urfHbOJBTcA4Zn5nJnVuVJGydiKinW8ETgEaKaU45mrgGcCPLzs1pxqYkxjS2m9WOHKDtFGYbJ0Ocs9Ut/4gwKbm6kaokjBvzoaPxMNdeKwR2Nk1NiTZbyTV0Owx0ooWl8pYEWHKuV6IZvtev2h/qgXXHUgJsRyw3QOP32s1aok2Tgu4NfXOZEs1wfoBC92IDaiPu3ABh8X42YOG4zd0sAUxQkkrUC4b0IwWSFGf7DifDb47jvExKsN/aujRj0VYUBdAYZmbtJdXPryQC7ZXsbm84Pk97AyKbN0tXEr4ouVyX2Kwo2JlTp2MQxYrEXOpM68BI/pZ40A3Ddam3jTkAQc6HjA2paYi9JIDz5DuWiStxSiJp4aox+Wlm1crC+f8fQImACxe/ephxStEsNuJcvao8Q+wD5iMpZ3ookpeURxozsu5yOfER/dedGksMpbykPNKAc5hriY/oi0Iudb7y8imRjBsmjNdd3Q/J/w+Z+qe2T5ZL0wAAAABJRU5ErkJggg==",NX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAztJREFUWEfVWEty00AQ7ScbdkDYUUVkouQC5gSEE+CcIM4JMFiscdaxQTkBvkHCCZKcIOEAtmQ7VLHD5exAVlMjWyGxpJnRp0KY7Ux3v+mZ6femQZJRa7u7BG4RUV22rrQ5Jo+A/synw6ljTYVfJDlfa7lrj6p8BKLt0oJnccTkzQ3sfD+wLhIBmu3BEYBGFp+lr2XyZnO8jAFct91tg/ik9IC5HPJ+HGB74BjA21z+yjeKH7FpD09B9Kr8WPk8xjJ47wE+/+DWwbR2c78gboHoTb4cFLOCAFThlOBM03HPOhQhzPawD9CudjimEYM8ENeJ8ETbbmUhau2hS6CNdAf8btzdchYb4XNVICb6GgAdUcOitcLWYHby3G3U7MFUvsMFwGctd+NhlV0ZwID58LK3JZgncWQ+BcEkZtttLOks7pTJu5qjJWinZg86RPiYFpyJzibdTSXzZH2EiUxyE4SgvccVEpzsyLLHjJ1JzzpWXQHzvduEwV9U66L50srMuLup3KwIGm64yj/vLUABrGYP+c4Bznw8jSSSLLhuNSj9iDnA3uST1VdlRvXYVu1j9yaRSZibyiK9lEeyLIalqsLnhNtMJdsUFvUthSFuMMm6nsq5mPl4nQRyWUePsqpzJZNER6dTqMNMME0Z3GcY1yUHHDTAaGbJ3PUd1GCS/XF3q6MNUHUJM85DFE4yuJliN73y0ZQxCTN9A7gfkHHNvSoMCGhDxNThZmVx/at2uLMaWJfe0gDr3OtCTPLLh/XDsTxVxmTzqiuWHyDTaNzblMg0PdimPTyWieHcAIsebwRfVbhzA1RpP738EanUjRaTGBRsx7Ugh+VHF0jqQ1H8w0MmqT6gF2kOLg+ss4UCWRWs5QAUghlgwTCJIz+TaHCvTnZNe3gi6wFBrc0WmUpiEiY6vfKxoyOzVsGGDapK8BlAGkmEJuLT1GFC6l/it4+mqHXS18bkiS+mTsbCoBSqGa2WXvIjIbr1jzVYtOHiTKILqMi63GWmSNAstv8fQB0Cz5KBImtDpbTq4N43MAXgPC2KIplKtGUazeaoy5roQmX8m0Ym02huoJHaRI92FKntuwK6VOfHM99wouL/B3m3onNxVDFCAAAAAElFTkSuQmCC",DX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzdJREFUWEfNWE1yEkEUfq8TCnfmBpITiCcQD6AznECokqlyFdgYWIkriBvIKlWDVcETMBMPYDxByAnAGyQ7LUl/Vg8MDjA/9ASQ2VBD9/v66/fT75tmSvl8tgd5sDAA5IkoR8zq998DDIlozMxDhnQ/WEX1rv2wjkXrYpDjQ3FCgEnMOR1bAsbE7GAizxvvi+N1bdci2LkcHP3+wx1iLq0LHDsP6GczqNXKxbskvESCLfuqxCw7RHyUBKY3jjvmg/Lpu9dOnF0swbbtXG7Ma1EsgH7dMstRw6EEZyFV5Ew9r6ScDTjZDMphIQ8l2Ladwc7I+XsCnLplFpe3uEJwJ2GNDDed1y2jGhxeIHj25ZsJyEHKQG3EjFkUg4UzJ+jl3YRHm69WXd64yx7i2M/HOcFWz+0z0VtduG3MB9HXRsXwzlyP4KxDjLaxWFpMTOSx6jgewbbtdonpJC3YVuwwLZgZQWek3Vu3wioACozrlnnMSpVIFjfbXi8NvoB8wa2e22Sij2kAtm3DxDVu91zVrI1tL5YS3+W27dysiM2UaBs3A4bKg4iXO1yT9DAUdJAHZJOYn4bNB+gHsWx6YxBNZnoZigvcM4umwiQShaT0iic4K3V/obPeVRWEzsrCwH02g5x/+s/UkFLQK5tReXVaedP1MZKOuFiCIPmqUSle+2Ct3qDAJL4vE1Tea1hGIfh/y3avw7y4LqaPxW3bHRLT89CwBVqO13EiK36xf8b1dRB9alSMaSpMMWNbLEftdE4Y6AsSfclQ4nVBCi1sSiW0YC90kKgmFF5XgB1JshSr2EG3+3/MRCb+xs8MfUCVDryPSsbfitfq1Etcoejve0MWwH3dMo+menAP+7Ff7R7BuIN1Q/7QhlkQrPvmxRXJv1deXGqbC5+dUa1MOz6PMIj87Ay0nv8mYIOhnffisM0m9cdHOCjSNExwqMmRt1u7JKnIPclIc+3Lo52GG3Rbt4zF6+OAnxMvMNV9jcRDl4mf7TK0sTm4TEQd5L8mosrwZFSo5E9LPir3tAjOQ34xyInDAxNAKUrk6hINq9wgRmKIoxZUH/wPLJSIzREox4S8rndB+EkTFOJu/f8CfyuLb6ufRTMAAAAASUVORK5CYII=",$X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAypJREFUWEfVWF1y0lAY/b60+qby6IwNEliAuAJxBaUrkK6gYPDZ9lkypSuwrqB0BdYVGBcAQagzPtL2rUKOcxPChJCbvxLEPCb3nnu+/5PLlPF58cGq7oD2AbvKzCUiqgagTABDZsWcMV3++qSZWY7iNJueN63So137iMF1YhKkkj+gIRi9P1Pl7HdXGybdmIhgoWkVnuzYp8zcSAoctQ7A+d1MaU262iQOL5ag+t5qMOOUmApxYKm+gyYgPhwbWi9qXyRBVe9/XpfXZCSEN8dG5VD2PZTgPKSCXD2VVzIuBtC7mymHYSEPJajq/YtNkfNsEiTHRuUgaOMKwU2EVeZoGzi7NipN//clgqpu1ZlxkTFSa9kG8IG/cBYERd493YG19mpNSxs0uZ2x5uXjgqCqD86Z6V1avDzWA/RlbJSdnusQFBPi8S6sPA7Link/ZU1MHIfgnt7vKsxHWcHy2OcVjEOwqA9E7qWbrXmw8mOChiOjrLGrSvA97/Oy4M+YX3Ox3T8m4o9ZAPLfgxar7UGPifbzPyz9CSC65GJ7IMIbFJvp0fLZYQqCiMZGyybFVMgWRoh0eBa2HkTfQHzs9i4cM9GbcFzcCJw5Zi0uvSIJBmdjsd1vEvHp6sG4uZ0qJa/7O1Np1x6GG4PWqFPpehhxLS6aIPHb6452tQBrWzWF8DVIUHhv3CnX/O/V9uAqzIt2QkwPi1V9YDLTq9Cw+UaO0y9lFR+Yn9FzHSejTsVJBfHEjVhRxaGWegBC8UJRzhl2nYmXpFDAKJPAbugYYp208EDogpUe23YjSrED9ON/aDOyxM+nb6RDxQlvo5LxjHBG3TxRpYWSzuJ1rsbNqFMpuGpmK+exW+0OwejGuk6vJMdaEqzb5sUVyb9dXlwem0u/nXuSUZY8MA9fKf3t9KD/ZcH4Q7uYxWE2x83Hh/tpFSFMcDhTU3bYJkkKcndTrie+PNpkuIUgGBtlqbCIv8AU9zWELjG93GRoI3MwSGTeyIWEEoo6VPJnJS/LvVQEvcWusLDrADdkIjct0bDK9WPEhlh2oPvD75AtiVsJJlRTexf0837Gtahb/7/fkoi7SUdLeQAAAABJRU5ErkJggg==",FX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAAAAXNSR0IArs4c6QAAAwJJREFUWEe9mE9qFEEUxr+H4kpQNyIqmDmB5gQmJzCewOQEKrjXnMDcwOQEJuDeBNwbwb3JQnBn3IkIT37Dq1jWdHdVz0x80AwzXf3qq+9970+PqdHcfUXSS0mbjY/ky04kPTez/dZnrWWhu1+X9EUSn4sY4HZaHLQCexVs4fObpFstzrM1XyXdkXQmaWJmfA5aKzDYIpS/JF2pOa3c3zKz3ZqPKjB335D0tuZoxP1jM1utrW8BhmAf1RyNvL9qZsdDz8wAc/eHETZCtxbXyH2ry39KeifpsyQAnpZAp8AiXJSCBz0uf0u6nN07qm79dwEHbTESguiQuWc2oKFPkqg/nAhgH8zssNwh6tu9YJb1J2Y2A9zdOfRdSS8k3ZR0W9JVSZcKn1MNAuxjMAUQygKOB+MfLFNoYZmQl5ZOv21mgO21qJGARjb4w9YB5vHlcUtlDkfvO8J+KgnmSmsqD3FYDoGP7RzYeleo8l06OsCBpN38QBFa2Hwm6Vo83wTO3ZEKmhwNjBDfb9ksDsFGaX01InMBc3dYeFOCcnd0+SS0Rrs511QBDu1OKnobz5i7p/gfmBndgDKDI8RP2MimGaFHNpJg2CBroxkrnE+rdjDIpLBSa8rZhntm1js2zQMshfGHmU1Hn3Cy3zLGRLgpBUdmRlnotHmApbHn3HGEdmNEzZvq08x6+/MiwKoC7qIiY+yc8Z5148Tv7tBPUcVu1DRVburuaPHpRYQSXX1vqV89TNCiKLa0KGSxHI2F2NNcRkkgM6vjcTyXj+X/1LkOZseFMjagXjFiY7Shrb6Tp9+LyWWwVGSZPldLopC+jo05HT2wc3rIBM9yJpe1GsujszJnJhNy+pkQ00MByvgCs3SGNA4BarOxrIwPZQGOjcm0rjEnX7pHu6oxlYV+MWChBzIVgFwwlUAyvcLgTm1IXIr4a0Jfxv1SY001ZhkbD/kohtAtJljeipmnsJmXjYsGlPknWVLCTACGVtBETcj/C+P0j5f0Xgk4RptF/81ZFPxheu/4AzRC2bF8X3tdAAAAAElFTkSuQmCC",Py="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAABYFJREFUeF7tnV9+2jgQx3+jYrdvy55g2ROUnmDpCcKeoOkJkrwsyVOTJ0JfQk5QcoIlJyg9QegJmp5gs2+LnWr2I8IfY2zLcgQ1RrwyHo++HsmyNDMiZP263ACFBwS0AW4QUSNTvqJ/MjAG44GBIdi7xRndpzWVEv/ockNQ+AGEw4oyel6zGAPJ3kUS2HWgvcc2QX4ioP68u1b7aobyWPEendow2tJVoN3gUAh8qjYKu62TEu9x5g/mWpdAU2Ay4ysRD6UUI7yqjXFCD3ZNKrm2K67jv8emELLFTG0ivI5bLCH+nHvqE9AuN0iEd2vdnHEtT/3jkjd5e+ZdcV1MwnMQjqI3nXZ/6b1RY+oUqOgFymXfRYWi1Ldn8Y7cqffYFpB/x6y9kR3/kJR3ChF+W/nTeab2yYrLoB/3VCm93wm94FgAV3MNaszkU7+p1bjvAldcp0k4io6pEjgh6gUjAv5Y8uEL2Xl5vu+88rRf9CbnAH1YOCPwhehy8i36BSQlvcWZN8qjcO9lumFLCP4cATom0Qt45WXke7/u3dSoqGeot34Q/rMysV8D2vGTP0eL3rTi18X5rXuoA2rkAg6oES69sAOqZ2Qk4YAa4dILO6B6RkYSDqgRLr2wA6pnZCThgBrh0gs7oHpGRhIOqBEuvfDuAJ1tYQuiuiS+xV/+WN+87UuUH6hawSF+F9/CloQ3ZYRaTqBqIywID4j5PC2YoqzLiuUC+rT9csTAoS4OYGWPa7ps9ngEcF2qqA7fu/1ZS47lANoNWyTkEYHa+Ue95U4CXU6GRHQQWdh9IGAgpXedFSaT/175JX8e0BzdOrsZS6DxRkSvY/CQ+cUAp7Xb/FiKS24f6CxOigltXbe2AXThtcz3DOrjpXezyeFgu0Cthvbk89D4Q1FBCMQYSoHrTcwStgp0fUe1eNcCigFdGQ4YIyYM0PFvnmNJ9Nq9Bhp5iY3Z997aGAoc0BlVW/PaUgFl4Muy+3CDQL+ld0V9l2fwdyASXcxoEuGXJJ2VA5oUjEaXwTgpXPAJiB6ojMcUJOybz+FWD2hChEr2SywH0IQt8LQ5qwOax0P3GSgzRkQUiaFiFdOfEdyr91AwBqDlGMqQzbTP28p5qPk8MAdQA6UOaI4ub8ATDqgDCmS9tZn5lln0V+ahhH7avDHXtAk4gaTFVonK3IgGxEY9uHIemtQgN23SDFpZgBxQkxF/JpsJVHXPjr/s8tMkgOAuPUFX/5ZXWRgrK/Yfg6Zg3O3Fp6f589EDNdFZuTHUpPF5v+VNdDqgbtqUPW0y8aa8HsqMf0FYRpi45Tu3fJfpaG7aBEBaTKtxQLcIVBVGIVCkvIRbvtO+V8q2jVzpb3nt01gT2NeJ/cdwkSpOzH0CLOXeWwbKOIaYrUz9qH0vGmS22W3kWLqzuRdmXWEXaPROajubO36riL0OaAK1vQTKzPfzIAYiFPKmNA8sMVBVH08VN6GdqkrGEoNoMSuTrr/ZLm9iSUVkHVDLD9IBdUAtE7CsznmoA2qZgGV1zkMdUMsELKtzHuqAWiZgWZ3z0K0DdcUE8yNPKiZIvcl9NJ3FVkRFfqt2WDJe7nJaANwVZC38RBMLsq6VDAaspe0VtnQXLlTRgkH4ObrFMy0Z7IpaF3t66UWtXdl1c6KZZdeVOnUwAIUqLTCeF9mXvndhI2vX3OoSXvH0VldFrFfyqVSQGrPXXBwMMDU9mTrmER6SMIJX+7p3cFVpj/DxtWC0GKyqUqxti68fXTF3BqsVGEroYRswKf1wlfnN1PE/LAfp6S0bsGoHVU67OYnD7ON/Fp46raekDgdYOR9kB9u9KZNvpPTO8x1QFTVB1Z8ToRo32mDU03PZN2V3OfSq4zxAsyPUpDfMCtv5H8VrCvg0OgW0AAAAAElFTkSuQmCC",D2=[{src:new URL(""+new URL("ic_avatar_01-3563a5a3.png",import.meta.url).href,self.location).href,name:"ic_avatar_01"},{src:new URL(""+new URL("ic_avatar_02-b90bd6f6.png",import.meta.url).href,self.location).href,name:"ic_avatar_02"},{src:new URL(""+new URL("ic_avatar_03-0c6288e1.png",import.meta.url).href,self.location).href,name:"ic_avatar_03"},{src:new URL(""+new URL("ic_avatar_04-dc637f9c.png",import.meta.url).href,self.location).href,name:"ic_avatar_04"},{src:new URL(""+new URL("ic_avatar_05-f27ea85b.png",import.meta.url).href,self.location).href,name:"ic_avatar_05"},{src:new URL(""+new URL("ic_avatar_06-887a8542.png",import.meta.url).href,self.location).href,name:"ic_avatar_06"}],$2=t=>{var e;return(e=D2.find(n=>n.name===t))==null?void 0:e.src},LX=D2.map(t=>t.name),Sn=t=>{const{src:e,text:n,size:r=42,color:o="#fff",bgColor:i="#0289FA",isgroup:s=!1,isnotification:a}=t,[c,u]=l.useState(),d=l.useMemo(()=>{var h;if(e){if(LX.includes(e))return $2(e);if(!window.electronAPI)return e;const g=ct.getState().imageCache[e];return g&&((h=window.electronAPI)!=null&&h.fileExists(g))?"file://".concat(g):(Object.values(At.getState().downloadMap).findIndex(w=>w.originUrl===e)>-1||pi(e,{isThumb:!0,saveType:"avatar"}),e)}return s?Py:void 0},[e,s,a]),f={...t,isgroup:void 0,isnotification:void 0};l.useEffect(()=>{s||u(void 0)},[s]);const m=()=>{s&&u(Py)};return A(rB,{style:{backgroundColor:i,minWidth:"".concat(r,"px"),minHeight:"".concat(r,"px"),lineHeight:"".concat(r-2,"px"),color:o},shape:"square",...f,className:Mt({"cursor-pointer":!!t.onClick},t.className),src:c!=null?c:d,onError:m,children:n})},BX=""+new URL("logo-31205418.png",import.meta.url).href,VX=R2(E2()),jX=async t=>{var n,r,o,i;const e=await rc();return VX({url:"/third/logs/upload",method:"POST",data:{platform:(r=(n=window.electronAPI)==null?void 0:n.getPlatform())!=null?r:5,version:I2,systemType:(i=(o=window.electronAPI)==null?void 0:o.getSystemVersion())!=null?i:"",ex:"",fileURLs:t},headers:{token:e,operationID:On()}})},zX=()=>{const[t,e]=l.useState(!1),n=qM(),r=()=>{window.location.reload()};return console.error("GlobalErrorElement"),console.error(n),A("div",{className:"flex h-full w-full items-center justify-center",children:A(vK,{status:"404",subTitle:O("toast.somethingError"),extra:A(un,{type:"primary",loading:t,onClick:r,children:O("placeholder.recover")})})})},UX=async()=>{var t,e;if(!window.electronAPI)return null;try{const n=await((t=window.electronAPI)==null?void 0:t.ipcInvoke("prepareUploadLogs")),r=await((e=window.electronAPI)==null?void 0:e.getFileByPath(n));if(!r)throw new Error(O("toast.getLogFailed"));const{data:{url:o}}=await ce.uploadFile({name:r.name,contentType:"application/zip",uuid:On(),file:r});ce.uploadFile,await jX([{url:o,filename:r.name}])}catch(n){return n}return null};function Pr(t){const[e,n]=l.useState(!1),r=()=>{n(!0)},o=()=>{n(!1)};return l.useImperativeHandle(t,()=>({isOverlayOpen:e,openOverlay:r,closeOverlay:o})),{isOverlayOpen:e,openOverlay:r,closeOverlay:o}}const HX=(t,e)=>{const[n]=Rr.useForm(),{isOverlayOpen:r,closeOverlay:o}=Pr(e);return A(ni,{title:null,footer:null,closable:!1,open:r,centered:!0,onCancel:o,afterClose:()=>n.resetFields(),styles:{mask:{opacity:0,transition:"none"}},width:360,className:"no-padding-modal",maskTransitionName:"",children:A(GX,{closeOverlay:o})})},WX=l.memo(l.forwardRef(HX)),GX=({closeOverlay:t})=>{const[e,n]=l.useState(!1),r=async()=>{n(!0),await UX(),n(!1)};return A(dn,{spinning:e,tip:O("placeholder.uploadToast"),children:Z("div",{className:"bg-[var(--chat-bubble)]",children:[Z("div",{className:"flex items-center justify-between bg-[var(--gap-text)] p-5",children:[A("span",{className:"text-base font-medium",children:O("placeholder.about")}),A(fr,{className:"app-no-drag cursor-pointer text-[#8e9aaf]",rev:void 0,onClick:t})]}),Z("div",{className:"flex flex-col items-center justify-center",children:[A("img",{className:"mb-2 mt-7",width:56,src:BX,alt:""}),Z("div",{className:"mb-5 flex flex-col items-center",children:[A("div",{children:hX}),A("div",{children:I2})]})]}),A(Wn,{className:"border-1 m-0 border-[var(--gap-text)]"}),window.electronAPI&&Z(to,{children:[Z("div",{className:"flex cursor-pointer items-center justify-between border-b border-[var(--gap-text)] px-3 py-2",onClick:r,children:[A("div",{children:O("placeholder.reportLog")}),A(er,{rev:void 0})]}),Z("div",{className:"flex cursor-pointer items-center justify-between px-3 py-2",onClick:()=>{var o;return(o=window.electronAPI)==null?void 0:o.ipcInvoke("showLogsInFinder")},children:[A("div",{children:O("placeholder.viewingLocalLogs")}),A(er,{rev:void 0})]})]})]})})},qX="_mask_hne4i_4",My={"avatar-wrapper":"_avatar-wrapper_hne4i_1",mask:qX},KX=(t,e)=>{const{isOverlayOpen:n,closeOverlay:r}=Pr(e);return A(ni,{title:null,footer:null,closable:!1,open:n,onCancel:r,centered:!0,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},width:420,className:"no-padding-modal",maskTransitionName:"",children:A(QX,{closeOverlay:r})})},YX=l.memo(l.forwardRef(KX)),XX=({black:t,removeBlack:e})=>{const[n,r]=l.useState(!1),o=async()=>{r(!0),await e(t.userID),r(!1)};return Z("div",{className:"flex items-center justify-between px-5 py-2.5",children:[Z("div",{className:"flex items-center",children:[A(Sn,{src:t.faceURL,text:t.nickname}),A("div",{className:"ml-3",children:t.nickname})]}),A(un,{type:"primary",ghost:!0,loading:n,onClick:o,children:O("placeholder.remove")})]})},QX=({closeOverlay:t})=>{const e=mn(r=>r.blackList),n=async r=>{try{await ce.removeBlack(r)}catch(o){mt({error:o})}};return Z("div",{className:"flex h-[468px] flex-col bg-[var(--chat-bubble)]",children:[Z("div",{className:"flex items-center justify-between bg-[var(--gap-text)] p-5",children:[A("span",{className:"text-base font-medium",children:O("placeholder.blackList")}),A(fr,{className:"app-no-drag cursor-pointer text-[#8e9aaf]",rev:void 0,onClick:t})]}),A("div",{className:"flex-1 overflow-y-auto",children:e.length>0?e.map(r=>A(XX,{black:r,removeBlack:n},r.userID)):A(sr,{className:"flex h-full flex-col items-center justify-center"})})]})},JX=(t,e)=>{const[n]=Rr.useForm(),{isOverlayOpen:r,closeOverlay:o}=Pr(e);return A(ni,{title:null,footer:null,closable:!1,open:r,centered:!0,onCancel:o,destroyOnClose:!0,afterClose:()=>n.resetFields(),styles:{mask:{opacity:0,transition:"none"}},width:320,className:"no-padding-modal",maskTransitionName:"",children:A(eQ,{form:n,closeOverlay:o})})},ZX=l.memo(l.forwardRef(JX)),eQ=({form:t,closeOverlay:e})=>{const{runAsync:n,loading:r}=qo(MX,{manual:!0}),o=i=>{n({currentPassword:yb(i.oldPassword),newPassword:yb(i.newPassword),userID:ct.getState().selfInfo.userID}).then(()=>{e==null||e(),mt({msg:O("toast.updatePasswordSuccess"),onClose:()=>{ct.getState().userLogout()}})}).catch(s=>mt({error:s}))};return Z("div",{className:"flex flex-col overflow-hidden",children:[Z("div",{className:"flex items-center justify-between p-5",children:[A("span",{className:"text-base font-medium",children:O("placeholder.changePassword")}),A(fr,{className:"app-no-drag cursor-pointer !text-[#8e9aaf]",rev:void 0,onClick:e})]}),Z(Rr,{form:t,layout:"vertical",requiredMark:!1,onFinish:o,className:"bold-label-form",autoComplete:"off",children:[A(Rr.Item,{label:O("placeholder.oldPassword"),name:"oldPassword",className:"mb-2 px-5",rules:[{required:!0,message:O("toast.inputOldPassword")}],children:A(lr.Password,{allowClear:!0})}),A(Rr.Item,{label:O("placeholder.newPassword"),name:"newPassword",className:"mb-2 px-5",rules:[{required:!0,pattern:/^(?=.*[0-9])(?=.*[a-zA-Z]).{6,20}$/,message:O("toast.passwordRules")}],children:A(lr.Password,{allowClear:!0})}),A(Rr.Item,{label:O("placeholder.confirmPassword"),name:"confirmPassword",className:"mb-2 px-5",dependencies:["newPassword"],rules:[{required:!0,message:O("toast.reconfirmPassword")},({getFieldValue:i})=>({validator(s,a){return!a||i("newPassword")===a?Promise.resolve():Promise.reject(new Error(O("toast.passwordsDifferent")))}})],children:A(lr.Password,{allowClear:!0})}),A(Wn,{className:"border-1 my-5 border-[var(--gap-text)]"}),A(Rr.Item,{children:Z("div",{className:"mr-6 flex justify-end",children:[A(un,{className:"mr-3.5 border-0 bg-[var(--chat-bubble)] px-6",onClick:e,children:O("cancel")}),A(un,{className:"px-6",type:"primary",htmlType:"submit",loading:r,children:O("confirm")})]})})]})]})},tQ=(t,e)=>{const n=l.useRef(null),r=l.useRef(null),{isOverlayOpen:o,closeOverlay:i}=Pr(e);return Z(ni,{title:null,footer:null,closable:!1,open:o,onCancel:i,centered:!0,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},width:600,className:"no-padding-modal max-w-[70vw]",maskTransitionName:"",children:[A(rQ,{closeOverlay:i,openBackListOverlay:()=>{var s;return(s=n.current)==null?void 0:s.openOverlay()},openChangePasswordOverlay:()=>{var s;return(s=r.current)==null?void 0:s.openOverlay()}}),A(YX,{ref:n}),A(ZX,{ref:r})]})},nQ=l.memo(l.forwardRef(tQ)),rQ=({closeOverlay:t,openBackListOverlay:e,openChangePasswordOverlay:n})=>{const r=ct(v=>v.selfInfo),o=ct(v=>v.appSettings.locale),i=ct(v=>v.appSettings.closeAction),s=ct(v=>v.updateAppSettings),a=ct(v=>v.updateSelfInfo),c=At(v=>v.clearPreviewList),{isLoading:u,mutate:d}=Ts(Hv,{onError:Ls}),f=(v,y)=>{var b;v&&((b=window.electronAPI)==null||b.ipcInvoke("changeLanguage",y),Or.changeLanguage(y),s({locale:y}))},m=(v,y)=>{var b;v&&((b=window.electronAPI)==null||b.ipcInvoke("setKeyStore",{key:"closeAction",data:y}),s({closeAction:y}))},h=()=>{mo.confirm({title:O("toast.clearChatHistory"),content:O("toast.confirmClearChatHistory"),onOk:async()=>{try{await ce.deleteAllMsgFromLocalAndSvr(),c()}catch(v){mt({error:v})}}})},g=()=>{e==null||e()},p=()=>{n==null||n()},w=(v,y)=>{const b={};y==="allowBeep"&&(b[y]=v?di.Allow:di.NotAllow),y==="globalRecvMsgOpt"&&(b[y]=v?Ko.NotNotify:Ko.Normal),y==="allowAddFriend"&&(b[y]=v?di.NotAllow:di.Allow),d(b,{onSuccess:()=>{a(b)}})};return Z("div",{className:"flex max-h-[80vh] flex-col bg-[var(--chat-bubble)]",children:[Z("div",{className:"flex items-center justify-between bg-[var(--gap-text)] p-5",children:[A("span",{className:"text-base font-medium",children:O("placeholder.accountSetting")}),A(fr,{className:"app-no-drag cursor-pointer text-[#8e9aaf]",rev:void 0,onClick:t})]}),Z("div",{className:"flex-1 overflow-y-auto",children:[A("div",{className:"px-6",children:Z("div",{children:[A("div",{className:"pb-5 pt-4 text-base font-medium",children:O("placeholder.personalSetting")}),Z("div",{className:"pb-8 pl-1",children:[A("div",{className:"pb-3 font-medium",children:O("placeholder.chooseLanguage")}),Z("div",{children:[A(ui,{checked:o==="zh-CN",className:"mr-4",onChange:v=>f(v.target.checked,"zh-CN"),children:"简体中文"}),A(ui,{checked:o==="en-US",onChange:v=>f(v.target.checked,"en-US"),children:"English"})]})]}),!!window.electronAPI&&Z("div",{className:"pb-8 pl-1",children:[A("div",{className:"pb-3 font-medium",children:O("placeholder.closeButtonEvent")}),Z("div",{children:[A(ui,{checked:i==="quit",className:"mr-4",onChange:v=>m(v.target.checked,"quit"),children:O("placeholder.exitApplication")}),A(ui,{checked:i==="miniSize",onChange:v=>m(v.target.checked,"miniSize"),children:O("placeholder.minimize")})]})]}),Z("div",{className:"pb-8 pl-1",children:[A("div",{className:"pb-3 font-medium",children:O("placeholder.messageToast")}),A(dn,{spinning:u,children:Z("div",{children:[A(ui,{className:"mr-4",checked:r.allowBeep===di.Allow,onChange:v=>w(v.target.checked,"allowBeep"),children:O("placeholder.messageAllowBeep")}),A(ui,{checked:r.globalRecvMsgOpt===Ko.NotNotify,onChange:v=>w(v.target.checked,"globalRecvMsgOpt"),children:O("placeholder.messageNotNotify")})]})})]}),Z("div",{className:"pb-8 pl-1",children:[A("div",{className:"pb-3 font-medium",children:O("placeholder.addFriendsSetting")}),A("div",{children:A(dn,{spinning:u,children:A(ui,{checked:r.allowAddFriend===di.NotAllow,onChange:v=>w(v.target.checked,"allowAddFriend"),children:O("placeholder.refuseAddFriend")})})})]})]})}),A(Wn,{className:"m-0 border-4 border-[var(--gap-text)]"}),Z("div",{className:"flex cursor-pointer items-center justify-between px-6 py-4",onClick:g,children:[A("div",{className:"text-base font-medium",children:O("placeholder.blackList")}),A(er,{rev:void 0})]}),A(Wn,{className:"m-0 border-4 border-[var(--gap-text)]"}),Z("div",{className:"flex cursor-pointer items-center justify-between px-6 py-4",onClick:p,children:[A("div",{className:"text-base font-medium",children:O("placeholder.changePassword")}),A(er,{rev:void 0})]}),A(Wn,{className:"m-0 border-4 border-[var(--gap-text)]"}),A("div",{className:"cursor-pointer px-6 py-4",children:A("div",{className:"text-base font-medium text-[var(--warn-text)]",onClick:h,children:O("toast.clearChatHistory")})})]})]})},{Sider:oQ}=Ms,zg=[{icon:DX,icon_active:$X,title:O("placeholder.chat"),path:"/chat"},{icon:OX,icon_active:NX,title:O("placeholder.contact"),path:"/contact"}];Or.on("languageChanged",()=>{zg[0].title=O("placeholder.chat"),zg[1].title=O("placeholder.contact")});const iQ=t=>new Promise(e=>{ek.imageFileResizer(t,400,400,"webp",90,0,n=>{e(n)},"file")}),sQ=({nav:{icon:t,icon_active:e,title:n,path:r}})=>{const o=KM(r),{navigator:i}=fe.useContext(YM),s=i.encodeLocation?i.encodeLocation(r).pathname:o.pathname,a=location.pathname,c=a===s||a.startsWith(s)&&a.charAt(s.length)==="/"||location.hash.startsWith("#".concat(s)),u=tt(p=>p.unReadCount),d=mn(p=>p.unHandleFriendApplicationCount),f=mn(p=>p.unHandleGroupApplicationCount),m=()=>{c||i.push(r)},h=()=>r==="/chat"?u:r==="/contact"?d+f:0,g=()=>{r==="/chat"&&h()>0&&ot.emit("TRY_JUMP_TO_UNREAD")};return A(AB,{size:"small",count:h(),children:Z("div",{className:Mt("mb-3 flex h-[52px] w-12 cursor-pointer flex-col items-center justify-center rounded-md",{"bg-[#e9e9eb]":c}),onClick:m,onDoubleClick:g,children:[A("img",{width:20,src:c?e:t,alt:""}),A("div",{className:"mt-1 text-xs text-gray-500",children:n})]})})},Dl=[{title:O("placeholder.myInfo"),gap:!0,idx:0},{title:O("placeholder.accountSetting"),gap:!0,idx:1},{title:O("placeholder.about"),gap:!1,idx:2},{title:O("placeholder.logOut"),gap:!1,idx:3}];Or.on("languageChanged",()=>{Dl[0].title=O("placeholder.myInfo"),Dl[1].title=O("placeholder.accountSetting"),Dl[2].title=O("placeholder.about"),Dl[3].title=O("placeholder.logOut")});const aQ=l.memo(()=>{const t=l.useRef(null),e=l.useRef(null),[n,r]=l.useState(!1),o=ct(f=>f.selfInfo),i=ct(f=>f.userLogout),s=ct(f=>f.updateSelfInfo),a=f=>{var m,h;switch(f){case 0:ot.emit("OPEN_USER_CARD",{isSelf:!0,userID:ct.getState().selfInfo.userID});break;case 1:(m=e.current)==null||m.openOverlay();break;case 2:(h=t.current)==null||h.openOverlay();break;case 3:c();break}r(!1)},c=()=>{mo.confirm({title:O("placeholder.logOut"),content:O("toast.confirmlogOut"),onOk:async()=>{try{await i()}catch(f){mt({error:f})}}})},d=Z("div",{className:"w-72 px-2.5 pb-3 pt-5.5",children:[Z("div",{className:"mb-4.5 ml-3 flex items-center",children:[A(Wc,{accept:".jpeg,.png,.webp",showUploadList:!1,customRequest:async({file:f})=>{const m=await iQ(f);try{const{data:{url:h}}=await ce.uploadFile({name:m.name,contentType:m.type,uuid:On(),file:m}),g={faceURL:h};await Hv(g),s(g)}catch(h){mt({error:O("toast.updateAvatarFailed")})}},children:Z("div",{className:My["avatar-wrapper"],children:[A(Sn,{src:o.faceURL,text:o.nickname}),A("div",{className:My.mask,children:A("img",{src:FX,width:19,alt:""})})]})}),A("div",{className:"flex-1 overflow-hidden",children:A("div",{className:"mb-1 truncate text-base font-medium",children:o.nickname})})]}),Dl.map(f=>Z("div",{children:[Z("div",{className:"flex cursor-pointer items-center justify-between rounded-md px-3 py-4 hover:bg-[var(--primary-active)]",onClick:()=>a(f.idx),children:[A("div",{children:f.title}),A(er,{rev:void 0})]}),f.gap&&A("div",{className:"px-3",children:A(Wn,{className:"my-1.5 border-[var(--gap-text)]"})})]},f.idx))]});return Z(oQ,{className:"no-mobile border-r border-gray-200 !bg-[#F4F4F4] dark:border-gray-800 dark:!bg-[#141414]",width:60,theme:"light",children:[Z("div",{className:"mt-6 flex flex-col items-center",children:[A(ho,{content:d,trigger:"click",placement:"rightBottom",overlayClassName:"profile-popover",title:null,arrow:!1,open:n,onOpenChange:f=>r(f),children:A(Sn,{className:"mb-6 cursor-pointer",src:o.faceURL,text:o.nickname})}),zg.map(f=>A(sQ,{nav:f},f.path))]}),A(nQ,{ref:e}),A(WX,{ref:t})]})}),lQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzBJREFUWEftl09SGkEUxr83VrmNNxBPEDxB8ARMnyC6yFBZBYbsNfsAZpWCLNATNJ4geALxBNETRLdazEv19PQwwADdAxIXTpULqZ55v/7ef8Irf+iV8+ENcF0PraXg9670iahKQBn6Tz0jBkYe8WXjkxj+F8BOT5YZ1AFQWQEwJHCjEYhRUVBnBVs9eUwabs8YZfA9AXfqfwZKBNrPAD0Q+KgopBNgotzNxDhf0Rj1xmcRw5mn80tWmHEG0Ifkt8KQToCtnrybqMM/wkDUl7mu3ZUXIPqYnBmGgX/k6mprwMS1fW2Ar8JA+DbG2j05NEpGzOJrTQxs3jNnrAHbPTkAqKpepDEfzLp1kVHtbvqt78WXYU0cvxDggLUNvm3WhCkpVrbS0GDchTX/wOql5JCDghrQxb0GJOvmMPCtbcbesr1Nu5cCXoeBWFX/pj67ZUCMwsA/tL2YOtfqygcielckPBwUzCQJ+NC28G4tSabLDKxqWqcv9/g5zuA4qYj4yLU/WyuoDGRjiYGLZuCfLCwvfbkXPVGfCEm9ZOfYdUoSdVi1uogxVPGkE1r1XzoLa9VLAxqr9uRVAT4DoZSUpkdvF6XGiXhwiV1nwFxIYzGGjetCDJX+zPzoESq2MTt7AScXm5fVHOgRSRs1yCGh8r7nBJhk5KnFHDhra0jE31wTxNrFKq6iJ++UiHOmF76Op2hGGl9EUONWOY3VBPdFsni2VGhbfB0xzldNJro04dhMMww+aQbiwiY0zJmlLtYZSTdT2ejBd3WVCo2IUVJwJkxsXb4UsNWVIyJ6n5SKW28XlSKlIqvYpJba1cWFgO2ePAfoyybh1Lc2Atj5KUu8Q3/SIhuhbDugroqvjQBmd4kigZ2F1JfdyWx50XnSm0eAl1YFGo/v80SYc3GStX9j9cD3zUBMdYZVCs3DaU/YPHmrxBxgdmph5kazJtSNCz3za+ryz+R1nTnAosvRItPJgDHZAAlq8d9X3gEjrYkeYZDXr/MA0zXRdX+wkXntJDHjueoWrrvHVgDXWY62AtjqyrqaggmoF53hloGa/qwn8tV92WncslFo02feANdV9NUr+A+tsb84OFo1ggAAAABJRU5ErkJggg==",cQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABG9JREFUWEe1WE162kgQfSWP2Q43GOcEIScIPoHRCWIWEV9WNjD7wfvhJ6v5UBbYJ5B8grFPEHKCOCcI2Tpjar5q/dCShaplx1qwQd16XVXv1asmOD7zf6KjreedEXEHQNcsY9wxsCZQPBqcXDlu1eg10t6er6L29ifNCTitfZdxR8T+MPDX2p5N/q8FKOD4J/0LQKKWBI35BxEMCGa0iei1/UEG98eBf9kERN27ewGWwTH4G4BJ+eOSej7AAqCT7ENEfDx879/8CpB7AU6X0YSI/kqj9sVroTvs+5t9H52G0SmBVlltjga9Vy8GMI3eVwBtSanXwlEduAzIPIw6W0YXhI13iNhljXaIygja0WDmi/HAn2gbvdT/1QCt9NIDvxp+8O9eCoC2byXAWRjdAPRWFo+CnipF9kf+XkY9gvc21cuU+diIVlJre9007b8M4PxT1OUtrUA4qonKhogWw/cnF1rkckWoetFmMIHfaOJbYHBhQ75lRoeIfi9oJSP2Wtx3iWZlBCVNHlGUSkwtSR6BY74iwsI+VNImTSc6z8AycDkOen0tknU6KOmQk28IfFwVxUSkSeQolb/6LpLK0M0OpN516gDKaefpt9cE7pdBzpbRJYjepZEejgf+QouIgGTQZ1dBr2XoLIxiq4U9KvBZGLMBB/42Dvw6chRw2wfbMvt/Dvx438FUs7C9h6QkNwSZ7BjWsjESAvHjKPDPtejlHcdaqzUCJ42bhZGYgTNbF21yaFGoAp5FH+DrUeD3nhxB/OedMbNEp10AuIzyGn2Ke3k2wFl4fQaw9GADbCeciS7aKdbSVI5Ok7V7zEK8sh20OBoAC6+FRSauqeP5nrF8FPTeuNagXTJaeRQA7nHQFzYwG4TNcmZ2k5lEO0VmnKxcAeA03EXO+EBCt67NFZm8X9Bz9pZGCJfSyAFOraJvYlLtvi1AiGiC37Yfy302Zb0Iv6lpZv4yHvj5rFPL4kcOWolceTNbeK3/ZLDKRgQBkpNNwGkjxI6UAOyidQl7pa5ZbU8hy5oO+djFyZiMyM8sjIWNbWlZ3iE6rotlbVqHMlwlw7zLw7gDaOIy7FPJWjkx0QCTgf6eVkSo6AJ8m8nPbqZOHHrpWWvyRHb9uJhTA04cCVNUdM98Kx6vbppL1uE8c0AmhcrMQ9n8IcwdD/xC16jKVmqXxCTkbPQ8nDcZ1DMDK/c64mQkiwee97qK/TRbxl+TSPDtKPBr68hmewKer+kQp01qtnxo2/RWiT1ZTVsFOF1G69x6MV+NBn79hZIDYbS+LCk2plTriaVh3lnHNIwqQG2DjLF8T58zUmiFre2ZpPXgj7RMOgCbUUFIRvDMzRjh4Ye0WSfDaksRnpnawl7aSYAbJ4BPkaJ93y737jqM5i5SPwQwXUZmBG06HFXKlBF4MyMbmSLgaKeLZtDP7xU9QqwCLBrTZsORy+GfTRJtAxcQde9o++sRLI6Izr3aFbg9yFc5KR2gueVPLs29B3Rf4q5Q2q1cMlU5+P8BM0YCul9ZJsgAAAAASUVORK5CYII=",uQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABIhJREFUWEfNWEt2GkcUva8UNI2ygqAVBK3AaANR9wpsDQQnI/HJ3GgeBBnlQAaWV9DNCoJXYLQC4xUETW3TN6eqP6ouGmgkcFQjPvW59d59775Xghc+5IXjQ2mAg3fBCb8dvSIjT4AqgLp1uQWAGSkzUTKVH5Yf2pe+/u3ZYyvAwV9BNTqStwJ4AE5KnrggEKolb9q/+fOSawqnrQWoLYZv6ppk71kHiPTaVxc3T92jEOBgHNQIeQegtroxJyRmSmFq/xcRVSHqBDwR+dFZN5Ml/adYcwVgAu4f250kHyBoqQrCMtzqj4M3AHoC+dnmqYDn7YY/28WaOYCabzySj3mucSIVvCkDzD7YBNVX9AC5zgeT9GQZTcpaMwMYbyjacplbCV52G/7dLjd252prSkwXd0xlycttQDOA/VHQE5G36S77AJfutQEkSBl2mxftdUYwABPXfsomke87TV/zaG/jdhwMHXfbe0+lQr+IRgbg7Si4g8hr/ZngZ1VBbVfObbuJplD0BfOCCE+XzqTCc/dcSbinrWeS8D5du5WP5PvUMMncaafhndvr5I9R4CmRwIAjH9Qxqvu2XnpgYox/0+8R6SvRkvkY6SRvuk0/EwfJceMA3HOtaNMJyXm534CFLHmWRrcGOAXk1aHdm0X0KGiJyCD+zg+dhl9f4adlKLkdh9rkhn8iPG9f+TkJSyhwrSsVOx3Em8b5TQlvbIXI1gBzVWHbpszg76BOmnyrCT/vNL1T/dFJRQup8FSv0wCZ3s4F6HKGZLvb9Icm8sdBCMhFsnbWaXhnlpUWabTaa/T/OYAAOg1dvcWjPwoe1yUisRlgLH1ZflwHkOR9t+lnCmRf2iV9ovVaTs2wARbFg/THwTwV9SIX90dBSxcKQkzlGK3UXfFB6JGoKoWWTY3HYgEzV8c3WtCWxcT93z9IctocB0mWhmx+JtbNpxlw0mn4unI+2ChKMxlAh1La/blEDWDRaXg/HQydCa7HrOGqVhE/jdTZGvm9pK5ItYr4GRcLdqVBzOWYZ/uWO5OyvshHiOkIta6uVEw6IN0kXlxugX92Gn5rn652yy1Z8tQtVvO5NcawtmDVQv570w/3AdItWN3caBK4EyDp+bmexM6JRZs8BWwBuHt1jLpLIdvCuibtNnxDhRzAXOHglD27gku1WsQ0/Ant+KAi1FzXusFhG6c0QO2CbQ2OcZUJBnUBodbs7CXCRK2gXtR23o7CT2nwuBX9RoBKEEZUrwX0kg0W1JIHCSGSe9IQYT2KWLMtZlnuXkXw1l3Q1m6X+2sB7urSdfO1u9QxhpvS1qaK6iAAtTsFCCVCb4VvBVTZBaBd46XEvgdwpwTTpa5cTA+BGonaug6NwJ2ICkEkT3DU86uaBsnDgHn90nM6V79OSgNMSihN7vj5bMtbjI6+KMJQRH55BiX0JbJgcku+re+DZQ429R+hZeo5QM1RBwGYlUvjoBYRdYlpEPfZxImIcbXJAEphZp7qzINo1jJkdnAlcC8WLGPlojkmmX+Fbko8xhebuvXo/wqwzMVePMD/AEBNHlYa+WgSAAAAAElFTkSuQmCC",dQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArRJREFUWEftlk+OEkEUxr/Hn6E7YhyWJjSOS2Ns4ATiwvXgCYQTOHMBB+MBZE4gcwLxBOIJBnpiXIr0JCZuhsQx3ajwTAENTVPdXZA4bOxtv1fvV+979VURdvzRjuvjP8BGHbAGoyqAQwZXibAfkK/NlGhPbqXfl3M0VJVWCeDT5a/SmCdvAFTiFmZGn0DHZiHTjosV/2MBrEunBqa3KoutxDC1zEKmHpcXCSAtznxGhFYqhf6Du3pfFLiwncqEqIQJGkS4syiqABEKIBZl0AdvMQZ/TQC1R4beCdvV52/Owe8/aAH02Jf3qmjojbCcUICe7Qgt780Te+NspqI6XNbAaYHouVc0neL7XreCIFKAYOuTlCg/zO914/T0/p9f8X7i2u0uNsB8Zhb0mixfDjBw2yAcigQGR7YwDMovITOGxYKWUwewXfaCCfwkSveorlgK66x1QLQveT268hY2DS32qIZBWLbTWQwk0zOZN6wtHpj+nmloJVXtg3E9220S8CJKyjWAueudT5MitFOBsvyzRDgu5rWm2inwaRd1hOIg/Ec5bJbkp8B2xZErTguEaBdXPDhL42wmJ/MRKcCKdoz+5HamrGpCHljAjEJnSQows1T6srRTnBYN7Shu18vioyqI3y3iietmXm8p+4AI7NlOg0AnPoijoqGdxkGIUzRmaicWlxJ/NA099BqPvg39szCr3EmnuC7z9anmP0YnIKx2ivi1mddfhoFHAswHSdx+s4Gcfwx0ialLhD4z74MgvCL8sbKNBF6x2c7cpv92i5NBKAjm7yB6GjcHyjY7c0g0/Hd9EES8GYjQEAMn7Z6kE8oAKx356VaZcbDcHQ33ktwOzoYKxMYACu1fCZFB+N31nwMImiAE++6FGwFYQrjTp/o4q1U9Z70xgK18YFO9t4nfeQf+AleYTTB0yJuvAAAAAElFTkSuQmCC",fQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAARlJREFUWEft2c8OwUAQBvD5XCpu7hoOiAvPI04egRfA83gaLZeKxL/GyVVqD4y0IZFIzEqXOEyvM51++W2zbVqQo2OxM90reJKOAzBqV7ypi9FwMYSZMY/Nkojq93lRxy+2XMx2EvBw4NLxYk7PgcrklXwfSd6QGlAFbQT0HrRRetejgiqYQ0A36hx42akqqII2Al/dqMM46fMVY4BqNmF+1cNMGxCGCHbn9b+FeyAw0QzBPkmTVn8l8+F1AmRLzDT5t5BMvAUXBroPfrikL+0qqII2Al99ktgEkHo0oCQk1VVQEpLqKigJSXUVlISkugpKQlI9/YgexiYCUePeu2pXvCYAls6V6k5et9KLhHvTI+JR9jXA4W+IG4DoOyrtTpDCAAAAAElFTkSuQmCC",mQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAlxJREFUWEe9l1Fu00AQhmdMaWwpiPKIFEfwiBB2egKaG+QGpCegnIByAsoJGk4AnCDpCVpbQryiOFIfCVIlO4Vm0Drx4qx3N7tOE7/uev9v/5nZncUoSU8R8D0QDoJ24xh28MXj2Tkg9QnoA8ZJRlxzBxCFeKGJcZKOAPD1LiBEcQC6wMtfdPDgZjYCgHCbEFVxiO6ajSNkotuGUIkfPsFpDrBNCJ040+UAKghCeBe23LM6xRFNshMk+Fj6N7ed7ZwnobiwNBxIx0HLG9hAxJO0D4TnOvGKA8Xk75Pbzt/5fIQIj/kCFhCiOBH83n9InRdPvZ/iJlZCUB6sCyET33Oco5et/SuZg0oANtkWwlZcGYI6TtQRNwIwcaKuuDGACgKBumyMAIeFayzhdDE3TkJZwog5QQR5PSPCQQ5iKW7lQAEUj2c9QPoiz2jqvvI9dq8Yf9oqUK3Ce4jSBHa3h753aqy8nGgNsAzDsLC9FPvpnuN0VfWuArMCUIlvAmEMIBVHWrRwpTOfJaaNE0YAP67TZ7d/8HLF9tLdIDkHpvNHjeflW692CNjt6NzMhgjQ4YtILqYKBMDVvNnoroPQOiAT12W7WB1kAKEEkO6c6HPQ9vq6UovH6QAQ3/DEXAMhBagr/v+wMoeoAGwqbgtR6QkrCWdguyokJuFY6YrvU1znROi7h8U4B6i0zxvsXHREdKL8Ds0BoiQ7Q4C3/EeCb0Hb7dleLNrqEJ6ABPAp9N2THCBOMtYwFk+zSu9+HyCSdj8KfLezAOA9PF3cNd3eutOrLtACIvuaP4aXp+k/32PcQHrGNl4AAAAASUVORK5CYII=",hQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAKJJREFUWEftl7ENwkAQBOccQQQNuAQQHSBRAZXgGqAgWsBuwSVAA5BBwqIXIjEifN7BXvjB7d58NAHQnx9bhXaIVQTz9JZzBG2FDot62kYKJ3TMGfhrd6BN9Jf7CViXKAB0qcCzUDgS168Cy3pS5Sw0PNgFTMAETMAETMAETMAETMAExkcgpxMMd0vcRqBmpeX0o+eEGr31fPaHb+gC7ZOevwCmR+8OKSpgxgAAAABJRU5ErkJggg==",gQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAECAYAAADmrJ2uAAAAAXNSR0IArs4c6QAAAE9JREFUKFPN0e0NQEAUBdGZSuiAUrRCAbRoFeBjq+DXE4loYd0G5iTXJV9dGKPQUnAR7OJgyueq1AUtXzpgfkCbUv0ElHwvm4SmJCqCQ+xvHXwc9A04rjMAAAAASUVORK5CYII=",pQ=()=>{var t;return va("esc",()=>{var e;(e=window.electronAPI)==null||e.ipcInvoke("minimizeWindow")}),!window.electronAPI||((t=window.electronAPI)==null?void 0:t.getPlatform())===_h.MacOSX?null:Z("div",{className:"absolute right-3 top-3.5 z-[99999999] flex h-fit items-center",children:[A("div",{className:"app-no-drag flex h-[14px] cursor-pointer items-center",onClick:()=>{var e;return(e=window.electronAPI)==null?void 0:e.ipcInvoke("minimizeWindow")},children:A("img",{className:"app-no-drag cursor-pointer",width:14,src:gQ,alt:"win_min"})}),A("img",{className:"app-no-drag mx-3 cursor-pointer",width:13,src:hQ,alt:"win_max",onClick:()=>{var e;return(e=window.electronAPI)==null?void 0:e.ipcInvoke("maxmizeWindow")}}),A("img",{className:"app-no-drag cursor-pointer",width:12,src:mQ,alt:"win_close",onClick:()=>{var e;return(e=window.electronAPI)==null?void 0:e.ipcInvoke("closeWindow")}})]})};function Bs(){const t=jd(),e=tt(o=>o.updateCurrentConversation),n=async({sourceID:o,sessionType:i})=>{let s=tt.getState().conversationList.find(a=>a.userID===o||a.groupID===o);if(!s)try{s=(await ce.getOneConversation({sourceID:o,sessionType:i})).data}catch(a){mt({error:a})}return s};return{toSpecifiedConversation:l.useCallback(async(o,i)=>{var a;const s=await n(o);!s||((a=tt.getState().currentConversation)==null?void 0:a.conversationID)===s.conversationID||(e({...s},i),t("/chat/".concat(s.conversationID)))},[])}}function Qc(){const t=At(n=>n.tryAddPreviewImg);return{sendMessage:l.useCallback(async({recvID:n,groupID:r,message:o,needPush:i,isResend:s})=>{var f,m,h;const a=tt.getState().currentConversation,c=n||r,u=(a==null?void 0:a.userID)===c||(a==null?void 0:a.groupID)===c||!c;i=i!=null?i:u,i&&(_2(o),ot.emit("CHAT_LIST_SCROLL_TO_BOTTOM",!0));const d={recvID:(f=n!=null?n:a==null?void 0:a.userID)!=null?f:"",groupID:(m=r!=null?r:a==null?void 0:a.groupID)!=null?m:"",message:o};try{const{data:g}=await ce.sendMessage(d);if(s){AX(g);return}Oo(g),t([g])}catch(g){Oo({...o,status:uo.Failed,errCode:g.errCode}),ce.setMessageLocalEx({conversationID:(h=a==null?void 0:a.conversationID)!=null?h:"",clientMsgID:o.clientMsgID,localEx:String(g.errCode)})}},[])}}const vQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAABgVJREFUeF7tnVtsVEUYx38DaKvIVWkRKhcRqUEDJBoUjWgTRMUIQSIJUCuJEfESeGsRAvqAdPVBiVcexAtiRBKlDTVKiAEJAYkaMGqL0NCgYKlcSqnSBumYr8vSZaF095yZndPumded73/m++039zlzFJdLpboPMBWYjiIfGAT0uqxN1/vxFJpDKKqAL9CUU6JOtuemuuQPy3UuPXgRzdMosrseIx8eaZqAVZxlBYvVkUSli4GW6inApyh6+3hs1zfVNKAopFiVxzvbBlRrxassA5YCl47cro8pVQ81mqUUsxyltBi3gYvo2cAnqSqG+YEW5rJIfdgGNKLvR7MJRY8QkCcCZ2jhYRapzdEILdUbUK29eZi8EtCUUaKmKV7TObRQG7abXkmet9MoBiki+hngXd9yoYAQmC9AtwATQx5GCGxVlOp6FDIjCpNfApqTEqEy8s/yqxXatxJoFqCtA9IwmSEQAjXD8bxKCDQEapiAYbkwQkOghgkYlusUEZrdPep101nD3luQCyTQgT1hTA7k94e+CfsF9U1QdRz21EHtPxaI+JQMFNBhvWHiEBiW5Lyt5iRsPQg1DT4pGDQPDNCxOTB1pDfPyvbB7jpvtqatAgF06k0wNtefazsPwzcH/GmYsHYO1E9kJgIIQqQ6Bdo3CxbcbiIu2jRW/gD1zWY1U1FzCtREVU90dvcRKNufCgKzeZ0BtRGdMTQuo9QZ0DsHweThZqMjpiadk3RSLpIzoEW3Jj/eTBVM1TFYJyeRHKQuCVQG/B/94oBm69axoxX7ZXfbdfjl7Xb121N3BrR4PGRbOqci8/2VP2YYUJttaEZWeRtj0FhMuhyLOqvysjQ38xY71XJdZXSJz0VyBlQWjWXaabodbfoPIt+7QBl9pjOg8vCJN8B9Q8w6v+UgbP3DrGYqak6BSkHnjYGB16RS5Pbz1jbCqj1mtLyqOAcq2x3S4/ut+lLVZTDvelvEOVCJBL9QgwLTeRsaX61k9WlmfurVX6q5zNtdroHG+xGICI0vkKzgS2eVuNuZ2KbJbEg6n6DsJcXKFzigsYJJMzBKtpGz2uAKRInEvcfdt5WBm8t77UWDbhfYCA06uEBF6ICroWAIjOwPN/eDvF7Qzee7e381wr4TUF0POw7D75kw9eyXDYvvgufG+R93dhTB5fthxc70b4Wkrcrfkwfl00GgpjOtr4LHL3i91e7T0wJ0XC5smwU9r7DrTHvqMrx6cD3IBMB2sg60fzbsmRttJ10mOVUy7Uv7JbAO9O1J8Ow4+44k84SiCvj412Ryes9jFaj05nXPey+cacvDjTD4HdOqF+pZBTpvLLz3gF0HUlV/ogLWWIxSq0BXPwRzb0vVZbv53/8Znvra3jOsAt1VCHdcb6/wXpRl0D/B4r0VVoGeWBBd3AhS+vtfyHnLXomsAm1YCL2utFd4L8pHT8OAN71YJmdjFejRF+Daq5IrSLpyHToFeRavW7AKdPtsmDA4XaiSe87mGpj0eXJ5veSyCvSNAvNHvr04GW+zfAcs2eZXpX17q0BlDv9Tkb3Cp6osNwOMXg2Vx1K1TD6/VaBSjI2PwZQRyRfIZs61v8GcjTafkIaTI32yQNrS0dfZdaQjdTkiXvAZnLa84mQ9QsVRGYtWzHDXQX1VDTPK7MMUX9MCNBY9haNBjjEWDLW/0CzjzU0HYMN+kEXmdKW0Ao13SvbfO9p79wpBtptd7dc7A+oVVtDtQqCG/6EQaAjUMAHDcmGEhkANEzAsJxEaXiZoCuq52xlrgKGmNDNcZ6/cHxrev2wqCjRlUuUXAq+b0sxwnfmKV3Q+3anMcBBm3G9hePRUZkTLTvVkM6oZqnL+2vUo0FGAvDIVsE3fTvPnNHOGESxRh9rODa/QT9KNDzqNC8Eq6ByK1droemh8iuiXoPUDK2FKloBmESWqNJb94pPtEf0omjXh5386ICqf/4FZlKiK+JyXflUgovPOfX3hkWT/qAzLJ1t98ylWfyb6ffl3L0r1vSjkSzbjUdyIZjAKQ+8Od5K/QNMIyC1Q1Sh2ofmWEvVde6X/H5aB9XxfLmc6AAAAAElFTkSuQmCC",bQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAABYFJREFUeF7tnUtsVFUYx39HSMCAipAgoDzEoCWBBIyGBYlQXRjQCOgGUGO7MZK4gI1t1UBdYGd0UXbGVWt8sZKHj6oxPExIAEnAYNIaUGoBqSQVWiG2QXrM19thLjN3pp17zrSTme/bNM2533/O+c3/Pr4zM+cY8kXC3gOsA57HUAXMAe7Km1N+jf9guYihA/gCy37qTW+uYZrIhp32PibyJpZXMUwuP0YOI7L0Ax9ykybeMn9lKmUDTdhngM8w3O3wsuWfaunD8DJ1Zn94sGmg1hreYwewHYh2bvljKnSEFst26tiJMVaS0+CS9kXgk0IV9XhgkFoaTGsaaNJWY/kew0QFFIvADQZZS4P5IXBowu7FDN3NNeISsOyj3qw3vG9nMki3XjfjkryVZzHMMSTta8AHznIqIAS2CNBDwCrl4YXAYUPCXsUgFZGGKwFLrzhUnvwnuWpp/hCBAQE69ECq4YeAAvXD8ZaKAlWgngl4llOHKlDPBDzLqUMVqGcCnuXUoaUK9JUlsHouLBjDIrazFw6dh49+8UzFQc6LQ1vWQM1Sh144praehto2RxFP6c5Al82EkzWeeuMgs7wVTl12EPCU6gx062PQ/KSn3jjIbDsAu044CHhKdQbauBJ2rPTUGweZd45A4xEHAU+pCtQTyJSMAlWg0QT0lPfsDAWqQKMJjOYuf6gLVs/LTdC1XZQrwqFSGsoD99UBmDYpKADCpalre/gtkvKzNUYJ2v8fdPQEffQRRb3Ly4O2PHCnQgoAKQRS4doeBnD4PBzuio+k7Rwc/TN+/pg8NkkpKA5NhThUStVUuLb7BCpazSfcnVpUh0onZeJCZoRkJipqAsW1PQXV1aGis+csnMr6TnJhri060MK6E/9oH0DljT/ocNmQ3ivQ0HuoQEMw1KHxz+7ITAWqQKMJjKZS8sxOHTomQLtATnuXKImbktToBze6DMNPbvXuoISsXQqTJ6Q1+29Cy2novg6zpmS3h1+9JIBKjX6qFuaP4+/u/uiDZS1BlbN+ESwPVWMnL8PeM2lsme0lB1Q6JOXkrqdg1Vw/bitEpb0HNn+Z/sRz42JYPD2t0P437G5P/5/ZXpJAw50SuNOGf277+qPwwsO58Xx3DhLHAkeFa/zMjGOXoOdfmHEnrJgdtMoskZzGEm2/w6XrMHsKrFmY/XojtacySuKUz+cmqd8Pboo+Qqbbar4J2qrnBbX+eEfJAxVA9o1sTGGYCrRAG+3dAOsWpZMyYSrQAoHWLIGWtUFSFEwFWiBQOVygSuT6iEKvoTGg5ktRoAo0JwHnCWYfbKtmwCZZc2ec4/OOoHx1iZIAKrX3tsdvr8FdBhUnV2r+5p9A/rpESQCVAYhLNywaH6gCcc8Zd3fKOEoGqHRGnDpralC63hvz99FV04NZpVxx4RqcvRK0XhmAq/3Qfc3dmanXKymgLqdaOFem8BbkmP3ycZ3M18+yBCpOF6hRTm066s+NUWDLEmjq8pEJtbMvmGwuZpQt0Ciovr6/VHGnfHjAcvqn5khlXtT1sWgkd5e1Q0cafDHaFahnqgpUgXom4FlOHapAPRPwLKcOVaCeCXiWU4cWAaguJugL6vDqjJ3AfF+aFa7zq6wfqusv+3KBZZ9cQ7fKb558aVa4zhbDu7aKCYS+8FfhSFyGP8iDwbLrSfst8LSLVsXn3lp2PQD6CPCzLh0c2xYD3OAh3jYX01tXNNka7qAltmRlJ75EnflUENy+iUrSNsLQBisaoyVgaaDeJFKHZ+9Kk7TPYflYt/8Zgahs/wObqTdfh4+M3uYnaR8Y3n3h2dG+URV23FeyqwJ15kLmuPPvm5SwT2CQnWxWYFiI5X4MUysKnuUaIGs9/IbhOJYD1JsfczH4H38bf4ukmW5cAAAAAElFTkSuQmCC",wQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAABtlJREFUeF7tnXlsVEUcxz+zrVIQhCICLRiOEkHOLajgkUqDQBC5gxgqQS6hTYwmJF6JHEaCBBETI9uqCAotaASlQCBA5FCBELEthxyGwwQKGDxKq6FQdsx0eyz0YN+b2ddtefPvzu878/u839v5zfHeE9RSZEa/5kj/KJBjkXRDEA+iWW02De83WQjiPMjjSLkeT3S2mHmwoCY/RXU/yE97tqEk6i2E5yUgpuFB0vLoKsgMokoWihlHLt2qVAWozPAOxy+yENyr1WxDN5ZcQTJJpOVkB7taAVRKBOneuQjmgKg2chs6I+v+SQlyDjPzFgiBVPaVQH3eFIRYbV3UtUDKKSI1d2UFUJnRJxm/ZxuCaBePLQLX8fOMSMvZURqhMt37HYhRtqRcozICcoOYlTtaSF/v1gjPRfd/UzcypOTGtXgh0xNnAT5dOde+lECqkD7vLoR4ygVigICUu1WE/gM0NyDnSkCBitCrCNHIpWGAgJTFKkJLE1K3mCHgAjXDsULFBeoCNUzAsJwboS5QwwQMy7kR6gI1TMCwnBuhLlDDBAzLRU6EJgyBzoOhZQLc0xruagJFl6Dgdzi9HX7bCtf/Ney+ebm6BRp1N/QYD96p0Di2du+uFUHOcjiUBf7r5kkYUqw7oLGdYehSaP6ANVf+OgVbXoaii9bsHKpdN0DbJsKo5fZdLC6ADVPh7zP2NcJk6TzQJq1g/NcQ00LPpcJ8WJcCCm4EFeeBDlkMnQaZQXBoNez7wIyWIRVngbbqBuOyDHUdKCmGzGFwVW06REZxFmjyfHhwhFnP938IeV+a1dRQcxbolN1wt+HDe5ePw7qJGgjMmjoHtEVHmLDebO+Vmv8GfNYfpN+8tg1F54DGJcJIjVSpNufWjIAr5224b97EOaDtH4PhH5v3QCmuHROYokZAcQ7o/d1hbJgO960aAv9djgCc4BzQqEYw7ScQHrOOFxfCysg5+OIcUIVxzCpo3cMs0NM7YPtrZjU11JwF6p0M/V/R6G41pttmw5mdZjU11JwFGh0DKVsgxtBRKjWfz1IThcg5/OIsUHXluwyDQQs0YiDIdHManNtvRsuQivNAVccHLYQuQ/VcOPAR5KzQ0wiDdd0AjW4UWFxuP8CeSz8ugqNf1WCrc/vrP/xSN0DLUfR4Dp58I3SoahtEjejV3ublIHWg6GvULVC1MddvBsQmhAY1/yDkfA7n9oVW33YtBdbehXEeaLM46D4euo6Exi3tuVx4AY6tg2Pry9ZCbwEQ19e67p8nQd0BpaU+AFW7mk+8DioqTZYja2HvYlAPtany+GzolWK9hWuFsEJ/xuVMhHZIgoHz9PeRasL07ST442jg1xGfQPzD1oEqi2+eBxWpGlEafqB9p8Ejabb/k0Iis3MOnNwUqBrfDwbOh2bxIZmWVlLReWIj7H0/dJsaaoYXqLrFe07Q7uRtBfJ/ho3qSXSdlKm8FTUYReJ/6ENjIOnt27IwVmHPu4GByuboXNkPvdQpPBEazrXP6q6AumUzhweN0rqXKZIiVB3yUntH6sCXU0WN8ofXBFprGgddbeysqr+NC79oDUjK2HyEPr0IEgY7hTLQTvb0ShhDl0DHZHvtr0jSzkXNAjV9kCFULA0WqFrw6KifHIfKsaJe8C2vZmJqFma1XD4BZ3dZtapS31yEqrxvYlkuqN0tiwIVg1JhkKGVuXhwuhUpaVOfyTDA8PaGFa4/LIBfVdqkWyIlbRr9BbTppeuNPfuKxN6eeVWrSEibpu8HdcS7Lkrw1FOtNCW/Y2PqmQ17l2j33tx/aDgOgoXqXvAor7M4oiYHRRe0clFzQNVqkp3RNVRotdULBtpglu/U1vC4NdC0rQlE1jQOZ958u6oVJ6tFpU0VC8xWjSvrm4tQpdn4Pug7Hdo9CrGd7PfKjuVNa5l2BIJtImFQ0vVB214v3als3j5MpWE2QrWhmBDQWRO1Mhmovq8NEKiJi2JfwwVqn121li5QF6hhAobl3Ah1gRomYFjOjVDjQN2XCZpEqt7OmHgWQQeTqneslpQnhPv+ZZOXX24QMsP7KlIsNSl7B2ulCpnRqxsy+tgdDMGc61J2Crx23Ze4FYHmUwTm+lU/lcpeu14KdFnvrghPnvvqYJuXUspikAkiNe988KcrXkSIyHtOxaaPjppJ+YJIzc0sXQ8Nblj6vPMQYq6jnanvjUneFKk575W7UfXzP8sSRyJY5X7+5zZXWn3+xyMnipm5m4Nr1vCBqt7tKfH4EOLZ+h5AYem/lJuI9qeKGYfO3apf65q/TE9MQshk/EK91KMz0A4hmoalk5EqKmURgnykOAXyAEJ8L2bl7Kmpu/8DVFRq/C4ivrcAAAAASUVORK5CYII=";function rl(){var c,u;const t=tt(d=>d.currentMemberInGroup),[e,n]=l.useState(!0);l.useEffect(()=>{const d=t==null?void 0:t.groupID;if(!d){n(!1);return}async function f(){try{const{data:m}=await ce.isJoinGroup(d);n(m)}catch(m){n(!1)}}f()},[t==null?void 0:t.groupID]);const r=(t==null?void 0:t.roleLevel)===mi.Owner,o=(t==null?void 0:t.roleLevel)===mi.Admin,i=(t==null?void 0:t.roleLevel)===mi.Normal,s=(c=t==null?void 0:t.roleLevel)!=null?c:0,a=((u=t==null?void 0:t.muteEndTime)!=null?u:0)>Date.now();return{isOwner:r,isAdmin:o,isNomal:i,isJoinGroup:e,currentRolevel:s,currentIsMuted:a,currentMemberInGroup:t}}const Pd="LAST_FLAG";function Qf(t){const{groupID:e,notRefresh:n}=t!=null?t:{},[r,o]=l.useState({offset:0,searchOffset:0,count:20,loading:!1,hasMore:!0,groupMemberList:[],searchMemberList:[]}),i=xr(r),s=l.useRef("");l.useEffect(()=>{var p;const d=(p=tt.getState().currentConversation)==null?void 0:p.groupID;if(!e&&!d)return;const f=({data:w})=>{var v;if(w.groupID===((v=i.current.groupMemberList[0])==null?void 0:v.groupID)){const y=i.current.groupMemberList.findIndex(C=>C.userID===w.userID),b=[...i.current.groupMemberList];b[y]={...w},o(C=>({...C,groupMemberList:b}))}},m=({data:w})=>{var v;n||w.groupID===(e||((v=i.current.groupMemberList[0])==null?void 0:v.groupID))&&setTimeout(()=>{c(!0)},200)},h=()=>{ce.on(Ue.OnGroupMemberInfoChanged,f),ce.on(Ue.OnGroupMemberAdded,m),ce.on(Ue.OnGroupMemberDeleted,m),ce.on(Ue.OnJoinedGroupAdded,m)},g=()=>{ce.off(Ue.OnGroupMemberInfoChanged,f),ce.off(Ue.OnGroupMemberAdded,m),ce.off(Ue.OnGroupMemberDeleted,m),ce.off(Ue.OnJoinedGroupAdded,m)};return h(),()=>{g()}},[e]);const a=l.useCallback(async d=>{var h,g;const f=d===Pd;if(i.current.loading||!i.current.hasMore&&f)return;o(p=>({...p,loading:!0}));const m=(h=tt.getState().currentConversation)==null?void 0:h.groupID;try{const{data:p}=await ce.searchGroupMembers({groupID:(g=e!=null?e:m)!=null?g:"",offset:f?i.current.searchOffset:0,count:20,keywordList:[d===Pd?s.current:d],isSearchMemberNickname:!0,isSearchUserID:!0});s.current=d,o(w=>({...w,searchMemberList:[...f?w.searchMemberList:[],...p],hasMore:p.length===w.count,searchOffset:w.searchOffset+20}))}catch(p){mt({msg:"getMemberFailed",error:p})}o(p=>({...p,loading:!1}))},[e]),c=l.useCallback(async(d=!1)=>{var m,h;const f=(h=e!=null?e:(m=tt.getState().currentConversation)==null?void 0:m.groupID)!=null?h:"";if(f&&!((i.current.loading||!i.current.hasMore)&&!d)){o(g=>({...g,loading:!0}));try{const{data:g}=await ce.getGroupMemberList({groupID:f,offset:d?0:i.current.offset,count:d?500:100,filter:0});o(p=>({...p,groupMemberList:[...d?[]:p.groupMemberList,...g],hasMore:g.length===(d?500:100),offset:p.offset+(d?500:100),loading:!1}))}catch(g){mt({msg:"getMemberFailed",error:g}),o(p=>({...p,loading:!1}))}}},[e]);return{fetchState:r,getMemberData:c,searchMember:a,resetState:()=>{o({offset:0,searchOffset:0,count:20,loading:!1,hasMore:!0,groupMemberList:[],searchMemberList:[]})}}}const yQ=t=>{const{data:e,isChecked:n,showCheck:r,disabled:o,itemClick:i,cancelClick:s}=t,a=e.remark||e.nickname||e.groupName||e.showName,c=o!=null?o:e.disabled;return Z("div",{className:Mt("mx-2 flex items-center justify-between rounded-md px-3.5 py-2.5 hover:bg-[var(--primary-active)]",{"cursor-pointer":r}),onClick:()=>!c&&(i==null?void 0:i(e)),children:[Z("div",{className:"flex items-center",children:[r&&A(ui,{className:"mr-3",checked:n,disabled:c}),A(Sn,{src:e.faceURL,text:a,isgroup:!!e.groupName||e.conversationType===ln.WorkingGroup}),A("div",{className:"ml-3 max-w-[120px] truncate",children:a})]}),r?A(er,{className:"cursor-pointer text-[var(--sub-text)]",rev:void 0}):A(fr,{className:"cursor-pointer text-[var(--sub-text)]",rev:void 0,onClick:u=>{u.stopPropagation(),s==null||s(e)}})]})},Wv=l.memo(yQ),CQ=({menu:t,menuClick:e})=>Z("div",{className:"mx-2 flex items-center justify-between rounded-md px-3.5 py-2.5 hover:bg-[var(--primary-active)]",onClick:()=>e(t.idx),children:[Z("div",{className:"flex items-center",children:[A("img",{width:42,src:t.icon,alt:""}),A("div",{className:"ml-3.5",children:t.title})]}),A(er,{className:"text-[var(--sub-text)]",rev:void 0})]},t.idx),Ku=[{idx:0,title:O("placeholder.latestChat"),icon:wQ},{idx:1,title:O("placeholder.myFriend"),icon:vQ},{idx:2,title:O("placeholder.myGroup"),icon:bQ}];Or.on("languageChanged",()=>{Ku[0].title=O("placeholder.latestChat"),Ku[1].title=O("placeholder.myFriend"),Ku[2].title=O("placeholder.myGroup")});const SQ=(t,e)=>{const{className:n,isCheckInGroup:r,notConversation:o,showGroupMember:i,chooseOneOnly:s,checkMemberRole:a,fowardContent:c}=t,[u,d]=l.useState(""),[f,m]=l.useState([]),h=xr(f),[g,p]=l.useState({keywords:"",searching:!1,canSearch:i}),w=l.useRef(null),v=l.useRef(null),y=l.useCallback(E=>{const _=h.current.findIndex(P=>P.userID&&P.userID===E.userID||P.groupID&&P.groupID===E.groupID&&!i);if(_>-1)m(P=>{const M=[...P];return M.splice(_,1),M});else{if(s&&h.current.length>0){mt({msg:O("toast.beyondSelectionLimit"),error:O("toast.beyondSelectionLimit")});return}m(P=>[...P,E])}},[s]),b=l.useCallback(E=>f.some(_=>_.userID&&_.userID===E.userID||_.groupID&&_.groupID===E.groupID&&!i),[f.length,i]),C=()=>{d(""),m([])},S=E=>{m([...E])},{run:x}=gp(()=>{var E,_;g.keywords&&(p(P=>({...P,searching:!0})),i?(E=w.current)==null||E.searchMember(g.keywords):(_=v.current)==null||_.getFilterCheckList(g.keywords))},{wait:150}),I=l.useCallback(E=>{p(_=>({..._,canSearch:E}))},[]);return l.useImperativeHandle(e,()=>({getAdditional:()=>u,getCheckedList:()=>f,resetState:C,updatePrevCheckList:S})),Z("div",{className:Mt("mx-9 mt-5 flex h-[480px] rounded-md border border-[var(--gap-text)]",n),children:[Z("div",{className:"flex flex-1 flex-col border-r border-[var(--gap-text)]",children:[A("div",{className:"p-5.5 pb-3",children:A(lr,{value:g.keywords,allowClear:!0,spellCheck:!1,disabled:!g.canSearch,onChange:E=>{p(_=>({searching:E.target.value?_.searching:!1,keywords:E.target.value,canSearch:_.canSearch})),x()},prefix:A(qa,{rev:void 0,className:"text-[var(--sub-text)]"})})}),i?A(IQ,{ref:w,isChecked:b,checkClick:y,checkMemberRole:a,isSearching:g.searching}):A(AQ,{ref:v,notConversation:o,isCheckInGroup:r,isSearching:g.searching,isChecked:b,checkClick:y,updateIsCanSearch:I})]}),Z("div",{className:"flex flex-1 flex-col overflow-hidden",children:[Z("div",{className:"mx-5 py-5.5",children:[O("placeholder.selected"),A("span",{className:"text-[var(--primary)]",children:" ".concat(f.length," ")})]}),A("div",{className:"mb-3 flex-1 overflow-y-auto",children:f.map(E=>A(Wv,{data:E,cancelClick:y},E.userID||E.groupID))}),c&&Z("div",{className:"mx-5.5 mb-5 border-t border-[var(--gap-text)]",children:[A("div",{className:"mb-2 mt-1 truncate text-[var(--sub-text)]",children:c}),A("div",{className:"rounded-md bg-[#e3e3e3]",children:A(lr,{value:u,onChange:E=>d(E.target.value),bordered:!1,placeholder:O("placeholder.leaveMessage"),maxLength:255})})]})]})]})},ky=l.memo(l.forwardRef(SQ)),xQ=({notConversation:t,isCheckInGroup:e,isSearching:n,checkClick:r,isChecked:o,updateIsCanSearch:i},s)=>{const[a,c]=l.useState([]),[u,d]=l.useState([]),[f,m]=l.useState([]),h=y=>{y.preventDefault(),c([]),i(!1)},g=async y=>{var x;const b=(x=tt.getState().currentConversation)==null?void 0:x.groupID;if(!e||!b)return y;const C=JSON.parse(JSON.stringify(y)),S=C.filter(I=>!!I.userID).map(I=>I.userID);try{const{data:I}=await ce.getUsersInGroup({groupID:b,userIDList:S});C.map(E=>{E.disabled=I.includes(E.userID)})}catch(I){console.error(I)}return C},p=l.useCallback(async y=>{const b={title:"",className:"text-xs text-[var(--primary)]"};switch(y){case 0:d(await g(tt.getState().conversationList)),b.title=O("placeholder.latestChat");break;case 1:d(await g(mn.getState().friendList)),b.title=O("placeholder.myFriend");break;case 2:d(await g(mn.getState().groupList)),b.title=O("placeholder.myGroup");break}c(C=>[...C,b]),i(!0)},[]),w=y=>{if(!y){m([]);return}const b=y.toUpperCase(),C=u.filter(S=>{var x,I,E,_,P,M;return S.conversationID?(x=S.showName)==null?void 0:x.toUpperCase().includes(b):S.groupID?((I=S.groupName)==null?void 0:I.toUpperCase().includes(b))||((E=S.groupID)==null?void 0:E.toUpperCase().includes(b)):((_=S.nickname)==null?void 0:_.toUpperCase().includes(b))||((P=S.userID)==null?void 0:P.toUpperCase().includes(b))||((M=S.remark)==null?void 0:M.toUpperCase().includes(b))});m(C)};if(l.useImperativeHandle(s,()=>({getFilterCheckList:w}),[JSON.stringify(u)]),a.length<1)return A("div",{className:"flex-1 overflow-auto",children:Ku.map(y=>t&&y.idx!==1?null:A(CQ,{menu:y,menuClick:p},y.idx))});const v=n?f:u;return Z("div",{className:"flex flex-1 flex-col",children:[A(SV,{className:"mx-5.5",separator:">",items:[{title:O("placeholder.contacts"),href:"",className:"text-xs text-[var(--sub-text)]",onClick:h},...a]}),A("div",{className:"mb-3 flex-1 overflow-y-auto",children:A(No,{className:"h-full",data:v,itemContent:(y,b)=>A(Wv,{showCheck:!0,isChecked:o(b),data:b,itemClick:r},b.userID||b.groupID)})})]})},AQ=l.memo(l.forwardRef(xQ)),EQ=({isSearching:t,checkMemberRole:e,checkClick:n,isChecked:r},o)=>{const{currentRolevel:i,currentMemberInGroup:s}=rl(),{fetchState:a,searchMember:c,getMemberData:u,resetState:d}=Qf({notRefresh:!0});l.useEffect(()=>(s!=null&&s.groupID&&u(!0),()=>{d()}),[s==null?void 0:s.groupID]);const f=()=>{a.loading||!a.hasMore||(t?c(Pd):u())},m=g=>e?g.roleLevel>=i:!1;l.useImperativeHandle(o,()=>({searchMember:c}),[]);const h=t?a.searchMemberList:a.groupMemberList;return A(No,{className:"h-full overflow-x-hidden",data:h,endReached:f,components:{Header:()=>a.loading?A(dn,{}):null},itemContent:(g,p)=>A(Wv,{showCheck:!0,isChecked:r(p),disabled:m(p),data:p,itemClick:n},p.userID)})},IQ=l.memo(l.forwardRef(EQ)),ai={CRATE_GROUP:O("placeholder.createGroup"),INVITE_TO_GROUP:O("placeholder.invitation"),KICK_FORM_GROUP:O("placeholder.kickMember"),TRANSFER_IN_GROUP:O("placeholder.transferGroup"),FORWARD_MESSAGE:O("placeholder.mergeForward"),SELECT_CARD:O("placeholder.share"),SHARE_CARD:O("placeholder.share"),SELECT_USER:O("placeholder.selectUser")};Or.on("languageChanged",()=>{ai.CRATE_GROUP=O("placeholder.createGroup"),ai.INVITE_TO_GROUP=O("placeholder.invitation"),ai.KICK_FORM_GROUP=O("placeholder.kickMember"),ai.TRANSFER_IN_GROUP=O("placeholder.transferGroup"),ai.FORWARD_MESSAGE=O("placeholder.mergeForward"),ai.SELECT_CARD=O("placeholder.share"),ai.SHARE_CARD=O("placeholder.share"),ai.SELECT_USER=O("placeholder.selectUser")});const Ry=["FORWARD_MESSAGE","SHARE_CARD"],_Q=["TRANSFER_IN_GROUP","SELECT_CARD"],PQ=["KICK_FORM_GROUP","TRANSFER_IN_GROUP"],MQ=({state:{type:t,extraData:e}},n)=>{const r=l.useRef(null),[o,i]=l.useState(!1),[s,a]=l.useState({groupName:"",groupAvatar:""}),{sendMessage:c}=Qc(),{toSpecifiedConversation:u}=Bs(),{isOverlayOpen:d,closeOverlay:f}=Pr(n);l.useEffect(()=>{d&&t==="CRATE_GROUP"&&e&&setTimeout(()=>{var b;return(b=r.current)==null?void 0:b.updatePrevCheckList(e)},100),d&&t==="SELECT_USER"&&e&&setTimeout(()=>{var b;return(b=r.current)==null?void 0:b.updatePrevCheckList(e.list)},100)},[d]);const m=async()=>{var C,S,x,I,E;const b=(S=(C=r.current)==null?void 0:C.getCheckedList())!=null?S:[];if(!(b!=null&&b.length)&&t!=="SELECT_USER")return Sr.warning(O("toast.selectLeastOne"));if(!s.groupName&&t==="CRATE_GROUP")return Sr.warning(O("toast.inputGroupName"));i(!0);try{switch(t){case"CRATE_GROUP":if(b.length===1){u({sourceID:b[0].userID,sessionType:ln.Single});break}await ce.createGroup({groupInfo:{groupType:UM.WorkingGroup,groupName:s.groupName,faceURL:s.groupAvatar},memberUserIDs:b.map(_=>_.userID),adminUserIDs:[]});break;case"INVITE_TO_GROUP":await ce.inviteUserToGroup({groupID:e,userIDList:b.map(_=>_.userID),reason:""});break;case"KICK_FORM_GROUP":await ce.kickGroupMember({groupID:e,userIDList:b.map(_=>_.userID),reason:""});break;case"TRANSFER_IN_GROUP":await ce.transferGroupOwner({groupID:e,newOwnerUserID:b[0].userID});break;case"SELECT_CARD":c({message:(await ce.createCardMessage({userID:b[0].userID,nickname:(x=b[0].nickname)!=null?x:"",faceURL:(I=b[0].faceURL)!=null?I:"",ex:(E=b[0].ex)!=null?E:""})).data});break;case"FORWARD_MESSAGE":case"SHARE_CARD":b.map(async _=>{var T,k,R,D,L;const P=await h();if(_.groupID&&!await ce.isJoinGroup(_.groupID))return;const M=(T=r.current)==null?void 0:T.getAdditional();if(c({message:P,recvID:(k=_.userID)!=null?k:"",groupID:(R=_.groupID)!=null?R:""}),M){const $=(await ce.createTextMessage(M)).data;c({message:$,recvID:(D=_.userID)!=null?D:"",groupID:(L=_.groupID)!=null?L:""})}}),Sr.success(O("toast.sendSuccess"));break;case"SELECT_USER":ot.emit("SELECT_USER",{notConversation:e.notConversation,choosedList:b});break;default:break}}catch(_){mt({error:_})}i(!1),f()},h=async()=>e.title?(await ce.createMergerMessage(e)).data:e.clientMsgID?(await ce.createForwardMessage(e)).data:(await ce.createCardMessage(e)).data,g=()=>{if(Ry.includes(t))return e.title?O("messageDescription.forwardMessage",{additional:e.title}):e.clientMsgID?O("messageDescription.forwardMessage",{additional:Ra(e)}):e.data?O("messageDescription.meetingMessage"):O("messageDescription.addtionalCardMessage",{additional:e.nickname})},p=()=>{var b;(b=r.current)==null||b.resetState(),a({groupName:"",groupAvatar:""})},w=async({file:b})=>{try{const{data:{url:C}}=await ce.uploadFile({name:b.name,contentType:b.type,uuid:On(),file:b});a(S=>({...S,groupAvatar:C}))}catch(C){mt({error:O("toast.updateAvatarFailed")})}},v=t==="INVITE_TO_GROUP",y=!Ry.includes(t);return A(ni,{title:null,footer:null,centered:!0,open:d,closable:!1,width:680,onCancel:f,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},afterClose:p,className:"no-padding-modal max-w-[80vw]",maskTransitionName:"",children:Z("div",{children:[Z("div",{className:"app-no-drag flex h-16 items-center justify-between bg-[var(--gap-text)] px-7",children:[A("div",{children:ai[t]}),A(fr,{className:"cursor-pointer text-[#8e9ab0]",rev:void 0,onClick:f})]}),t==="CRATE_GROUP"?Z("div",{className:"px-6 pt-4",children:[Z("div",{className:"mb-6 flex items-center",children:[A("div",{className:"min-w-[60px] font-medium",children:O("placeholder.groupName")}),A(lr,{placeholder:O("placeholder.pleaseEnter"),spellCheck:!1,value:s.groupName,onChange:b=>a(C=>({...C,groupName:b.target.value}))})]}),Z("div",{className:"mb-6 flex items-center",children:[A("div",{className:"min-w-[60px] font-medium",children:O("placeholder.groupAvatar")}),Z("div",{className:"flex items-center",children:[A(Sn,{src:s.groupAvatar,isgroup:!0}),A(Wc,{accept:"image/*",showUploadList:!1,customRequest:w,children:A("span",{className:"ml-3 cursor-pointer text-xs text-[var(--primary)]",children:O("placeholder.clickToModify")})})]})]}),Z("div",{className:"flex",children:[A("div",{className:"min-w-[60px] font-medium",children:O("placeholder.groupMember")}),A(ky,{className:"!m-0 !h-[40vh] flex-1",ref:r,notConversation:y})]})]}):A(ky,{className:"!h-[60vh]",ref:r,isCheckInGroup:v,notConversation:(e==null?void 0:e.notConversation)||y,showGroupMember:PQ.includes(t),chooseOneOnly:_Q.includes(t),checkMemberRole:t==="KICK_FORM_GROUP",fowardContent:g()}),Z("div",{className:"flex justify-end px-9 py-6",children:[A(un,{className:"mr-6 border-0 bg-[var(--chat-bubble)] px-6",onClick:f,children:O("cancel")}),A(un,{className:"px-6",type:"primary",loading:o,onClick:m,children:O("confirm")})]})]})})},kQ=l.memo(l.forwardRef(MQ)),RQ=({message:t,conversationID:e,children:n,disabled:r,afterJump:o},i)=>{const[s,a]=l.useState(!1),c=At(m=>m.updateJumpClientMsgID),u=At(m=>m.updateReverseLoad),{toSpecifiedConversation:d}=Bs(),f=()=>{setTimeout(()=>{u(!0),IX({message:t,conversationID:e})}),c(t.clientMsgID);const m=t.groupID||(t.sendID===ct.getState().selfInfo.userID?t.recvID:t.sendID);d({sourceID:m,sessionType:t.sessionType},!0),a(!1),o==null||o()};return l.useImperativeHandle(i,()=>({jumpToHistory:f}),[]),A(ho,{content:A("div",{className:"p-1",children:A("div",{className:"cursor-pointer rounded px-2 py-1 text-xs hover:bg-[var(--primary-active)]",onClick:f,children:O("jumpToMessage")})}),title:null,trigger:"contextMenu",placement:"bottom",open:r?!1:s,onOpenChange:m=>a(m),children:n})},F2=l.memo(l.forwardRef(RQ)),Oa={"global-search-modal":"_global-search-modal_v0jc2_1","search-tab":"_search-tab_v0jc2_11","virtuoso-wrapper":"_virtuoso-wrapper_v0jc2_25"};function Jf({isActive:t,elPrefix:e,maxIndex:n,callback:r}){const[o,i]=l.useState({idx:0,needScroll:!0});return l.useEffect(()=>{if(!o.needScroll)return;const s=document.querySelector("".concat(e).concat(o.idx));s==null||s.scrollIntoView({block:"end"})},[o.idx]),va("uparrow",()=>{!t||o.idx===0||i(s=>({idx:s.idx-1,needScroll:!0}))}),va("downarrow",()=>{!t||o.idx>=n-1||i(s=>({idx:s.idx+1,needScroll:!0}))}),va("enter",()=>{t&&(r==null||r(o.idx))}),{activeIdx:o.idx,updateIdx:s=>i({idx:s,needScroll:!1})}}const Ug=l.memo(({id:t,isActive:e,result:n,conversationID:r,onClick:o,closeOverlay:i})=>{var c;const s=l.useRef(null),a=!!n.conversationID;return A(F2,{ref:s,message:n,conversationID:r,disabled:a,afterJump:i,children:Z("div",{id:t,className:Mt("flex rounded px-3 py-2 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":e},{"cursor-pointer":a}),onClick:()=>o==null?void 0:o(n),onDoubleClick:()=>{var u;return(u=s.current)==null?void 0:u.jumpToHistory()},children:[A("div",{className:"relative min-w-[38px]",children:A(Sn,{src:n.faceURL,text:n.senderNickname||n.showName,isgroup:n.conversationType===ln.WorkingGroup})}),Z("div",{className:"ml-3 flex-1 overflow-hidden",children:[Z("div",{className:"flex items-center",children:[A("div",{className:"flex-1 truncate",children:n.senderNickname||n.showName}),!a&&A("div",{className:"ml-3 text-xs text-[var(--sub-text)]",children:x2((c=n.sendTime)!=null?c:0)})]}),A("div",{className:"mt-2 select-text text-xs text-[var(--sub-text)]",children:n.description||Vv({...n,groupID:""})})]})]})})}),TQ=({data:t,loading:e,isActive:n,closeOverlay:r},o)=>{var a,c;const{activeIdx:i,updateIdx:s}=Jf({isActive:n,maxIndex:t.length,elPrefix:"#conversation-item-"});return l.useEffect(()=>{e&&s(-1)},[e]),l.useImperativeHandle(o,()=>({updateIdx:s}),[]),Z("div",{className:"flex h-full px-3",children:[A(dn,{wrapperClassName:"h-full flex-1",spinning:e,children:A(No,{className:Mt("h-full overflow-x-hidden",Oa["virtuoso-wrapper"]),data:t,components:{EmptyPlaceholder:()=>e?null:A(sr,{className:"mt-[30%]",image:sr.PRESENTED_IMAGE_SIMPLE})},computeItemKey:(u,d)=>d.conversationID,itemContent:(u,d)=>A(Ug,{isActive:i===u,id:"conversation-item-".concat(u),result:d,onClick:()=>s(u)})})}),A("div",{className:"mx-3 h-full border-r border-[var(--gap-text)]"}),A(No,{className:Mt("h-full flex-1 overflow-x-hidden",Oa["virtuoso-wrapper"]),data:(c=(a=t[i])==null?void 0:a.messageList)!=null?c:[],computeItemKey:(u,d)=>d.clientMsgID,itemContent:(u,d)=>A(Ug,{result:d,conversationID:t[i].conversationID,closeOverlay:r})})]})},OQ=l.forwardRef(TQ),Hg=l.memo(({id:t,item:e,isActive:n,onClick:r})=>Z("div",{id:t,onClick:()=>r==null?void 0:r(e),className:Mt("flex cursor-pointer items-center rounded px-3 py-2 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":n}),children:[A(Sn,{src:e.faceURL,text:e.nickname,isgroup:!!e.groupID}),A("div",{className:"ml-3 max-w-[200px] truncate",children:e.nickname||e.groupName})]})),Ty=({data:t,loading:e,isActive:n,closeOverlay:r})=>{var u;const{toSpecifiedConversation:o}=Bs(),i=(u=t[0])!=null&&u.userID?"friend":"group",{activeIdx:s,updateIdx:a}=Jf({isActive:n,maxIndex:t.length,elPrefix:"#".concat(i,"-item-"),callback:d=>{const f=t[d];f&&c(f)}});l.useEffect(()=>{e&&a(-1)},[e]);const c=d=>{o({sourceID:d.userID||d.groupID||"",sessionType:d.groupID?ln.WorkingGroup:ln.Single}),r()};return A(dn,{wrapperClassName:"h-full",spinning:e,children:A(No,{className:Mt("mx-3 h-full overflow-x-hidden",Oa["virtuoso-wrapper"]),data:t,components:{EmptyPlaceholder:()=>e?null:A(sr,{className:"mt-[30%]",image:sr.PRESENTED_IMAGE_SIMPLE})},computeItemKey:(d,f)=>f.userID||f.groupID||d.toString(),itemContent:(d,f)=>A(Hg,{item:f,id:"".concat(i,"-item-").concat(d),isActive:s===d,onClick:c})})})},NQ=l.memo(({id:t,item:e,isActive:n,onClick:r})=>Z("div",{id:t,onClick:()=>r==null?void 0:r(e),className:Mt("flex cursor-pointer items-center rounded px-3 py-2 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":n}),children:[A(Sn,{src:e.faceURL,text:e.showName,isgroup:!!e.groupID}),A("div",{className:"ml-3 max-w-[200px] truncate",children:e.showName})]})),ol="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABYCAYAAABf0BGmAAAAAXNSR0IArs4c6QAABpRJREFUeF7tnVtsFFUYx//fbGdLS3erKNDSYlul3GJQpJpSNAQw2IQIEdItJmpi9IUHYnwzqPEWw4M+kGjigzcwCin1rjGBmBhuu2ttqEaCiNwKtaWhQruU3rY7x8yWbbfp7s45M8N0d2Ym2Yd2/9855/vtd2a+7+zsGYLGwYINBYC0DmD1AB4AUAaiu7TspvV9hs5Yb8+gMjDYKXnz3s/beHi/WeOhTA2xcOOzYOxdgGaZ1aFV7Yz2dGO050q8O2lGQZ9UWPC2vOnIO0b7TwmMtWydj5iyB6A1mh3csw2YvTqzrONLQH1ZeCQDS3Qr+YpPee9YuJzW7B7SO5QpwFiw4QmQtBuAX6tRNjwEWv2tlgwYvQG0PqetM1GRCpjavKfI1yOX3L2QHtl7TU93k4CxUOBxgL7nbSja2QF581E+eXgrn84kVTpgcWg+f69cWVlNNft6RLsbB8aOba4A5Z0AURFvIyPt5+BtbOGTZxGwMWi+PrmyaoEotAlgwUALiB7k835MlcvA4tD8/l65QizS4sBYsPEZEPaIwLIDsPFIK69aRLX7unn8vwks0AmiUh6DZE2uR1jCF4/P3yeXV3JBIxZuXA+GA6Kw7BJh49D8/utyWWW1VqQRCzV+COD5Wwosi9KKTH56VGil5UuorvnfdDpiwUAbiO7XC8yz4mV4FmzKaM7O7wV1c2creoYyxSZTWpERmq+4X55XtjgdNGKhwCWAyvWMUumPYKTjYmZTSUJ+1QLQ4hcsrQj0Ahu7EKSHpgK7AVChHmDxK2x0JP5Kd0gzCsCiUcsrAiPAxqGVltxLq75uT/ZNPYcxvbB47aajIlAG+jFy8QLvEFPqPH7/gFxSujQZmiXApiP9UKN++OxpQ8DikTZ2Iaikuuar6t+2BZZIe5TBAcPQJP9tl/K3HIuvAdoamBnTMkE7b86dO+UNh3bYGpjqbKzvGqJdadMq7uiTCgqH8rf+VmB7YOPQursAReEGlEronTt3e3YBu5UVgRKLR1ssEoHe85pU5DtpGbBsrQgEQ+64cWAca/rs3BcYPryTryKQvYI+WClnVw0BE1nTZ6GnNSsCSB4rvdfVlyFg05HB6/LSRCNDwKYjgzfRd11NucAEsbnAXGCCBATlboRlJbBbmcELOmxUbjjCbJLBc3M0BCyb1/S5CQgKDQFT+8rWNX1BDtxyw8B4erJTRWAJMDtVBC4wnimSpHGBucAECQjK3QjLaWA5UBFYFmF2qQgsASZUEWT1mr5F33zzVgS2X9MXPF/aQm7JlLQFqZtOuMAEP01zgOXNBG6vAfJnC3Z/U36tFbhh7OY3fR2LWxkHNrMSWPIqoEIzclw5BJz9wEgLltgaBsaW7QIVlpgz2D9fyvpIMwRMza+kR38yB5bayjT8rlJ08IaARbu7IG86JNpner3dgQktDPJgdYHxUErSuMBcYJMIuFNSMCBcYC4wTQKG0op0Ecb6O6G+Mh1SSc3Ut5140o8efQWxM9p7WZDXB7l+N6RZiybAOQ1Y7PyPkDo+AWmtmioxRC93gRVWw1v/qXOBsfYmUNc3mueBhGD4zN/If6rNucBEa8Ep50CnTUkXmMbkmhIhgmta0Uge5PWfO3hKql/E/vUW95qWMn8bpLKkrbQcNyXVWFGhqUvOw2ObnaU8PIVjS9oz5kx+u/0zoMvE9TXuyw+/0FDiqt4o56nbhZRJKP8YJpRt2zOD1tOmyTaGgKm/Pxz9LwJ57XuGoLGRfih/7IIndsJk98xvzhAwdThqlMUivaCiMlDRPF0jZD2/w1tRpZ3w6mrdXCPDwNThqD8DjF3v0zUydSMQqXAmcuE2AdVBU4DpIpWjRi4wwQ/OBSYMLBiIgMgnaOdMOcOQun/YKRAlLUo5kwWn16eJBRt/BmEdp4GzZQwH1f3DXgPodWeT4PWevUEs3LACTGrlNXG0jinViX1cL4BQ4WgY2s4fp5VNK8aAhQIBgJq0bZysYBtp5f4fJrZWDgWOAPSwk5Fk8P1XWtlUGy+NEiLW0lCCGLUBZNLdcbZBHwGN1lDtV/9MAhafmuEty6B4jrqJbNKHTWwt1e7/JfGfqQ8gCDcsBaODAJXZJkb0OMJYFyQWoNrmSQ8MSP2Ii/CTc6HEPgbRBj195b4N24PRvBdTPdUh80NUQoFVYHgTRGtzHwKHBwzfQVJ2UG3zyXTqjMDGLwitDcWI0mNgVAew5SDcB1AxxxCyWMIGAeoGWAeAA/Cwj+ih5staA/4fz+cB5i+xNikAAAAASUVORK5CYII=",Ki=t=>{var e,n,r,o;if(t.contentType===ge.PictureMessage)return{url:t.pictureElem.sourcePicture.url,path:t.pictureElem.sourcePath,saveType:"image"};if(t.contentType===ge.VideoMessage)return{url:t.videoElem.videoUrl,path:t.videoElem.videoPath,saveType:"video"};if(t.contentType===ge.VoiceMessage)return{url:t.soundElem.sourceUrl,path:t.soundElem.soundPath,saveType:"voice"};if(t.contentType===ge.OANotification){const i=JSON.parse(t.notificationElem.detail);return{url:(n=(e=i.videoElem)==null?void 0:e.videoUrl)!=null?n:"",path:(o=(r=i.videoElem)==null?void 0:r.videoPath)!=null?o:"",saveType:"video"}}return{url:t.fileElem.sourceUrl,path:t.fileElem.filePath,saveType:"file"}},DQ=[ge.VideoMessage,ge.PictureMessage];function rs(t,e){var f,m;const[n,r]=l.useState(),o=xr(n),i=At(h=>h.updateDownloadTask),s=At(h=>nl({downloadMap:h.downloadMap,compareKey:"clientMsgID",compareValue:t.clientMsgID})),a=xr(s),c=xr(t);pp(()=>{u()}),l.useEffect(()=>{(s==null?void 0:s.downloadState)==="finish"&&u()},[s==null?void 0:s.downloadState]);const u=async()=>{var w,v,y,b,C;const{data:h}=await ce.findMessageList([{conversationID:(v=(w=tt.getState().currentConversation)==null?void 0:w.conversationID)!=null?v:"",clientMsgIDList:[c.current.clientMsgID]}]),g=(y=h.findResultItems)==null?void 0:y[0].messageList[0];if(!g)return;const{path:p}=Ki(g);if((b=window.electronAPI)!=null&&b.fileExists(p)){r(p);return}g.localEx&&((C=window.electronAPI)!=null&&C.fileExists(g.localEx))&&r(g.localEx)},d=l.useCallback(async()=>{var h,g,p,w,v,y,b;if(o.current){const C=e!=null?e:(h=window.electronAPI)==null?void 0:h.openFile;C==null||C(o.current);return}if(((g=a.current)==null?void 0:g.downloadState)==="downloading"||((p=a.current)==null?void 0:p.downloadState)==="resume"){(w=window.electronAPI)==null||w.ipcInvoke("pauseDownload",a.current.downloadUrl),i(a.current.downloadUrl,{downloadState:"pause"});return}if(((v=a.current)==null?void 0:v.downloadState)==="pause"){(y=window.electronAPI)==null||y.ipcInvoke("resumeDownload",a.current.downloadUrl),i(a.current.downloadUrl,{downloadState:"downloading"});return}if(!a.current){const{url:C,saveType:S}=Ki(c.current);let x=(b=tt.getState().currentConversation)==null?void 0:b.conversationID;if(x||(x=await ce.getOneConversation({sessionType:c.current.sessionType,sourceID:c.current.groupID||c.current.sendID}).then(I=>I.data.conversationID)),t.contentType===ge.VoiceMessage&&!window.electronAPI){if(!x)return;ce.setMessageLocalEx({conversationID:x,clientMsgID:t.clientMsgID,localEx:"1"});return}pi(C,{saveType:S,showError:!0,clientMsgID:c.current.clientMsgID,isMediaMessage:DQ.includes(t.contentType),conversationID:x})}},[]);return{progress:(f=s==null?void 0:s.progress)!=null?f:0,downloadState:n?"finish":(m=s==null?void 0:s.downloadState)!=null?m:"cancel",tryDownload:d,checkIsDownload:u}}const $Q="_base_iu6ca_1",FQ="_wrap_iu6ca_8",LQ="_arrow_iu6ca_12",BQ="_triangle_iu6ca_19",yo={base:$Q,wrap:FQ,arrow:LQ,triangle:BQ,"pause-base":"_pause-base_iu6ca_23","pause-bg":"_pause-bg_iu6ca_29"},os=({percent:t,pausing:e,finished:n,size:r,baseClassName:o,arrowClassName:i})=>{const s=()=>n?A("path",{className:yo.triangle,d:"M4.882,2.592a1.3,1.3,0,0,1,2.069,0l3.311,4.989c.445.67-.127,1.5-1.034,1.5H2.605c-.908,0-1.479-.828-1.034-1.5Z",transform:"translate(16 5) rotate(90)"}):e?Z("g",{transform:"translate(-269 -404.999)",children:[Z("g",{transform:"translate(-3 105.75)",children:[Z("g",{className:yo["pause-bg"],transform:"translate(274.5 304.75)",children:[A("rect",{fill:"#0089ff",width:"11",height:"11"}),A("rect",{stroke:"none",x:"0.5",y:"0.5",width:"10",height:"10"})]}),A("g",{transform:"translate(180 -242)",children:A("line",{className:yo["pause-base"],strokeLinecap:"round",y2:"8",transform:"translate(100 548.5)"})})]}),Z("g",{transform:"translate(2.5 105.749)",children:[Z("g",{className:yo["pause-bg"],transform:"translate(274.5 304.75)",children:[A("rect",{fill:"#0089ff",width:"11",height:"11"}),A("rect",{stroke:"none",x:"0.5",y:"0.5",width:"10",height:"10"})]}),A("g",{transform:"translate(180 -242)",children:A("line",{className:yo["pause-base"],strokeLinecap:"round",y2:"8",transform:"translate(100 548.5)"})})]})]}):A("g",{transform:"translate(-269 -406)",children:A("g",{transform:"translate(0 106)",children:Z("g",{transform:"translate(180 -242)",children:[A("line",{className:Mt(yo.arrow,i),y2:"8",transform:"translate(100 548.5)"}),A("line",{className:Mt(yo.arrow,i),y1:"4.5",transform:"translate(96.818 553.318) rotate(-45)"}),A("line",{className:Mt(yo.arrow,i),y2:"4.5",transform:"translate(100.001 556.5) rotate(-135)"})]})})});return Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:r!=null?r:22,height:r!=null?r:22,viewBox:"0 0 22 22",children:[A("circle",{className:Mt(yo.base,o),cx:"10",cy:"10",r:"10"}),A("circle",{className:Mt(yo.base,yo.wrap),style:{strokeDasharray:"calc(".concat(t," / 100 * 63),63")},cx:"10",cy:"10",r:"10"}),s()]})},VQ=({viewInFinder:t,children:e})=>{const[n,r]=l.useState(!1),i={placement:"bottomRight",content:A(jQ,{viewInFinder:()=>{t==null||t(),r(!1)}}),title:null,arrow:!1,trigger:"contextMenu",open:window.electronAPI?n:!1,onOpenChange:s=>r(s)};return A(ho,{...i,children:e})},jQ=({viewInFinder:t})=>A("div",{className:"",children:A("div",{className:"cursor-pointer rounded px-4 py-2 text-xs hover:bg-[var(--primary-active)]",onClick:t,children:O("placeholder.finder")})}),L2=l.memo(VQ),B2=l.memo(({id:t,message:e,isActive:n})=>{const{progress:r,downloadState:o,tryDownload:i}=rs(e),a=["downloading","pause","resume"].includes(o);return A(L2,{viewInFinder:()=>{var d;const u=e.localEx||Ki(e).path;u&&((d=window.electronAPI)==null||d.showInFinder(u))},children:Z("div",{id:t,className:Mt("flex items-center rounded px-3 py-2 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":n}),children:[Z("div",{className:"relative min-w-[38px] cursor-pointer",onClick:i,children:[A("img",{width:38,src:ol,alt:"file","data-drag":"app-drag"}),o!=="finish"&&A("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-md bg-[rgba(0,0,0,.4)]",children:A(os,{pausing:o==="pause",percent:a?r:0})})]}),Z("div",{className:"ml-3 flex-1 select-text overflow-hidden",children:[Z("div",{className:"flex items-center",children:[A("div",{className:"flex-1 truncate",children:e.fileElem.fileName}),A("div",{className:"ml-3 text-xs text-[var(--sub-text)]",children:x2(e.sendTime)})]}),A("div",{className:"mt-2 text-xs text-[var(--sub-text)]",children:e.senderNickname})]})]})})}),zQ=({data:t,loading:e,isActive:n})=>{const{activeIdx:r,updateIdx:o}=Jf({isActive:n,maxIndex:t.length,elPrefix:"#file-item-"});return l.useEffect(()=>{e&&o(-1)},[e]),A(dn,{wrapperClassName:"h-full",spinning:e,children:A("div",{className:"flex h-full flex-col px-3",children:A(No,{className:Mt("flex-1 overflow-x-hidden",Oa["virtuoso-wrapper"]),data:t,components:{EmptyPlaceholder:()=>e?null:A(sr,{className:"mt-[30%]",image:sr.PRESENTED_IMAGE_SIMPLE})},itemContent:(i,s)=>A(B2,{message:s,id:"file-item-".concat(i),isActive:r===i})})})})},Sl=({onClick:t})=>Z("div",{className:"flex cursor-pointer items-center",onClick:t,children:[A("span",{className:"text-[var(--primary)]",children:O("placeholder.viewMore")}),A(er,{className:"text-[var(--primary)]"})]}),UQ=({friends:t,groups:e,chatLogs:n,historyFiles:r,conversations:o,isActive:i,toggleTab:s,closeOverlay:a,toggleChatLogActive:c})=>{const{toSpecifiedConversation:u}=Bs(),{activeIdx:d}=Jf({isActive:i,maxIndex:t.data.slice(0,3).length+e.data.slice(0,3).length+n.data.slice(0,3).length+r.data.slice(0,3).length+o.data.slice(0,3).length,elPrefix:"#dashboard-item-",callback:b=>{const S=[...t.data.slice(0,3),...e.data.slice(0,3),...n.data.slice(0,3),...r.data.slice(0,3),...o.data.slice(0,3)][b];if(S){if((S.ownerUserID||S.creatorUserID)&&f(S),typeof S.attachedInfo=="string"){u({sourceID:S.userID||S.groupID||"",sessionType:S.groupID?ln.WorkingGroup:ln.Single}),a();return}S.conversationID&&m(S)}}}),f=l.useCallback(b=>{u({sourceID:b.userID||b.groupID||"",sessionType:b.groupID?ln.WorkingGroup:ln.Single}),a()},[]),m=l.useCallback(b=>{const C=n.data.findIndex(S=>S.conversationID===b.conversationID);s("ChatLogs"),setTimeout(()=>c(C))},[]),h=t.loading||e.loading||n.loading||r.loading||o.loading,g=!(t.data.length+e.data.length+n.data.length+r.data.length+o.data.length),p=t.data.slice(0,3).length,w=p+e.data.slice(0,3).length,v=w+n.data.slice(0,3).length,y=v+r.data.slice(0,3).length;return A(dn,{wrapperClassName:"h-full",spinning:h,children:Z("div",{className:"h-full overflow-y-auto p-3",children:[g&&A(sr,{className:"mt-[25%]",image:sr.PRESENTED_IMAGE_SIMPLE}),t.data.length>0&&Z("div",{children:[Z("div",{className:"mx-3 my-1 flex justify-between",children:[A("div",{children:O("placeholder.contacts")}),t.data.length>3&&A(Sl,{onClick:()=>s("Friends")})]}),t.data.slice(0,3).map((b,C)=>A(Hg,{id:"dashboard-item-".concat(C),isActive:C===d,item:b,onClick:f},b.userID))]}),e.data.length>0&&Z("div",{className:Mt("mt-2 border-[var(--gap-text)]",{"border-t":p}),children:[Z("div",{className:"mx-3 mb-1 mt-3 flex justify-between",children:[A("div",{children:O("placeholder.myGroup")}),e.data.length>3&&A(Sl,{onClick:()=>s("Groups")})]}),e.data.slice(0,3).map((b,C)=>A(Hg,{id:"dashboard-item-".concat(p+C),isActive:d===p+C,item:b,onClick:f},b.groupID))]}),n.data.length>0&&Z("div",{className:Mt("mt-2 border-[var(--gap-text)]",{"border-t":w}),children:[Z("div",{className:"mx-3 mb-1 mt-3 flex justify-between",children:[A("div",{children:O("placeholder.messageHistory")}),n.data.length>3&&A(Sl,{onClick:()=>s("ChatLogs")})]}),n.data.slice(0,3).map((b,C)=>A(Ug,{id:"dashboard-item-".concat(w+C),isActive:d===w+C,result:b,onClick:m},b.conversationID))]}),r.data.length>0&&Z("div",{className:Mt("mt-2 border-[var(--gap-text)]",{"border-t":v}),children:[Z("div",{className:"mx-3 mb-1 mt-3 flex justify-between",children:[A("div",{children:O("placeholder.document")}),r.data.length>3&&A(Sl,{onClick:()=>s("HistoryFiles")})]}),r.data.slice(0,3).map((b,C)=>A(B2,{id:"dashboard-item-".concat(v+C),isActive:d===v+C,message:b},b.clientMsgID))]}),o.data.length>0&&Z("div",{className:Mt("mt-2 border-[var(--gap-text)]",{"border-t":y}),children:[Z("div",{className:"mx-3 my-1 flex justify-between",children:[A("div",{children:O("placeholder.conversation")}),o.data.length>3&&A(Sl,{onClick:()=>s("Conversations")})]}),o.data.slice(0,3).map((b,C)=>A(NQ,{id:"dashboard-item-".concat(y+C),isActive:d===y+C,item:b,onClick:f},b.conversationID))]})]})})},xl=["DashBoard","Friends","Groups","ChatLogs","HistoryFiles","Conversations"],HQ=(t,e)=>{const[n,r]=l.useState("DashBoard"),[o,i]=l.useState({data:[],loading:!1}),[s,a]=l.useState({data:[],loading:!1}),[c,u]=l.useState({data:[],loading:!1}),[d,f]=l.useState({data:[],loading:!1}),[m,h]=l.useState({data:[],loading:!1}),g=xr(d),p=l.useRef(null),w=l.useRef(null),{isOverlayOpen:v,closeOverlay:y}=Pr(e);l.useEffect(()=>{v&&location.hash.startsWith("#/contact")&&r("Friends")},[v]),l.useEffect(()=>{var D;const k=(L,$)=>{const{clientMsgID:j}=At.getState().downloadMap[L],U=g.current.data.findIndex(z=>z.clientMsgID===j);U>-1&&f(z=>{const F=[...z.data];return F[U].localEx=$,{...z,data:F}})},R=(D=window.electronAPI)==null?void 0:D.subscribe("downloadSuccess",k);return()=>{R==null||R()}},[]),va("leftarrow",()=>{const k=xl.indexOf(n);k>0&&v&&r(xl[k-1])}),va("rightarrow",()=>{const k=xl.indexOf(n);k<xl.length-1&&v&&r(xl[k+1])});const b=l.useCallback(k=>{r(k)},[]),C=l.useCallback(k=>{var R;return(R=w.current)==null?void 0:R.updateIdx(k)},[]),S=[{key:"DashBoard",label:O("placeholder.overview"),children:A(UQ,{isActive:n==="DashBoard",friends:o,groups:s,chatLogs:c,historyFiles:d,conversations:m,closeOverlay:y,toggleTab:b,toggleChatLogActive:C})},{key:"Friends",label:O("placeholder.contacts"),children:A(Ty,{isActive:n==="Friends",...o,closeOverlay:y})},{key:"Groups",label:O("placeholder.myGroup"),children:A(Ty,{isActive:n==="Groups",...s,closeOverlay:y})},{key:"ChatLogs",label:O("placeholder.messageHistory"),children:A(OQ,{ref:w,isActive:n==="ChatLogs",...c,closeOverlay:y})},{key:"HistoryFiles",label:O("placeholder.document"),children:A(zQ,{isActive:n==="HistoryFiles",...d})}],x=async k=>{i({data:[],loading:!0});let R=[];try{const{data:D}=await ce.searchFriends({keywordList:[k],isSearchNickname:!0,isSearchRemark:!0,isSearchUserID:!0});R=D}catch(D){console.error(D)}i({data:R,loading:!1})},I=async k=>{a({data:[],loading:!0});let R=[];try{const{data:D}=await ce.searchGroups({keywordList:[k],isSearchGroupID:!0,isSearchGroupName:!0});R=D}catch(D){console.error(D)}a({data:R,loading:!1})},E=async k=>{var D,L;u({data:[],loading:!0});let R=[];try{const{data:$}=await ce.searchLocalMessages({conversationID:"",keywordList:[k],messageTypeList:[ge.TextMessage,ge.AtTextMessage,ge.FileMessage,ge.QuoteMessage,ge.CardMessage,ge.LocationMessage,ge.MergeMessage]});(D=$.searchResultItems)==null||D.map(j=>{j.sendTime=j.messageList[0].sendTime,j.messageCount>1?j.description=O("placeholder.relevantMessage",{count:j.messageCount}):j.description=Vv(j.messageList[0])}),R=(L=$.searchResultItems)!=null?L:[],console.log(R)}catch($){console.error($)}u({data:R,loading:!1})},_=async k=>{var D,L,$;f({data:[],loading:!0});let R=[];try{const{data:j}=await ce.searchLocalMessages({conversationID:"",keywordList:[k],messageTypeList:[ge.FileMessage]});console.log(j),(D=j.searchResultItems)==null||D.map(U=>{U.conversationType===ln.WorkingGroup&&U.messageList.map(z=>z.senderNickname=U.showName)}),R=($=(L=j.searchResultItems)==null?void 0:L.map(U=>U.messageList).flat())!=null?$:[]}catch(j){console.error(j)}f({data:R,loading:!1})},P=async k=>{},M=()=>{var k;i({data:[],loading:!1}),a({data:[],loading:!1}),u({data:[],loading:!1}),f({data:[],loading:!1}),h({data:[],loading:!1}),r("DashBoard"),(k=p.current)==null||k.clearKeyword()},T=k=>{k&&(x(k),I(k),E(k),_(k),P())};return Z(ni,{title:null,footer:null,centered:!0,open:v,closable:!1,width:"70%",destroyOnClose:!0,afterClose:M,onCancel:y,afterOpenChange:k=>{var R;k&&((R=p.current)==null||R.focus())},styles:{mask:{opacity:0,transition:"none"}},className:Mt("no-padding-modal max-w-[800px]",Oa["global-search-modal"]),maskTransitionName:"",children:[A(qQ,{ref:p,triggerSearch:T}),A(fI,{className:Oa["search-tab"],defaultActiveKey:"DashBoard",activeKey:n,items:S,onChange:b})]})},WQ=l.memo(l.forwardRef(HQ)),GQ=({triggerSearch:t},e)=>{const n=l.useRef(null),[r,o]=l.useState(""),{run:i,cancel:s}=gp(t,{wait:500}),a=c=>{o(c),i(c)};return l.useImperativeHandle(e,()=>({clearKeyword:()=>o(""),focus:()=>{var c;return(c=n.current)==null?void 0:c.focus()}}),[]),A("div",{className:"px-6",children:A(lr,{allowClear:!0,prefix:A(qa,{}),value:r,ref:n,onChange:c=>a(c.target.value)})})},qQ=l.memo(l.forwardRef(GQ)),KQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAXhJREFUOE+VlM1RwlAUhc+JBYgd0IF0IHSQVAAuTLYQ3Kt7BV05xIVQQdKB6cDYCTaQ47xA5BECCW8mM5n77vvu/yVqzvwj7ufikEAPm8+cTEDmUKvJnZfWvaMtnL/HXV3wE0C/TtmSpYQmE9/LbL1/2DyKewK/AHT2QXqTsCb5UDGwJjSwgQVs69H3IQiQ9OQ4SKXCUPXsAQvYLEqMYm1oDTDzPA19d2B+aJJ9xGrhRQsYcsm7D7yEs0W8BDk8lvA2MEirMPBGnEWJyVVZ/gNmKxiwDn33ysB0qg0KWI5l7mBU6hHoVqMJfZeNMJNgwHm0DUpySY1tWQF7WcQZyeuGJj15Lel3GnidxgK0MlIWoKk12sAE3U59b7lt2jgFeNPmYVVH0s808Ipu2IxTFPdyISV5eQ7Q5Moh+uV87gbdrJ0cSVugAYEYm/Csltn5stkceG0K2YTmEKOjK8gO73kRuw7gCnBLT40nBBIRqe1N7T47J1fHdP8ArwvHFAcuwAoAAAAASUVORK5CYII=",YQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAA0pJREFUeF7t3T1rFFEYBeDzzn6VgoKCIBK0skq/gqCV/gBNrBUsglrIrgFNSETMLBYqAQutjfEHaOMHgqm1slKiCIIWopXuR+aVWRM3ajKbbE7cIXOmnc25c5+cZaeYudeQdIS+G946afCjMB8w2EDi57foSYfPw23ezR4C+RlU7eNqU7UVT1yvHwhadtmB42YItqhTT9NyR2TAgyjvV3Ch9PrvkH9Bw8aIATcMyPU0Ykb+yIEFB86jWpxePuUOqLsFteYtACMZMWFNczqqFM7CzOPADmitcSpw3GGNkqWcyHwIldJsB7TWLJv7MwMKWYJgzdWB7x6hjNHiy3ZDg7BxH8AJ1gAZzZmNqsUhQ833Bd58k1EE6rQjK+w3TDUvBubXqMkZDYvcRs3CxmMDjmTUgDptB56YhfV3BttLTc5omMPfxw39YUApowbUaTtQtyBstG9IdXAEBMpx/J0iUIGSBchxaqhAyQLkODVUoGQBcpwaKlCyADlODRUoWYAcp4YKlCxAjlNDBUoWIMepoQIlC5Dj1FCBkgXIcWqoQMkC5Dg1VKBkAXKcGipQsgA5btMaemiPYaycw+CuXw9Jv/rkmJxbwPMP63tQJW053fw3BXS8nMNYeeWXRybnIkzMLXS7rvb5tOWs5aLpoHGjng7nE8c+PNPq2tS05awFM/4MHTTGjDGSjvhrH6MmHWnL6Rvol3MFbOvycOTXOrDjZjPxGtOWk2rQb3VgOwH0f+b0DTRtX1XW9fQNNG0/Jqzr6RtoGm93WLdfa0Gl/8ovDRo3Y/xgDoM7F2/sPzsmXvR2Y5+mnG6omwbabeCtel6g5P+sQAVKFiDHqaECJQuQ49RQgZIFyHFqqEDJAuQ4NVSgZAFynBoqULIAOU4NFShZgBynhgqULECOU0MFShYgx6mhAiULkOPUUIGSBchxaigbVMtd8kSXlrvUgqwk0/aCrFoymKQJoL1ksBa1JoK2F7XWsuss0cVl1+M4Lb2+YdR4yXVU7G3ndY2wcSYAbm84OYMBkeE0KsW78dT/eP8lCOtTgFUzaLKBKfvVqFq6tBSg7X96pOy+/c/yYG1QtSrz+jeoWh4Vb6GG1rC5H9MWajbvsEew/L2kLdR+Aka3Afd7JvRnAAAAAElFTkSuQmCC",XQ=t=>{const[e,n]=l.useState({left:0,top:0,bottom:0,right:0}),r=l.useRef(null),o=(i,s)=>{var d;const{clientWidth:a,clientHeight:c}=window.document.documentElement,u=(d=r.current)==null?void 0:d.getBoundingClientRect();u&&n({left:-u.left+s.x,right:a-(u.right-s.x),top:-u.top+s.y,bottom:c-(u.bottom-s.y)})};return A(ni,{...t,modalRender:i=>A(Y1,{allowAnyClick:!0,cancel:t.ignoreClasses,bounds:e,onStart:(s,a)=>o(s,a),children:A("div",{ref:r,children:i})}),children:t.children})},Gv=l.memo(XQ),QQ=({groupData:t},e)=>{var C;const[n,r]=l.useState(""),[o,i]=l.useState(!1),{fetchState:s,getMemberData:a,resetState:c}=Qf({groupID:t==null?void 0:t.groupID}),{toSpecifiedConversation:u}=Bs(),{isOverlayOpen:d,closeOverlay:f}=Pr(e),{runAsync:m,loading:h}=qo(ce.joinGroup,{manual:!0});l.useEffect(()=>{d&&a(!0)},[d]);const g=sn((C=t==null?void 0:t.createTime)!=null?C:0).format("YYYY/M/D"),p=s.groupMemberList.length>0,w=(t==null?void 0:t.memberCount)===8?8:7,v=p?s.groupMemberList.slice(0,w):new Array(w).fill(1).map((S,x)=>({userID:x,nickname:"",faceURL:$2("ic_avatar_0".concat(x===6?1:x+1))})),y=async()=>{if(p){u({sourceID:t.groupID,sessionType:ln.WorkingGroup}),f();return}if((t==null?void 0:t.needVerification)===Lu.AllNot){await b(),f();return}i(!0)},b=async()=>{try{await m({groupID:t.groupID,reqMsg:n,joinSource:Mh.Search}),mt({msg:O("toast.sendJoinGroupRequestSuccess")}),i(!1)}catch(S){mt({error:S,msg:O("toast.sendApplicationFailed")})}};return A(Gv,{title:null,footer:null,open:d,closable:!1,width:484,onCancel:f,afterClose:c,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},ignoreClasses:".ignore-drag, .no-padding-modal, .cursor-pointer",className:"no-padding-modal",maskTransitionName:"",children:Z("div",{children:[o&&Z("div",{className:"flex w-fit cursor-pointer items-center pl-5.5 pt-5.5",onClick:()=>i(!1),children:[A(ka,{rev:void 0}),A("div",{className:"ml-1 font-medium",children:O("placeholder.groupVerification")})]}),Z("div",{className:"flex p-5.5",children:[A(Sn,{size:60,src:t==null?void 0:t.faceURL,isgroup:!0}),Z("div",{className:"ml-3",children:[A("div",{className:"mb-3 max-w-[120px] truncate text-base font-medium",children:t==null?void 0:t.groupName}),Z("div",{className:"flex items-center",children:[A("div",{className:"text-xs text-[var(--sub-text)]",children:"ID：".concat(t==null?void 0:t.groupID)}),Z("div",{className:"ml-4 flex items-center",children:[A("img",{src:KQ,width:10,alt:""}),A("div",{className:"text-xs text-[var(--sub-text)]",children:g})]})]})]})]}),o?Z("div",{className:"mx-5.5",children:[A("div",{className:"text-xs text-[var(--sub-text)]",children:O("application.information")}),A("div",{className:"mt-3",children:A(lr.TextArea,{showCount:!0,value:n,maxLength:50,bordered:!1,spellCheck:!1,placeholder:O("placeholder.pleaseEnter"),style:{padding:"8px 6px"},autoSize:{minRows:4,maxRows:4},onChange:S=>r(S.target.value),className:"bg-[var(--chat-bubble)] hover:bg-[var(--chat-bubble)]"})}),A("div",{className:"my-6 flex justify-center",children:A(un,{className:"w-[60%]",type:"primary",loading:h,onClick:b,children:O("placeholder.send")})})]}):Z("div",{className:"bg-[#F2F8FF] p-5.5",children:[p&&A("div",{className:"mb-3",children:"".concat(O("placeholder.groupMember"),"：").concat(t==null?void 0:t.memberCount)}),Z("div",{className:"flex items-center",children:[v.map(S=>A(Sn,{className:"mr-3",src:S.faceURL,text:S.nickname},S.userID)),v.length===7&&A(Sn,{src:YQ})]}),A("div",{className:"mt-28 flex justify-center",children:A(un,{className:"w-[60%]",type:"primary",loading:h,onClick:y,children:p?O("placeholder.sendMessage"):O("placeholder.addGroup")})})]})]})})},JQ=l.memo(l.forwardRef(QQ)),ZQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAa1JREFUSEvtlstRwlAUhv/DDK6xArUCYwXSgbkdhIXJuNIE94QCSHRJXIAVJFQAVoBWIFYgbnGG41wQJsQk5sGAC7M+Od/9z5uw4492zMP+gW7Pr81nlRaBVRCOf4nA1NLVwzxR2lAoYfxJQwAKM78QYZrqjDGxDKHF2bierzDIJbBp6uJ5ZbMBdDz/DqBrZm43DWHneXnY9hs2ZGaqzKGYV2ISD+wGrwz+aBpCKQsDUJszi1tDBGFfEYUBA/xk6aJeBLhIyYzGMvcMbjR10Y/62RpwI/8JMAnfCjArbGtAxwvGsrLB/JhUtQlVmj+HHS/oEaBlgZVWmAUmw202xLqfC+dwDQMPLF2ocVXtdP0+QOeWoZ6UCmnH8zUC9eQ0qhygHlYQBjueP1oAdXUtrJDC5SSBTVVoSTAJ3how61D4B8Lx8vdhWnj/Xkg7nj8h0Lulq2dZCyNdYTCWOzG87mIXMBHZ5uVFuwzUfRi0mNkG+N7SxU1s4y/vGYyI6BSAPAvST4zkF9VWZ0p0MPy42parBjYDKoGOiqhk8BsBAVVhRwfD/s/EIory/LNzhV9t1i4s/D8ZDQAAAABJRU5ErkJggg==",Wg=({editable:t,value:e,placeholder:n,className:r,textClassName:o,onChange:i})=>{const s=l.useRef(null),a=l.useRef(null),[c,u]=l.useState({isEdit:!1,loading:!1,innerValue:e});FM(()=>{c.isEdit&&u({isEdit:!1,loading:!1,innerValue:e})},[s]);const d=m=>{m.stopPropagation(),u({isEdit:!0,loading:!1,innerValue:e==="-"?"":e}),setTimeout(()=>{var h;return(h=a.current)==null?void 0:h.focus()})},f=async m=>{u(h=>({...h,loading:!0})),await(i==null?void 0:i(m.target.value)),u({isEdit:!1,loading:!1,innerValue:m.target.value})};return A("div",{ref:s,className:Mt("ml-3 flex items-center",r),children:c.isEdit?A(lr,{spellCheck:!1,value:c.innerValue,placeholder:n,maxLength:20,onChange:m=>u(h=>({...h,innerValue:m.target.value})),ref:a,onPressEnter:f,suffix:A(wq,{rev:void 0})}):Z(to,{children:[A("div",{className:Mt("mr-1 max-w-[240px] truncate",o),children:e}),t&&A("img",{className:"cursor-pointer",width:14,src:ZQ,alt:"edit name",onClick:d})]})})},eJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAutJREFUWEftVkFy2kAQ7JELV27hB8EvCH5B5BcYvSDmEFE5xYLcTe7B2CeX8QH8giUvMH6ByQui/MC+2mVNahYJZCFpF6Vc5QOqghKstNPT0z2zhDd20RvDgy0gU0W2DL0KQ4OROiLQNwDNOMAcTGfdzuG1KaBpfaOSDceqzk90kwKS3X9GNfaCtndvCly0vhGg05GaAfSJmR8A9B3CTDaOGK78JqL3DEx6fqv96oCGV8pl1uyAwPuB783TQYcj1WTQXXZd/l979kI18A73eUxaM3Q6UmfQuuHzru8d5zFweqkmIPrMzD96Ha//81K1HCKVZi0GfgPwbdf3Wtl9NgG0KBe43fO9SR6gwaWSsp0A/EuCieaiR8yI6KOAcsDnDM1yPWL2vne8aXVAmexzGYpZTBiSZ9KgknfKkrJmKLb6GIyQdnk/W3/twEe6A6GRDZjWH4BZ128d/LfL4kxD7STG1NnldgIqbgcKgMvgvz3fayQBV5pBXdYI9KHMidYMafqvlBtFmAqoOKC2vQCRL2kHDsFNXDW8UA3e0c4TMG2nhulSU7HwK2tIA7pQjWiHTgg4KqD8RcdOEgDhODHCSlNSunW3WjO0cpBFy2OEETjIc5HpbSOg9XHBt9rCNUzTwhat6I5NOBadLEpIZ73OYWACkV4vBZQGo/XhoBV88RLdFMZ5yWZxI83boBRQ0p2zYrXJeNkm9KzLb4IbAYod8kfPJuIDG2ayAZZMMcJup7Vnk0ghQ8vZxXzd7XhFriqNke5dtkkVAhqMVCji3IRum4FrYqmEoSnrcj3zXvDVC00bFa2vymbHtJEhPSYiDqqAimfYcHHCtHNbGSA5N49Tmc8ZmBNoDv1ZXITnB8ZOMkrEAG4UcZMEBEHPNO3SCE2bpMr7kD4Fog/QYZWSCRAiTKiGvu0529ip9Qwbq/rzI1zJmigZpHK/HLLCwm8i3MvxhIHQcTCr0iqsAFVhp+o7W0Am5rYMbRkyMWBa/wfEGqs0DiCFrgAAAABJRU5ErkJggg==",tJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAsZJREFUWEftV0Fy2kAQ7FkXvga/IPCC2C8IfkG0L4g5RFRONpB78D2Ac0pBDsgvWPICOy8IeUHID5SrDZrUyFpHCMkSKK7iwB61mp1WT0/PirBji3YMD/aA8iqyZ2hrhvoj0yOiNwCO8w7ZcN8HMCPiy/Y7fZuMTS1Zf2RmRPRqw0Qbv87gZtfVXjxwDVDEzEdm/qkCOO33er5xppyA/shcENEQgE9LPonnSAMUskNLrj8HGIt1MDZXAJ0nWVoDNBhPWYI6rrO292lkHEV0HulqxuDrJOVF2YzOMsx82W3pno0rDMiWcj0hf+64+sI+l0QHSq3qbxFcJ9kefjUNZrrZCtDwi6nxAf1i5j9KwZHukAODAFMiekHgk7arZwLKMrwKnL93XN2IPysF6J8IV9mwz+NfKQxRwioUYWoBW1BlAYknSee1uy19ZQ/tj80ZgSZJ2ovoqBQgGxwaWoVP203tDyemyvd0IwJP85M8UKUAPWjD3AL0WrxDgIFRA6EmftVt6Uc374+ML7rKAOR3XOdI9koBGo7NMYMmGWNkRkvWtosGYzMFUM0GpJ1SgCIwUpqqsAHAUwqzIEADBNHQy9BxK1yXUuaVqrSo+2MzD5MyX3da+myldUMdwQNkCPO3jvvw9UXWViV7DAL/7rq6lpZIxB3cYR760ZLrrNADhaylLmb46pCbWOB4Y2OMDdoVe09mGoyMB6K3AbMmwHtC1GGoGClIJLChU1tARHyadnd59KNoeotPqUN48vWZZVtgLg2wXckmprq8Q+NDS0vnZK6wbPdwVAXTosIuDMiKmCp8VPTwIiJOvpMlh/VpH+mBAa/rOs1tkuXFRMP6h1hJfDA/6Cux4l0DxhyE/35jjAy2CqwO61RAoYuG143QX2RUPMvKGshP/pcJW092zDZQGX7yKhI/Zv+jmEfqnqE9Q3kM5O3vnIb+AoWlCEPLCDMSAAAAAElFTkSuQmCC",nJ=({isFriend:t,cardInfo:e,closeOverlay:n})=>{const r=()=>{var s,a,c,u;const i={userID:(s=e==null?void 0:e.userID)!=null?s:"",nickname:(a=e==null?void 0:e.nickname)!=null?a:"",faceURL:(c=e==null?void 0:e.faceURL)!=null?c:"",ex:(u=e==null?void 0:e.ex)!=null?u:""};ot.emit("OPEN_CHOOSE_MODAL",{type:"SHARE_CARD",extraData:i}),n()},o=()=>{mo.confirm({title:O("placeholder.unfriend"),content:O("toast.confirmUnfriend"),onOk:async()=>{try{await ce.deleteFriend(e.userID)}catch(i){mt({error:i,msg:O("toast.unfriendFailed")})}}}),n()};return A("div",{className:"flex items-center",children:Z(LI,{size:4,children:[A(To,{title:O("placeholder.share"),placement:"bottom",children:A("img",{className:"cursor-pointer",width:18,src:tJ,alt:"",onClick:r})}),t&&A(To,{title:O("placeholder.unfriend"),placement:"bottom",children:A("img",{className:"cursor-pointer",width:18,src:eJ,alt:"",onClick:o})})]})})},rJ=l.memo(nJ),oJ=({refreshSelfInfo:t},e)=>{const[n]=Rr.useForm(),r=ct(d=>d.selfInfo),o=ct(d=>d.updateSelfInfo),{isOverlayOpen:i,closeOverlay:s}=Pr(e),{isLoading:a,mutate:c}=Ts(Hv,{onError:Ls}),u=d=>{const f={nickname:d.nickname,email:d.email,gender:d.gender,birth:d.birth.unix()*1e3};c(f,{onSuccess:()=>{o(f),t(),s()}})};return A(ni,{title:null,footer:null,closable:!1,open:i,centered:!0,onCancel:s,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},width:484,className:"no-padding-modal",maskTransitionName:"",children:Z("div",{children:[A("div",{className:"flex bg-[var(--chat-bubble)] p-5",children:A("span",{className:"text-base font-medium",children:O("placeholder.editInfo")})}),i&&Z(Rr,{form:n,colon:!1,requiredMark:!1,labelCol:{span:3},onFinish:u,className:"sub-label-form p-6.5",autoComplete:"off",initialValues:{...r,birth:sn(r.birth)},children:[A(Rr.Item,{label:O("placeholder.nickName"),name:"nickname",rules:[{required:!0,message:O("toast.inputNickName")}],children:A(lr,{maxLength:20,spellCheck:!1})}),A(Rr.Item,{label:O("placeholder.gender"),name:"gender",children:Z(hu,{children:[A(hu.Option,{value:1,children:O("placeholder.man")}),A(hu.Option,{value:2,children:O("placeholder.female")}),A(hu.Option,{value:0,children:O("placeholder.unknown")})]})}),A(Rr.Item,{label:O("placeholder.phoneNumber"),name:"phoneNumber",children:A(lr,{disabled:!0})}),A(Rr.Item,{label:O("placeholder.email"),name:"email",rules:[{type:"email",message:O("toast.inputCorrectEmail")}],children:A(lr,{spellCheck:!1,placeholder:O("toast.inputEmail")})}),A(Rr.Item,{label:O("placeholder.birth"),name:"birth",children:A(VU,{disabledDate:d=>d&&d>sn().endOf("day")})}),A(Rr.Item,{className:"mb-0",children:Z("div",{className:"flex justify-end",children:[A(un,{className:"mr-3.5 border-0 bg-[var(--chat-bubble)] px-6",onClick:s,children:O("cancel")}),A(un,{className:"px-6",type:"primary",htmlType:"submit",loading:a,children:O("confirm")})]})})]})]})})},iJ=l.memo(l.forwardRef(oJ)),sJ=({cardInfo:t,backToCard:e})=>{const[n,r]=l.useState(""),{runAsync:o,loading:i}=qo(ce.addFriend,{manual:!0}),s=async()=>{try{await o({toUserID:t.userID,reqMsg:n}),mt({msg:O("toast.sendFreiendRequestSuccess")})}catch(a){mt({error:a,msg:O("toast.sendApplicationFailed")})}e()};return Z("div",{className:"flex max-h-[520px] min-h-[484px] flex-col overflow-hidden px-5.5",children:[A("div",{className:"w-full cursor-move",children:Z("div",{className:"mb-8 mt-4.5 flex items-center",children:[A(ka,{className:"cursor-pointer text-[var(--sub-text)]",rev:void 0,onClick:e}),A("div",{className:"ml-2 font-medium",children:O("placeholder.friendVerification")})]})}),Z("div",{className:"ignore-drag flex flex-1 flex-col",children:[Z("div",{className:"flex items-center",children:[A(Sn,{size:60,src:t==null?void 0:t.faceURL,text:t==null?void 0:t.nickname}),Z("div",{className:"ml-3 flex-1 overflow-hidden",children:[A("div",{className:"mb-3 flex-1 truncate text-base font-medium",title:t==null?void 0:t.nickname,children:t==null?void 0:t.nickname}),A("div",{className:"mr-3 text-xs text-[var(--sub-text)]",children:t==null?void 0:t.userID})]})]}),Z("div",{className:"mt-7",children:[A("div",{className:"text-xs text-[var(--sub-text)]",children:O("application.information")}),A("div",{className:"mx-2 my-4",children:A(lr.TextArea,{showCount:!0,value:n,maxLength:50,bordered:!1,placeholder:O("placeholder.pleaseEnter"),spellCheck:!1,style:{padding:"8px 6px"},autoSize:{minRows:6,maxRows:6},onChange:a=>r(a.target.value),className:"bg-[var(--chat-bubble)] hover:bg-[var(--chat-bubble)]"})})]}),A("div",{className:"mx-2 mb-6 flex flex-1 items-end",children:A(un,{className:"flex-1",type:"primary",onClick:s,loading:i,children:O("placeholder.send")})})]})]})},aJ=t=>t?t===1?O("placeholder.man"):O("placeholder.female"):"-",lJ=(t,e)=>{const{userID:n,groupID:r,isSelf:o,notAdd:i}=t,s=l.useRef(null),[a,c]=l.useState();l.useState(!1);const[u,d]=l.useState(!1),[f,m]=l.useState([]),[h,g]=l.useState([]),p=ct(F=>F.selfInfo),w=mn(F=>F.friendList.findIndex(V=>V.userID===n)!==-1),{isOverlayOpen:v,closeOverlay:y}=Pr(e),{toSpecifiedConversation:b}=Bs(),[C,S]=yp(),x=async()=>{var N,B,H,Q,G;if(o)return g([]),p;let F=null;const{data:V}=await ce.getUsersInfoWithCache({userIDList:[n],groupID:r});F={...(H=(N=V[0])==null?void 0:N.friendInfo)!=null?H:(B=V[0])==null?void 0:B.publicInfo},(Q=V[0])!=null&&Q.groupMemberInfo?L((G=V[0])==null?void 0:G.groupMemberInfo):g([]);try{const{data:{users:Y}}=await N2([n]);F={...F,...Y[0]}}catch(Y){console.error("get business user info failed",n,Y)}return F},{data:I,isLoading:E,refetch:_}=bb(["userInfo",n],x,{enabled:v&&!!n});l.useEffect(()=>{var F,V;I&&(c((F=t.cardInfo)!=null?F:I),D((V=t.cardInfo)!=null?V:I))},[I]);const P=async()=>{var V;const{data:F}=await ce.getUsersInfoWithCache({userIDList:[n],groupID:r});return(V=F[0])==null?void 0:V.groupMemberInfo},{data:M}=bb(["cardInfo",n],P,{enabled:v&&!!n});l.useEffect(()=>{M&&L(M)},[M]),l.useEffect(()=>{if(!v)return;const F=({data:V})=>{V.userID===n&&_()};return ce.on(Ue.OnFriendAdded,F),k(),()=>{ce.off(Ue.OnFriendAdded,F)}},[v]);const T=l.useCallback(()=>{const F=ct.getState().selfInfo;c(F),D(F)},[o]),k=()=>{var V;const F=(V=t.cardInfo)!=null?V:I;F&&(c(F),D(F))},R=F=>{D({...a,remark:F})},D=F=>{let V=[];V.push({title:O("placeholder.nickName"),value:F.nickname||""});const N=(F==null?void 0:F.remark)!==void 0;N&&V.push({title:O("placeholder.remark"),value:F.remark||"-",editable:!0}),(N||o)&&(V=[...V,{title:O("placeholder.gender"),value:aJ(F.gender)},{title:O("placeholder.birth"),value:F.birth?sn(F.birth).format("YYYY/M/D"):"-"},{title:O("placeholder.phoneNumber"),value:F.phoneNumber||"-"},{title:O("placeholder.email"),value:F.email||"-"}]),m(V)},L=async F=>{var N;let V="-";if(F.joinSource===Mh.Invitation){const{data:B}=await ce.getSpecifiedGroupMembersInfo({groupID:r,userIDList:[F.inviterUserID]}),H=B[0];V="".concat((N=H==null?void 0:H.nickname)!=null?N:"").concat(O("placeholder.inviteToGroup"))}else V=F.joinSource===Mh.QrCode?O("placeholder.qrCodeToGroup"):O("placeholder.selectIDToGroup");g([{title:O("placeholder.groupNickName"),value:F.nickname},{title:O("placeholder.joinGroupTime"),value:sn(F.joinTime).format("YYYY/M/D")},{title:O("placeholder.joinGroupMode"),value:V}])},$=()=>{d(!1)},j=()=>{if((a==null?void 0:a.allowAddFriend)===di.NotAllow){Sr.warning(O("toast.notCanAddFriend"));return}d(!0)},U=()=>{c(void 0),m([]),g([]),d(!1)},z=!w&&!o&&!i;return Z(Gv,{title:null,footer:null,open:v,closable:!1,width:332,centered:!0,onCancel:y,destroyOnClose:!0,styles:{mask:{opacity:0,transition:"none"}},afterClose:U,ignoreClasses:".ignore-drag, .no-padding-modal, .cursor-pointer",className:"no-padding-modal",maskTransitionName:"",children:[A(dn,{spinning:E,children:u?A(sJ,{cardInfo:a,backToCard:$}):Z("div",{className:"flex max-h-[520px] min-h-[484px] flex-col overflow-hidden bg-[url(@/assets/images/common/card_bg.png)] bg-[length:332px_134px] bg-no-repeat px-5.5",children:[A("div",{className:"h-[104px] min-h-[104px] w-full cursor-move"}),Z("div",{className:"ignore-drag flex flex-1 flex-col overflow-hidden",children:[Z("div",{className:"flex items-center",children:[A(Sn,{size:60,src:a==null?void 0:a.faceURL,text:a==null?void 0:a.nickname}),Z("div",{className:"ml-3 flex h-[60px] flex-1 flex-col justify-around overflow-hidden",children:[A("div",{className:"flex w-fit max-w-[80%] items-baseline",children:A("div",{className:"flex-1 select-text truncate text-base font-medium text-white",title:a==null?void 0:a.nickname,children:a==null?void 0:a.nickname})}),Z("div",{className:"flex items-center",children:[A("div",{className:"mr-3 cursor-pointer text-xs text-[var(--sub-text)]",onClick:()=>{var F;S((F=a==null?void 0:a.userID)!=null?F:""),mt({msg:O("toast.copySuccess")})},children:a==null?void 0:a.userID}),A(rJ,{cardInfo:a,isFriend:w,closeOverlay:y})]})]})]}),Z("div",{className:"flex-1 overflow-y-auto",children:[!!r&&!!h.length&&A(Oy,{divider:!0,title:O("placeholder.groupInfo"),fieldRows:h}),A(Oy,{title:O("placeholder.personalInfo"),userID:a==null?void 0:a.userID,fieldRows:f,updateCardRemark:R})]})]}),Z("div",{className:"mx-1 mb-6 mt-3 flex items-center gap-6",children:[z&&A(un,{type:"primary",className:"flex-1",onClick:j,children:O("placeholder.addFriends")}),o&&A(un,{type:"primary",className:"flex-1",onClick:()=>{var F;return(F=s.current)==null?void 0:F.openOverlay()},children:O("placeholder.editInfo")}),!o&&A(un,{type:"primary",className:"flex-1",onClick:()=>b({sourceID:n,sessionType:ln.Single}).then(y),children:O("placeholder.sendMessage")})]})]})}),A(iJ,{ref:s,refreshSelfInfo:T})]})},cJ=l.memo(l.forwardRef(lJ)),Oy=({title:t,userID:e,divider:n,fieldRows:r,updateCardRemark:o})=>{const i=async s=>{try{await ce.setFriendRemark({toUserID:e,remark:s}),o==null||o(s)}catch(a){mt({error:a})}};return Z("div",{children:[A("div",{className:"my-4 text-[var(--sub-text)]",children:t}),r.map((s,a)=>Z("div",{className:"my-4 flex items-center text-xs",children:[A("div",{className:"w-24 text-[var(--sub-text)]",children:s.title}),s.editable?A(Wg,{className:"!ml-0",textClassName:"font-medium",value:s.value,editable:!0,onChange:i}):A("div",{className:"flex-1 select-text truncate",children:s.value})]},a)),n&&A(Wn,{className:"my-0 border-[var(--gap-text)]"})]})},uJ=({isSearchGroup:t,openUserCardWithData:e,openGroupCardWithData:n},r)=>{const[o,i]=l.useState(""),s=l.useRef(null),{isOverlayOpen:a,closeOverlay:c}=Pr(r);l.useEffect(()=>{a&&setTimeout(()=>{var d;return(d=s.current)==null?void 0:d.focus()})},[a]);const u=async()=>{if(o)if(t)try{const{data:d}=await ce.getSpecifiedGroupsInfo([o]),f=d[0];if(!f){Sr.warning(O("empty.noSearchResults"));return}n(f)}catch(d){if(d.errCode===1004){Sr.warning(O("empty.noSearchResults"));return}mt({error:d})}else try{const{data:{total:d,users:f}}=await kX(o);if(!d||f[0].userID!==o&&f[0].phoneNumber!==o){Sr.warning(O("empty.noSearchResults"));return}const{data:m}=await ce.getUsersInfoWithCache({userIDList:[f[0].userID]}),h=m[0].friendInfo;e({...h,...f[0]})}catch(d){if(d.errCode===1004){Sr.warning(O("empty.noSearchResults"));return}mt({error:d})}};return Z(Gv,{title:null,footer:null,open:a,closable:!1,width:332,onCancel:c,styles:{mask:{opacity:0,transition:"none"}},afterClose:()=>{i("")},ignoreClasses:".ignore-drag, .cursor-pointer",className:"no-padding-modal",maskTransitionName:"",children:[Z("div",{className:"flex h-12 items-center justify-between bg-[var(--gap-text)] px-5.5",children:[A("div",{children:t?O("placeholder.addGroup"):O("placeholder.addFriends")}),A(fr,{className:"cursor-pointer text-[var(--sub-text)]",rev:void 0,onClick:c})]}),Z("div",{className:"ignore-drag",children:[A("div",{className:"border-b border-[var(--gap-text)] px-5.5 py-6",children:A(lr.Search,{ref:s,className:"no-addon-search",placeholder:O("placeholder.pleaseEnter"),value:o,addonAfter:null,spellCheck:!1,onChange:d=>i(d.target.value),onSearch:u})}),Z("div",{className:"flex justify-end px-5.5 py-2.5",children:[A(un,{className:"px-6",type:"primary",disabled:!o,onClick:u,children:O("confirm")}),A(un,{className:"ml-3 border-0 bg-[var(--chat-bubble)] px-6",onClick:c,children:O("cancel")})]})]})]})},dJ=l.memo(l.forwardRef(uJ)),fJ=()=>{const t=l.useRef(null),e=l.useRef(null),n=l.useRef(null),r=l.useRef(null),o=l.useRef(null),[i,s]=l.useState({type:"CRATE_GROUP"}),[a,c]=l.useState(),[u,d]=l.useState(),[f,m]=l.useState(!1),[h,g]=l.useState(!1);l.useEffect(()=>{const y=C=>{var S;c({...C}),(S=t.current)==null||S.openOverlay()},b=C=>{var S;s({...C}),(S=n.current)==null||S.openOverlay()};return ot.on("OPEN_USER_CARD",y),ot.on("OPEN_GROUP_CARD",v),ot.on("OPEN_CHOOSE_MODAL",b),()=>{ot.off("OPEN_USER_CARD",y),ot.off("OPEN_GROUP_CARD",v),ot.off("OPEN_CHOOSE_MODAL",b)}},[]);const p=y=>{var b,C;switch(y){case 0:case 1:g(!!y),(b=r.current)==null||b.openOverlay();break;case 2:s({type:"CRATE_GROUP"}),(C=n.current)==null||C.openOverlay();break}m(!1)},w=l.useCallback(y=>{var b,C;(b=r.current)==null||b.closeOverlay(),c({userID:y.userID,cardInfo:y}),(C=t.current)==null||C.openOverlay()},[]),v=l.useCallback(y=>{var b,C;(b=r.current)==null||b.closeOverlay(),d(y),(C=e.current)==null||C.openOverlay()},[]);return Z("div",{className:"no-mobile app-drag flex h-10 min-h-[40px] items-center bg-[var(--top-search-bar)] dark:bg-[#141414]",children:[Z("div",{className:"flex w-full items-center justify-center",children:[Z("div",{className:"app-no-drag flex h-[26px] w-1/3 cursor-pointer items-center justify-center rounded-md bg-[rgba(255,255,255,0.2)]",onClick:()=>{var y;return(y=o.current)==null?void 0:y.openOverlay()},children:[A("img",{width:16,src:dQ,alt:""}),A("span",{className:"ml-2 text-[#D2E3F8]",children:O("placeholder.search")})]}),A(ho,{content:A(mJ,{actionClick:p}),arrow:!1,title:null,trigger:"click",placement:"bottom",open:f,onOpenChange:y=>m(y),children:A("img",{className:"app-no-drag ml-8 cursor-pointer",width:20,src:fQ,alt:""})})]}),A(pQ,{}),A(cJ,{ref:t,...a}),A(JQ,{ref:e,groupData:u}),A(kQ,{ref:n,state:i}),A(dJ,{ref:r,isSearchGroup:h,openUserCardWithData:w,openGroupCardWithData:v}),A(WQ,{ref:o})]})},Yu=[{idx:0,title:O("placeholder.addFriends"),icon:lQ},{idx:1,title:O("placeholder.addGroup"),icon:cQ},{idx:2,title:O("placeholder.createGroup"),icon:uQ}];Or.on("languageChanged",()=>{Yu[0].title=O("placeholder.addFriends"),Yu[1].title=O("placeholder.addGroup"),Yu[2].title=O("placeholder.createGroup")});const mJ=({actionClick:t})=>A("div",{className:"p-1",children:Yu.map(e=>Z("div",{className:"flex cursor-pointer items-center rounded px-3 py-2 text-xs hover:bg-[var(--primary-active)]",onClick:()=>t==null?void 0:t(e.idx),children:[A("img",{width:20,src:e.icon,alt:"call_video"}),A("div",{className:"ml-3",children:e.title})]},e.idx))}),hJ=""+new URL("newMsg-a82e805b.mp3",import.meta.url).href;function gJ(){const t=jd(),e=ct(ne=>ne.syncState),n=ct(ne=>ne.updateSyncState),r=ct(ne=>ne.updateProgressState),o=ct(ne=>ne.updateReinstallState),i=ct(ne=>ne.updateIsLogining),s=ct(ne=>ne.updateConnectState),a=ct(ne=>ne.updateSelfInfo),c=ct(ne=>ne.userLogout),u=tt(ne=>ne.updateConversationList),d=tt(ne=>ne.updateCurrentConversation),f=tt(ne=>ne.updateUnReadCount),m=tt(ne=>ne.updateCurrentGroupInfo),h=tt(ne=>ne.getCurrentGroupInfoByReq),g=tt(ne=>ne.setCurrentMemberInGroup),p=tt(ne=>ne.getCurrentMemberInGroupByReq),w=tt(ne=>ne.tryUpdateCurrentMemberInGroup),v=tt(ne=>ne.getConversationListByReq),y=tt(ne=>ne.getUnReadCountByReq),b=At(ne=>ne.tryAddPreviewImg),C=At(ne=>ne.updateDownloadTask),S=At(ne=>ne.removeDownloadTask),x=mn(ne=>ne.getFriendListByReq),I=mn(ne=>ne.getGroupListByReq),E=mn(ne=>ne.updateFriend),_=mn(ne=>ne.pushNewFriend),P=mn(ne=>ne.updateBlack),M=mn(ne=>ne.pushNewBlack),T=mn(ne=>ne.updateGroup),k=mn(ne=>ne.pushNewGroup),R=mn(ne=>ne.updateRecvFriendApplication),D=mn(ne=>ne.updateSendFriendApplication),L=mn(ne=>ne.updateRecvGroupApplication),$=mn(ne=>ne.updateSendGroupApplication);let j=[],U=null;l.useEffect(()=>(z(),j=[],V(),()=>{He()}),[]),l.useEffect(()=>{var gt,lt;const ne=Ze=>{var Ye;(Ye=window.electronAPI)==null||Ye.ipcInvoke("transferContactStoreData",{key:Ze,data:JSON.stringify({friendList:mn.getState().friendList,groupList:mn.getState().groupList})})},Pe=(Ze,Ye)=>{const{clientMsgID:Xe,conversationID:$e,originUrl:pt,isMediaMessage:bt,isThumb:Te}=At.getState().downloadMap[Ze];Te&&pt&&addImageCache(pt,Ye),setTimeout(()=>S(Ze),2e3),!(!Xe||!$e)&&ce.setMessageLocalEx({clientMsgID:Xe,conversationID:$e,localEx:Ye}).then(()=>{const Le={clientMsgID:Xe,localEx:Ye};Oo(Le),bt&&updateMessagePreview(Le)})},je=(gt=window.electronAPI)==null?void 0:gt.subscribe("getContactStoreData",ne),nt=(lt=window.electronAPI)==null?void 0:lt.subscribe("downloadSuccess",Pe);return()=>{je==null||je(),nt==null||nt()}},[]),l.useEffect(()=>{var Xe,$e,pt,bt;const ne=(Te,Le)=>{At.getState().downloadMap[Te]&&C(Te,{progress:Le})},Pe=(Te,Le)=>{At.getState().downloadMap[Te]&&C(Te,{progress:0,downloadState:"finish"})},je=Te=>{At.getState().downloadMap[Te]&&S(Te)},nt=Te=>{const Le=At.getState().downloadMap[Te];Le&&(S(Te),Le.showError&&Sr.error(O("toast.applyDownloadFailed")))},gt=(Xe=window.electronAPI)==null?void 0:Xe.subscribe("downloadProgress",ne),lt=($e=window.electronAPI)==null?void 0:$e.subscribe("downloadSuccess",Pe),Ze=(pt=window.electronAPI)==null?void 0:pt.subscribe("downloadCancel",je),Ye=(bt=window.electronAPI)==null?void 0:bt.subscribe("downloadFailed",nt);return()=>{gt==null||gt(),lt==null||lt(),Ze==null||Ze(),Ye==null||Ye()}},[]);const z=async()=>{const ne=await rc(),Pe=await yi();if(!ne||!Pe){aS(),t("/login");return}F()},F=async()=>{var je,nt,gt;i(!0);const ne=await rc(),Pe=await yi();try{await ce.login({userID:Pe,token:ne,platformID:(nt=(je=window.electronAPI)==null?void 0:je.getPlatform())!=null?nt:5,apiAddr:E2(),wsAddr:fX(),logLevel:G1.Debug}),(gt=window.electronAPI)==null||gt.ipcInvoke("setUserCachePath",Pe),tX()}catch(lt){console.error(lt),lt.errCode!==10102&&t("/login")}i(!1)},V=()=>{ce.on(Ue.OnSelfInfoUpdated,N),ce.on(Ue.OnConnecting,B),ce.on(Ue.OnConnectFailed,H),ce.on(Ue.OnConnectSuccess,Q),ce.on(Ue.OnKickedOffline,G),ce.on(Ue.OnUserTokenExpired,Y),ce.on(Ue.OnUserTokenInvalid,Y),ce.on(Ue.OnSyncServerStart,ee),ce.on(Ue.OnSyncServerProgress,J),ce.on(Ue.OnSyncServerFinish,se),ce.on(Ue.OnSyncServerFailed,ie),ce.on(Ue.OnRecvNewMessage,oe),ce.on(Ue.OnRecvNewMessages,oe),ce.on(Ue.OnNewRecvMessageRevoked,ue),ce.on(Ue.OnConversationChanged,be),ce.on(Ue.OnNewConversation,ke),ce.on(Ue.OnTotalUnreadMessageCountChanged,we),ce.on(Ue.OnFriendInfoChanged,le),ce.on(Ue.OnFriendAdded,Ce),ce.on(Ue.OnFriendDeleted,Ae),ce.on(Ue.OnBlackAdded,Be),ce.on(Ue.OnBlackDeleted,Fe),ce.on(Ue.OnJoinedGroupAdded,De),ce.on(Ue.OnJoinedGroupDeleted,ze),ce.on(Ue.OnGroupDismissed,at),ce.on(Ue.OnGroupInfoChanged,We),ce.on(Ue.OnGroupMemberAdded,Re),ce.on(Ue.OnGroupMemberDeleted,me),ce.on(Ue.OnGroupMemberInfoChanged,xe),ce.on(Ue.OnFriendApplicationAdded,_e),ce.on(Ue.OnFriendApplicationAccepted,_e),ce.on(Ue.OnFriendApplicationRejected,_e),ce.on(Ue.OnGroupApplicationAdded,Ne),ce.on(Ue.OnGroupApplicationAccepted,Ne),ce.on(Ue.OnGroupApplicationRejected,Ne)},N=({data:ne})=>{nh({sendID:ne.userID,senderNickname:ne.nickname,senderFaceUrl:ne.faceURL}),a(ne)},B=()=>{s("loading"),console.log("connecting...")},H=({errCode:ne,errMsg:Pe})=>{s("failed"),console.error("connectFailedHandler",ne,Pe),ne===705&&te(O("toast.loginExpiration"))},Q=()=>{s("success"),console.log("connect success...")},G=()=>te(O("toast.accountKicked")),Y=()=>te(O("toast.loginExpiration")),te=ne=>mt({msg:ne,error:ne,onClose:()=>{c(!0)}}),ee=({data:ne})=>{n("loading"),o(ne)},J=({data:ne})=>{r(ne)},se=()=>{n("success"),x(),I(),v(!1,!0),y().then(ne=>{var Pe;return(Pe=window.electronAPI)==null?void 0:Pe.ipcInvoke("updateUnreadCount",ne)})},ie=()=>{n("failed"),mt({msg:O("toast.syncFailed"),error:O("toast.syncFailed")})},oe=({data:ne})=>{e!=="loading"&&(Array.isArray(ne)||(ne=[ne]),ne.map(Pe=>Se(Pe)))},ue=({data:ne})=>{Oo({clientMsgID:ne.clientMsgID,contentType:ge.RevokeMessage,isAppend:!0,notificationElem:{detail:JSON.stringify(ne)}})},de=async ne=>{if(e==="loading")return;const Pe=ct.getState().selfInfo;if(Pe.allowBeep===di.NotAllow||Pe.globalRecvMsgOpt!==Ko.Normal)return;let je=[...tt.getState().conversationList,...j].find(nt=>Ta(ne.sessionType)?ne.groupID===nt.groupID:ne.sendID===nt.userID);if(!je)try{const{data:nt}=await ce.getOneConversation({sessionType:ne.sessionType,sourceID:ne.groupID||ne.sendID});je=nt,j=[...j,{...je}]}catch(nt){return}je.recvMsgOpt===Ko.Normal&&(sX({message:ne,conversation:je,callback:nt=>{var gt;((gt=tt.getState().currentConversation)==null?void 0:gt.conversationID)!==nt.conversationID&&(d({...nt,unreadCount:1}),t("/chat/".concat(nt.conversationID)))}}),U||(U=document.createElement("audio")),U.src=hJ,U.play())},{run:he}=vp(()=>ot.emit("TYPING_UPDATE"),{wait:2e3}),ye=[ge.TypingMessage,ge.RevokeMessage],Se=ne=>{if(!ye.includes(ne.contentType)&&ne.sendID!==ct.getState().selfInfo.userID&&(document.visibilityState==="hidden"||!Me(ne))&&de(ne),!Me(ne))return;if(ne.sessionType===ln.Single&&ne.contentType===ge.TypingMessage&&he(),!ye.includes(ne.contentType)){const nt=ne.sendID!==ct.getState().selfInfo.userID||Bv.includes(ne.contentType);if(At.getState().jumpClientMsgID){nt&&ot.emit("ADD_NEW_MESSAGE_COUNT",1);return}ne.isAppend=nt,_2(ne),b([ne]),ot.emit("CHAT_LIST_SCROLL_TO_BOTTOM",!1)}},Me=ne=>{var Pe,je,nt,gt;switch(ne.sessionType){case ln.Single:return ne.sendID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.userID)||ne.sendID===ct.getState().selfInfo.userID&&ne.recvID===((je=tt.getState().currentConversation)==null?void 0:je.userID);case ln.Group:case ln.WorkingGroup:return ne.groupID===((nt=tt.getState().currentConversation)==null?void 0:nt.groupID);case ln.Notification:return ne.sendID===((gt=tt.getState().currentConversation)==null?void 0:gt.userID);default:return!1}},be=({data:ne})=>{e==="loading"&&ne.find(je=>{var nt;return je.conversationID===((nt=tt.getState().currentConversation)==null?void 0:nt.conversationID)&&!!je.unreadCount})&&!At.getState().enableReverseLoad&&setTimeout(()=>{M2()},200),u(ne,"filter")},ke=({data:ne})=>{u(ne,"push")},we=({data:ne})=>{var Pe;ne!==tt.getState().unReadCount&&(f(ne),e!=="loading"&&((Pe=window.electronAPI)==null||Pe.ipcInvoke("updateUnreadCount",ne)))},le=({data:ne})=>{var Pe;ne.userID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.userID)&&nh({sendID:ne.userID,senderNickname:ne.remark||ne.nickname,senderFaceUrl:ne.faceURL}),E(ne)},Ce=({data:ne})=>{_(ne)},Ae=({data:ne})=>{E(ne,!0)},Be=({data:ne})=>{M(ne)},Fe=({data:ne})=>{P(ne,!0)},De=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&(m(ne),p(ne.groupID)),k(ne)},ze=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&(h(ne.groupID),g()),T(ne,!0)},at=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&p(ne.groupID)},We=({data:ne})=>{var Pe;T(ne),ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&m(ne)},Re=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&ne.userID===ct.getState().selfInfo.userID&&p(ne.groupID)},me=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&ne.userID===ct.getState().selfInfo.userID&&p(ne.groupID)},xe=({data:ne})=>{var Pe;ne.groupID===((Pe=tt.getState().currentConversation)==null?void 0:Pe.groupID)&&(nh({sendID:ne.userID,senderNickname:ne.nickname,senderFaceUrl:ne.faceURL}),w(ne))},_e=({data:ne})=>{ne.toUserID===ct.getState().selfInfo.userID?R(ne):D(ne)},Ne=({data:ne})=>{ne.userID!==ct.getState().selfInfo.userID?L(ne):$(ne)},He=()=>{ce.off(Ue.OnSelfInfoUpdated,N),ce.off(Ue.OnConnecting,B),ce.off(Ue.OnConnectFailed,H),ce.off(Ue.OnConnectSuccess,Q),ce.off(Ue.OnKickedOffline,G),ce.off(Ue.OnUserTokenExpired,Y),ce.off(Ue.OnUserTokenInvalid,Y),ce.off(Ue.OnSyncServerStart,ee),ce.off(Ue.OnSyncServerProgress,J),ce.off(Ue.OnSyncServerFinish,se),ce.off(Ue.OnSyncServerFailed,ie),ce.off(Ue.OnRecvNewMessage,oe),ce.off(Ue.OnRecvNewMessages,oe),ce.off(Ue.OnConversationChanged,be),ce.off(Ue.OnNewConversation,ke),ce.off(Ue.OnTotalUnreadMessageCountChanged,we),ce.off(Ue.OnFriendInfoChanged,le),ce.off(Ue.OnFriendAdded,Ce),ce.off(Ue.OnFriendDeleted,Ae),ce.off(Ue.OnBlackAdded,Be),ce.off(Ue.OnBlackDeleted,Fe),ce.off(Ue.OnJoinedGroupAdded,De),ce.off(Ue.OnJoinedGroupDeleted,ze),ce.off(Ue.OnGroupDismissed,at),ce.off(Ue.OnGroupInfoChanged,We),ce.off(Ue.OnGroupMemberAdded,Re),ce.off(Ue.OnGroupMemberDeleted,me),ce.off(Ue.OnGroupMemberInfoChanged,xe),ce.off(Ue.OnFriendApplicationAdded,_e),ce.off(Ue.OnFriendApplicationAccepted,_e),ce.off(Ue.OnFriendApplicationRejected,_e),ce.off(Ue.OnGroupApplicationAdded,Ne),ce.off(Ue.OnGroupApplicationAccepted,Ne),ce.off(Ue.OnGroupApplicationRejected,Ne)}}const pJ=()=>{gJ();const t=XM(),e=jd(),n=ct(c=>c.progress),r=ct(c=>c.syncState),o=ct(c=>c.reinstall),i=ct(c=>c.isLogining);pp(()=>{const c=!t.find(d=>d.pathname!=="/"),u=t.some(d=>d.params.conversationID);(c||u)&&e("chat",{replace:!0})});const s=i?O("toast.loading"):"".concat(n,"%");return A(dn,{className:"!max-h-none",spinning:i||o&&r==="loading",tip:s,children:Z(Ms,{className:"h-full",children:[A(fJ,{}),Z(Ms,{children:[A(aQ,{}),A(K1,{})]})]})})},vJ=""+new URL("empty_chat_bg-95f77f22.png",import.meta.url).href,bJ=()=>{const{t}=Qi(),e=()=>{ot.emit("OPEN_CHOOSE_MODAL",{type:"CRATE_GROUP"})};return A(Ms,{className:"no-mobile flex items-center justify-center bg-white",children:Z("div",{children:[Z("div",{className:"mb-12 flex flex-col items-center",children:[A("div",{className:"mb-3 text-xl font-medium",children:t("placeholder.createGroup")}),A("div",{className:"text-[var(--sub-text)]",children:t("placeholder.createGroupToast")})]}),A("img",{src:vJ,alt:"",width:320}),A("div",{className:"mt-28 flex justify-center",children:A(un,{className:"px-8",type:"primary",onClick:e,children:t("placeholder.createNow")})})]})})},V2=({dom:t,clientMsgID:e,isFileDownloaded:n,hiddenImageAction:r=!1,onDownloadOrShowFinder:o})=>{const i=At(c=>nl({downloadMap:c.downloadMap,compareKey:"clientMsgID",compareValue:e})),s=()=>(i==null?void 0:i.downloadState)==="pause"?A(Hq,{}):i!=null&&i.isMediaMessage&&!n?A(Si,{spin:!0}):n?A(Mq,{}):A(u2,{}),a=A("div",{className:"ant-image-preview-operations-operation",onClick:i!=null&&i.isMediaMessage?void 0:o,children:s()},"download-or-show-finder");return r?fe.cloneElement(t,{},[a]):fe.cloneElement(t,{},[t==null?void 0:t.props.children,a])};X1.use(sk);const wJ=({url:t,autoplay:e,poster:n})=>(l.useEffect(()=>{new Q1({id:"video_player",url:t,autoplay:e,poster:n,plugins:[J1,Z1,eS,tS,nS,rS,oS,iS]})},[t]),A("div",{id:"video_player"})),yJ=l.memo(wJ),CJ=({conversationID:t},e)=>{const[n,r]=l.useState(!1),o=xr(n),[i,s]=l.useState(!1),[a,c]=l.useState(0),u=At(v=>[...v.previewImgList].reverse()),d=At(v=>v.updateDownloadTask),f=ct(v=>v.imageCache),m=At(v=>v.getConversationPreviewImgList);l.useEffect(()=>{u.length&&o.current&&c(v=>v+1)},[u.length]);const h=v=>{var I,E,_;const{url:y,videoUrl:b,clientMsgID:C}=u[v],S=nl({downloadMap:At.getState().downloadMap,compareKey:"clientMsgID",compareValue:C});if((S==null?void 0:S.downloadState)==="pause"){(I=window.electronAPI)==null||I.ipcInvoke("resumeDownload",S==null?void 0:S.downloadUrl),d((E=S==null?void 0:S.downloadUrl)!=null?E:"",{downloadState:"downloading"});return}const x=b!=null?b:y;if(!x.startsWith("http")){(_=window.electronAPI)==null||_.showInFinder(x.replace("file://",""));return}pi(x,{clientMsgID:C,conversationID:t,isMediaMessage:!0,showError:!0,saveType:b?"video":"image"})},g=async v=>{var S;let y=u.findIndex(x=>x.clientMsgID===v),b=u[y];if(y<0&&(await m(),y=At.getState().previewImgList.findIndex(x=>x.clientMsgID===v),b=At.getState().previewImgList[y]),y<0)return;const C=(S=b.videoUrl)!=null?S:b.url;window.electronAPI&&C.startsWith("http")?pi(C,{clientMsgID:v,conversationID:t,isMediaMessage:!0,showError:!0,saveType:b.videoUrl?"video":"image"}):(s(!0),setTimeout(()=>s(!1),200)),c(y),r(!0)},p=v=>{var b;const y=(b=u[v].videoUrl)!=null?b:u[v].url;window.electronAPI&&y.startsWith("http")&&pi(y,{clientMsgID:u[v].clientMsgID,conversationID:t,isMediaMessage:!0,showError:!0,saveType:u[v].videoUrl?"video":"image"}),c(v)};l.useImperativeHandle(e,()=>({showAlbum:g}),[u]);const w=u.map(v=>{var y,b;return!window.electronAPI||v.url.startsWith("file://")||!v.thumbUrl?v.url:f[(y=v.thumbUrl)!=null?y:""]?"file://".concat(f[(b=v.thumbUrl)!=null?b:""]):v.thumbUrl});return A("div",{style:{display:"none"},children:A(Of.PreviewGroup,{preview:{current:a,visible:n,toolbarRender:(v,{current:y})=>{var x;const b=u[y],C=b.videoUrl?"videoUrl":"url",S=!!((x=b[C])!=null&&x.startsWith("file://"));return A(V2,{clientMsgID:b.clientMsgID,isFileDownloaded:S,dom:v,hiddenImageAction:b.videoUrl!==void 0,onDownloadOrShowFinder:()=>h(y)})},imageRender:(v,{current:y})=>A(xJ,{dom:v,source:u[y],autoplay:i}),onVisibleChange:v=>r(v),onChange:p},items:w})})},SJ=l.memo(l.forwardRef(CJ)),xJ=({dom:t,source:e,autoplay:n})=>{var a,c,u;const r=At(d=>d.updateDownloadTask),o=At(d=>nl({downloadMap:d.downloadMap,compareKey:"clientMsgID",compareValue:e.clientMsgID}));l.useEffect(()=>{const d=document.getElementsByClassName("ant-image-preview-img")[0];if(d)return d.addEventListener("load",()=>{d.style.display="block"}),d.complete&&(d.style.display="block"),()=>{d&&(d.style.display="none")}},[e.clientMsgID]);const i=()=>{var d,f,m;if((o==null?void 0:o.downloadState)==="downloading"||(o==null?void 0:o.downloadState)==="resume"){(d=window.electronAPI)==null||d.ipcInvoke("pauseDownload",o.downloadUrl),r(o.downloadUrl,{downloadState:"pause"});return}if((o==null?void 0:o.downloadState)==="pause"){(f=window.electronAPI)==null||f.ipcInvoke("resumeDownload",o.downloadUrl),r(o.downloadUrl,{downloadState:"downloading"});return}!o&&e.videoUrl&&pi(e.videoUrl,{isMediaMessage:!0,showError:!0,saveType:"video",clientMsgID:e.clientMsgID,conversationID:(m=tt.getState().currentConversation)==null?void 0:m.conversationID})};if(!e.videoUrl)return Z(to,{children:[t,A("div",{className:"absolute -z-10 flex items-center justify-center",children:A(dn,{spinning:!0})})]});const s=(a=e.videoUrl)==null?void 0:a.startsWith("file://");return(c=e.videoUrl)!=null&&c.startsWith("file://")||!window.electronAPI?A("div",{className:"relative",children:A(yJ,{url:e.videoUrl,autoplay:n})}):Z(to,{children:[t,A("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",onClick:i,children:A(os,{size:40,pausing:(o==null?void 0:o.downloadState)==="pause",finished:s||!window.electronAPI,percent:(u=o==null?void 0:o.progress)!=null?u:0})}),A("div",{className:"absolute -z-10 flex items-center justify-center",children:A(dn,{spinning:!0})})]})},j2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAnFJREFUWEftl0920zAQxr9RYpcd4QSEExBOgHuDcAJ6A8KGNKuGletuHG7QnoDegHAC0huUExCWlRMNTw42ri3/q+s6vBfvEkmjnz7NaGYIe/7RnvPhANj0hg4K/h8KuoGDZ/0VPtK6LnC7V+xtxsRbn4iGzFjyqX28H4AXckQKPhGcJJCa2rUFqb2gUAGfB0IGZwAmpnndAnpyQsAZAYO8Q3QD6AYOCfYJGJX51+MCuvKECO8LNyUMqoBFNjKAOoiwDffg6dE7015GHxTncgHChzJF6o7HgInojuEVHWNmLdM2zYCe5LqbZ+YzvoB4DZAOmvCLAEXCPjN+E/FCTY/m1RR0A0cI/tYU0ATz77+7OYMcVrjEzL4s2iur4BMA1jl8d4A6/fWwcyWrf5OXBjsBpHO5JsLze1lGWa8wo9vyIHmCKzYCEt7gk73aC0C4PAQ2wximx2sTnB7v5Ir3P0i8zViAXyvVvzL5XfIAWQUv5EgwftQ5ZVHlknyUo3cw6YNhncj02ZRFzFes7927uyXQyyaQyrZe6PVCBr8ymcSQSlXlINHWdgXnMv0U1AFm5vDJ0NV0GjD87fJQCHnCTBOdEtm2R6a3ML9g9XkAuXUE1NcCsCsGO1XVftxy6y9V0ofSoCqqQHRpJnheBtodYES+qyEXea7RPaAGDfsSOdG+lUlnbTRNprQUO31OkRmOp0AZ+M5T+16XVyXoSru6vOqaGTd8apf2Ibu0pht367qdxt3nAcngmoC30YkZ/JOJxnn5s4oyVeeUKhgbCqsc5Sj0VrB7y4eoURWqONU9xEqLa6or2CJEkekDYFPhDwo2VfAPOZ4/OL6LBOwAAAAASUVORK5CYII=",AJ=({message:t})=>{const{t:e}=Qi(),n=JSON.parse(t.notificationElem.detail);return Z("div",{className:"min-w-[240px] rounded-md border border-[var(--gap-text)] px-3 py-2.5",children:[Z("div",{className:"mb-1 flex items-center",children:[A("img",{width:20,src:j2,alt:"spear"}),A("span",{className:"ml-2 text-[var(--primary)]",children:e("placeholder.groupAnnouncement")})]}),A("div",{className:"text-break",children:n.group.notification})]})},EJ="_bubble_1t138_10",IJ="_suffix_1t138_15",_J="_animate_1t138_40",Qr={"message-container":"_message-container_1t138_1","message-wrap":"_message-wrap_1t138_4","message-profile":"_message-profile_1t138_7",bubble:EJ,suffix:IJ,"menu-wrap":"_menu-wrap_1t138_18","message-container-sender":"_message-container-sender_1t138_21","animate-container":"_animate-container_1t138_40",animate:_J,"card-shadow":"_card-shadow_1t138_52"},z2=({message:t})=>{const{t:e}=Qi(),n=t.cardElem;return Z("div",{className:Qr["card-shadow"],onClick:()=>ot.emit("OPEN_USER_CARD",{userID:n.userID}),children:[Z("div",{className:"flex items-center bg-[#e6f3ff] p-4",children:[A(Sn,{src:n.faceURL,size:36,text:n.nickname}),A("div",{className:"ml-3 truncate",title:n.nickname,children:n.nickname})]}),A("div",{className:"py-1.5 pl-4 text-xs text-[var(--sub-text)]",children:e("placeholder.personalCard")})]})},Zf=()=>{const{t}=Qi();return A("div",{className:Qr.bubble,children:t("messageDescription.catchMessage")})},PJ=({message:t})=>{var n;const e=JSON.parse((n=t.customElem)==null?void 0:n.data).data;return A("div",{className:Qr.bubble,children:e.textElem.content})},U2=t=>{const{message:e}=t;return JSON.parse(e.customElem.data).customType===b2.MassMsg?A(PJ,{...t}):A(Zf,{})},il=t=>{const e=l.useMemo(()=>{var r,o,i,s;if(!window.electronAPI||(r=t.src)!=null&&r.match(/^blob:/))return t.src;if(!((o=t.src)!=null&&o.match(/^https?:\/\//))&&!((i=t.src)!=null&&i.match(/^file:\/\//)))return"file://".concat(t.src);const n=ct.getState().imageCache[t.src];return n&&((s=window.electronAPI)!=null&&s.fileExists(n))?"file://".concat(n):(t.src&&pi(t.src,{isThumb:!0,saveType:"image",randomName:!0}),t.src)},[t.src]);return A(Of,{...t,src:e})},rh=(t,e)=>t>e?e:t,MJ=({message:t})=>{const e=JSON.parse(t.faceElem.data),n=rh(200,e.width)*(e.height/e.width)+2,r=rh(n,640),o=rh(e.width,200),i={minHeight:"".concat(r,"px"),minWidth:"".concat(o,"px")};return A("div",{className:"relative",style:i,children:A(il,{rootClassName:"message-image cursor-pointer",className:"max-w-[200px] rounded-md",preview:!1,src:(a=>{var c,u;return(u=window.electronAPI)!=null&&u.fileExists((c=a.path)!=null?c:"")?"file://".concat(a.path):a.url})(e),placeholder:A("div",{style:i,className:"flex items-center justify-center",children:A(dn,{})})})})};function H2(t){const[e,n]=l.useState(0);return l.useEffect(()=>{const r=({data:{clientMsgID:o,progress:i}})=>{o===t&&n(i)};return ce.on(Ue.OnProgress,r),()=>{ce.off(Ue.OnProgress,r)}},[]),e}const W2=({message:t})=>{var h;const{fileElem:e}=t,n=l.useRef(null),{downloadState:r,tryDownload:o}=rs(t),i=At(g=>nl({downloadMap:g.downloadMap,compareKey:"clientMsgID",compareValue:t.clientMsgID})),s=H2(t.clientMsgID),a=t.status===uo.Sending,c=t.status===uo.Succeed,d=["downloading","pause","resume"].includes(r),{path:f}=Ki(t),m=(h=window.electronAPI)==null?void 0:h.fileExists(f);return A(dn,{spinning:a,tip:"".concat(s,"%"),children:Z("div",{ref:n,onClick:o,className:"flex w-60 cursor-pointer items-center justify-between rounded-md border border-[var(--gap-text)]  p-3",children:[Z("div",{className:"mr-2 flex h-full flex-1 flex-col justify-between overflow-hidden",children:[A("div",{"data-drag":"app-drag",className:"line-clamp-2 break-all",children:e.fileName}),A("div",{"data-drag":"app-drag",className:"text-xs text-[var(--sub-text)]",children:qf(e.fileSize)})]}),Z("div",{className:"relative min-w-[38px]",children:[A("img",{width:38,src:ol,alt:"file","data-drag":"app-drag"}),c&&!m&&r!=="finish"&&A("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-md bg-[rgba(0,0,0,.4)]",children:A(os,{pausing:r==="pause",percent:d&&(i==null?void 0:i.progress)||0})})]})]})})},G2=({message:t})=>{let e={};try{e=JSON.parse(t.locationElem.description)}catch(n){console.error(n)}return Z("div",{className:"w-60 cursor-pointer overflow-hidden rounded-md border border-[var(--gap-text)]",children:[A("div",{className:"mx-3 mt-2 truncate",children:e.name}),A("div",{className:"mx-3 mb-1 truncate text-xs text-[var(--sub-text)]",children:e.addr}),A(il,{className:"block",width:240,height:120,src:e.url,preview:!1})]})},kJ=({modal:t})=>{const[e,n]=l.useState({left:0,top:0,bottom:0,right:0}),r=l.useRef(null),o=(i,s)=>{var d;const{clientWidth:a,clientHeight:c}=window.document.documentElement,u=(d=r.current)==null?void 0:d.getBoundingClientRect();u&&n({left:-u.left+s.x,right:a-(u.right-s.x),top:-u.top+s.y,bottom:c-(u.bottom-s.y)})};return A(Y1,{bounds:e,nodeRef:r,onStart:(i,s)=>o(i,s),children:A("div",{ref:r,children:t})})},RJ=()=>{const{modal:t}=$c.useApp();return{showMergeModal:n=>{const r=t.info({title:null,icon:null,footer:null,width:680,className:"no-padding-modal",styles:{mask:{opacity:0,transition:"none"}},centered:!0,maskTransitionName:"",modalRender:o=>A(kJ,{modal:o}),content:Z("div",{className:"w-[680px]",children:[Z("div",{className:"flex h-16 items-center justify-between bg-[var(--gap-text)] px-7",children:[A("div",{className:"font-medium",children:n==null?void 0:n.title}),A(fr,{className:"cursor-pointer text-[var(--sub-text)]",rev:void 0,onClick:()=>r.destroy()})]}),A("div",{className:"h-[65vh] overflow-auto",children:n==null?void 0:n.multiMessage.map(o=>A(X2,{message:o,isSender:!1,disabled:!0},o.clientMsgID))})]})})}}};X1.use(ak);const TJ=()=>{const{modal:t}=$c.useApp();return{showVideoPlayer:n=>{const r=t.confirm({title:null,icon:null,footer:null,width:600,centered:!0,maskTransitionName:"",className:"no-padding-modal",styles:{mask:{opacity:0,transition:"none"}},content:A("div",{id:"video_player_modal",children:A("div",{className:"absolute right-4 top-4 flex h-6 w-6 cursor-pointer items-center justify-center rounded-lg bg-black bg-opacity-15 ",onClick:()=>r.destroy(),children:A(fr,{className:"text-[var(--sub-text)]",rev:void 0})})})});setTimeout(()=>{new Q1({id:"video_player_modal",url:n,autoplay:!0,plugins:[J1,Z1,eS,tS,nS,rS,oS,iS]})},50)}}},Jc=()=>{const{showMergeModal:t}=RJ(),{showVideoPlayer:e}=TJ();return{showMergeModal:t,showVideoPlayer:e}},oh=(t,e)=>t>e?e:t,Md=({message:t,showAlbum:e})=>{var E;const{showVideoPlayer:n}=Jc(),r=l.useRef(null),[o,i]=l.useState(!1),{progress:s,downloadState:a}=rs(t),c=H2(t.clientMsgID),u=t.contentType===ge.VideoMessage,d=u?t.videoElem.snapshotHeight:t.pictureElem.sourcePicture.height,f=u?t.videoElem.snapshotWidth:t.pictureElem.sourcePicture.width,m=u?320:t.pictureElem.snapshotPicture.height,h=oh(200,f)*(d/f)+2,g=oh(h,m)+10,p=oh(f,200)+10,w=t.status===uo.Succeed;LM({message:t},r,{onDragStart:()=>{i(!0)},onDragEnd:()=>{i(!1)}});const v=()=>{e==null||e(t.clientMsgID),!e&&u&&n(t.videoElem.videoUrl)},y=()=>u||o?!1:e?{visible:!1}:!0,b=()=>{var _,P,M;return!u&&t.localEx&&((_=window.electronAPI)!=null&&_.fileExists(t.localEx))?t.localEx:!u&&t.pictureElem.sourcePath&&((P=window.electronAPI)!=null&&P.fileExists(t.pictureElem.sourcePath))?t.pictureElem.sourcePath:u&&t.videoElem.snapshotPath&&((M=window.electronAPI)!=null&&M.fileExists(t.videoElem.snapshotPath))?t.videoElem.snapshotPath:u?t.videoElem.snapshotUrl:t.pictureElem.snapshotPicture.url},C=t.status===uo.Sending,S={minHeight:"".concat(g,"px"),minWidth:"".concat(p,"px")},{path:x}=Ki(t),I=(E=window.electronAPI)==null?void 0:E.fileExists(x);return A(dn,{spinning:C,tip:"".concat(c,"%"),children:Z("div",{className:"relative max-w-[200px]",style:S,ref:r,children:[A(il,{rootClassName:"message-image cursor-pointer",className:"max-w-[200px] rounded-md",src:b(),preview:y(),onClick:v,placeholder:A("div",{style:S,className:"flex items-center justify-center",children:A(dn,{})})}),u&&A("div",{className:"absolute bottom-3 right-4 text-white",children:XY(t.videoElem.duration)}),u&&w&&A("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",onClick:v,children:A(os,{size:40,pausing:a==="pause",finished:I||a==="finish"||!window.electronAPI,percent:s})})]})})},OJ=({message:t})=>{const{showMergeModal:e}=Jc();return Z("div",{className:"w-60 cursor-pointer rounded-md border border-[var(--gap-text)]",onClick:()=>e==null?void 0:e(t.mergeElem),children:[A("div",{className:"border-b border-[var(--gap-text)] px-4 py-2.5",children:t.mergeElem.title}),A("ul",{className:"px-4 py-2.5 text-xs text-[var(--sub-text)]",children:t.mergeElem.abstractList.map((n,r)=>A(Uv,{children:A("li",{className:"mb-2 line-clamp-3 break-all last:mb-0",children:n})},r))})]})};class q2 extends l.Component{constructor(e){super(e),this.state={hasError:!1,message:e.message}}componentDidCatch(e,n){console.error("MessageItemErrorBoundary:::"),console.error(this.state.message),console.error(e),this.setState({hasError:!0})}render(){return this.state.hasError?A(Zf,{}):this.props.children}}const NJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAUFJREFUSEvtlkFWgzAQhufnAh6hegM9CeQGujAsfQX30r1UXcJGbpDeRI+AN/AG4wttfBFTxDTQTbPhvQmZL39mMhnQzAMz8+h4wHWtnokRE+g8iGqmFhGa5W28sv11CjsY4S4IqOeEmVd5Kgpj7oBlpT4BnIH4ainFewjwU60umfBGTG2WJhc/gOt6w9qQySRoTF1+d0d6AvpFddIjfaxUEiFaZDJ+MdubDFjW6hqE137iTQK0YUx8k0vReCssK1UQqLWd2NEcgm0Lyu/sH7wWZkF/512xsI7RNe8F3Od0DMwL6FKibSZB9inzjqFZaCsytr9g3gpd0DGwg4Hagb7c+nufis2Y2vPvLB3jdOifE3C+B3jKFoOJP3Ipvhsz09MUAB4OTRLXemcTtWukdKHWz8wiBFgrI6bG7ti2VWrm8QVI9h8sKRlskAAAAABJRU5ErkJggg==",DJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAASlJREFUSEvtlkFSwkAQRX9byla8ATcRT0DmBrqQlDsTPIAHAMLOCi6EE0w8gR6FI8Q1lt8KYFUGQjFTjsGiyDLp9Jvf86enBTU/UjMP+wEmL7r5NZdEgABA05dqApOTM0bRjcp/ci4UDsc6A6TjC2TkIadxqK7XgBmLFyK8im7Vuw9w8qzbpLwByONucFEJjLuB1z0djpdCynlXJd384EPl/wcOUv0oIpc2akm+9kI1Ksc6KxykOheRc0vgRy9UxpFyBiZPuoVTtMrAlfMWjjYW8olZdKdmv1JYpaxq1dsq4KzwCNxlpmNJjZ7n4jyXWOdeevjHop/qYirAQ6iyWly6C+K9tXkF/sWIQdK4RfYzRBVjIueYkGjb3n9WpSWn0sD9xpho9bOnoG/CYRMsziz8sAAAAABJRU5ErkJggg==",$J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAABCdJREFUSEvFVu9rW2UUfs5NG83SNlmllk1hHdPpUGmitgOlrlXmsMwl1y9WGNoqu1E/SJP43ewP6A9BkGbgsk+KCDcdbB8qY6m4TbdiEzbcYOhSBacrpelWFdbmHnnf5KY36c2PwcD7IZB7z3ue9zznOT8IDT4Tx3Uvrzm6wdxFCrrEMTaQBVGWmvOZ8Iiaa8QV1TMai+vDYAoQIVjLlhlJAiUjocCJWnZVASeO6f3M9AmAftMBM2cISDOQFe8I6GLAR0TdFpAUER8NH1FTdsC2gCIqAh2XtIEXAMSUZiSr0SboNtYkAzEC7SieG4lqaqISdBPg+JSeANE78hDz0WhIjdWj3fwuge9ilEgyAwYSUS04Yj1fBmhGxswrIIza3bAR8ELeMUlEHgaXRVoCLObsbC06GgEzbaxpIeIBM6clwPG4ngJo373SWOsSY1N6rEhvKqIFB4pCA0pUgheimiprrJSXuO4La2q6kegmKmyLYkoLIZnUygjH43oSoEAl32NTelpKnpElJ/trFbfJUKXtBrU8HdHUIBU6CC3LcJt5q+nUmlPxzWBWPw6pSbtIRWQMmrfUazgaUifFf6v/iBYk2nDMsxFNLRV5UeJZoTR5mTzvDH+gyoKvfDbZgv3WNJhMCfFQKWTmE5GQOlyWv8/1LkPBsGIgUQ2slGvTVkGqssuYKRMskamk+6nOSgasGP8DoNk3bShtpBQasSmj1KLGdEQL+quJwlRyNQAxSaIh1cfMPgCBop2YkdPj8WRSlJcUTbWy2JSHuJ41J4EdqENRTn/03ut3DcPoWcqt3sit/L3e+bDX1eZ27UlduNw2f+VXyLKoVfhWx5Y2ZRtk4NXeTIvbtfrNqfNPr6/nPV6PG0vLd9DZ4b25v8+/Lfv7X1d6/bufkYAbpVG9oxRrLVUxbCV4R3vbuTcP9XV8lji1W/zf6mlB4MBeJL4+U/j+kAdvBV761+FQtt9T8y7QjxgzhoujZwGMREQL+n66fH3795eu9XR2eNHqdqGv9ymcPjuHtbU8FpdW8P7h1zIul3PyvownZk6dnPnR++dirvvgKz1ocihob2/DrcUclm+vYmZ2HoMvPz/7xK5HUrYDGECOweFGB7AAPDf3c9PF+esv2lEq3r07tP+ip3XLlzVXDCKKocn4tN4KyMyjK3f+Gfriq2/3Cuct7gfxwnN7MPNdoZ87nU23P3x7kInIV3eJEuMGoBg5jelaS1RoaDCTuXqj88LctQesMhZgh98YuOpp3fIDEY3WWRMRE1uAxUGaGVlFITmQDYN9RHIp9gklHtj3LPL5/Opvfyz+cvPWMj+569Hc4zu3PaYoyhkikoOhoUWYIFZAMrtHlWbD0wwkI0fkvix+vCjsrwkiKu2odQHLxtUxvT9vwEuAaF9iDUw7FOSqLb12N/sPsrZM0EwQtCoAAAAASUVORK5CYII=",FJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA1BJREFUSEvtltlLVHEUx79npnGybTRtkRYzCSOM1B5KKrwF2UKkU/TQRg3VtLzU6B+QQa+jPrUMQQoRRNCdMnqohwqKSKiUFqJ1sEVwocki0FFPnDve6c44d7w49dbvZbi/e87vM2f73h8hYTWcVRew3Z6fuG/2TI6hdp/HHbZsrxs2XFSzOEJ3AZRYdR6xayMHr7UKJf3w+oAaBKiKmb8Toc0idDVAdgaaar3VHis+BmDwG4AsGuIC31F3yIpzfSDIup1VqBGoOdd4q2N7Y0F1YDQr5GLmU7WH3XWp/P4OEOwh0EUBMdhT63U3mTbZnxpG0zOeCMXHH1D3W4GmFaH/vBqOppIabTaEmVkBoAD8k4A1Pq97VPOlCzxBRA3J0mdWz7SAAmoIqCXDjGoDVCGiin8GTIzOf16tI6KT/4HQh1gfC2lzG9lGizgPX0/WfXpqx5XSESEXqUuy+H6N1y3tH7eYuUJG4u3HL8rjZ2+Vrp5wUtUx7VKJEIwFiQfbhtFk1FpmPg5A5CzLaNvfHwk7nQ4PEQWN+2mNBTOLnO2XA1++6UB3bx8mOh2Ym5eDuXm5OkegMakzBcp8MewuM03cvK5sdVHhnNN9P37hxp1WdPd+jzMtzM/DBqUUzgyH7BcQkfYFSgpMXcPoubu3KZiZ48LVmw/wubMXU6dkoqy4EP0DETx9/h4DkUGUFi+EUr5UzJuJSMuEaYT1AbXR7OufmemccGTPplUS1aVr95DhmICDuyr1aLRoZV+W71CV/IjmZqcEmqVS9kdE+u67UCda7rSiMH82tlauiHPRI9+xZZVWTyLSghtX0zCz3Huefe7swdWbDzFtyiQc2Lk+BpS0nmm+pT0f27dZi3wU0B9QQwTKJ3BpqsHWT2XmcP9AxHXh8m2tXuXLF2PJonnRGr74gFdvOpA7fRr2bl8rLu1EpF3OYhHqCpEqlcZ3K8uKNIie1mR+C+fPRtUGLdWx0Yi7vwgUQDURLRsLLGmS+szIcWlN8ujJa3z62gOn04Fs12R0doURiQyiYP6sDvfG8phEWr4wJfsDzCzqIkoisha3unrCuNLyYGBwcCiDHJyt31vTAhrqKdoqc6ZLoQx5U+O5YGjYDsV4qforwLHSb3z/G5pEtixjRhWmAAAAAElFTkSuQmCC",LJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAVZJREFUSEvtls9Vg0AQxr+hAe3AEowVaAdZOtALnAXvxrtJziEHtYIlFcQStANasAB3fItu3vJ/McApXHjA7P5mvp0ZhjDxRRPzcACuEzkDefMuB1ghi8L5m7HrWvet1OdD6KfGPgcuN3JBRI9dMPM9CsTB0VUi3wG6bltr2/8CE5kR6ALgHTM+WsGELA78VztCxRClNYKILusczIGrJGV9tz1xjbZst0zkLYFe7PeVCIcC2jAG3xnwKMAyTMteF8ggktbBmo7qaGATbBRgG2xwYBdMA583Mi+XSuH3zVIXWFNZ9T7D9VbeMNNeb6hT324CLrX7b6AL7K/tnUWBuCr00r6SukQyeNK4QEcr/Cb4CTjI78mW9yTpdJKamYYZqedR+0zjUoAAlOIZEQQzf8Whf37U1ObIzM2Y+SkO/UUBqB/0fFkzffXZu2LrEdL7wC8oNvnk/QMewBQsw5mCsAAAAABJRU5ErkJggg==",BJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAXJJREFUSEvtlkFSwkAQRX+DruUGcgPxBngCMzeQhWO5M+EA4h6IrCzigtxg4gnAEwA34AjulWorCUkBIVU9SlkuktVU5c9/XTPd0034448kPH9iGvxZvyjT0ul66XbUh8RLBBwGJgLoutyQ3zytnKMB+2Pj1AgPZYYMhF2twqMBJUZSTXKk/qtpM9OjdJOtjoif3Fs1i/clwEFgbgg0sTWS6hncyY48Txr/xTRxgqbURKz7wsq9V6tMv5OlMZRrNGXwqHunnsWme8JNVp952rna99gFpnc5Bfjd06qdiQdjsyAi9rRzuW2QBFinOXMSYC/7NwwijteedgplJwKWGWySrRBgBcyvxfaIbPV5HWZEWwNbfQXM67Aqi/2XqSr8/1f48UxDhMahuWUwNr0aIXK1WvyiW2BBa1bbjVPaG/3AtBg0F7WnZNxIe1/pDCoFAzzytCpMeoUGmQ69CBloEehcDkiVzLwkwuwQrPCW2pr/RP8NeEu9LHXfSaYAAAAASUVORK5CYII=",VJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAa5JREFUSEvtls9RAjEUxr9vdbxKB1ICVMDSAalAPbiMJ1nxrt6VhZMDHKSD0AFYgZSAHehZzXOyEFzWdYCBwYO8Y5L3fnl/E2LLwi3z8M+AUUcXBF6JRG7dUIvglTBPYaBGSVuzkDbaugfyeF1QWl+AXj2onLr1GDjxjM8i8kaiZ2+3LthGSQQnJA8JKTpPY+B9W9+QvAakdRmo2rowp+/sishtvapu7PocMLmxCegOeP1nIZ1W7QC2l4yUw3M1djltdHQT4EW6wKIHnRePAxA5Qsq2KpfO4XfVAmmvG52+OPhlUJn1cZbO0kB7W7OHoTXsfcJPephlJO7lDJ2lgZtoiWR/7/owHkGbkIU53PQsdS30I4futZh6FVdnlhiR1lVV9d3eXVtXPNqe/FX8ycBOvRbTiqqRjBaF0ogoC4262hfhYNF5EQnrVdV05+b+NNGjzuEDhUzvDPz4CROMeSBF844RwSObBhIzr+d09zEKT9Xc27rSJ6rR0UOAJQD221AQyEs9UPlFXib3VwKmw0hKOTxTv+Y86yIrAeMR1tW+MfA9D8NVYZMC2rJsHfgF0vl4LCT4kLcAAAAASUVORK5CYII=",jJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlhJREFUSEvNlk1y2kAQhd+TA1vjE4QbBJ8gcAJLJzAsIio7fg4Q2AeQVy6RBfgEo5zA+AQhJwg3MNmaKrVrRohSZAQyxlS0AknTX0/36zciTnzxxDz8n8DRWFVEqECUCKm1XWd+aGX27tDAwHsRMe+SmHVcx34X4GiiSvLEXwK5sIiqAJ4GdVynenSgga14D6BCSq39xZl995V9ZmGpfx8dOPADRcIWSKPrOtNDAel1W3s4GAcTAnUR6XebTi9eNBirOsFr/V+EcwJzhuFD+6uzyJvQC+DAVy2SI4jcdZpOPRkoeqZ3jTLBj/EzEQQWpZ9Hvf8A1zuYAPIzjxJHP1RVQtQFsEmei9CzimG/3XCWWTveAM1iMfL/bRVR3bUoHSwSGKYAr6DLXJBa1noDHN2qspwZ+f+1Cqi8BpaE66TDEAHJP1lQAxz4qkfyWyz/vALY9p42ilAwy4IeHaiT0PNqkUqAade1G8nENiUNLcwJPrIol4eWNBl4OFaB7mm6ai9Es6vpcRATWLAAsciaRy2k8AkLXdqOa1/GyWSMhTZou5bu0XCsZtEMItCWl55HnSyEXqd5dZeljczB31Z/Ddxm3tFIGUOw14awJOnhQ3gjKz4m53qrtQ19NQV5nba2LGCyEpFg0AL42ZTdnGkosyAXWhuZ52Hcr6R55wHGcA0m4cUWGMfJBK6brufpU6y01wA3hu8rbf4tAL1u0/F2nvgGujLjcq4/Ld71AI4zTDiHRPfkIY+x7zXvXXZmoHoUBCX9qZHnGHoT8C3eml6796vtmLBoQk58PQMXt1AsH3ZW7wAAAABJRU5ErkJggg==",Fi=[{idx:0,title:O("placeholder.add"),icon:$J,hidden:!1},{idx:1,title:O("placeholder.forward"),icon:LJ,hidden:!1},{idx:2,title:O("placeholder.copy"),icon:DJ,hidden:!1},{idx:3,title:O("placeholder.check"),icon:NJ,hidden:!1},{idx:4,title:O("placeholder.reply"),icon:VJ,hidden:!1},{idx:5,title:O("placeholder.revoke"),icon:jJ,hidden:!1},{idx:6,title:O("placeholder.delete"),icon:BJ,hidden:!1},{idx:7,title:O("placeholder.finder"),icon:FJ,hidden:!1}];Or.on("languageChanged",()=>{Fi[0].title=O("placeholder.add"),Fi[1].title=O("placeholder.forward"),Fi[2].title=O("placeholder.copy"),Fi[3].title=O("placeholder.check"),Fi[4].title=O("placeholder.reply"),Fi[5].title=O("placeholder.revoke"),Fi[6].title=O("placeholder.delete")});const Ny=[ge.TextMessage,ge.AtTextMessage,ge.QuoteMessage,ge.PictureMessage],zJ=[ge.PictureMessage,ge.FaceMessage],UJ=[ge.PictureMessage,ge.VideoMessage,ge.FileMessage],HJ=({message:t,conversationID:e,closeMenu:n})=>{const r=l.useRef(!1),o=ct(E=>E.selfInfo.userID),i=tt(E=>{var _;return(_=E.currentGroupInfo)==null?void 0:_.ownerUserID}),s=At(E=>E.updateCheckMode),a=tt(E=>E.updateQuoteMessage),c=tt(E=>E.addRevokedMessage),[u,d]=yp(),{isNomal:f,isAdmin:m}=rl(),h=async()=>{var M,T,k,R,D,L;let E={path:"",url:"",width:0,height:0};if(t.contentType===ge.PictureMessage&&(E={path:t.pictureElem.sourcePath,url:t.pictureElem.sourcePicture.url,width:t.pictureElem.sourcePicture.width,height:t.pictureElem.sourcePicture.height}),t.contentType===ge.FaceMessage){const $=JSON.parse(t.faceElem.data);E={path:(M=$.path)!=null?M:"",url:$.url,width:$.width,height:$.height}}if((T=window.electronAPI)!=null&&T.fileExists(E.path))return E;if((R=window.electronAPI)!=null&&R.fileExists((k=t.localEx)!=null?k:""))return E.path=t.localEx,E;const _=await fetch(E.url).then($=>$.blob()),P=new File([_],g(E.url),{type:_.type});return E.path=(L=await((D=window.electronAPI)==null?void 0:D.saveFileToDisk({file:P,type:"fileCache",sync:!0})))!=null?L:"",E},g=E=>{const _=E.lastIndexOf("/");return E.slice(_+1)},p=E=>{var _;switch(E){case 0:Th().then(async P=>{Rh([...P,await h()]),mt({msg:O("toast.addSuccess")})});break;case 1:ot.emit("OPEN_CHOOSE_MODAL",{type:"FORWARD_MESSAGE",extraData:t});break;case 2:t.contentType===ge.PictureMessage?w():(d(b().trim()),mt({msg:O("toast.copySuccess")}));break;case 3:Oo({...t,checked:!0}),s(!0);break;case 4:a(t);break;case 5:v();break;case 6:y();break;case 7:(_=window.electronAPI)==null||_.showInFinder(t.localEx||Ki(t).path);break}n()},w=async()=>{let E;if(!r.current){r.current=!0;try{const _=_d(t);let P=await fetch(_).then(M=>M.blob());P.type!=="image/png"&&(P=await GJ(P)),await navigator.clipboard.write([new window.ClipboardItem({"image/png":P})])}catch(_){E=_,console.error(E)}mt({error:E,msg:E?O("toast.copyFailed"):O("toast.copySuccess")}),r.current=!1}},v=async()=>{var E,_,P;try{await ce.revokeMessage({conversationID:e,clientMsgID:t.clientMsgID}),Oo({...t,contentType:ge.RevokeMessage,notificationElem:{detail:JSON.stringify({clientMsgID:t.clientMsgID,revokeTime:Date.now(),revokerID:o,revokerNickname:O("you"),revokerRole:0,seq:t.seq,sessionType:t.sessionType,sourceMessageSendID:t.sendID,sourceMessageSendTime:t.sendTime,sourceMessageSenderNickname:t.senderNickname})}}),Ny.slice(0,3).includes(t.contentType)&&t.sendID===o&&c({...t},(P=(E=t.atTextElem)==null?void 0:E.quoteMessage)!=null?P:(_=t.quoteElem)==null?void 0:_.quoteMessage)}catch(M){mt({error:M})}},y=async()=>{try{await ce.deleteMessage({clientMsgID:t.clientMsgID,conversationID:e}),Id(t.clientMsgID)}catch(E){mt({error:E})}},b=()=>{var _,P,M,T;const E=(_=window.getSelection())==null?void 0:_.toString();if(t.contentType===ge.AtTextMessage){let k=E||t.atTextElem.text;const R=/@\S+\s/g,D=k.match(R),L=(P=t.atTextElem.atUsersInfo)!=null?P:[];return D==null||D.map($=>{const j=L.find(U=>U.atUserID===$.slice(1,-1));j&&(k=k.replace($,"@".concat(j.groupNickname)))}),k}return E||((M=t.quoteElem)==null?void 0:M.text)||((T=t.textElem)==null?void 0:T.content)},C=t.sendID===i,S=t.sendID===o,x=t.sendTime<Date.now()-5*60*1e3,I=t.status===uo.Succeed;return A("div",{className:"p-1",children:Fi.map(E=>{var _;if(E.idx===0&&!zJ.includes(t.contentType)||E.idx===2&&!Ny.includes(t.contentType)||(E.idx===4||E.idx===5)&&(!I||t.contentType===ge.CustomMessage)||E.idx===5&&(x&&f||!S&&!Ta(t.sessionType)||Ta(t.sessionType)&&(m&&C||f&&!S)))return null;if(E.idx===7){if(!UJ.includes(t.contentType)||!window.electronAPI)return null;const P=t.localEx||Ki(t).path;if(!P||!((_=window.electronAPI)!=null&&_.fileExists(P)))return null}return Z("div",{className:"flex cursor-pointer items-center rounded px-3 py-2 hover:bg-[var(--primary-active)]",onClick:()=>p(E.idx),onMouseDown:P=>P.preventDefault(),children:[A("img",{className:"mr-2 h-3.5",width:14,src:E.icon,alt:E.title}),A("div",{className:"text-xs",children:E.title})]},E.idx)})})},WJ=l.memo(HJ);async function GJ(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{const o=document.createElement("canvas");o.width=r.width,o.height=r.height;const i=o.getContext("2d");i==null||i.drawImage(r,0,0),o.toBlob(s=>{e(s)},"image/png")},r.onerror=n,r.src=URL.createObjectURL(t)})}const qJ=({message:t})=>{const e=t.sessionType===ln.Single,n=()=>e?t.isRead?O("placeholder.isRead"):O("placeholder.unread"):"";return A("div",{className:Mt("mt-1 text-xs text-[#0289FA]",{"!text-[var(--sub-text)]":t.isRead,"!cursor-pointer":!e}),children:n()})},KJ=({message:t,conversationID:e})=>{var m,h;const[n,r]=l.useState(0),o=xr(n),[i,s]=l.useState(!1),{sendMessage:a}=Qc(),c=t.isRead&&((m=t.attachedInfoElem)==null?void 0:m.isPrivateChat);l.useEffect(()=>{if(t.status!==uo.Sending)return;const g=setTimeout(()=>{t.status===uo.Sending&&s(!0)},1e3);return()=>{clearTimeout(g)}},[t.status]),l.useEffect(()=>{var p;if(!c)return;r(((p=t.attachedInfoElem)==null?void 0:p.burnDuration)||30);const g=setInterval(()=>{r(w=>w===0?(clearInterval(g),u(),0):w-1)},1e3);return()=>{clearInterval(g)}},[c]),l.useEffect(()=>{const g=e;return()=>{var p;(p=t.attachedInfoElem)!=null&&p.isPrivateChat&&o.current!==0&&u(g)}},[(h=t.attachedInfoElem)==null?void 0:h.isPrivateChat]);const u=async g=>{await ce.deleteMessage({clientMsgID:t.clientMsgID,conversationID:g!=null?g:e}),Id(t.clientMsgID)},d=async()=>{Id(t.clientMsgID),await XJ(t),a({message:{...t,status:uo.Sending},isResend:!0})},f=K2.includes(t.contentType);return Z("div",{className:Qr.suffix,children:[i&&t.status===uo.Sending&&!f&&A(dn,{className:"flex",indicator:A(Si,{style:{fontSize:16},spin:!0,rev:void 0})}),t.status===uo.Failed&&A(ja,{className:"text-base text-[var(--warn-text)]",rev:void 0,onClick:d}),c&&A("div",{className:"text-xs text-[var(--sub-text)]",children:"".concat(n,"s")})]})},YJ=t=>t.contentType===ge.PictureMessage?{uuid:t.pictureElem.sourcePicture.uuid,path:t.pictureElem.sourcePath}:t.contentType===ge.VideoMessage?{uuid:t.videoElem.videoUUID,path:t.videoElem.videoPath,snapshotPath:t.videoElem.snapshotPath,snapshotUUID:t.videoElem.snapshotUUID}:{uuid:t.fileElem.uuid,path:t.fileElem.filePath},K2=[ge.PictureMessage,ge.VideoMessage,ge.FileMessage],XJ=async t=>{var a,c;if(!window.electronAPI||!K2.includes(t.contentType))return;const{uuid:e,path:n,snapshotPath:r,snapshotUUID:o}=YJ(t),i=await((a=window.electronAPI)==null?void 0:a.getFileByPath(n));console.log(n,i);let s;r&&(s=await((c=window.electronAPI)==null?void 0:c.getFileByPath(r))),!(!i||r&&!s)&&(ce.fileMapSet(e,i),o&&s&&ce.fileMapSet(o,s))},QJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAiCAYAAACuoaIwAAAAAXNSR0IArs4c6QAAA2xJREFUSEutlk+IHEUYxd+rbPUQ9LCXCIkJeBARzBKQXQgSjCEOJgqCBwl48c/BgEdjpmeSqBMw82clBrwoIuxJD17UQzYxrP8IScAkKrgoCF6ighFDPMiu071bT3rG2Z3ddHX3bLZv3fXq+9X3veqvish7GrrfmOhZkbshbQZ4FwAH6BqIHwVewKKdxhH+nBeKXkGrM0byPQI784Ik4wLOi3wVFfu1T38rTCLaC4dINQjYIqC+RoAIveEqwesgtXruSlhdI2Zj9CHAp4eBrNYKmtZ8cAB1/jM4tgx7WyXORR+T3H87oIEsL2nU7sZBxv1vSzDTit4FcXA9QEsxhHdcNXhpJawdlw10bl1B/wdzDuOoBVeT125mbEeXsnadgEUK7ztn31ra4k3dY0x8SMKLJALfQgV8rjB4tAdrRhPG4BuvWLguYT9qwXepmjc72+nwGcEtvhjOaAyHS7M0rc5xkK+lCZOMBDuGkD9llrih+2jiH/wZsu5Ce5xsRzME9nqCTbkweKGIl6YVTYF4LnXRwoyqQZlsd34luDVN5Bz3oGa/KgJDO95joC/SK6Q/FJY2J5nNEdiYCoPdhpC/FYI1tMlsiP/02CHN2yAbRnsvKvylEOyURk0U3/Ruknl7R1LGawS3pWZG8wQqI9OFYK14l6HOezybUzVIYNE5AmVPrT9RWHqqCMy0og9APOOBXVU1GKdpdxoAa970Hcuo2ZlMYDN+xBh9maE56cLgFaIdjRvgckYH+EvEY6gE36ZqJqMH6XCWxCbvgoEJhMGVXrtqRd+T2JEBjAlMOZgzwIYrvZN6caeR2yfgeRIjGXNnFQZjvXaVPJMLjxu500W8GVbjpAOolj5ahnWbcedTgk8OGyxLL+GiQrurf2ovH56nNMpONEvy7vUACvhbsd2OY/y9H2/ltaAZTZC4mOVB0YW45MSv2LOD+lsvPK34ZUOdLBo0VSdNumopXD2WepVju3OG4L61ACVc1r/2IdS5UAiGNfon4YYW7I5Bn7LL2B8d0r/kzihwL0Lr7ST+G3ECHco/NV1YOpJV+mxY7//L9U/ABc3bh1Gnuy1Ynn9dnxbtAzjK63kbKjezbgCPf0V8KrZBVi8z1T+dcGHpWF5G6R0kZ9agf0V9Wltmyazu/xefBnGnjC3jMFMvOL41/wcymmM+gc4Y+wAAAABJRU5ErkJggg==",JJ=[ge.FileMessage,ge.LocationMessage,ge.PictureMessage,ge.VideoMessage,ge.CardMessage],ZJ=({message:t})=>{var m;const{t:e}=Qi(),n=((m=t.quoteElem)==null?void 0:m.quoteMessage)||t.atTextElem.quoteMessage,r=JJ.includes(n.contentType),o=n.contentType===ge.FileMessage,i=n.contentType===ge.PictureMessage,s=n.contentType===ge.VideoMessage,a=i||s,c=n.contentType===ge.CardMessage,u=n.contentType===ge.LocationMessage,d=n.contentType===ge.RevokeMessage,f=()=>a?"":d?e("messageDescription.quoteMessageRevoke"):A2(Ra(n));return Z("div",{className:Mt("mt-1 flex w-fit items-center rounded-md bg-[var(--chat-bubble)] p-2.5",{"py-1.5":r}),children:[A(Uv,{children:A("div",{className:"line-clamp-2 break-all text-xs text-[var(--sub-text)]",dangerouslySetInnerHTML:{__html:'<span class="truncate max-w-[200px] inline-block align-middle">'.concat(n.senderNickname,"</span>：").concat(f())}})}),r&&Z("div",{className:Mt({"pl-1.5":!a}),children:[o&&A("img",{width:26,src:ol,alt:"file"}),u&&A("img",{width:14,src:QJ,alt:"location"}),c&&A(eZ,{message:n}),a&&A(tZ,{message:n})]})]})},eZ=({message:t})=>A(Sn,{src:t.cardElem.faceURL,size:26,text:t.cardElem.nickname}),tZ=({message:t})=>{const{showVideoPlayer:e}=Jc(),n=t.contentType===ge.VideoMessage,r=u=>{e("file://".concat(u))},{progress:o,downloadState:i,tryDownload:s}=rs(t,r),a=(u=!1)=>{var m,h,g,p,w,v,y,b;if(!n&&t.localEx&&((m=window.electronAPI)!=null&&m.fileExists(t.localEx)))return"file://".concat(t.localEx);if(!n&&t.pictureElem.sourcePath&&((h=window.electronAPI)!=null&&h.fileExists(t.pictureElem.sourcePath)))return"file://".concat(t.pictureElem.sourcePath);if(u)return(p=(g=t.pictureElem)==null?void 0:g.sourcePicture.url)!=null?p:"";const d=(v=(w=t.videoElem)==null?void 0:w.snapshotUrl)!=null?v:"",f=(b=(y=t.pictureElem)==null?void 0:y.sourcePicture.url)!=null?b:"";return n?d:f},c=()=>{if(window.electronAPI){s();return}e(t.videoElem.videoUrl)};return Z("div",{className:"relative flex items-center",children:[A(il,{rootClassName:"message-image quote-image",className:"rounded-md",height:30,src:a(),preview:n?!1:{src:a(!0)}}),n&&A("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",onClick:c,children:A(os,{size:13,pausing:i==="pause",finished:i==="finish"||!window.electronAPI,percent:o})})]})},Ca=({message:t})=>{var n;let e=(n=t.textElem)==null?void 0:n.content;return t.contentType===ge.QuoteMessage&&(e=t.quoteElem.text),t.contentType===ge.AtTextMessage&&(e=nX(t.atTextElem)),e=A2(e),e=S2(e),A(Uv,{dbSelectAll:!0,children:A("div",{className:Qr.bubble,dangerouslySetInnerHTML:{__html:e}})})},nZ="_md_8ad4i_1",rZ="_fadeInOut_8ad4i_1",oZ="_lg_8ad4i_5",Dy={md:nZ,fadeInOut:rZ,lg:oZ},iZ=t=>{const{playing:e}=t,n={...t,playing:void 0};return Z("svg",{...n,className:Mt("scale-90",t.className),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Z("g",{fill:"#fff",stroke:"#707070",opacity:0,children:[A("rect",{stroke:"none",width:"24",height:"24"}),A("rect",{fill:"none",x:"0.5",y:"0.5",width:"23",height:"23"})]}),Z("g",{transform:"translate(6.003 3)",children:[A("path",{fill:"#0289FA",d:"M1.27,0A1.285,1.285,0,1,1,0,1.29,1.283,1.283,0,0,1,1.27,0Z",transform:"translate(0 7.963)"}),A("path",{fill:"#0289FA",className:Mt(e&&Dy.md),d:"M1.223.1a6.111,6.111,0,0,1,2.87,5.28,6.1,6.1,0,0,1-2.94,5.31.76.76,0,0,1-1.05-.27.778.778,0,0,1,.27-1.05.035.035,0,0,1,.02-.01,4.58,4.58,0,0,0,2.17-3.98,4.565,4.565,0,0,0-2.12-3.95A.768.768,0,0,1,.193.369.761.761,0,0,1,1.223.1Z",transform:"translate(2.797 4.113)"}),A("path",{fill:"#0289FA",className:Mt(e&&Dy.lg),d:"M.317,17.667a.791.791,0,0,1,.19-1.08,9.107,9.107,0,0,0,4.08-7.53,9.143,9.143,0,0,0-4.25-7.65A.782.782,0,0,1,.127.337a.765.765,0,0,1,1.04-.22,10.667,10.667,0,0,1,4.95,8.94,10.645,10.645,0,0,1-4.74,8.8A.748.748,0,0,1,.317,17.667Z",transform:"translate(5.88 0)"})]})]})},Y2=({message:t,isSender:e,disabled:n})=>{const r=l.useRef(new Audio),[o,i]=l.useState(!1),[s,a]=l.useState(!1),{tryDownload:c}=rs(t),u=()=>{var f;return t.localEx&&((f=window.electronAPI)!=null&&f.fileExists(t.localEx))?"file://".concat(t.localEx):t.soundElem.sourceUrl};pp(()=>{r.current.src=u(),r.current.onended=()=>{i(!1)},r.current.onpause=()=>{i(!1)},r.current.onplay=()=>{i(!0)},!t.localEx&&t.sendID!==ct.getState().selfInfo.userID&&a(!0)});const d=()=>{var f,m;t.localEx||(c(),a(!1)),o?((f=r.current)==null||f.pause(),i(!1)):(m=r.current)==null||m.play().catch(h=>mt({error:h,msg:"play audio failed"}))};return Z("div",{className:Mt(Qr.bubble,"relative flex cursor-pointer items-center !py-2",!e&&"flex-row-reverse",n&&"justify-end"),onClick:d,children:[A(iZ,{style:{transform:e?"rotateY(180deg)":"none"},playing:o}),A("span",{className:e?"mr-1":"ml-1",children:"".concat(t.soundElem.duration," ‘’")}),s&&A("div",{className:"absolute left-full h-1.5 w-1.5 translate-x-1 rounded-full bg-red-500"})]})},sZ={[ge.TextMessage]:Ca,[ge.AtTextMessage]:Ca,[ge.QuoteMessage]:Ca,[ge.VoiceMessage]:Y2,[ge.PictureMessage]:Md,[ge.VideoMessage]:Md,[ge.FaceMessage]:MJ,[ge.CardMessage]:z2,[ge.FileMessage]:W2,[ge.CustomMessage]:U2,[ge.LocationMessage]:G2,[ge.MergeMessage]:OJ,[ge.GroupAnnouncementUpdated]:AJ},aZ=({message:t,disabled:e,isSender:n,conversationID:r,showAlbum:o})=>{var P,M;const i=l.useRef(null),[s,a]=l.useState(!1),[c,u]=l.useState(!1),d=At(T=>T.isCheckMode),f=At(T=>T.jumpClientMsgID),m=sZ[t.contentType]||Zf;ct(T=>T.appSettings.locale);const{t:h}=Qi(),g=t.contentType===ge.QuoteMessage||((P=t.atTextElem)==null?void 0:P.quoteMessage),[p]=H1(i,{root:document.getElementById("chat-main")});l.useEffect(()=>{e||n||!p||(y(),b())},[p,n,e,t.isAppend,t.isRead,t.seq]);const w=T=>{Oo({...t,checked:T.target.checked})},v=l.useCallback(()=>{e||window.userClick(t.sendID,t.groupID)},[]),y=()=>{if(!t.isAppend)return;const T={clientMsgID:t.clientMsgID,isAppend:!1};t.sessionType===ln.Single&&(T.isRead=!0),Oo(T),ot.emit("DECR_NEW_MESSAGE_COUNT",1)},b=()=>{t.isRead||Oo({clientMsgID:t.clientMsgID,isRead:!0})},C=l.useCallback(()=>{a(!1)},[]),S=t.status===uo.Succeed,x=t.contentType===ge.GroupAnnouncementUpdated,I=t.contentType===ge.CustomMessage,E=n&&S&&!x&&!I,_=!e&&!x;return Z(to,{children:[t.gapTime&&A("div",{className:"py-2 text-center text-xs text-[var(--sub-text)]",children:qi(t.sendTime,!0)}),Z("div",{id:"chat_".concat(t.clientMsgID),className:Mt("relative flex select-text px-5 py-3",t.errCode&&"!pb-6",d&&"cursor-pointer",f===t.clientMsgID&&Qr["animate-container"],t.checked&&"bg-gray-100"),onClick:()=>d&&w({target:{checked:!t.checked}}),children:[d&&A(ui,{checked:t.checked,disabled:x,onChange:w,className:"pointer-events-none mr-5 h-9"}),Z("div",{className:Mt(Qr["message-container"],n&&Qr["message-container-sender"],d&&"pointer-events-none"),children:[A(ho,{className:Qr["menu-wrap"],content:A(lZ,{senderNickname:t.senderNickname,sourceID:t.sendID,closeContent:()=>u(!1)}),title:null,trigger:"contextMenu",placement:"bottomLeft",open:t.groupID?c:!1,onOpenChange:T=>u(T),children:A(Sn,{size:36,src:t.senderFaceUrl,text:t.senderNickname,onClick:v})}),Z("div",{className:Qr["message-wrap"],ref:i,children:[Z("div",{className:Qr["message-profile"],children:[A("div",{title:t.senderNickname,className:Mt("max-w-[30%] truncate text-[var(--sub-text)]",n?"ml-2":"mr-2"),children:t.senderNickname}),A("div",{className:"text-[var(--sub-text)]",children:qi(t.sendTime)})]}),Z(ho,{className:Qr["menu-wrap"],content:A(WJ,{message:t,conversationID:r,closeMenu:C}),title:null,trigger:"contextMenu",open:_?s:!1,onOpenChange:T=>a(T),children:[A(q2,{message:t,children:A(m,{message:t,isSender:n,disabled:e,showAlbum:o})}),A(KJ,{message:t,isSender:n,disabled:!1,conversationID:r})]}),g&&A(ZJ,{message:t,isSender:n,disabled:!1}),E?A(qJ,{message:t,isSender:n,disabled:!1}):A("div",{className:"h-5"})]})]}),Number((M=t.errCode)!=null?M:t.localEx)===T2.Blacked&&A("div",{className:"absolute bottom-1 left-1/2 flex -translate-x-1/2 items-center text-xs",children:A("div",{className:"text-xs text-[var(--sub-text)]",children:h("toast.beingBlacklist")})})]})]})},X2=l.memo(aZ),lZ=l.memo(({sourceID:t,senderNickname:e,closeContent:n})=>{const{t:r}=Qi(),{toSpecifiedConversation:o}=Bs();return Z("div",{className:"p-1",children:[A("div",{className:"max-w-[120px] cursor-pointer truncate rounded px-3 py-2 text-xs hover:bg-[var(--primary-active)]",onClick:()=>{ot.emit("TRIGGER_GROUP_AT",{userID:t,nickname:e}),n()},children:"@".concat(e)}),A("div",{className:"cursor-pointer rounded px-3 py-2 text-xs hover:bg-[var(--primary-active)]",onClick:()=>o({sourceID:t,sessionType:ln.Single}),children:r("placeholder.sendMessage")})]})}),cZ=({message:t})=>{const e=l.useRef(null),r=!!tt(s=>s.revokeMap)[t.clientMsgID];ct(s=>s.appSettings.locale);const[o]=H1(e,{root:document.getElementById("chat-main")});l.useEffect(()=>{o&&t.isAppend&&(Oo({clientMsgID:t.clientMsgID,isAppend:!1}),ot.emit("DECR_NEW_MESSAGE_COUNT",1))},[o,t.isAppend]);const i=r?"<span class='link-el ml-0.5' onclick='editRevoke(\"".concat(t.clientMsgID,"\")'>").concat(O("placeholder.reEdit"),"</span>"):"";return Z("div",{className:"relative",id:"chat_".concat(t.clientMsgID),children:[A("div",{ref:e,className:Mt("mx-6 py-3 text-center text-xs text-[var(--sub-text)]",t.gapTime&&"!pt-9"),dangerouslySetInnerHTML:{__html:"".concat(ZY(t)).concat(i)}}),t.gapTime&&A("div",{className:"absolute left-1/2 top-1 -translate-x-1/2 text-xs text-[var(--sub-text)]",children:qi(t.sendTime,!0)})]})},uZ=l.memo(cZ),$y=(t,e)=>t>e?e:t,dZ=[1,2],fZ=({message:t})=>Z("div",{className:"relative flex select-text px-5 py-3 pt-9",children:[Z("div",{className:"flex w-full",children:[A(Sn,{size:36,src:t.senderFaceUrl,text:t.senderNickname}),Z("div",{className:"ml-3 flex-1",children:[Z("div",{className:"flex leading-4",children:[A("div",{title:t.senderNickname,className:"mr-2 max-w-[30%] truncate text-[var(--sub-text)]",children:t.senderNickname}),A("div",{className:"text-[var(--sub-text)]",children:qi(t.sendTime)})]}),A("div",{className:"mt-2 w-fit max-w-[80%] rounded-md p-2",style:{boxShadow:"0px 3px 12px 1px rgba(0,0,0,0.16)"},children:A(q2,{message:t,children:A(hZ,{message:t})})})]})]}),t.gapTime&&A("div",{className:"absolute left-1/2 top-3 -translate-x-1/2 text-xs text-[var(--sub-text)]",children:qi(t.sendTime,!0)})]}),mZ=l.memo(fZ),hZ=({message:t})=>{const{t:e}=Qi(),n=JSON.parse(t.notificationElem.detail);return Z(to,{children:[dZ.includes(n.mixType)&&A(gZ,{message:t,notificationEl:n}),A("div",{children:n.text}),n.externalUrl&&A("div",{className:"mt-0.5 text-xs text-[#0289FAFF]",children:A("a",{href:n.externalUrl,target:"_blank",rel:"noreferrer",children:e("clickToView")})})]})},gZ=({notificationEl:t,message:e})=>{var y,b,C,S,x,I,E,_,P,M,T,k;const{showVideoPlayer:n}=Jc(),r=R=>{const D="".concat(window.electronAPI?"file://":"").concat(R);n(D)},o=ct(R=>R.imageCache),{progress:i,downloadState:s,tryDownload:a}=rs(e,r),c=t.mixType===2,u=(C=c?(y=t.videoElem)==null?void 0:y.snapshotHeight:(b=t.pictureElem)==null?void 0:b.sourcePicture.height)!=null?C:0,d=(I=c?(S=t.videoElem)==null?void 0:S.snapshotWidth:(x=t.pictureElem)==null?void 0:x.sourcePicture.width)!=null?I:0,f=(_=c?240:(E=t.pictureElem)==null?void 0:E.sourcePicture.height)!=null?_:0,m=$y(240,d)*(u/d),h=$y(m,f),g=h/u*d,p={minHeight:"".concat(h,"px"),minWidth:"".concat(g,"px")},w=c?(P=t.videoElem)==null?void 0:P.snapshotUrl:(M=t.pictureElem)==null?void 0:M.sourcePicture.url;return Z("div",{children:[Z("div",{className:"relative cursor-pointer",style:p,onClick:()=>{var R,D;c&&(window.electronAPI?a():r((D=(R=t.videoElem)==null?void 0:R.videoUrl)!=null?D:""))},children:[A(il,{className:"max-h-[240px] rounded-md",src:(T=o[w!=null?w:""])!=null?T:w,preview:c?!1:{maskClassName:"rounded-md",src:(k=o[w!=null?w:""])!=null?k:w},placeholder:A("div",{style:p,className:"flex items-center justify-center",children:A(dn,{})})}),c&&A("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",children:A(os,{size:40,pausing:s==="pause",finished:s==="finish"||!window.electronAPI,percent:i})})]}),A("div",{className:"my-1 h-px bg-[#f3f3f3]"})]})},pZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAcFJREFUWEftlbtVAkEUhr9LICGWYAfSgSUAFQAVCIlAJBlgAlQgViB0gB1QAnaAoQZcz2V25XHY3VkgwHN2sj2zM/PP/xrhSoZcCQ4yIIdKZIxkjCSl8594pKc1cpRY06Qjy6RbHZ3v6R05hqyZ0ZFJ1B7xjPR1ilACVkCdlkxTgRloGXgFblFmtMW+j454IEO95ZtJAAaUCXmaNMWAxY++jhAeNz8ZiDy1uHV+HhloA6WLUAAWCHWeZBEjxTtQDOabtGSUhNsPiO3yokXWG3bug1s2aMt474BdKeAToRwJ+ACZPxBb6KQyZhzlMP0z8kC7wLOvFJcpNLu5+cVJdTi8pLgMENvFxdJYqAabfrCmS0fmSX44Np8UX3N+NaA/sgM2kkUlyXXREOWNtjSiQPoACSPoH93wtIEaeMeYMj4diJOghmDMFFCW5KgkJsHJ5iKsfKE04lrVjvFLjU90tyxs2zRFhP2AhIfst+WcPJU9b6Rs012/pANiK/eja1VvrbtCNglK1abnAQmL7Qd7AB8OUpCqTc8HEu7golkLPufcMPJ6EI9kOL00p7SVx5oMyOXeGg+60/ySSZNJk+SXq/HIL6v9niNXw6f4AAAAAElFTkSuQmCC",vZ=({scrollToBottom:t},e)=>{const[n,r]=l.useState(0),o=At(f=>f.jumpClientMsgID),i=At(f=>f.enableReverseLoad),s=At(f=>f.updateJumpClientMsgID),a=At(f=>f.updateReverseLoad);l.useEffect(()=>{const f=(h=1)=>{r(g=>g+h)},m=(h=1)=>{r(g=>g-h)};return ot.on("ADD_NEW_MESSAGE_COUNT",f),ot.on("DECR_NEW_MESSAGE_COUNT",m),()=>{ot.off("ADD_NEW_MESSAGE_COUNT",f),ot.off("DECR_NEW_MESSAGE_COUNT",m)}},[]);const c=async()=>{const f=(await k2()).filter(m=>m.isAppend);r(f.length)},u=()=>{P2("isAppend"),r(0)},d=()=>{(i||o)&&M2(),t(),u(),s(),a(!1)};return l.useImperativeHandle(e,()=>({updateAppendCount:c}),[]),Z("div",{style:{boxShadow:"0px 6px 16px 1px rgba(142,154,176,0.16)",transition:"opacity 0.3s ease",opacity:n>0?1:0},className:Mt("shadow-[0px 6px 16px 1px rgba(142,154,176,0.16)] boder-[var(--gap-text)] absolute bottom-3 left-1/2 flex -translate-x-1/2 cursor-pointer items-center justify-center rounded-full border bg-white py-1 pl-2 pr-3",{"pointer-events-none":n===0}),onClick:d,children:[A("img",{width:17,src:pZ,alt:""}),A("div",{className:"text-xs text-[var(--primary)]",children:O("placeholder.multipleNewMessages",{count:n})})]})},bZ=l.forwardRef(vZ),wZ=({isNotificationSession:t})=>{const e=l.useRef(null),n=l.useRef(null),r=l.useRef(null),o=l.useRef(!1),i=l.useRef(!0),s=ct(S=>S.selfInfo.userID),a=S=>{setTimeout(()=>{var x;return(x=e.current)==null?void 0:x.scrollIntoView({index:S,align:"center"})})},{SPLIT_COUNT:c,conversationID:u,loadState:d,moreNewLoading:f,moreOldLoading:m,getMessageContextLoading:h,getMoreOldMessages:g,getMoreNewMessages:p}=xX({scrollToView:a});l.useEffect(()=>{const S=x=>{var I,E;if(!t){if(ct.getState().syncState==="loading"){(I=r.current)==null||I.updateAppendCount();return}!o.current||x?w(x?"auto":"smooth"):(E=r.current)==null||E.updateAppendCount()}};return ot.on("CHAT_LIST_SCROLL_TO_BOTTOM",S),()=>{ot.off("CHAT_LIST_SCROLL_TO_BOTTOM",S)}},[t]);const w=S=>{setTimeout(()=>{var x;(x=e.current)==null||x.scrollToIndex({index:999999,behavior:S})})},v=()=>{!d.hasMoreOld||m||g()},y=()=>{!At.getState().enableReverseLoad||!d.hasMoreNew||f||p()},b=l.useCallback(S=>{var x;return(x=n.current)==null?void 0:x.showAlbum(S)},[]),C=S=>{i.current=S.target.clientHeight+S.target.scrollTop===S.target.scrollHeight,o.current=S.target.scrollHeight-S.target.scrollTop>S.target.clientHeight*3};return d.initLoading||h?A("div",{className:"flex h-full items-center justify-center bg-white pt-1",children:A(dn,{spinning:!0})}):Z(Ms.Content,{className:"relative flex h-full overflow-hidden !bg-white",id:"chat-main",children:[A(No,{id:"chat-list",className:"w-full overflow-x-hidden",firstItemIndex:d.firstItemIndex,initialTopMostItemIndex:c-1,ref:e,data:d.messageList,startReached:v,onScroll:C,endReached:y,components:{Header:()=>d.hasMoreOld?A("div",{className:Mt("flex justify-center py-2 opacity-0",m&&"opacity-100"),children:A(dn,{})}):null},computeItemKey:(S,x)=>x.clientMsgID,itemContent:(S,x)=>{if(x.sessionType===ln.Notification)return A(mZ,{message:x},x.clientMsgID);if(Bv.includes(x.contentType))return A(uZ,{message:x},x.clientMsgID);const I=s===x.sendID;return A(X2,{conversationID:u,message:x,messageUpdateFlag:x.senderNickname+x.senderFaceUrl,isSender:I,showAlbum:b},x.clientMsgID)}}),A(bZ,{ref:r,scrollToBottom:w}),A(SJ,{ref:n,conversationID:u!=null?u:""})]})},yZ=l.memo(wZ),CZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAkNJREFUSEutls9PE0EUx78PqRAlgUlgoZKGCge5GEq8cJBYonfhL1D+BP8C63+C/wHeJSzRgydog4ceAIualK6HqcYmKsqYt+2Q6XZndkuZ02Zn5n3mfef9GELCCAJZUISnSqEIhTwI+XCLQg2EGhF8UnjjeaLsMkW2yfo3WSSFlwCKSYfpzPuK8Co7Jfy49bGgeiC3CHiWEtC1jICtaU9sRvd2gaSUE7/PsQugcBWIsccfyWBDCNHU/7pAZ4FknZcGhOjt/own1npAg8hlO5gpY+hR5+JZssvRav3CyZcG7i3M4mZm2Onkn/O/+PS5AW9yHGJ8rGutIqxxgLRBgeSPR+aKw2oNh9XTcOPjh0tWGEN23lcgv//EfG4aKw8Wo4cKJSTOkwvgIDrLBt6+K6P5o2WFmZDM8A08WS30eMR2h4BlqjdkiSjMl57hgqWFhEYJLyhONpMYB+N5LZfLE21HAXvsEZeROddtR2G8lu8kDaRjt0xngVRp8saE8fo+IG31+gFpuXhjUjRGD59aOvNObt8adUZjjEKVVMEQvXgGJYW+CdPB4AxvW3SlybNLGIe3K2GTQjgtLExYWwmqHn3F/sfjxOgyYXEliGXLeqJoLaqcJ1zv7i/mY8tKNKk/7FdxNzeD3J1Je1HteHXlrmrLQwW8znriebsKGeM6G5+WTJuPa+X8uBioyzJkNIN1ayvX9EG6rSmXqZbzuQWFUrQhOu5jD4RSX88t0xjn2T+FdRA4RCcMWSsKaBJhe0jBT3pA/gd79WkV5mIrOgAAAABJRU5ErkJggg==";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Gg;try{Gg={window,document}}catch(t){/* istanbul ignore next -- @preserve */Gg={window:{},document:{}}}const ut=Gg;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function SZ(){try{return navigator.userAgent.toLowerCase()}catch(t){return""}}const ls=SZ(),jt={isMac:Q2(ls),isWindows:xZ(ls),isGecko:AZ(ls),isSafari:EZ(ls),isiOS:IZ(ls),isAndroid:_Z(ls),isBlink:PZ(ls),get isMediaForcedColors(){return kZ()},get isMotionReduced(){return RZ()},features:{isRegExpUnicodePropertySupported:MZ()}};function Q2(t){return t.indexOf("macintosh")>-1}function xZ(t){return t.indexOf("windows")>-1}function AZ(t){return!!t.match(/gecko\/\d+/)}function EZ(t){return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1}function IZ(t){return!!t.match(/iphone|ipad/i)||Q2(t)&&navigator.maxTouchPoints>0}function _Z(t){return t.indexOf("android")>-1}function PZ(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}function MZ(){let t=!1;try{t="ć".search(new RegExp("[\\p{L}]","u"))===0}catch(e){}return t}function kZ(){return ut.window.matchMedia?ut.window.matchMedia("(forced-colors: active)").matches:!1}function RZ(){return ut.window.matchMedia?ut.window.matchMedia("(prefers-reduced-motion)").matches:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function J2(t,e,n,r){n=n||function(c,u){return c===u};const o=Array.isArray(t)?t:Array.prototype.slice.call(t),i=Array.isArray(e)?e:Array.prototype.slice.call(e),s=TZ(o,i,n);return r?NZ(s,i.length):OZ(i,s)}function TZ(t,e,n){const r=Fy(t,e,n);if(r===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=Ly(t,r),i=Ly(e,r),s=Fy(o,i,n),a=t.length-s,c=e.length-s;return{firstIndex:r,lastIndexOld:a,lastIndexNew:c}}function Fy(t,e,n){for(let r=0;r<Math.max(t.length,e.length);r++)if(t[r]===void 0||e[r]===void 0||!n(t[r],e[r]))return r;return-1}function Ly(t,e){return t.slice(e).reverse()}function OZ(t,e){const n=[],{firstIndex:r,lastIndexOld:o,lastIndexNew:i}=e;return i-r>0&&n.push({index:r,type:"insert",values:t.slice(r,i)}),o-r>0&&n.push({index:r+(i-r),type:"delete",howMany:o-r}),n}function NZ(t,e){const{firstIndex:n,lastIndexOld:r,lastIndexNew:o}=t;if(n===-1)return Array(e).fill("equal");let i=[];return n>0&&(i=i.concat(Array(n).fill("equal"))),o-n>0&&(i=i.concat(Array(o-n).fill("insert"))),r-n>0&&(i=i.concat(Array(r-n).fill("delete"))),o<e&&(i=i.concat(Array(e-o).fill("equal"))),i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gl(t,e,n){n=n||function(p,w){return p===w};const r=t.length,o=e.length;if(r>200||o>200||r+o>300)return Gl.fastDiff(t,e,n,!0);let i,s;if(o<r){const p=t;t=e,e=p,i="delete",s="insert"}else i="insert",s="delete";const a=t.length,c=e.length,u=c-a,d={},f={};function m(p){const w=(f[p-1]!==void 0?f[p-1]:-1)+1,v=f[p+1]!==void 0?f[p+1]:-1,y=w>v?-1:1;d[p+y]&&(d[p]=d[p+y].slice(0)),d[p]||(d[p]=[]),d[p].push(w>v?i:s);let b=Math.max(w,v),C=b-p;for(;C<a&&b<c&&n(t[C],e[b]);)C++,b++,d[p].push("equal");return b}let h=0,g;do{for(g=-h;g<u;g++)f[g]=m(g);for(g=u+h;g>u;g--)f[g]=m(g);f[u]=m(u),h++}while(f[u]!==c);return d[u].slice(1)}Gl.fastDiff=J2;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function By(){return function t(){t.called=!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ei{constructor(e,n){this.source=e,this.name=n,this.path=[],this.stop=By(),this.off=By()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const br=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function go(){const t=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,r=Math.random()*4294967296>>>0;return"e"+br[t>>0&255]+br[t>>8&255]+br[t>>16&255]+br[t>>24&255]+br[e>>0&255]+br[e>>8&255]+br[e>>16&255]+br[e>>24&255]+br[n>>0&255]+br[n>>8&255]+br[n>>16&255]+br[n>>24&255]+br[r>>0&255]+br[r>>8&255]+br[r>>16&255]+br[r>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ys={get(t="normal"){return typeof t!="number"?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DZ(t,e){const n=ys.get(e.priority);for(let r=0;r<t.length;r++)if(ys.get(t[r].priority)<n){t.splice(r,0,e);return}t.push(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $Z="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class ae extends Error{constructor(e,n,r){super(FZ(e,r)),this.name="CKEditorError",this.context=n,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){if(e.is&&e.is("CKEditorError"))throw e;const r=new ae(e.message,n);throw r.stack=e.stack,r}}function an(t,e){console.warn(...LZ(t,e))}function Z2(t){return"\nRead more: ".concat($Z,"#error-").concat(t)}function FZ(t,e){const n=new WeakSet,r=(s,a)=>{if(typeof a=="object"&&a!==null){if(n.has(a))return"[object ".concat(a.constructor.name,"]");n.add(a)}return a},o=e?" ".concat(JSON.stringify(e,r)):"",i=Z2(t);return t+o+i}function LZ(t,e){const n=Z2(t);return e?[t,e,n]:[t,n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const BZ="42.0.2",VZ=new Date(2024,6,25);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new ae("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=BZ;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sa=Symbol("listeningTo"),qg=Symbol("emitterId"),si=Symbol("delegations"),e_=wn(Object);function wn(t){if(!t)return e_;class e extends t{on(r,o,i){this.listenTo(this,r,o,i)}once(r,o,i){let s=!1;const a=(c,...u)=>{s||(s=!0,c.off(),o.call(this,c,...u))};this.listenTo(this,r,a,i)}off(r,o){this.stopListening(this,r,o)}listenTo(r,o,i,s={}){let a,c;this[sa]||(this[sa]={});const u=this[sa];ih(r)||t_(r);const d=ih(r);(a=u[d])||(a=u[d]={emitter:r,callbacks:{}}),(c=a.callbacks[o])||(c=a.callbacks[o]=[]),c.push(i),HZ(this,r,o,i,s)}stopListening(r,o,i){const s=this[sa];let a=r&&ih(r);const c=s&&a?s[a]:void 0,u=c&&o?c.callbacks[o]:void 0;if(!(!s||r&&!c||o&&!u))if(i)sh(this,r,o,i),u.indexOf(i)!==-1&&(u.length===1?delete c.callbacks[o]:sh(this,r,o,i));else if(u){for(;i=u.pop();)sh(this,r,o,i);delete c.callbacks[o]}else if(c){for(o in c.callbacks)this.stopListening(r,o);delete s[a]}else{for(a in s)this.stopListening(s[a].emitter);delete this[sa]}}fire(r,...o){try{const i=r instanceof Ei?r:new Ei(this,r),s=i.name;let a=r_(this,s);if(i.path.push(this),a){const u=[i,...o];a=Array.from(a);for(let d=0;d<a.length&&(a[d].callback.apply(this,u),i.off.called&&(delete i.off.called,this._removeEventListener(s,a[d].callback)),!i.stop.called);d++);}const c=this[si];if(c){const u=c.get(s),d=c.get("*");u&&Vy(u,i,o),d&&Vy(d,i,o)}return i.return}catch(i){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(i,this)}}delegate(...r){return{to:(o,i)=>{this[si]||(this[si]=new Map),r.forEach(s=>{const a=this[si].get(s);a?a.set(o,i):this[si].set(s,new Map([[o,i]]))})}}}stopDelegating(r,o){if(this[si])if(!r)this[si].clear();else if(!o)this[si].delete(r);else{const i=this[si].get(r);i&&i.delete(o)}}_addEventListener(r,o,i){UZ(this,r);const s=Kg(this,r),a=ys.get(i.priority),c={callback:o,priority:a};for(const u of s)DZ(u,c)}_removeEventListener(r,o){const i=Kg(this,r);for(const s of i)for(let a=0;a<s.length;a++)s[a].callback==o&&(s.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{wn[t]=e_.prototype[t]});function jZ(t,e){const n=t[sa];return n&&n[e]?n[e].emitter:null}function t_(t,e){t[qg]||(t[qg]=e||go())}function ih(t){return t[qg]}function n_(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function zZ(){return{callbacks:[],childEvents:[]}}function UZ(t,e){const n=n_(t);if(n[e])return;let r=e,o=null;const i=[];for(;r!==""&&!n[r];)n[r]=zZ(),i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const s of i)s.callbacks=n[r].callbacks.slice();n[r].childEvents.push(o)}}function Kg(t,e){const n=n_(t)[e];if(!n)return[];let r=[n.callbacks];for(let o=0;o<n.childEvents.length;o++){const i=Kg(t,n.childEvents[o]);r=r.concat(i)}return r}function r_(t,e){let n;return!t._events||!(n=t._events[e])||!n.callbacks.length?e.indexOf(":")>-1?r_(t,e.substr(0,e.lastIndexOf(":"))):null:n.callbacks}function Vy(t,e,n){for(let[r,o]of t){o?typeof o=="function"&&(o=o(e.name)):o=e.name;const i=new Ei(e.source,o);i.path=[...e.path],r.fire(i,...n)}}function HZ(t,e,n,r,o){e._addEventListener?e._addEventListener(n,r,o):t._addEventListener.call(e,n,r,o)}function sh(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kd=Symbol("observableProperties"),em=Symbol("boundObservables"),Rd=Symbol("boundProperties"),na=Symbol("decoratedMethods"),jy=Symbol("decoratedOriginal"),o_=An(wn());function An(t){if(!t)return o_;class e extends t{set(r,o){if(wi(r)){Object.keys(r).forEach(s=>{this.set(s,r[s])},this);return}ah(this);const i=this[kd];if(r in this&&!i.has(r))throw new ae("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get(){return i.get(r)},set(s){const a=i.get(r);let c=this.fire("set:".concat(r),r,s,a);c===void 0&&(c=s),(a!==c||!i.has(r))&&(i.set(r,c),this.fire("change:".concat(r),r,c,a))}}),this[r]=o}bind(...r){if(!r.length||!zy(r))throw new ae("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new ae("observable-bind-duplicate-properties",this);ah(this);const o=this[Rd];r.forEach(s=>{if(o.has(s))throw new ae("observable-bind-rebind",this)});const i=new Map;return r.forEach(s=>{const a={property:s,to:[]};o.set(s,a),i.set(s,a)}),{to:WZ,toMany:GZ,_observable:this,_bindProperties:r,_to:[],_bindings:i}}unbind(...r){if(!this[kd])return;const o=this[Rd],i=this[em];if(r.length){if(!zy(r))throw new ae("observable-unbind-wrong-properties",this);r.forEach(s=>{const a=o.get(s);a&&(a.to.forEach(([c,u])=>{const d=i.get(c),f=d[u];f.delete(a),f.size||delete d[u],Object.keys(d).length||(i.delete(c),this.stopListening(c,"change"))}),o.delete(s))})}else i.forEach((s,a)=>{this.stopListening(a,"change")}),i.clear(),o.clear()}decorate(r){ah(this);const o=this[r];if(!o)throw new ae("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(i,s)=>{i.return=o.apply(this,s)}),this[r]=function(...i){return this.fire(r,i)},this[r][jy]=o,this[na]||(this[na]=[]),this[na].push(r)}stopListening(r,o,i){if(!r&&this[na]){for(const s of this[na])this[s]=this[s][jy];delete this[na]}super.stopListening(r,o,i)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{An[t]=o_.prototype[t]});function ah(t){t[kd]||(Object.defineProperty(t,kd,{value:new Map}),Object.defineProperty(t,em,{value:new Map}),Object.defineProperty(t,Rd,{value:new Map}))}function WZ(...t){const e=KZ(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new ae("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new ae("observable-bind-to-extra-callback",this);e.to.forEach(o=>{if(o.properties.length&&o.properties.length!==r)throw new ae("observable-bind-to-properties-length",this);o.properties.length||(o.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),QZ(this._observable,this._to),XZ(this),this._bindProperties.forEach(o=>{i_(this._observable,o)})}function GZ(t,e,n){if(this._bindings.size>1)throw new ae("observable-bind-to-many-not-one-binding",this);this.to(...qZ(t,e),n)}function qZ(t,e){const n=t.map(r=>[r,e]);return Array.prototype.concat.apply([],n)}function zy(t){return t.every(e=>typeof e=="string")}function KZ(...t){if(!t.length)throw new ae("observable-bind-to-parse-error",null);const e={to:[]};let n;return typeof t[t.length-1]=="function"&&(e.callback=t.pop()),t.forEach(r=>{if(typeof r=="string")n.properties.push(r);else if(typeof r=="object")n={observable:r,properties:[]},e.to.push(n);else throw new ae("observable-bind-to-parse-error",null)}),e}function YZ(t,e,n,r){const o=t[em],i=o.get(n),s=i||{};s[r]||(s[r]=new Set),s[r].add(e),i||o.set(n,s)}function XZ(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),YZ(t._observable,n,o.observable,e)})})}function i_(t,e){const r=t[Rd].get(e);let o;r.callback?o=r.callback.apply(t,r.to.map(i=>i[0][i[1]])):(o=r.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=o:t.set(e,o)}function QZ(t,e){e.forEach(n=>{const r=t[em];let o;r.get(n.observable)||t.listenTo(n.observable,"change",(i,s)=>{o=r.get(n.observable)[s],o&&o.forEach(a=>{i_(t,a.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JZ{constructor(){this._replacedElements=[]}replace(e,n){this._replacedElements.push({element:e,newElement:n}),e.style.display="none",n&&e.parentNode.insertBefore(n,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:n})=>{e.style.display="",n&&n.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yg(t){let e=0;for(const n of t)e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tr(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function no(t){return!!(t&&t[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function So(t,e,n={},r=[]){const o=n&&n.xmlns,i=o?t.createElementNS(o,e):t.createElement(e);for(const s in n)i.setAttribute(s,n[s]);(Sb(r)||!no(r))&&(r=[r]);for(let s of r)Sb(s)&&(s=t.createTextNode(s)),i.appendChild(s);return i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s_{constructor(e,n){this._config={},n&&this.define(Uy(n)),e&&this._setObjectToTarget(this._config,e)}set(e,n){this._setToTarget(this._config,e,n)}define(e,n){this._setToTarget(this._config,e,n,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,n,r,o=!1){if(Eo(n)){this._setObjectToTarget(e,n,o);return}const i=n.split(".");n=i.pop();for(const s of i)Eo(e[s])||(e[s]={}),e=e[s];if(Eo(r)){Eo(e[n])||(e[n]={}),e=e[n],this._setObjectToTarget(e,r,o);return}o&&typeof e[n]<"u"||(e[n]=r)}_getFromSource(e,n){const r=n.split(".");n=r.pop();for(const o of r){if(!Eo(e[o])){e=null;break}e=e[o]}return e?Uy(e[n]):void 0}_setObjectToTarget(e,n,r){Object.keys(n).forEach(o=>{this._setToTarget(e,o,n[o],r)})}}function Uy(t){return Cp(t,ZZ)}function ZZ(t){return Es(t)||typeof t=="function"?t:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yi(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Td(t){const e=Object.prototype.toString.apply(t);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const a_=vo(wn());function vo(t){if(!t)return a_;class e extends t{listenTo(r,o,i,s={}){if(Yi(r)||Td(r)){const a={capture:!!s.useCapture,passive:!!s.usePassive},c=this._getProxyEmitter(r,a)||new eee(r,a);this.listenTo(c,o,i,s)}else super.listenTo(r,o,i,s)}stopListening(r,o,i){if(Yi(r)||Td(r)){const s=this._getAllProxyEmitters(r);for(const a of s)this.stopListening(a,o,i)}else super.stopListening(r,o,i)}_getProxyEmitter(r,o){return jZ(this,l_(r,o))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(r,o)).filter(o=>!!o)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{vo[t]=a_.prototype[t]});class eee extends wn(){constructor(e,n){super(),t_(this,l_(e,n)),this._domNode=e,this._options=n}attach(e){if(this._domListeners&&this._domListeners[e])return;const n=this._createDomListener(e);this._domNode.addEventListener(e,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}detach(e){let n;this._domListeners[e]&&(!(n=this._events[e])||!n.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,n,r){this.attach(e),wn().prototype._addEventListener.call(this,e,n,r)}_removeEventListener(e,n){wn().prototype._removeEventListener.call(this,e,n),this.detach(e)}_createDomListener(e){const n=r=>{this.fire(e,r)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,this._options),delete this._domListeners[e]},n}}function tee(t){return t["data-ck-expando"]||(t["data-ck-expando"]=go())}function l_(t,e){let n=tee(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nee(t){const e=[];let n=t;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ree(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function c_(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ln(t){return Object.prototype.toString.call(t)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tm(t){return Object.prototype.toString.apply(t)=="[object Range]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function u_(t){return!t||!t.parentNode||t.offsetParent===ut.document.body?null:t.offsetParent}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const d_=["top","right","bottom","left","width","height"];class Ut{constructor(e){const n=tm(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Xg(e)||n)if(n){const r=Ut.getDomRangeRects(e);_u(this,Ut.getBoundingRect(r))}else _u(this,e.getBoundingClientRect());else if(Td(e)){const{innerWidth:r,innerHeight:o}=e;_u(this,{top:0,right:r,bottom:o,left:0,width:r,height:o})}else _u(this,e)}clone(){return new Ut(this)}moveTo(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}moveBy(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}getIntersection(e){const n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0)return null;{const r=new Ut(n);return r._source=this._source,r}}getIntersectionArea(e){const n=this.getIntersection(e);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let n=this.clone();if(Hy(e))return n;let r=e,o=e.parentNode||e.commonAncestorContainer,i;for(;o&&!Hy(o);){const s=oee(o)==="visible";r instanceof HTMLElement&&Wy(r)==="absolute"&&(i=r);const a=Wy(o);if(s||i&&(a==="relative"&&s||a!=="relative")){r=o,o=o.parentNode;continue}const c=new Ut(o),u=n.getIntersection(c);if(u)u.getArea()<n.getArea()&&(n=u);else return null;r=o,o=o.parentNode}return n}isEqual(e){for(const n of d_)if(this[n]!==e[n])return!1;return!0}contains(e){const n=this.getIntersection(e);return!!(n&&n.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:n}=ut.window,r=this.clone().moveBy(e,n);if(Xg(r._source)){const o=u_(r._source);o&&iee(r,o)}return r}excludeScrollbarsAndBorders(){const e=this._source;let n,r,o;if(Td(e))n=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,o=e.getComputedStyle(e.document.documentElement).direction;else{const i=c_(e);n=e.offsetWidth-e.clientWidth-i.left-i.right,r=e.offsetHeight-e.clientHeight-i.top-i.bottom,o=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,o==="ltr"?this.right-=n:this.left+=n,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const n=[],r=Array.from(e.getClientRects());if(r.length)for(const o of r)n.push(new Ut(o));else{let o=e.startContainer;Ln(o)&&(o=o.parentNode);const i=new Ut(o.getBoundingClientRect());i.right=i.left,i.width=0,n.push(i)}return n}static getBoundingRect(e){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const o of e)r++,n.left=Math.min(n.left,o.left),n.top=Math.min(n.top,o.top),n.right=Math.max(n.right,o.right),n.bottom=Math.max(n.bottom,o.bottom);return r==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new Ut(n))}}function _u(t,e){for(const n of d_)t[n]=e[n]}function Hy(t){return Xg(t)?t===t.ownerDocument.body:!1}function Xg(t){return t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.getBoundingClientRect=="function"}function Wy(t){return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).position:"static"}function oee(t){return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).overflow:"visible"}function iee(t,e){const n=new Ut(e),r=c_(e);let o=0,i=0;o-=n.left,i-=n.top,o+=e.scrollLeft,i+=e.scrollTop,o-=r.left,i-=r.top,t.moveBy(o,i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Zc=class $n{constructor(e,n){$n._observerInstance||$n._createObserver(),this._element=e,this._callback=n,$n._addElementCallback(e,n),$n._observerInstance.observe(e)}get element(){return this._element}destroy(){$n._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,n){$n._elementCallbacks||($n._elementCallbacks=new Map);let r=$n._elementCallbacks.get(e);r||(r=new Set,$n._elementCallbacks.set(e,r)),r.add(n)}static _deleteElementCallback(e,n){const r=$n._getElementCallbacks(e);r&&(r.delete(n),r.size||($n._elementCallbacks.delete(e),$n._observerInstance.unobserve(e))),$n._elementCallbacks&&!$n._elementCallbacks.size&&($n._observerInstance=null,$n._elementCallbacks=null)}static _getElementCallbacks(e){return $n._elementCallbacks?$n._elementCallbacks.get(e):null}static _createObserver(){$n._observerInstance=new ut.window.ResizeObserver(e=>{for(const n of e){const r=$n._getElementCallbacks(n.target);if(r)for(const o of r)o(n)}})}};Zc._observerInstance=null;Zc._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gy(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sl(t){return e=>e+t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $l(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function f_(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ql(t){return t&&t.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function see(t){try{ut.document.createAttribute(t)}catch(e){return!1}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ks(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nm({element:t,target:e,positions:n,limiter:r,fitInViewport:o,viewportOffsetConfig:i}){rd(e)&&(e=e()),rd(r)&&(r=r());const s=u_(t),a=aee(i),c=new Ut(t),u=qy(e,a);let d;if(!u||!a.getIntersection(u))return null;const f={targetRect:u,elementRect:c,positionedElementAncestor:s,viewportRect:a};if(!r&&!o)d=new m_(n[0],f);else{if(r){const m=qy(r,a);m&&(f.limiterRect=m)}d=lee(n,f)}return d}function qy(t,e){const n=new Ut(t).getVisible();return n?n.getIntersection(e):null}function aee(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Ut(ut.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}function lee(t,e){const{elementRect:n}=e,r=n.getArea(),o=t.map(a=>new m_(a,e)).filter(a=>!!a.name);let i=0,s=null;for(const a of o){const{limiterIntersectionArea:c,viewportIntersectionArea:u}=a;if(c===r)return a;const d=u**2+c**2;d>i&&(i=d,s=a)}return s}class m_{constructor(e,n){const r=e(n.targetRect,n.elementRect,n.viewportRect,n.limiterRect);if(!r)return;const{left:o,top:i,name:s,config:a}=r;this.name=s,this.config=a,this._positioningFunctionCoordinates={left:o,top:i},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ky(t){const e=t.parentNode;e&&e.removeChild(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cee({target:t,viewportOffset:e=0,ancestorOffset:n=0,alignToTop:r,forceScroll:o}){const i=qv(t);let s=i,a=null;for(e=fee(e);s;){let c;s==i?c=Yy(t):c=Yy(a),dee({parent:c,getRect:()=>Xy(t,s),alignToTop:r,ancestorOffset:n,forceScroll:o});const u=Xy(t,s);if(uee({window:s,rect:u,viewportOffset:e,alignToTop:r,forceScroll:o}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}function uee({window:t,rect:e,alignToTop:n,forceScroll:r,viewportOffset:o}){const i=e.clone().moveBy(0,o.bottom),s=e.clone().moveBy(0,-o.top),a=new Ut(t).excludeScrollbarsAndBorders(),c=[s,i],u=n&&r,d=c.every(p=>a.contains(p));let{scrollX:f,scrollY:m}=t;const h=f,g=m;u?m-=a.top-e.top+o.top:d||(g_(s,a)?m-=a.top-e.top+o.top:h_(i,a)&&(n?m+=e.top-a.top-o.top:m+=e.bottom-a.bottom+o.bottom)),d||(p_(e,a)?f-=a.left-e.left+o.left:v_(e,a)&&(f+=e.right-a.right+o.right)),(f!=h||m!==g)&&t.scrollTo(f,m)}function dee({parent:t,getRect:e,alignToTop:n,forceScroll:r,ancestorOffset:o=0,limiterElement:i}){const s=qv(t),a=n&&r;let c,u,d;const f=i||s.document.body;for(;t!=f;)u=e(),c=new Ut(t).excludeScrollbarsAndBorders(),d=c.contains(u),a?t.scrollTop-=c.top-u.top+o:d||(g_(u,c)?t.scrollTop-=c.top-u.top+o:h_(u,c)&&(n?t.scrollTop+=u.top-c.top-o:t.scrollTop+=u.bottom-c.bottom+o)),d||(p_(u,c)?t.scrollLeft-=c.left-u.left+o:v_(u,c)&&(t.scrollLeft+=u.right-c.right+o)),t=t.parentNode}function h_(t,e){return t.bottom>e.bottom}function g_(t,e){return t.top<e.top}function p_(t,e){return t.left<e.left}function v_(t,e){return t.right>e.right}function qv(t){return tm(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Yy(t){if(tm(t)){let e=t.commonAncestorContainer;return Ln(e)&&(e=e.parentNode),e}else return t.parentNode}function Xy(t,e){const n=qv(t),r=new Ut(t);if(n===e)return r;{let o=n;for(;o!=e;){const i=o.frameElement,s=new Ut(i).excludeScrollbarsAndBorders();r.moveBy(s.left,s.top),o=o.parent}}return r}function fee(t){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const mee={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},hee={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Qy={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Ht=wee(),gee=Object.fromEntries(Object.entries(Ht).map(([t,e])=>{let n;return e in Qy?n=Qy[e]:n=t.charAt(0).toUpperCase()+t.slice(1),[e,n]}));function Na(t){let e;if(typeof t=="string"){if(e=Ht[t.toLowerCase()],!e)throw new ae("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?Ht.alt:0)+(t.ctrlKey?Ht.ctrl:0)+(t.shiftKey?Ht.shift:0)+(t.metaKey?Ht.cmd:0);return e}function Kv(t){return typeof t=="string"&&(t=yee(t)),t.map(e=>typeof e=="string"?vee(e):e).reduce((e,n)=>n+e,0)}function Od(t){let e=Kv(t);return Object.entries(jt.isMac||jt.isiOS?mee:hee).reduce((o,[i,s])=>(e&Ht[i]&&(e&=~Ht[i],o+=s),o),"")+(e?gee[e]:"")}function pee(t){return t==Ht.arrowright||t==Ht.arrowleft||t==Ht.arrowup||t==Ht.arrowdown}function b_(t,e){const n=e==="ltr";switch(t){case Ht.arrowleft:return n?"left":"right";case Ht.arrowright:return n?"right":"left";case Ht.arrowup:return"up";case Ht.arrowdown:return"down"}}function vee(t){if(t.endsWith("!"))return Na(t.slice(0,-1));const e=Na(t);return(jt.isMac||jt.isiOS)&&e==Ht.ctrl?Ht.cmd:e}function bee(t,e){const n=b_(t,e);return n==="down"||n==="right"}function wee(){const t={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return Object.assign(t,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),t}function yee(t){return t.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cee=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Jy(t){return Cee.includes(t)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gn(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */ut.window.CKEDITOR_TRANSLATIONS||(ut.window.CKEDITOR_TRANSLATIONS={});function See(t,e,n=1,r){if(typeof n!="number")throw new ae("translation-service-quantity-not-a-number",null,{quantity:n});const o=r||ut.window.CKEDITOR_TRANSLATIONS,i=Eee(o);i===1&&(t=Object.keys(o)[0]);const s=e.id||e.string;if(i===0||!Aee(t,s,o))return n!==1?e.plural:e.string;const a=o[t].dictionary,c=o[t].getPluralForm||(f=>f===1?0:1),u=a[s];if(typeof u=="string")return u;const d=Number(c(n));return u[d]}function xee(t){return Array.isArray(t)?t.reduce((e,n)=>Sp(e,n)):t}function Aee(t,e,n){return!!n[t]&&!!n[t].dictionary[e]}function Eee(t){return Object.keys(t).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iee{constructor({uiLanguage:e="en",contentLanguage:n,translations:r}={}){this.uiLanguage=e,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=Jy(this.uiLanguage),this.contentLanguageDirection=Jy(this.contentLanguage),this.translations=xee(r),this.t=(o,i)=>this._t(o,i)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,n=[]){n=Gn(n),typeof e=="string"&&(e={string:e});const o=!!e.plural?n[0]:1,i=See(this.uiLanguage,e,o,this.translations);return _ee(i,n)}}function _ee(t,e){return t.replace(/%(\d+)/g,(n,r)=>r<e.length?e[r]:n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ki extends wn(){constructor(e={},n={}){super();const r=no(e);if(r||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const o of e)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){return this.addMany([e],n)}addMany(e,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new ae("collection-add-item-invalid-index",this);let r=0;for(const o of e){const i=this._getItemIdBeforeAdding(o),s=n+r;this._items.splice(s,0,o),this._itemMap.set(i,o),this.fire("add",o,s),r++}return this.fire("change",{added:e,removed:[],index:n}),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else if(typeof e=="number")n=this._items[e];else throw new ae("collection-get-invalid-arg",this);return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=this._idProperty,r=e[n];return r&&this._itemMap.has(r)}}getIndex(e){let n;return typeof e=="string"?n=this._itemMap.get(e):n=e,n?this._items.indexOf(n):-1}remove(e){const[n,r]=this._remove(e);return this.fire("change",{added:[],removed:[n],index:r}),n}map(e,n){return this._items.map(e,n)}forEach(e,n){this._items.forEach(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new ae("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(r=>new n(r))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(r=>r[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,r=(o,i,s)=>{const a=n._bindToCollection==this,c=n._bindToInternalToExternalMap.get(i);if(a&&c)this._bindToExternalToInternalMap.set(i,c),this._bindToInternalToExternalMap.set(c,i);else{const u=e(i);if(!u){this._skippedIndexesFromExternal.push(s);return}let d=s;for(const f of this._skippedIndexesFromExternal)s>f&&d--;for(const f of n._skippedIndexesFromExternal)d>=f&&d++;this._bindToExternalToInternalMap.set(i,u),this._bindToInternalToExternalMap.set(u,i),this.add(u,d);for(let f=0;f<n._skippedIndexesFromExternal.length;f++)d<=n._skippedIndexesFromExternal[f]&&n._skippedIndexesFromExternal[f]++}};for(const o of n)r(null,o,n.getIndex(o));this.listenTo(n,"add",r),this.listenTo(n,"remove",(o,i,s)=>{const a=this._bindToExternalToInternalMap.get(i);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,u)=>(s<u&&c.push(u-1),s>u&&c.push(u),c),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let r;if(n in e){if(r=e[n],typeof r!="string")throw new ae("collection-add-invalid-id",this);if(this.get(r))throw new ae("collection-add-item-already-exists",this)}else e[n]=r=go();return r}_remove(e){let n,r,o,i=!1;const s=this._idProperty;if(typeof e=="string"?(r=e,o=this._itemMap.get(r),i=!o,o&&(n=this._items.indexOf(o))):typeof e=="number"?(n=e,o=this._items[n],i=!o,o&&(r=o[s])):(o=e,r=o[s],n=this._items.indexOf(o),i=n==-1||!this._itemMap.get(r)),i)throw new ae("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(r);const a=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(a),this.fire("remove",o,n),[o,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function al(t){const e=t.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zr extends vo(An()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new ae("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bo{constructor(){this._listener=new(vo())}listenTo(e){this._listener.listenTo(e,"keydown",(n,r)=>{this._listener.fire("_keydown:"+Na(r),r)})}set(e,n,r={}){const o=Kv(e),i=r.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(s,a)=>{n(a,()=>{a.preventDefault(),a.stopPropagation(),s.stop()}),s.return=!0},{priority:i})}press(e){return!!this._listener.fire("_keydown:"+Na(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pee(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xi(t){return no(t)?new Map(t):Pee(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mee=1e4;function kee(t,e,n,r){if(Math.max(e.length,t.length)>Mee)return t.slice(0,n).concat(e).concat(t.slice(n+r,t.length));{const o=Array.from(t);return o.splice(n,r,...e),o}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yv(t,e){let n;function r(...o){r.cancel(),n=setTimeout(()=>t(...o),e)}return r.cancel=()=>{clearTimeout(n)},r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ree(t){function e(f){return f.length>=40&&f.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let n="";try{n=atob(t)}catch(f){return"INVALID"}const r=n.split("-"),o=r[0],i=r[1];if(!i)return e(t);try{atob(i)}catch(f){try{if(atob(o),!atob(o).length)return e(t)}catch(m){return e(t)}}if(o.length<40||o.length>255)return"INVALID";let s="";try{atob(o),s=atob(i)}catch(f){return"INVALID"}if(s.length!==8)return"INVALID";const a=Number(s.substring(0,4)),c=Number(s.substring(4,6))-1,u=Number(s.substring(6,8)),d=new Date(a,c,u);return d<VZ||isNaN(Number(d))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tee(t){return!!t&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function Oee(t){return!!t&&t.length==1&&/[\ud800-\udbff]/.test(t)}function Nee(t){return!!t&&t.length==1&&/[\udc00-\udfff]/.test(t)}function Xv(t,e){return Oee(t.charAt(e-1))&&Nee(t.charAt(e))}function Qv(t,e){return Tee(t.charAt(e))}const Dee=$ee();function w_(t,e){const n=String(t).matchAll(Dee);return Array.from(n).some(r=>r.index<e&&e<r.index+r[0].length)}function $ee(){const t=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,n="(?:"+t.map(o=>o.source).join("|")+")",r="".concat(e,"|").concat(n,"(?:‍").concat(n,")*");return new RegExp(r,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ri extends ki{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(n,r,o)=>{this._renderViewIntoCollectionParent(r,o)}),this.on("remove",(n,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!Fee(e))throw new ae("ui-viewcollection-delegate-wrong-events",this);return{to:n=>{for(const r of this)for(const o of e)r.delegate(o).to(n);this.on("add",(r,o)=>{for(const i of e)o.delegate(i).to(n)}),this.on("remove",(r,o)=>{for(const i of e)o.stopDelegating(i,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}remove(e){return super.remove(e)}}function Fee(t){return t.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Lee="http://www.w3.org/1999/xhtml";class Yo extends wn(){constructor(e){super(),Object.assign(this,eC(Zy(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=rC(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new ae("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(n){if(n.children)for(const r of n.children)Nd(r)?yield r:Jv(r)&&(yield*e(r))}yield*e(this)}static bind(e,n){return{to(r,o){return new Bee({eventNameOrFunction:r,attribute:r,observable:e,emitter:n,callback:o})},if(r,o,i){return new y_({observable:e,emitter:n,attribute:r,valueIfTrue:o,callback:i})}}}static extend(e,n){if(e._isRendered)throw new ae("template-extend-render",[this,e]);A_(e,eC(Zy(n)))}_renderNode(e){let n;if(e.node?n=this.tag&&this.text:n=this.tag?this.text:!this.text,n)throw new ae("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||Lee,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),Xu(this.text)?this._bindToObservable({schema:this.text,updater:jee(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){if(!this.attributes)return;const n=e.node,r=e.revertData;for(const o in this.attributes){const i=n.getAttribute(o),s=this.attributes[o];r&&(r.attributes[o]=i);const a=nC(s)?s[0].ns:null;if(Xu(s)){const c=nC(s)?s[0].value:s;r&&oC(o)&&c.unshift(i),this._bindToObservable({schema:c,updater:zee(n,o,a),data:e})}else if(o=="style"&&typeof s[0]!="string")this._renderStyleAttribute(s[0],e);else{r&&i&&oC(o)&&s.unshift(i);const c=s.map(u=>u&&(u.value||u)).reduce((u,d)=>u.concat(d),[]).reduce(x_,"");Da(c)||n.setAttributeNS(a,o,c)}}}_renderStyleAttribute(e,n){const r=n.node;for(const o in e){const i=e[o];Xu(i)?this._bindToObservable({schema:[i],updater:Uee(r,o),data:n}):r.style[o]=i}}_renderElementChildren(e){const n=e.node,r=e.intoFragment?document.createDocumentFragment():n,o=e.isApplying;let i=0;for(const s of this.children)if(Zv(s)){if(!o){s.setParent(n);for(const a of s)r.appendChild(a.element)}}else if(Nd(s))o||(s.isRendered||s.render(),r.appendChild(s.element));else if(Yi(s))r.appendChild(s);else if(o){const a=e.revertData,c=rC();a.children.push(c),s._renderNode({intoFragment:!1,node:r.childNodes[i++],isApplying:!0,revertData:c})}else r.appendChild(s.render());e.intoFragment&&n.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const r=this.eventListeners[n].map(o=>{const[i,s]=n.split("@");return o.activateDomEventListener(i,s,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:n,data:r}){const o=r.revertData;C_(e,n,r);const i=e.filter(s=>!Da(s)).filter(s=>s.observable).map(s=>s.activateAttributeListener(e,n,r));o&&o.bindings.push(i)}_revertTemplateFromNode(e,n){for(const o of n.bindings)for(const i of o)i();if(n.text){e.textContent=n.text;return}const r=e;for(const o in n.attributes){const i=n.attributes[o];i===null?r.removeAttribute(o):r.setAttribute(o,i)}for(let o=0;o<n.children.length;++o)this._revertTemplateFromNode(r.childNodes[o],n.children[o])}}class eu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}activateAttributeListener(e,n,r){const o=()=>C_(e,n,r);return this.emitter.listenTo(this.observable,"change:".concat(this.attribute),o),()=>{this.emitter.stopListening(this.observable,"change:".concat(this.attribute),o)}}}class Bee extends eu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,n,r){const o=(i,s)=>{(!n||s.target.matches(n))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(s):this.observable.fire(this.eventNameOrFunction,s))};return this.emitter.listenTo(r.node,e,o),()=>{this.emitter.stopListening(r.node,e,o)}}}class y_ extends eu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const n=super.getValue(e);return Da(n)?!1:this.valueIfTrue||!0}}function Xu(t){return t?(t.value&&(t=t.value),Array.isArray(t)?t.some(Xu):t instanceof eu):!1}function Vee(t,e){return t.map(n=>n instanceof eu?n.getValue(e):n)}function C_(t,e,{node:n}){const r=Vee(t,n);let o;t.length==1&&t[0]instanceof y_?o=r[0]:o=r.reduce(x_,""),Da(o)?e.remove():e.set(o)}function jee(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function zee(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function Uee(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Zy(t){return Cp(t,n=>{if(n&&(n instanceof eu||Jv(n)||Nd(n)||Zv(n)))return n})}function eC(t){if(typeof t=="string"?t=Gee(t):t.text&&qee(t),t.on&&(t.eventListeners=Wee(t.on),delete t.on),!t.text){t.attributes&&Hee(t.attributes);const e=[];if(t.children)if(Zv(t.children))e.push(t.children);else for(const n of t.children)Jv(n)||Nd(n)||Yi(n)?e.push(n):e.push(new Yo(n));t.children=e}return t}function Hee(t){for(const e in t)t[e].value&&(t[e].value=Gn(t[e].value)),S_(t,e)}function Wee(t){for(const e in t)S_(t,e);return t}function Gee(t){return{text:[t]}}function qee(t){t.text=Gn(t.text)}function S_(t,e){t[e]=Gn(t[e])}function x_(t,e){return Da(e)?t:Da(t)?e:"".concat(t," ").concat(e)}function tC(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function A_(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),tC(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),tC(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new ae("ui-template-extend-children-mismatch",t);let n=0;for(const r of e.children)A_(t.children[n++],r)}}function Da(t){return!t&&t!==0}function Nd(t){return t instanceof Et}function Jv(t){return t instanceof Yo}function Zv(t){return t instanceof Ri}function nC(t){return wi(t[0])&&t[0].ns}function rC(){return{children:[],bindings:[],attributes:{}}}function oC(t){return t=="class"||t=="style"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Et=class extends vo(An()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ki,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Yo.bind(this,this)}createCollection(e){const n=new Ri(e);return this._viewCollections.add(n),n}registerChild(e){no(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){no(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new Yo(e)}extendTemplate(e){Yo.extend(this.template,e)}render(){if(this.isRendered)throw new ae("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rm({emitter:t,activator:e,callback:n,contextElements:r}){t.listenTo(document,"mousedown",(o,i)=>{if(!e())return;const s=typeof i.composedPath=="function"?i.composedPath():[],a=typeof r=="function"?r():r;for(const c of a)if(c.contains(i.target)||s.includes(c))return;n()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kee(t){class e extends t{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function E_({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kt extends An(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",iC,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",iC),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function iC(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ur extends An(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",n=>{if(!this.affectsData)return;const r=e.model.document.selection,i=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(n.return=!1,n.stop())},{priority:"highest"}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",sC,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",sC),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function sC(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class I_ extends wn(){constructor(e,n=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const o of n)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,i]of r)this._contextPlugins.set(o,i),this._contextPlugins.set(i,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const n=this._plugins.get(e);if(!n){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new ae("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return n}has(e){return this._plugins.has(e)}init(e,n=[],r=[]){const o=this,i=this._context;h(e),p(e);const s=e.filter(x=>!f(x,n)),a=[...g(s)];S(a,r);const c=b(a);return C(c,"init").then(()=>C(c,"afterInit")).then(()=>c);function u(x){return typeof x=="function"}function d(x){return u(x)&&!!x.isContextPlugin}function f(x,I){return I.some(E=>E===x||m(x)===E||m(E)===x)}function m(x){return u(x)?x.pluginName||x.name:x}function h(x,I=new Set){x.forEach(E=>{u(E)&&(I.has(E)||(I.add(E),E.pluginName&&!o._availablePlugins.has(E.pluginName)&&o._availablePlugins.set(E.pluginName,E),E.requires&&h(E.requires,I)))})}function g(x,I=new Set){return x.map(E=>u(E)?E:o._availablePlugins.get(E)).reduce((E,_)=>I.has(_)?E:(I.add(_),_.requires&&(p(_.requires,_),g(_.requires,I).forEach(P=>E.add(P))),E.add(_)),new Set)}function p(x,I=null){x.map(E=>u(E)?E:o._availablePlugins.get(E)||E).forEach(E=>{w(E,I),v(E,I),y(E,I)})}function w(x,I){if(!u(x))throw I?new ae("plugincollection-soft-required",i,{missingPlugin:x,requiredBy:m(I)}):new ae("plugincollection-plugin-not-found",i,{plugin:x})}function v(x,I){if(d(I)&&!d(x))throw new ae("plugincollection-context-required",i,{plugin:m(x),requiredBy:m(I)})}function y(x,I){if(I&&f(x,n))throw new ae("plugincollection-required",i,{plugin:m(x),requiredBy:m(I)})}function b(x){return x.map(I=>{let E=o._contextPlugins.get(I);return E=E||new I(i),o._add(I,E),E})}function C(x,I){return x.reduce((E,_)=>!_[I]||o._contextPlugins.has(_)?E:E.then(_[I].bind(_)),Promise.resolve())}function S(x,I){for(const E of I){if(typeof E!="function")throw new ae("plugincollection-replace-plugin-invalid-type",null,{pluginItem:E});const _=E.pluginName;if(!_)throw new ae("plugincollection-replace-plugin-missing-name",null,{pluginItem:E});if(E.requires&&E.requires.length)throw new ae("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:_});const P=o._availablePlugins.get(_);if(!P)throw new ae("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:_});const M=x.indexOf(P);if(M===-1){if(o._contextPlugins.has(P))return;throw new ae("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:_})}if(P.requires&&P.requires.length)throw new ae("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:_});x.splice(M,1,E),o._availablePlugins.set(_,E)}}}destroy(){const e=[];for(const[,n]of this)typeof n.destroy=="function"&&!this._contextPlugins.has(n)&&e.push(n.destroy());return Promise.all(e)}_add(e,n){this._plugins.set(e,n);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new ae("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,n)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class __{constructor(e){this._contextOwner=null;const{translations:n,...r}=e||{};this.config=new s_(r,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new I_(this,o);const i=this.config.get("language")||{};this.locale=new Iee({uiLanguage:typeof i=="string"?i:i.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new ki}initPlugins(){const e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[];for(const r of e.concat(n)){if(typeof r!="function")throw new ae("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new ae("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],n)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,n){if(this._contextOwner)throw new ae("context-addeditor-private-context");this.editors.add(e),n&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const n of this.config.names())["plugins","removePlugins","extraPlugins"].includes(n)||(e[n]=this.config.get(n));return e}static create(e){return new Promise(n=>{const r=new this(e);n(r.initPlugins().then(()=>r))})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class P_ extends An(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qu=new WeakMap;let aC=!1;function Yee({view:t,element:e,text:n,isDirectHost:r=!0,keepOnFocus:o=!1}){const i=t.document;Qu.has(i)||(Qu.set(i,new Map),i.registerPostFixer(a=>lh(i,a)),i.on("change:isComposing",()=>{t.change(a=>lh(i,a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,c,u)=>{s(u)}),e.placeholder?s(e.placeholder):n&&s(n),n&&ete();function s(a){Qu.get(i).set(e,{text:a,isDirectHost:r,keepOnFocus:o,hostElement:r?e:null}),t.change(c=>lh(i,c))}}function Xee(t,e){return e.hasClass("ck-placeholder")?!1:(t.addClass("ck-placeholder",e),!0)}function Qee(t,e){return e.hasClass("ck-placeholder")?(t.removeClass("ck-placeholder",e),!0):!1}function Jee(t,e){if(!t.isAttached()||Array.from(t.getChildren()).some(s=>!s.is("uiElement")))return!1;const r=t.document,i=r.selection.anchor;return r.isComposing&&i&&i.parent===t?!1:e||!r.isFocused?!0:!!i&&i.parent!==t}function lh(t,e){const n=Qu.get(t),r=[];let o=!1;for(const[i,s]of n)s.isDirectHost&&(r.push(i),lC(e,i,s)&&(o=!0));for(const[i,s]of n){if(s.isDirectHost)continue;const a=Zee(i);a&&(r.includes(a)||(s.hostElement=a,lC(e,i,s)&&(o=!0)))}return o}function lC(t,e,n){const{text:r,isDirectHost:o,hostElement:i}=n;let s=!1;return i.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,i),s=!0),(o||e.childCount==1)&&Jee(i,n.keepOnFocus)?Xee(t,i)&&(s=!0):Qee(t,i)&&(s=!0),s}function Zee(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function ete(){aC||an("enableplaceholder-deprecated-text-option"),aC=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Vs=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let js=class extends wn(Vs){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new ae("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.index),n=n.parent;return e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}getCommonAncestor(e,n={}){const r=this.getAncestors(n),o=e.getAncestors(n);let i=0;for(;r[i]==o[i]&&r[i];)i++;return i===0?null:r[i-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),r=e.getPath(),o=Tr(n,r);switch(o){case"prefix":return!0;case"extension":return!1;default:return n[o]<r[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,n){this.fire("change:".concat(e),n),this.parent&&this.parent._fireChange(e,n)}toJSON(){const e=sS(this);return delete e.parent,e}};js.prototype.is=function(t){return t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let En=class Qg extends js{constructor(e,n){super(e),this._textData=n}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Qg?this===e||this.data===e.data:!1}_clone(){return new Qg(this.document,this.data)}};En.prototype.is=function(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ho=class extends Vs{constructor(e,n,r){if(super(),this.textNode=e,n<0||n>e.data.length)throw new ae("view-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.data.length)throw new ae("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const n=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}};Ho.prototype.is=function(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hc{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const r of this._patterns){const o=cC(n,r);if(o)return{element:n,pattern:r,match:o}}return null}matchAll(...e){const n=[];for(const r of e)for(const o of this._patterns){const i=cC(r,o);i&&n.push({element:r,pattern:o,match:i})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e!="function"&&n&&!(n instanceof RegExp)?n:null}}function cC(t,e){if(typeof e=="function")return e(t);const n={};return e.name&&(n.name=tte(e.name,t.name),!n.name)||e.attributes&&(n.attributes=ite(e.attributes,t),!n.attributes)||e.classes&&(n.classes=ste(e.classes,t),!n.classes)||e.styles&&(n.styles=ate(e.styles,t),!n.styles)?null:n}function tte(t,e){return t instanceof RegExp?!!e.match(t):t===e}function eb(t,e,n){const r=nte(t),o=Array.from(e),i=[];if(r.forEach(([s,a])=>{o.forEach(c=>{rte(s,c)&&ote(a,c,n)&&i.push(c)})}),!(!r.length||i.length<r.length))return i}function nte(t){return Array.isArray(t)?t.map(e=>Eo(e)?((e.key===void 0||e.value===void 0)&&an("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Eo(t)?Object.entries(t):[[t,!0]]}function rte(t,e){return t===!0||t===e||t instanceof RegExp&&e.match(t)}function ote(t,e,n){if(t===!0)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}function ite(t,e){const n=new Set(e.getAttributeKeys());return Eo(t)?(t.style!==void 0&&an("matcher-pattern-deprecated-attributes-style-key",t),t.class!==void 0&&an("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),eb(t,n,r=>e.getAttribute(r))}function ste(t,e){return eb(t,e.getClassNames(),()=>{})}function ate(t,e){return eb(t,e.getStyleNames(!0),n=>e.getStyle(n))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jg{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=cte(e);for(const[r,o]of n)this._styleProcessor.toNormalizedForm(r,o,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(r)}set(e,n){if(wi(e))for(const[r,o]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,o,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){const n=Zg(e);lk(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!wi(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([r])=>r)}clear(){this._styles={}}getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const r of n)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const o=n.splice(0,n.length-1).join("."),i=od(this._styles,o);if(!i)return;!Object.keys(i).length&&this.remove(o)}}class lte{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,n,r){if(wi(n)){ch(r,Zg(e),n);return}if(this._normalizers.has(e)){const o=this._normalizers.get(e),{path:i,value:s}=o(n);ch(r,i,s)}else ch(r,e,n)}getNormalized(e,n){if(!e)return Sp({},n);if(n[e]!==void 0)return n[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return od(n,r);const o=r(e,n);if(o)return o}return od(n,Zg(e))}getReducedForm(e,n){const r=this.getNormalized(e,n);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const n=Array.from(this._consumables.keys()).filter(o=>{const i=this.getNormalized(o,e);return i&&typeof i=="object"?Object.keys(i).length:i}),r=new Set([...n,...Object.keys(e)]);return Array.from(r)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,n){this._normalizers.set(e,n)}setExtractor(e,n){this._extractors.set(e,n)}setReducer(e,n){this._reducers.set(e,n)}setStyleRelation(e,n){this._mapStyleNames(e,n);for(const r of n)this._mapStyleNames(r,[e])}_mapStyleNames(e,n){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...n)}}function cte(t){let e=null,n=0,r=0,o=null;const i=new Map;if(t==="")return i;t.charAt(t.length-1)!=";"&&(t=t+";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(e===null)switch(a){case":":o||(o=t.substr(n,s-n),r=s+1);break;case'"':case"'":e=a;break;case";":{const c=t.substr(r,s-r);o&&i.set(o.trim(),c.trim()),o=null,n=s+1;break}}else a===e&&(e=null)}return i}function Zg(t){return t.replace("-",".")}function ch(t,e,n){let r=n;wi(n)&&(r=Sp({},od(t,e),n)),ck(t,e,r)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Fo=class M_ extends js{constructor(e,n,r,o){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=n,this._attrs=ute(r),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const i=this._attrs.get("class");uC(this._classes,i),this._attrs.delete("class")}this._styles=new Jg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const n=this._styles.toString();return n==""?void 0:n}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof M_))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[n,r]of this._attrs)if(!e._attrs.has(n)||e._attrs.get(n)!==r)return!1;for(const n of this._classes)if(!e._classes.has(n))return!1;for(const n of this._styles.getStyleNames())if(!e._styles.has(n)||e._styles.getAsString(n)!==this._styles.getAsString(n))return!1;return!0}hasClass(...e){for(const n of e)if(!this._classes.has(n))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const n of e)if(!this._styles.has(n))return!1;return!0}findAncestor(...e){const n=new hc(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(n.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),n=this._styles.toString(),r=Array.from(this._attrs).map(o=>"".concat(o[0],'="').concat(o[1],'"')).sort().join(" ");return this.name+(e==""?"":' class="'.concat(e,'"'))+(n?' style="'.concat(n,'"'):"")+(r==""?"":" ".concat(r))}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const n=[];if(e)for(const o of this.getChildren())n.push(o._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,n);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,n){this._fireChange("children",this);let r=0;const o=dte(this.document,n);for(const i of o)i.parent!==null&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(e,0,i),e++,r++;return r}_removeChildren(e,n=1){this._fireChange("children",this);for(let r=e;r<e+n;r++)this._children[r].parent=null;return this._children.splice(e,n)}_setAttribute(e,n){const r=String(n);this._fireChange("attributes",this),e=="class"?uC(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const n of Gn(e))this._classes.add(n)}_removeClass(e){this._fireChange("attributes",this);for(const n of Gn(e))this._classes.delete(n)}_setStyle(e,n){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,n)}_removeStyle(e){this._fireChange("attributes",this);for(const n of Gn(e))this._styles.remove(n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Fo.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"};function ute(t){const e=Xi(t);for(const[n,r]of e)r===null?e.delete(n):typeof r!="string"&&e.set(n,String(r));return e}function uC(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(r=>t.add(r))}function dte(t,e){return typeof e=="string"?[new En(t,e)]:(no(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new En(t,n):n instanceof Ho?new En(t,n.data):n))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gc extends Fo{constructor(e,n,r,o){super(e,n,r,o),this.getFillerOffset=fte}}gc.prototype.is=function(t,e){return e?e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function fte(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class om extends An(gc){constructor(e,n,r,o){super(e,n,r,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",i=>i&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}om.prototype.is=function(t,e){return e?e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dC=Symbol("rootName");class k_ extends om{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(dC)}set rootName(e){this._setCustomProperty(dC,e)}set _name(e){this.name=e}}k_.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let bs=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new ae("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new ae("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Ke._createAt(e.startPosition):this._position=Ke._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r;do r=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(r instanceof En){if(e.isAtEnd)return this._position=Ke._createAfter(r),this._next();o=r.data[e.offset]}else o=r.getChild(e.offset);if(o instanceof Fo){if(!this.shallow)e=new Ke(o,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",o,n,e,1)}if(o instanceof En){if(this.singleCharacters)return e=new Ke(o,0),this._position=e,this._next();let i=o.data.length,s;return o==this._boundaryEndParent?(i=this.boundaries.end.offset,s=new Ho(o,0,i),e=Ke._createAfter(s)):(s=new Ho(o,0,o.data.length),e.offset++),this._position=e,this._formatReturnValue("text",s,n,e,i)}if(typeof o=="string"){let i;this.singleCharacters?i=1:i=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const s=new Ho(r,e.offset,i);return e.offset+=i,this._position=e,this._formatReturnValue("text",s,n,e,i)}return e=Ke._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}_previous(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(r instanceof En){if(e.isAtStart)return this._position=Ke._createBefore(r),this._previous();o=r.data[e.offset-1]}else o=r.getChild(e.offset-1);if(o instanceof Fo)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",o,n,e,1)):(e=new Ke(o,o.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,n,e));if(o instanceof En){if(this.singleCharacters)return e=new Ke(o,o.data.length),this._position=e,this._previous();let i=o.data.length,s;if(o==this._boundaryStartParent){const a=this.boundaries.start.offset;s=new Ho(o,a,o.data.length-a),i=s.data.length,e=Ke._createBefore(s)}else s=new Ho(o,0,o.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",s,n,e,i)}if(typeof o=="string"){let i;if(this.singleCharacters)i=1;else{const a=r===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-a}e.offset-=i;const s=new Ho(r,e.offset,i);return this._position=e,this._formatReturnValue("text",s,n,e,i)}return e=Ke._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,n,e,1)}_formatReturnValue(e,n,r,o,i){return n instanceof Ho&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(o=Ke._createAfter(n.textNode),this._position=o):r=Ke._createAfter(n.textNode)),n.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(o=Ke._createBefore(n.textNode),this._position=o):r=Ke._createBefore(n.textNode))),{done:!1,value:{type:e,item:n,previousPosition:r,nextPosition:o,length:i}}}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ke=class li extends Vs{constructor(e,n){super(),this.parent=e,this.offset=n}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof om);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const n=li._createAt(this),r=n.offset+e;return n.offset=r<0?0:r,n}getLastMatchingPosition(e,n={}){n.startPosition=this;const r=new bs(n);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const n=this.getAncestors(),r=e.getAncestors();let o=0;for(;n[o]==r[o]&&n[o];)o++;return o===0?null:n[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const n=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),r.push(e.offset);const o=Tr(n,r);switch(o){case"prefix":return"before";case"extension":return"after";default:return n[o]<r[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new bs(e)}clone(){return new li(this.parent,this.offset)}static _createAt(e,n){if(e instanceof li)return new this(e.parent,e.offset);{const r=e;if(n=="end")n=r.is("$text")?r.data.length:r.childCount;else{if(n=="before")return this._createBefore(r);if(n=="after")return this._createAfter(r);if(n!==0&&!n)throw new ae("view-createpositionat-offset-required",r)}return new li(r,n)}}static _createAfter(e){if(e.is("$textProxy"))return new li(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new ae("view-position-after-root",e,{root:e});return new li(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new li(e.textNode,e.offsetInText);if(!e.parent)throw new ae("view-position-before-root",e,{root:e});return new li(e.parent,e.index)}};Ke.prototype.is=function(t){return t==="position"||t==="view:position"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Vt=class Li extends Vs{constructor(e,n=null){super(),this.start=e.clone(),this.end=n?n.clone():e.clone()}*[Symbol.iterator](){yield*new bs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Pu,{direction:"backward"}),n=this.end.getLastMatchingPosition(Pu);return e.parent.is("$text")&&e.isAtStart&&(e=Ke._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=Ke._createAfter(n.parent)),new Li(e,n)}getTrimmed(){let e=this.start.getLastMatchingPosition(Pu);if(e.isAfter(this.end)||e.isEqual(this.end))return new Li(e,e);let n=this.end.getLastMatchingPosition(Pu,{direction:"backward"});const r=e.nodeAfter,o=n.nodeBefore;return r&&r.is("$text")&&(e=new Ke(r,0)),o&&o.is("$text")&&(n=new Ke(o,o.data.length)),new Li(e,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const r=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return r&&o}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new Li(this.start,e.start)),this.containsPosition(e.end)&&n.push(new Li(e.end,this.end))):n.push(this.clone()),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new Li(n,r)}return null}getWalker(e={}){return e.boundaries=this,new bs(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}clone(){return new Li(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new bs(e);for(const r of n)yield r.item}*getPositions(e={}){e.boundaries=this;const n=new bs(e);yield n.position;for(const r of n)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,n,r,o){return new this(new Ke(e,n),new Ke(r,o))}static _createFromPositionAndShift(e,n){const r=e,o=e.getShiftedBy(n);return n>0?new this(r,o):new this(o,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const n=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ke._createBefore(e),n)}};Vt.prototype.is=function(t){return t==="range"||t==="view:range"};function Pu(t){return!!(t.item.is("attributeElement")||t.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let vi=class R_ extends wn(Vs){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?e.clone():null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let r=!1;for(const o of e._ranges)if(n.isEqual(o)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const n=Yg(this.getRanges()),r=Yg(e.getRanges());if(n!=r)return!1;if(n==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let i=!1;for(let s of e.getRanges())if(s=s.getTrimmed(),o.start.isEqual(s.start)&&o.end.isEqual(s.end)){i=!0;break}if(!i)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[n,r,o]=e;if(typeof r=="object"&&(o=r,r=void 0),n===null)this._setRanges([]),this._setFakeOptions(o);else if(n instanceof R_||n instanceof tb)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof Vt)this._setRanges([n],o&&o.backward),this._setFakeOptions(o);else if(n instanceof Ke)this._setRanges([new Vt(n)]),this._setFakeOptions(o);else if(n instanceof js){const i=!!o&&!!o.backward;let s;if(r===void 0)throw new ae("view-selection-setto-required-second-parameter",this);r=="in"?s=Vt._createIn(n):r=="on"?s=Vt._createOn(n):s=new Vt(Ke._createAt(n,r)),this._setRanges([s],i),this._setFakeOptions(o)}else if(no(n))this._setRanges(n,o&&o.backward),this._setFakeOptions(o);else throw new ae("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,n){if(this.anchor===null)throw new ae("view-selection-setfocus-no-ranges",this);const r=Ke._createAt(e,n);if(r.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),r.compareWith(o)=="before"?this._addRange(new Vt(r,o),!0):this._addRange(new Vt(o,r)),this.fire("change")}_setRanges(e,n=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!n}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,n=!1){if(!(e instanceof Vt))throw new ae("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!n}_pushRange(e){for(const n of this._ranges)if(e.isIntersecting(n))throw new ae("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n});this._ranges.push(new Vt(e.start,e.end))}};vi.prototype.is=function(t){return t==="selection"||t==="view:selection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let tb=class extends wn(Vs){constructor(...e){super(),this._selection=new vi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,n){this._selection.setFocus(e,n)}};tb.prototype.is=function(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ll extends Ei{constructor(e,n,r){super(e,n),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uh=Symbol("bubbling contexts");function ep(t){class e extends t{fire(r,...o){try{const i=r instanceof Ei?r:new Ei(this,r),s=dh(this);if(!s.size)return;if(Al(i,"capturing",this),ra(s,"$capture",i,...o))return i.return;const a=i.startRange||this.selection.getFirstRange(),c=a?a.getContainedElement():null,u=c?!!T_(s,c):!1;let d=c||mte(a);if(Al(i,"atTarget",d),!u){if(ra(s,"$text",i,...o))return i.return;Al(i,"bubbling",d)}for(;d;){if(d.is("rootElement")){if(ra(s,"$root",i,...o))return i.return}else if(d.is("element")&&ra(s,d.name,i,...o))return i.return;if(ra(s,d,i,...o))return i.return;d=d.parent,Al(i,"bubbling",d)}return Al(i,"bubbling",this),ra(s,"$document",i,...o),i.return}catch(i){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(i,this)}}_addEventListener(r,o,i){const s=Gn(i.context||"$document"),a=dh(this);for(const c of s){let u=a.get(c);u||(u=new(wn()),a.set(c,u)),this.listenTo(u,r,o,i)}}_removeEventListener(r,o){const i=dh(this);for(const s of i.values())this.stopListening(s,r,o)}}return e}{const t=ep(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{ep[e]=t.prototype[e]})}function Al(t,e,n){t instanceof ll&&(t._eventPhase=e,t._currentTarget=n)}function ra(t,e,n,...r){const o=typeof e=="string"?t.get(e):T_(t,e);return o?(o.fire(n,...r),n.stop.called):!1}function T_(t,e){for(const[n,r]of t)if(typeof n=="function"&&n(e))return r;return null}function dh(t){return t[uh]||(t[uh]=new Map),t[uh]}function mte(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),o=n.getPath();return r.length>o.length?e:n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let O_=class extends ep(An()){constructor(e){super(),this._postFixers=new Set,this.selection=new tb,this.roots=new ki({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let n=!1;do for(const r of this._postFixers)if(n=r(e),n)break;while(n)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const N_=10;class Cs extends Fo{constructor(e,n,r,o){super(e,n,r,o),this._priority=N_,this._id=null,this._clonesGroup=null,this.getFillerOffset=hte}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new ae("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const n=super._clone(e);return n._priority=this._priority,n._id=this._id,n}}Cs.DEFAULT_PRIORITY=N_;Cs.prototype.is=function(t,e){return e?e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function hte(){if(fh(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(fh(t)>1)return null;t=t.parent}return!t||fh(t)>1?null:this.childCount}function fh(t){return Array.from(t.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nb extends Fo{constructor(e,n,r,o){super(e,n,r,o),this.getFillerOffset=gte}_insertChild(e,n){if(n&&(n instanceof js||Array.from(n).length>0))throw new ae("view-emptyelement-cannot-add",[this,n]);return 0}}nb.prototype.is=function(t,e){return e?e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function gte(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class im extends Fo{constructor(e,n,r,o){super(e,n,r,o),this.getFillerOffset=vte}_insertChild(e,n){if(n&&(n instanceof js||Array.from(n).length>0))throw new ae("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const r of this.getAttributeKeys())n.setAttribute(r,this.getAttribute(r));return n}}im.prototype.is=function(t,e){return e?e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function pte(t){t.document.on("arrowKey",(e,n)=>bte(e,n,t.domConverter),{priority:"low"})}function vte(){return null}function bte(t,e,n){if(e.keyCode==Ht.arrowright){const r=e.domTarget.ownerDocument.defaultView.getSelection(),o=r.rangeCount==1&&r.getRangeAt(0).collapsed;if(o||e.shiftKey){const i=r.focusNode,s=r.focusOffset,a=n.domPositionToView(i,s);if(a===null)return;let c=!1;const u=a.getLastMatchingPosition(d=>(d.item.is("uiElement")&&(c=!0),!!(d.item.is("uiElement")||d.item.is("attributeElement"))));if(c){const d=n.viewPositionToDom(u);o?r.collapse(d.parent,d.offset):r.extend(d.parent,d.offset)}}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rb extends Fo{constructor(e,n,r,o){super(e,n,r,o),this.getFillerOffset=wte}_insertChild(e,n){if(n&&(n instanceof js||Array.from(n).length>0))throw new ae("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}rb.prototype.is=function(t,e){return e?e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function wte(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ss=class extends wn(Vs){constructor(e,n){super(),this._children=[],this._customProperties=new Map,this.document=e,n&&this._insertChild(0,n)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,n){this._fireChange("children",this);let r=0;const o=yte(this.document,n);for(const i of o)i.parent!==null&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,r++;return r}_removeChildren(e,n=1){this._fireChange("children",this);for(let r=e;r<e+n;r++)this._children[r].parent=null;return this._children.splice(e,n)}_fireChange(e,n){this.fire("change:"+e,n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ss.prototype.is=function(t){return t==="documentFragment"||t==="view:documentFragment"};function yte(t,e){return typeof e=="string"?[new En(t,e)]:(no(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new En(t,n):n instanceof Ho?new En(t,n.data):n))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class D_{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,n){this.document.selection._setFocus(e,n)}createDocumentFragment(e){return new Ss(this.document,e)}createText(e){return new En(this.document,e)}createAttributeElement(e,n,r={}){const o=new Cs(this.document,e,n);return typeof r.priority=="number"&&(o._priority=r.priority),r.id&&(o._id=r.id),r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createContainerElement(e,n,r={},o={}){let i=null;Eo(r)?o=r:i=r;const s=new gc(this.document,e,n,i);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createEditableElement(e,n,r={}){const o=new om(this.document,e,n);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEmptyElement(e,n,r={}){const o=new nb(this.document,e,n);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createUIElement(e,n,r){const o=new im(this.document,e,n);return r&&(o.render=r),o}createRawElement(e,n,r,o={}){const i=new rb(this.document,e,n);return r&&(i.render=r),o.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),i}setAttribute(e,n,r){r._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,r){Eo(e)&&r===void 0?n._setStyle(e):r._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,r){r._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ke?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const n=e.parent;if(!n.is("containerElement"))throw new ae("view-writer-break-non-container-element",this.document);if(!n.parent)throw new ae("view-writer-break-root",this.document);if(e.isAtStart)return Ke._createBefore(n);if(!e.isAtEnd){const r=n._clone(!1);this.insert(Ke._createAfter(n),r);const o=new Vt(e,Ke._createAt(n,"end")),i=new Ke(r,0);this.move(o,i)}return Ke._createAfter(n)}mergeAttributes(e){const n=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const s=r.parent,a=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Ke(s,a))}const o=r.getChild(n-1),i=r.getChild(n);if(!o||!i)return e;if(o.is("$text")&&i.is("$text"))return mC(o,i);if(o.is("attributeElement")&&i.is("attributeElement")&&o.isSimilar(i)){const s=o.childCount;return o._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Ke(o,s))}return e}mergeContainers(e){const n=e.nodeBefore,r=e.nodeAfter;if(!n||!r||!n.is("containerElement")||!r.is("containerElement"))throw new ae("view-writer-merge-containers-invalid-position",this.document);const o=n.getChild(n.childCount-1),i=o instanceof En?Ke._createAt(o,"end"):Ke._createAt(n,"end");return this.move(Vt._createIn(r),Ke._createAt(n,"end")),this.remove(Vt._createOn(r)),i}insert(e,n){n=no(n)?[...n]:[n],$_(n,this.document);const r=n.reduce((s,a)=>{const c=s[s.length-1],u=!a.is("uiElement");return!c||c.breakAttributes!=u?s.push({breakAttributes:u,nodes:[a]}):c.nodes.push(a),s},[]);let o=null,i=e;for(const{nodes:s,breakAttributes:a}of r){const c=this._insertNodes(i,s,a);o||(o=c.start),i=c.end}return o?new Vt(o,i):new Vt(e)}remove(e){const n=e instanceof Vt?e:Vt._createOn(e);if(El(n,this.document),n.isCollapsed)return new Ss(this.document);const{start:r,end:o}=this._breakAttributesRange(n,!0),i=r.parent,s=o.offset-r.offset,a=i._removeChildren(r.offset,s);for(const u of a)this._removeFromClonedElementsGroup(u);const c=this.mergeAttributes(r);return n.start=c,n.end=c.clone(),new Ss(this.document,a)}clear(e,n){El(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of r){const i=o.item;let s;if(i.is("element")&&n.isSimilar(i))s=Vt._createOn(i);else if(!o.nextPosition.isAfter(e.start)&&i.is("$textProxy")){const a=i.getAncestors().find(c=>c.is("element")&&n.isSimilar(c));a&&(s=Vt._createIn(a))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}move(e,n){let r;if(n.isAfter(e.end)){n=this._breakAttributes(n,!0);const o=n.parent,i=o.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),n.offset+=o.childCount-i}else r=this.remove(e);return this.insert(n,r)}wrap(e,n){if(!(n instanceof Cs))throw new ae("view-writer-wrap-invalid-attribute",this.document);if(El(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&!Cte(r.parent)&&(r=r.getLastMatchingPosition(i=>i.item.is("uiElement"))),r=this._wrapPosition(r,n);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new Vt(r)}else return this._wrapRange(e,n)}unwrap(e,n){if(!(n instanceof Cs))throw new ae("view-writer-unwrap-invalid-attribute",this.document);if(El(e,this.document),e.isCollapsed)return e;const{start:r,end:o}=this._breakAttributesRange(e,!0),i=r.parent,s=this._unwrapChildren(i,r.offset,o.offset,n),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new Vt(a,c)}rename(e,n){const r=new gc(this.document,e,n.getAttributes());return this.insert(Ke._createAfter(n),r),this.move(Vt._createIn(n),Ke._createAt(r,0)),this.remove(Vt._createOn(n)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,n){return Ke._createAt(e,n)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,n){return new Vt(e,n)}createRangeOn(e){return Vt._createOn(e)}createRangeIn(e){return Vt._createIn(e)}createSelection(...e){return new vi(...e)}createSlot(e="children"){if(!this._slotFactory)throw new ae("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,n,r){let o;if(r?o=tp(e):o=e.parent.is("$text")?e.parent.parent:e.parent,!o)throw new ae("view-writer-invalid-position-container",this.document);let i;r?i=this._breakAttributes(e,!0):i=e.parent.is("$text")?mh(e):e;const s=o._insertChild(i.offset,n);for(const d of n)this._addToClonedElementsGroup(d);const a=i.getShiftedBy(s),c=this.mergeAttributes(i);c.isEqual(i)||a.offset--;const u=this.mergeAttributes(a);return new Vt(c,u)}_wrapChildren(e,n,r,o){let i=n;const s=[];for(;i<r;){const c=e.getChild(i),u=c.is("$text"),d=c.is("attributeElement");if(d&&this._wrapAttributeElement(o,c))s.push(new Ke(e,i));else if(u||!d||Ste(o,c)){const f=o._clone();c._remove(),f._appendChild(c),e._insertChild(i,f),this._addToClonedElementsGroup(f),s.push(new Ke(e,i))}else this._wrapChildren(c,0,c.childCount,o);i++}let a=0;for(const c of s){if(c.offset-=a,c.offset==n)continue;this.mergeAttributes(c).isEqual(c)||(a++,r--)}return Vt._createFromParentsAndOffsets(e,n,e,r)}_unwrapChildren(e,n,r,o){let i=n;const s=[];for(;i<r;){const c=e.getChild(i);if(!c.is("attributeElement")){i++;continue}if(c.isSimilar(o)){const u=c.getChildren(),d=c.childCount;c._remove(),e._insertChild(i,u),this._removeFromClonedElementsGroup(c),s.push(new Ke(e,i),new Ke(e,i+d)),i+=d,r+=d-1;continue}if(this._unwrapAttributeElement(o,c)){s.push(new Ke(e,i),new Ke(e,i+1)),i++;continue}this._unwrapChildren(c,0,c.childCount,o),i++}let a=0;for(const c of s){if(c.offset-=a,c.offset==n||c.offset==r)continue;this.mergeAttributes(c).isEqual(c)||(a++,r--)}return Vt._createFromParentsAndOffsets(e,n,e,r)}_wrapRange(e,n){const{start:r,end:o}=this._breakAttributesRange(e,!0),i=r.parent,s=this._wrapChildren(i,r.offset,o.offset,n),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new Vt(a,c)}_wrapPosition(e,n){if(n.isSimilar(e.parent))return fC(e.clone());e.parent.is("$text")&&(e=mh(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const o=new Vt(e,e.getShiftedBy(1));this.wrap(o,n);const i=new Ke(r.parent,r.index);r._remove();const s=i.nodeBefore,a=i.nodeAfter;return s instanceof En&&a instanceof En?mC(s,a):fC(i)}_wrapAttributeElement(e,n){if(!hC(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const r of e.getAttributeKeys())if(!(r==="class"||r==="style")&&n.hasAttribute(r)&&n.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(n.hasStyle(r)&&n.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r==="class"||r==="style"||n.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),n);for(const r of e.getStyleNames())n.hasStyle(r)||this.setStyle(r,e.getStyle(r),n);for(const r of e.getClassNames())n.hasClass(r)||this.addClass(r,n);return!0}_unwrapAttributeElement(e,n){if(!hC(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const r of e.getAttributeKeys())if(!(r==="class"||r==="style")&&(!n.hasAttribute(r)||n.getAttribute(r)!==e.getAttribute(r)))return!1;if(!n.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!n.hasStyle(r)||n.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r==="class"||r==="style"||this.removeAttribute(r,n);return this.removeClass(Array.from(e.getClassNames()),n),this.removeStyle(Array.from(e.getStyleNames()),n),!0}_breakAttributesRange(e,n=!1){const r=e.start,o=e.end;if(El(e,this.document),e.isCollapsed){const c=this._breakAttributes(e.start,n);return new Vt(c,c)}const i=this._breakAttributes(o,n),s=i.parent.childCount,a=this._breakAttributes(r,n);return i.offset+=i.parent.childCount-s,new Vt(a,i)}_breakAttributes(e,n=!1){const r=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new ae("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new ae("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new ae("view-writer-cannot-break-raw-element",this.document);if(!n&&o.is("$text")&&np(o.parent)||np(o))return e.clone();if(o.is("$text"))return this._breakAttributes(mh(e),n);const i=o.childCount;if(r==i){const s=new Ke(o.parent,o.index+1);return this._breakAttributes(s,n)}else if(r===0){const s=new Ke(o.parent,o.index);return this._breakAttributes(s,n)}else{const s=o.index+1,a=o._clone();o.parent._insertChild(s,a),this._addToClonedElementsGroup(a);const c=o.childCount-r,u=o._removeChildren(r,c);a._appendChild(u);const d=new Ke(o.parent,s);return this._breakAttributes(d,n)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const o of e.getChildren())this._addToClonedElementsGroup(o);const n=e.id;if(!n)return;let r=this._cloneGroups.get(n);r||(r=new Set,this._cloneGroups.set(n,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const o of e.getChildren())this._removeFromClonedElementsGroup(o);const n=e.id;if(!n)return;const r=this._cloneGroups.get(n);r&&r.delete(e)}}function Cte(t){return Array.from(t.getChildren()).some(e=>!e.is("uiElement"))}function tp(t){let e=t.parent;for(;!np(e);){if(!e)return;e=e.parent}return e}function Ste(t,e){return t.priority<e.priority?!0:t.priority>e.priority?!1:t.getIdentity()<e.getIdentity()}function fC(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new Ke(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new Ke(n,0):t}function mh(t){if(t.offset==t.parent.data.length)return new Ke(t.parent.parent,t.parent.index+1);if(t.offset===0)return new Ke(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new En(t.root.document,e)),new Ke(t.parent.parent,t.parent.index+1)}function mC(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Ke(t,n)}const xte=[En,Cs,gc,nb,rb,im];function $_(t,e){for(const n of t){if(!xte.some(r=>n instanceof r))throw new ae("view-writer-insert-invalid-node-type",e);n.is("$text")||$_(n.getChildren(),e)}}function np(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function El(t,e){const n=tp(t.start),r=tp(t.end);if(!n||!r||n!==r)throw new ae("view-writer-invalid-range-container",e)}function hC(t,e){return t.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const F_=t=>t.createTextNode(" "),L_=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},B_=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},_o=7,pc="⁠".repeat(_o);function Jr(t){return typeof t=="string"?t.substr(0,_o)===pc:Ln(t)&&t.data.substr(0,_o)===pc}function ga(t){return t.data.length==_o&&Jr(t)}function gC(t){const e=typeof t=="string"?t:t.data;return Jr(t)?e.slice(_o):e}function Ate(t){t.document.on("arrowKey",Ete,{priority:"low"})}function Ete(t,e){if(e.keyCode==Ht.arrowleft){const n=e.domTarget.ownerDocument.defaultView.getSelection();if(n.rangeCount==1&&n.getRangeAt(0).collapsed){const r=n.getRangeAt(0).startContainer,o=n.getRangeAt(0).startOffset;Jr(r)&&o<=_o&&n.collapse(r,0)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ite extends An(){constructor(e,n){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),jt.isBlink&&!jt.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else if(e==="children")this.markedChildren.add(n);else throw new ae("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!jt.isAndroid)return;let e=null;const n=jt.isBlink&&!jt.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ke._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(n)if(e){const r=this.domConverter.viewPositionToDom(e),o=r.parent.ownerDocument;Jr(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=pC(o,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const r=Array.from(n.childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),i=this._diffNodeLists(r,o),s=this._findUpdateActions(i,r,o,Pte);if(s.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const c of s)if(c==="update"){const u=a.equal+a.insert,d=a.equal+a.delete,f=e.getChild(u);f&&!f.is("uiElement")&&!f.is("rawElement")&&this._updateElementMappings(f,r[d]),Ky(o[u]),a.equal++}else a[c]++}}_updateElementMappings(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ke._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&Ln(n.parent)&&Jr(n.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Jr(e))throw new ae("view-renderer-filler-was-lost",this);ga(e)?e.remove():e.data=e.data.substr(_o),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!_te(n))return!1;const o=e.nodeBefore,i=e.nodeAfter;return!(o instanceof En||i instanceof En||r===n.getFillerOffset()&&(!o||!o.is("element","br"))||jt.isAndroid&&(o||i))}_updateText(e,n){const r=this.domConverter.findCorrespondingDomText(e);let i=this.domConverter.viewToDom(e).data;const s=n.inlineFillerPosition;s&&s.parent==e.parent&&s.offset==e.index&&(i=pc+i),vC(r,i)}_updateAttrs(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const r=Array.from(n.attributes).map(i=>i.name),o=e.getAttributeKeys();for(const i of o)this.domConverter.setDomElementAttribute(n,i,e.getAttribute(i),e);for(const i of r)e.hasAttribute(i)||this.domConverter.removeDomElementAttribute(n,i)}_updateChildren(e,n){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(jt.isAndroid){let f=null;for(const m of Array.from(r.childNodes)){if(f&&Ln(f)&&Ln(m)){r.normalize();break}f=m}}const o=n.inlineFillerPosition,i=r.childNodes,s=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&pC(r.ownerDocument,s,o.offset);const a=this._diffNodeLists(i,s),c=this._findUpdateActions(a,i,s,Mte);let u=0;const d=new Set;for(const f of c)f==="delete"?(d.add(i[u]),Ky(i[u])):(f==="equal"||f==="update")&&u++;u=0;for(const f of c)f==="insert"?(f_(r,u,s[u]),u++):f==="update"?(vC(i[u],s[u].data),u++):f==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[u])),u++);for(const f of d)f.parentNode||this.domConverter.unbindDomElement(f)}_diffNodeLists(e,n){return e=Tte(e,this._fakeSelectionContainer),Gl(e,n,kte.bind(null,this.domConverter))}_findUpdateActions(e,n,r,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let i=[],s=[],a=[];const c={equal:0,insert:0,delete:0};for(const u of e)u==="insert"?a.push(r[c.equal+c.insert]):u==="delete"?s.push(n[c.equal+c.delete]):(i=i.concat(Gl(s,a,o).map(d=>d==="equal"?"update":d)),i.push("equal"),s=[],a=[]),c[u]++;return i.concat(Gl(s,a,o).map(u=>u==="equal"?"update":u))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const n of e.getChildren())this._markDescendantTextToSync(n)}}_updateSelection(){if(jt.isBlink&&!jt.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&jt.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Ote(n));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||" ";const o=n.getSelection(),i=n.createRange();o.removeAllRanges(),i.selectNodeContents(r),o.addRange(i)}_updateDomSelection(e){const n=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(n))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);n.setBaseAndExtent(r.parent,r.offset,o.parent,o.offset),jt.isGecko&&Rte(o,n)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const n=e&&this.domConverter.domSelectionToView(e);return!(n&&this.selection.isEqual(n)||!this.selection.isCollapsed&&this.selection.isSimilar(n))}_fakeSelectionNeedsUpdate(e){const n=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!n||n.parentElement!==e||r.anchorNode!==n&&!n.contains(r.anchorNode)?!0:n.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const n=e.getSelection();if(n.rangeCount){const r=e.activeElement,o=this.domConverter.mapDomToView(r);r&&o&&n.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function _te(t){if(t.getAttribute("contenteditable")=="false")return!1;const e=t.findAncestor(n=>n.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function pC(t,e,n){const r=e instanceof Array?e:e.childNodes,o=r[n];if(Ln(o))return o.data=pc+o.data,o;{const i=t.createTextNode(pc);return Array.isArray(e)?r.splice(n,0,i):f_(e,n,i),i}}function Pte(t,e){return Yi(t)&&Yi(e)&&!Ln(t)&&!Ln(e)&&!ql(t)&&!ql(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Mte(t,e){return Yi(t)&&Yi(e)&&Ln(t)&&Ln(e)}function kte(t,e,n){return e===n?!0:Ln(e)&&Ln(n)?e.data===n.data:!!(t.isBlockFiller(e)&&t.isBlockFiller(n))}function Rte(t,e){let n=t.parent,r=t.offset;if(Ln(n)&&ga(n)&&(r=$l(n)+1,n=n.parentNode),n.nodeType!=Node.ELEMENT_NODE||r!=n.childNodes.length-1)return;const o=n.childNodes[r];o&&o.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function Tte(t,e){const n=Array.from(t);return n.length==0||!e||n[n.length-1]==e&&n.pop(),n}function Ote(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function vC(t,e){const n=t.data;if(n==e)return;const r=J2(n,e);for(const o of r)o.type==="insert"?t.insertData(o.index,o.values.join("")):t.deleteData(o.index,o.howMany)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Nte=B_(ut.document),Dte=F_(ut.document),$te=L_(ut.document),Mu="data-ck-unsafe-attribute-",bC="data-ck-unsafe-element";class V_{constructor(e,{blockFillerMode:n,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new hc,this._inlineObjectElementMatcher=new hc,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=r,this.blockFillerMode=n||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ut.document:ut.document.implementation.createHTMLDocument("")}bindFakeSelection(e,n){this._fakeSelectionMapping.set(e,new vi(n))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}unbindDomElement(e){const n=this._domToViewMapping.get(e);if(n){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(n);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}shouldRenderAttribute(e,n,r){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&n.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"?!0:!n.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,n){if(this.renderingMode==="data"){e.innerHTML=n;return}const r=new DOMParser().parseFromString(n,"text/html"),o=r.createDocumentFragment(),i=r.body.childNodes;for(;i.length>0;)o.appendChild(i[0]);const s=r.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),a=[];let c;for(;c=s.nextNode();)a.push(c);for(const u of a){for(const f of u.getAttributeNames())this.setDomElementAttribute(u,f,u.getAttribute(f));const d=u.tagName.toLowerCase();this._shouldRenameElement(d)&&(yC(d),u.replaceWith(this._createReplacementDomElement(d,u)))}for(;e.firstChild;)e.firstChild.remove();e.append(o)}viewToDom(e,n={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}else{const r=e;if(this.mapViewToDom(r))if(r.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(r);else return this.mapViewToDom(r);let o;if(r.is("documentFragment"))o=this._domDocument.createDocumentFragment(),n.bind&&this.bindDocumentFragments(o,r);else{if(r.is("uiElement"))return r.name==="$comment"?o=this._domDocument.createComment(r.getCustomProperty("$rawContent")):o=r.render(this._domDocument,this),n.bind&&this.bindElements(o,r),o;this._shouldRenameElement(r.name)?(yC(r.name),o=this._createReplacementDomElement(r.name)):r.hasAttribute("xmlns")?o=this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):o=this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(o,this),n.bind&&this.bindElements(o,r);for(const i of r.getAttributeKeys())this.setDomElementAttribute(o,i,r.getAttribute(i),r)}if(n.withChildren!==!1)for(const i of this.viewChildrenToDom(r,n))o instanceof HTMLTemplateElement?o.content.appendChild(i):o.appendChild(i);return o}}setDomElementAttribute(e,n,r,o){const i=this.shouldRenderAttribute(n,r,e.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(n);if(i||an("domconverter-unsafe-attribute-detected",{domElement:e,key:n,value:r}),!see(n)){an("domconverter-invalid-attribute-detected",{domElement:e,key:n,value:r});return}e.hasAttribute(n)&&!i?e.removeAttribute(n):e.hasAttribute(Mu+n)&&i&&e.removeAttribute(Mu+n),e.setAttribute(i?n:Mu+n,r)}removeDomElementAttribute(e,n){n!=bC&&(e.removeAttribute(n),e.removeAttribute(Mu+n))}*viewChildrenToDom(e,n={}){const r=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const i of e.getChildren()){r===o&&(yield this._getBlockFiller());const s=i.is("element")&&!!i.getCustomProperty("dataPipeline:transparentRendering")&&!al(i.getAttributes());s&&this.renderingMode=="data"?yield*this.viewChildrenToDom(i,n):(s&&an("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:i}),yield this.viewToDom(i,n)),o++}r===o&&(yield this._getBlockFiller())}viewRangeToDom(e){const n=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),o=this._domDocument.createRange();return o.setStart(n.parent,n.offset),o.setEnd(r.parent,r.offset),o}viewPositionToDom(e){const n=e.parent;if(n.is("$text")){const r=this.findCorrespondingDomText(n);if(!r)return null;let o=e.offset;return Jr(r)&&(o+=_o),{parent:r,offset:o}}else{let r,o,i;if(e.offset===0){if(r=this.mapViewToDom(n),!r)return null;i=r.childNodes[0]}else{const a=e.nodeBefore;if(o=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!o)return null;r=o.parentNode,i=o.nextSibling}if(Ln(i)&&Jr(i))return{parent:i,offset:_o};const s=o?$l(o)+1:0;return{parent:r,offset:s}}}domToView(e,n={}){const r=[],o=this._domToView(e,n,r),i=o.next().value;return!i||(o.next(),this._processDomInlineNodes(null,r,n),i.is("$text")&&i.data.length==0)?null:i}*domChildrenToView(e,n={},r=[]){let o=[];e instanceof HTMLTemplateElement?o=[...e.content.childNodes]:o=[...e.childNodes];for(let i=0;i<o.length;i++){const s=o[i],a=this._domToView(s,n,r),c=a.next().value;c!==null&&(this._isBlockViewElement(c)&&this._processDomInlineNodes(e,r,n),yield c,a.next())}this._processDomInlineNodes(e,r,n)}domSelectionToView(e){if(Bte(e))return new vi([]);if(e.rangeCount===1){let o=e.getRangeAt(0).startContainer;Ln(o)&&(o=o.parentNode);const i=this.fakeSelectionToView(o);if(i)return i}const n=this.isDomSelectionBackward(e),r=[];for(let o=0;o<e.rangeCount;o++){const i=e.getRangeAt(o),s=this.domRangeToView(i);s&&r.push(s)}return new vi(r,{backward:n})}domRangeToView(e){const n=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return n&&r?new Vt(n,r):null}domPositionToView(e,n=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,$l(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return Ke._createBefore(r);if(Ln(e)){if(ga(e))return this.domPositionToView(e.parentNode,$l(e));const o=this.findCorrespondingViewText(e);let i=n;return o?(Jr(e)&&(i-=_o,i=i<0?0:i),new Ke(o,i)):null}else{if(n===0){const o=this.mapDomToView(e);if(o)return new Ke(o,0)}else{const o=e.childNodes[n-1];if(Ln(o)&&ga(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,$l(o));const i=Ln(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(i&&i.parent)return new Ke(i.parent,i.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ga(e))return null;const n=this.getHostViewElement(e);if(n)return n;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const o=this.mapDomToView(r);if(o){const i=o.nextSibling;return i instanceof En?i:null}}else{const o=this.mapDomToView(e.parentNode);if(o){const i=o.getChild(0);return i instanceof En?i:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const n=e.previousSibling;return n&&this.mapViewToDom(n)?this.mapViewToDom(n).nextSibling:!n&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const n=this.mapViewToDom(e);if(n&&n.ownerDocument.activeElement!==n){const{scrollX:r,scrollY:o}=ut.window,i=[];wC(n,s=>{const{scrollLeft:a,scrollTop:c}=s;i.push([a,c])}),n.focus(),wC(n,s=>{const[a,c]=i.shift();s.scrollLeft=a,s.scrollTop=c}),ut.window.scrollTo(r,o)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const n=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(n);r&&r.rangeCount>0&&n.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Nte):e.tagName==="BR"&&j_(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode($te)||Lte(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const n=this._domDocument.createRange();try{n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset)}catch(o){return!1}const r=n.collapsed;return n.detach(),r}getHostViewElement(e){const n=nee(e);for(n.pop();n.length;){const r=n.pop(),o=this._domToViewMapping.get(r);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return F_(this._domDocument);case"markedNbsp":return L_(this._domDocument);case"br":return B_(this._domDocument)}}_isDomSelectionPositionCorrect(e,n){if(Ln(e)&&Jr(e)&&n<_o||this.isElement(e)&&Jr(e.childNodes[n]))return!1;const r=this.mapDomToView(e);return!(r&&(r.is("uiElement")||r.is("rawElement")))}*_domToView(e,n,r){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if(ql(e)&&n.skipComments)return null;if(Ln(e)){if(ga(e))return null;{const i=e.data;if(i==="")return null;const s=new En(this.document,i);return r.push(s),s}}else{let i=this.mapDomToView(e);if(i)return this._isInlineObjectElement(i)&&r.push(i),i;if(this.isDocumentFragment(e))i=new Ss(this.document),n.bind&&this.bindDocumentFragments(e,i);else{i=this._createViewElement(e,n),n.bind&&this.bindElements(e,i);const a=e.attributes;if(a)for(let c=a.length,u=0;u<c;u++)i._setAttribute(a[u].name,a[u].value);if(this._isViewElementWithRawContent(i,n))return i._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(i)||r.push(i),i;if(ql(e))return i._setCustomProperty("$rawContent",e.data),i}yield i;const s=[];if(n.withChildren!==!1)for(const a of this.domChildrenToView(e,n,s))i._appendChild(a);if(this._isInlineObjectElement(i))r.push(i);else for(const a of s)r.push(a)}}_processDomInlineNodes(e,n,r){if(!n.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let o=!1;for(let i=0;i<n.length;i++){const s=n[i];if(!s.is("$text")){o=!1;continue}let a,c=!1;if(this._isPreFormatted(s))a=gC(s.data);else{a=s.data.replace(/[ \n\t\r]{1,}/g," "),c=/[^\S\u00A0]/.test(a.charAt(a.length-1));const u=i>0?n[i-1]:null,d=i+1<n.length?n[i+1]:null,f=!u||u.is("element")&&u.name=="br"||o,m=d?!1:!Jr(s.data);r.withChildren!==!1&&(f&&(a=a.replace(/^ /,"")),m&&(a=a.replace(/ $/,""))),a=gC(a),a=a.replace(/ \u00A0/g,"  ");const h=d&&d.is("element")&&d.name!="br",g=d&&d.is("$text")&&d.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!d||h||g)&&(a=a.replace(/\u00A0$/," ")),(f||u&&u.is("element")&&u.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&s.parent?(s._remove(),n.splice(i,1),i--):(s._data=a,o=c)}n.length=0}_processDataFromViewText(e){let n=e.data;if(this._isPreFormatted(e))return n;if(n.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r)||!r)&&(n=" "+n.substr(1))}if(n.charAt(n.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),o=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";(n.charAt(n.length-2)==" "||!r||o)&&(n=n.substr(0,n.length-1)+" ")}return n.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const n=this._processDataFromViewText(e);return n.charAt(n.length-1)==" "}_isPreFormatted(e){if(Fte(e,this.preElements))return!0;for(const n of e.getAncestors({parentFirst:!0}))if(!(!n.is("element")||!n.hasStyle("white-space")||n.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(n.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,n){const r=new bs({startPosition:n?Ke._createAfter(e):Ke._createBefore(e),direction:n?"forward":"backward"});for(const o of r){if(o.item.is("element","br"))return null;if(this._isInlineObjectElement(o.item))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("$textProxy"))return o.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,n){if(ql(e))return new im(this.document,"$comment");const r=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Fo(this.document,r)}_isViewElementWithRawContent(e,n){return n.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const n=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(n)}_createReplacementDomElement(e,n){const r=this._domDocument.createElement("span");if(r.setAttribute(bC,e),n){for(;n.firstChild;)r.appendChild(n.firstChild);for(const o of n.getAttributeNames())r.setAttribute(o,n.getAttribute(o))}return r}}function Fte(t,e){return t.getAncestors().some(n=>n.is("element")&&e.includes(n.name))}function wC(t,e){let n=t;for(;n;)e(n),n=n.parentElement}function Lte(t,e){return t.isEqualNode(Dte)&&j_(t,e)&&t.parentNode.childNodes.length===1}function j_(t,e){const n=t.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function yC(t){t==="script"&&an("domconverter-unsafe-script-element-detected"),t==="style"&&an("domconverter-unsafe-style-element-detected")}function Bte(t){if(!jt.isGecko||!t.rangeCount)return!1;const e=t.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch(n){return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ri extends vo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $a{constructor(e,n,r){this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,uk(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zs extends ri{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(o,i)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(i.target)&&this.onDomEvent(i)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,n,r){this.isEnabled&&this.document.fire(e,new $a(this.view,n,r))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vte extends zs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const n={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Na(this)}};this.fire(e.type,e,n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jte extends ri{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Sa(n=>{this.document.fire("selectionChangeDone",n)},200)}observe(){const e=this.document;e.on("arrowKey",(n,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(n,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const n=this.document.selection,r=new vi(n.getRanges(),{backward:n.isBackward,fake:!1});(e==Ht.arrowleft||e==Ht.arrowup)&&r.setTo(r.getFirstPosition()),(e==Ht.arrowright||e==Ht.arrowdown)&&r.setTo(r.getLastPosition());const o={oldSelection:n,newSelection:r,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let z_=class extends ri{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const n=this.domConverter,r=new Set,o=new Set;for(const s of e){const a=n.mapDomToView(s.target);a&&(a.is("uiElement")||a.is("rawElement")||s.type==="childList"&&!this._isBogusBrMutation(s)&&o.add(a))}for(const s of e){const a=n.mapDomToView(s.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&s.type==="characterData"){const c=n.findCorrespondingViewText(s.target);c&&!o.has(c.parent)?r.add(c):!c&&Jr(s.target)&&o.add(n.mapDomToView(s.target.parentNode))}}let i=!1;for(const s of r)i=!0,this.renderer.markToSync("text",s);for(const s of o){const a=n.mapViewToDom(s),c=Array.from(s.getChildren()),u=Array.from(n.domChildrenToView(a,{withChildren:!1}));dk(c,u,zte)||(i=!0,this.renderer.markToSync("children",s))}i&&this.view.forceRender()}_isBogusBrMutation(e){let n=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(n=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),n&&n.is("element","br")}};function zte(t,e){if(!Array.isArray(t))return t===e?!0:t.is("$text")&&e.is("$text")?t.data===e.data:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dd extends zs{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const n=this.document;n.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),n.on("blur",(r,o)=>{const i=n.selection.editableElement;(i===null||i===o.target)&&(n.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ute extends ri{constructor(e){super(e),this.mutationObserver=e.getObserver(z_),this.focusObserver=e.getObserver(Dd),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Sa(n=>{this.document.fire("selectionChangeDone",n)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Sa(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const n=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,n),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),!this._documents.has(n)&&(this.listenTo(n,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",(i,s)=>{this.document.isComposing&&!jt.isAndroid||(this._handleSelectionChange(s,n),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(n))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,n){if(!this.isEnabled)return;const r=n.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(r);if(o.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(r))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(o))this.view.forceRender();else{const i={oldSelection:this.selection,newSelection:o,domSelection:r};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hte extends zs{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const n=this.document;n.on("compositionstart",()=>{n.isComposing=!0},{priority:"low"}),n.on("compositionend",()=>{n.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U_{constructor(e,n={}){this._files=n.cacheFiles?CC(e):null,this._native=e}get files(){return this._files||(this._files=CC(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,n){this._native.setData(e,n)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,n,r){this._native.setDragImage(e,n,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function CC(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter(r=>r.kind==="file").map(r=>r.getAsFile())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wte extends zs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const n=e.getTargetRanges(),r=this.view,o=r.document;let i=null,s=null,a=[];if(e.dataTransfer&&(i=new U_(e.dataTransfer)),e.data!==null?s=e.data:i&&(s=i.getData("text/plain")),o.selection.isFake)a=Array.from(o.selection.getRanges());else if(n.length)a=n.map(c=>{const u=r.domConverter.domPositionToView(c.startContainer,c.startOffset),d=r.domConverter.domPositionToView(c.endContainer,c.endOffset);if(u)return r.createRange(u,d);if(d)return r.createRange(d)}).filter(c=>!!c);else if(jt.isAndroid){const c=e.target.ownerDocument.defaultView.getSelection();a=Array.from(r.domConverter.domSelectionToView(c).getRanges())}if(jt.isAndroid&&e.inputType=="insertCompositionText"&&s&&s.endsWith("\n")){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&s&&s.includes("\n")){const c=s.split(/\n{1,2}/g);let u=a;for(let d=0;d<c.length;d++){const f=c[d];f!=""&&(this.fire(e.type,e,{data:f,dataTransfer:i,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing}),u=[o.selection.getFirstRange()]),d+1<c.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:u}),u=[o.selection.getFirstRange()])}return}this.fire(e.type,e,{data:s,dataTransfer:i,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gte extends ri{constructor(e){super(e),this.document.on("keydown",(n,r)=>{if(this.isEnabled&&pee(r.keyCode)){const o=new ll(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,r),o.stop.called&&n.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qte extends ri{constructor(e){super(e);const n=this.document;n.on("keydown",(r,o)=>{if(!this.isEnabled||o.keyCode!=Ht.tab||o.ctrlKey)return;const i=new ll(n,"tab",n.selection.getFirstRange());n.fire(i,o),i.stop.called&&r.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kte extends An(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new O_(e),this.domConverter=new V_(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ite(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new D_(this.document),this.addObserver(z_),this.addObserver(Dd),this.addObserver(Ute),this.addObserver(Vte),this.addObserver(jte),this.addObserver(Hte),this.addObserver(Gte),this.addObserver(Wte),this.addObserver(qte),Ate(this),pte(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),jt.isiOS&&this.listenTo(this.document,"blur",(n,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,n="main"){const r=this.document.getRoot(n);r._name=e.tagName.toLowerCase();const o={};for(const{name:s,value:a}of Array.from(e.attributes))o[s]=a,s==="class"?this._writer.addClass(a.split(" "),r):this._writer.setAttribute(s,a,r);this._initialDomRootAttributes.set(e,o);const i=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};i(),this.domRoots.set(n,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(s,a)=>this._renderer.markToSync("children",a)),r.on("change:attributes",(s,a)=>this._renderer.markToSync("attributes",a)),r.on("change:text",(s,a)=>this._renderer.markToSync("text",a)),r.on("change:isReadOnly",()=>this.change(i)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const s of this._observers.values())s.observe(e,n)}detachDomRoot(e){const n=this.domRoots.get(e);Array.from(n.attributes).forEach(({name:o})=>n.removeAttribute(o));const r=this._initialDomRootAttributes.get(n);for(const o in r)n.setAttribute(o,r[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n);for(const o of this._observers.values())o.stopObserving(n)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);for(const[r,o]of this.domRoots)n.observe(o,r);return n.enable(),n}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:n,viewportOffset:r=20,ancestorOffset:o=20}={}){const i=this.document.selection.getFirstRange();if(!i)return;const s=Bo({alignToTop:e,forceScroll:n,viewportOffset:r,ancestorOffset:o});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const a={target:this.domConverter.viewRangeToDom(i),viewportOffset:r,ancestorOffset:o,alignToTop:e,forceScroll:n};this.fire("scrollToTheSelection",a,s),cee(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new ae("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(n){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(n,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Dd).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,n){return Ke._createAt(e,n)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,n){return new Vt(e,n)}createRangeOn(e){return Vt._createOn(e)}createRangeIn(e){return Vt._createIn(e)}createSelection(...e){return new vi(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class is{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Us=class extends is{constructor(e){super(),this.parent=null,this._attrs=Xi(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new ae("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new ae("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}getCommonAncestor(e,n={}){const r=this.getAncestors(n),o=e.getAncestors(n);let i=0;for(;r[i]==o[i]&&r[i];)i++;return i===0?null:r[i-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),r=e.getPath(),o=Tr(n,r);switch(o){case"prefix":return!0;case"extension":return!1;default:return n[o]<r[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((n,r)=>(n[r[0]]=r[1],n),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,n){this._attrs.set(e,n)}_setAttributesTo(e){this._attrs=Xi(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Us.prototype.is=function(t){return t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kl{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,n)=>e+n.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const n=this._nodes.indexOf(e);return n==-1?null:n}getNodeStartOffset(e){const n=this.getNodeIndex(e);return n===null?null:this._nodes.slice(0,n).reduce((r,o)=>r+o.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new ae("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){let n=0;for(const r of this._nodes){if(e>=n&&e<n+r.offsetSize)return this.getNodeIndex(r);n+=r.offsetSize}if(n!=e)throw new ae("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,n){for(const r of n)if(!(r instanceof Us))throw new ae("model-nodelist-insertnodes-not-node",this);this._nodes=kee(this._nodes,Array.from(n),e,0)}_removeNodes(e,n=1){return this._nodes.splice(e,n)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vn extends Us{constructor(e,n){super(n),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new vn(this.data,this.getAttributes())}static fromJSON(e){return new vn(e.data,e.attributes)}}vn.prototype.is=function(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Po extends is{constructor(e,n,r){if(super(),this.textNode=e,n<0||n>e.offsetSize)throw new ae("model-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.offsetSize)throw new ae("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Po.prototype.is=function(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let _n=class Ju extends Us{constructor(e,n,r){super(n),this._children=new Kl,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let n=this;for(const r of e)n=n.getChild(n.offsetToIndex(r));return n}findAncestor(e,n={}){let r=n.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new Ju(this.name,this.getAttributes(),n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const r=Yte(n);for(const o of r)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,n=1){const r=this._children._removeNodes(e,n);for(const o of r)o.parent=null;return r}static fromJSON(e){let n;if(e.children){n=[];for(const r of e.children)r.name?n.push(Ju.fromJSON(r)):n.push(vn.fromJSON(r))}return new Ju(e.name,e.attributes,n)}};_n.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"};function Yte(t){return typeof t=="string"?[new vn(t)]:(no(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new vn(e):e instanceof Po?new vn(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hi{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new ae("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new ae("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Oe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r,o,i;do o=this.position,i=this._visitedParent,{done:n,value:r}=this.next();while(!n&&e(r));n||(this._position=o,this._visitedParent=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=Yl(n,r),i=o||H_(n,r,o);if(i instanceof _n){if(!this.shallow)n.path.push(0),this._visitedParent=i;else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,cs("elementStart",i,e,n,1)}if(i instanceof vn){let s;if(this.singleCharacters)s=1;else{let u=i.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),s=u-n.offset}const a=n.offset-i.startOffset,c=new Po(i,a,s);return n.offset+=s,this._position=n,cs("text",c,e,n,s)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():cs("elementEnd",r,e,n)}_previous(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=n.parent,i=Yl(n,o),s=i||W_(n,o,i);if(s instanceof _n)return n.offset--,this.shallow?(this._position=n,cs("elementStart",s,e,n,1)):(n.path.push(s.maxOffset),this._position=n,this._visitedParent=s,this.ignoreElementEnd?this._previous():cs("elementEnd",s,e,n));if(s instanceof vn){let a;if(this.singleCharacters)a=1;else{let d=s.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>d&&(d=this.boundaries.start.offset),a=n.offset-d}const c=n.offset-s.startOffset,u=new Po(s,c-a,a);return n.offset-=a,this._position=n,cs("text",u,e,n,a)}return n.path.pop(),this._position=n,this._visitedParent=r.parent,cs("elementStart",r,e,n,1)}}function cs(t,e,n,r,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oe extends is{constructor(e,n,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new ae("model-position-root-invalid",e);if(!(n instanceof Array)||n.length===0)throw new ae("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[...e.getPath(),...n],e=e.root),this.root=e,this.path=n,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChild(e.offsetToIndex(this.path[n])),!e)throw new ae("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new ae("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Yl(this,this.parent)}get nodeAfter(){const e=this.parent;return H_(this,e,Yl(this,e))}get nodeBefore(){const e=this.parent;return W_(this,e,Yl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const n=Tr(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}getLastMatchingPosition(e,n={}){n.startPosition=this;const r=new hi(n);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const n=this.parent;return n.is("element")?n.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const n=Tr(this.path,e.path),r=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,r)}getCommonAncestor(e){const n=this.getAncestors(),r=e.getAncestors();let o=0;for(;n[o]==r[o]&&n[o];)o++;return o===0?null:n[o-1]}getShiftedBy(e){const n=this.clone(),r=n.offset+e;return n.offset=r<0?0:r,n}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const n=Math.min(this.path.length,e.path.length);for(let r=0;r<n;r++){const o=this.path[r]-e.path[r];if(o<-1||o>1)return!1;if(o===1)return SC(e,this,r);if(o===-1)return SC(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?rp(this.path,n):rp(e.path,n)}hasSameParentAs(e){if(this.root!==e.root)return!1;const n=this.getParentPath(),r=e.getParentPath();return Tr(n,r)=="same"}getTransformedByOperation(e){let n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=Oe._createAt(this);break}return n}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const n=e.movedRange,r=n.containsPosition(this)||n.start.isEqual(this);let o;return r?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?o=Oe._createAt(e.deletionPosition):o=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,n){const r=Oe._createAt(this);if(this.root!=e.root)return r;if(Tr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;r.offset-=n}}else if(Tr(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+n>this.path[o])return null;r.path[o]-=n}}return r}_getTransformedByInsertion(e,n){const r=Oe._createAt(this);if(this.root!=e.root)return r;if(Tr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=n);else if(Tr(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(r.path[o]+=n)}return r}_getTransformedByMove(e,n,r){if(n=n._getTransformedByDeletion(e,r),e.isEqual(n))return Oe._createAt(this);const o=this._getTransformedByDeletion(e,r);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):o._getTransformedByInsertion(n,r)}_getCombined(e,n){const r=e.path.length-1,o=Oe._createAt(n);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[r]-e.offset,o.path=[...o.path,...this.path.slice(r+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,n,r="toNone"){if(e instanceof Oe)return new Oe(e.root,e.path,e.stickiness);{const o=e;if(n=="end")n=o.maxOffset;else{if(n=="before")return this._createBefore(o,r);if(n=="after")return this._createAfter(o,r);if(n!==0&&!n)throw new ae("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new ae("model-position-parent-incorrect",[this,e]);const i=o.getPath();return i.push(n),new this(o.root,i,r)}}static _createAfter(e,n){if(!e.parent)throw new ae("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}static _createBefore(e,n){if(!e.parent)throw new ae("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}static fromJSON(e,n){if(e.root==="$graveyard"){const r=new Oe(n.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!n.getRoot(e.root))throw new ae("model-position-fromjson-no-root",n,{rootName:e.root});return new Oe(n.getRoot(e.root),e.path,e.stickiness)}}Oe.prototype.is=function(t){return t==="position"||t==="model:position"};function Yl(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function H_(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset))}function W_(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset)-1)}function SC(t,e,n){return!(n+1===t.path.length||!rp(e.path,n+1)||!Xte(t,n+1))}function rp(t,e){for(;e<t.length;){if(t[e]!==0)return!1;e++}return!0}function Xte(t,e){let n=t.parent,r=t.path.length-1,o=0;for(;r>=e;){if(t.path[r]+o!==n.maxOffset)return!1;o=1,r--,n=n.parent}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ve extends is{constructor(e,n){super(),this.start=Oe._createAt(e),this.end=n?Oe._createAt(n):Oe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new hi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),n=this.end.getParentPath();return Tr(e,n)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const r=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return r&&o}containsItem(e){const n=Oe._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new ve(this.start,e.start)),this.containsPosition(e.end)&&n.push(new ve(e.end,this.end))):n.push(new ve(this.start,this.end)),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new ve(n,r)}return null}getJoined(e,n=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=n?this.end.isTouching(e.start):this.end.isEqual(e.start):r=n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let o=this.start,i=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(i)&&(i=e.end),new ve(o,i)}getMinimalFlatRanges(){const e=[],n=this.start.getCommonPath(this.end).length,r=Oe._createAt(this.start);let o=r.parent;for(;r.path.length>n+1;){const i=o.maxOffset-r.offset;i!==0&&e.push(new ve(r,r.getShiftedBy(i))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}for(;r.path.length<=this.end.path.length;){const i=this.end.path[r.path.length-1],s=i-r.offset;s!==0&&e.push(new ve(r,r.getShiftedBy(s))),r.offset=i,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new hi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new hi(e);for(const r of n)yield r.item}*getPositions(e={}){e.boundaries=this;const n=new hi(e);yield n.position;for(const r of n)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ve(this.start,this.end)]}getTransformedByOperations(e){const n=[new ve(this.start,this.end)];for(const r of e)for(let o=0;o<n.length;o++){const i=n[o].getTransformedByOperation(r);n.splice(o,1,...i),o+=i.length-1}for(let r=0;r<n.length;r++){const o=n[r];for(let i=r+1;i<n.length;i++){const s=n[i];(o.containsRange(s)||s.containsRange(o)||o.isEqual(s))&&n.splice(i,1)}}return n}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,n=!1){return this._getTransformedByInsertion(e.position,e.howMany,n)}_getTransformedByMoveOperation(e,n=!1){const r=e.sourcePosition,o=e.howMany,i=e.targetPosition;return this._getTransformedByMove(r,i,o,n)}_getTransformedBySplitOperation(e){const n=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),n.root!=r.root&&(r=this.end.getShiftedBy(-1)),new ve(n,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ve(this.start);let n=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return n.root!=r.root&&(r=this.end.getShiftedBy(-1)),n.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(n=Oe._createAt(r),n.offset=0):(e.deletionPosition.isEqual(n)||(r=e.deletionPosition),n=e.targetPosition),new ve(n,r)):new ve(n,r)}_getTransformedByInsertion(e,n,r=!1){if(r&&this.containsPosition(e))return[new ve(this.start,e),new ve(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{const o=new ve(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,n),o.end=o.end._getTransformedByInsertion(e,n),[o]}}_getTransformedByMove(e,n,r,o=!1){if(this.isCollapsed){const f=this.start._getTransformedByMove(e,n,r);return[new ve(f)]}const i=ve._createFromPositionAndShift(e,r),s=n._getTransformedByDeletion(e,r);if(this.containsPosition(n)&&!o&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const f=this.start._getTransformedByMove(e,n,r),m=this.end._getTransformedByMove(e,n,r);return[new ve(f,m)]}let a;const c=this.getDifference(i);let u=null;const d=this.getIntersection(i);if(c.length==1?u=new ve(c[0].start._getTransformedByDeletion(e,r),c[0].end._getTransformedByDeletion(e,r)):c.length==2&&(u=new ve(this.start,this.end._getTransformedByDeletion(e,r))),u?a=u._getTransformedByInsertion(s,r,d!==null||o):a=[],d){const f=new ve(d.start._getCombined(i.start,s),d.end._getCombined(i.start,s));a.length==2?a.splice(1,0,f):a.push(f)}return a}_getTransformedByDeletion(e,n){let r=this.start._getTransformedByDeletion(e,n),o=this.end._getTransformedByDeletion(e,n);return r==null&&o==null?null:(r==null&&(r=e),o==null&&(o=e),new ve(r,o))}static _createFromPositionAndShift(e,n){const r=e,o=e.getShiftedBy(n);return n>0?new this(r,o):new this(o,r)}static _createIn(e){return new this(Oe._createAt(e,0),Oe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Oe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new ae("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const n=e[0];e.sort((i,s)=>i.start.isAfter(s.start)?1:-1);const r=e.indexOf(n),o=new this(n.start,n.end);if(r>0)for(let i=r-1;e[i].end.isEqual(o.start);i++)o.start=Oe._createAt(e[i].start);for(let i=r+1;i<e.length&&e[i].start.isEqual(o.end);i++)o.end=Oe._createAt(e[i].end);return o}static fromJSON(e,n){return new this(Oe.fromJSON(e.start,n),Oe.fromJSON(e.end,n))}}ve.prototype.is=function(t){return t==="range"||t==="model:range"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G_ extends wn(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,n)=>{if(n.viewPosition)return;const r=this._modelToViewMapping.get(n.modelPosition.parent);if(!r)throw new ae("mapping-model-position-view-parent-not-found",this,{modelPosition:n.modelPosition});n.viewPosition=this.findPositionIn(r,n.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,n)=>{if(n.modelPosition)return;const r=this.findMappedViewAncestor(n.viewPosition),o=this._viewToModelMapping.get(r),i=this._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=Oe._createAt(o,i)},{priority:"low"})}bindElements(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}unbindViewElement(e,n={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);n.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)}bindElementToMarker(e,n){const r=this._markerNameToElements.get(n)||new Set;r.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(n),this._markerNameToElements.set(n,r),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,n){const r=this._markerNameToElements.get(n);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(n));const o=this._elementToMarkerNames.get(e);o&&(o.delete(n),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,n]of this._deferredBindingRemovals)e.root==n&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ve(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Vt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}toViewPosition(e,n={}){const r={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const n=this._markerNameToElements.get(e);if(!n)return null;const r=new Set;for(const o of n)if(o.is("attributeElement"))for(const i of o.getElementsWithSameId())r.add(i);else r.add(o);return r}registerViewToModelLength(e,n){this._viewToModelLengthCallbacks.set(e,n)}findMappedViewAncestor(e){let n=e.parent;for(;!this._viewToModelMapping.has(n);)n=n.parent;return n}_toModelOffset(e,n,r){if(r!=e){const i=this._toModelOffset(e.parent,e.index,r),s=this._toModelOffset(e,n,e);return i+s}if(e.is("$text"))return n;let o=0;for(let i=0;i<n;i++)o+=this.getModelLength(e.getChild(i));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let n=0;for(const r of e.getChildren())n+=this.getModelLength(r);return n}}findPositionIn(e,n){let r,o=0,i=0,s=0;if(e.is("$text"))return new Ke(e,n);for(;i<n;)r=e.getChild(s),o=this.getModelLength(r),i+=o,s++;return i==n?this._moveViewPositionToTextNode(new Ke(e,s)):this.findPositionIn(r,n-(i-o))}_moveViewPositionToTextNode(e){const n=e.nodeBefore,r=e.nodeAfter;return n instanceof En?new Ke(n,n.data.length):r instanceof En?new Ke(r,0):e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qte{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,n){n=ku(n),e instanceof Po&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(n,!0)}consume(e,n){return n=ku(n),e instanceof Po&&(e=this._getSymbolForTextProxy(e)),this.test(e,n)?(this._consumable.get(e).set(n,!1),!0):!1}test(e,n){n=ku(n),e instanceof Po&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const o=r.get(n);return o===void 0?null:o}revert(e,n){n=ku(n),e instanceof Po&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,n);return r===!1?(this._consumable.get(e).set(n,!0),!0):r===!0?!1:null}verifyAllConsumed(e){const n=[];for(const[r,o]of this._consumable)for(const[i,s]of o){const a=i.split(":")[0];s&&e==a&&n.push({event:i,item:r.name||r.description})}if(n.length)throw new ae("conversion-model-consumable-not-consumed",null,{items:n})}_getSymbolForTextProxy(e){let n=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const o=r.get(e.endOffset);o&&(n=o.get(e.parent))}return n||(n=this._addSymbolForTextProxy(e)),n}_addSymbolForTextProxy(e){const n=e.startOffset,r=e.endOffset,o=e.parent,i=Symbol("$textProxy:"+e.data);let s,a;return s=this._textProxyRegistry.get(n),s||(s=new Map,this._textProxyRegistry.set(n,s)),a=s.get(r),a||(a=new Map,s.set(r,a)),a.set(o,i),i}}function ku(t){const e=t.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?t:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class q_ extends wn(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,n,r){const o=this._createConversionApi(r,e.getRefreshedItems());for(const s of e.getMarkersToRemove())this._convertMarkerRemove(s.name,s.range,o);const i=this._reduceChanges(e.getChanges());for(const s of i)s.type==="insert"?this._convertInsert(ve._createFromPositionAndShift(s.position,s.length),o):s.type==="reinsert"?this._convertReinsert(ve._createFromPositionAndShift(s.position,s.length),o):s.type==="remove"?this._convertRemove(s.position,s.length,s.name,o):this._convertAttribute(s.range,s.attributeKey,s.attributeOldValue,s.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const s of o.mapper.flushUnboundMarkerNames()){const a=n.get(s).getRange();this._convertMarkerRemove(s,a,o),this._convertMarkerAdd(s,a,o)}for(const s of e.getMarkersToAdd())this._convertMarkerAdd(s.name,s.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,n,r,o={}){const i=this._createConversionApi(r,void 0,o);this._convertInsert(e,i);for(const[s,a]of n)this._convertMarkerAdd(s,a,i);i.consumable.verifyAllConsumed("insert")}convertSelection(e,n,r){const o=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},o);const i=e.getFirstPosition().root;if(!o.mapper.toViewElement(i))return;const s=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,s),this.fire("selection",{selection:e},o),!!e.isCollapsed){for(const a of s)if(o.consumable.test(e,"addMarker:"+a.name)){const c=a.getRange();if(!Jte(e.getFirstPosition(),a,o.mapper))continue;const u={item:e,markerName:a.name,markerRange:c};this.fire("addMarker:".concat(a.name),u,o)}for(const a of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+a)){const c={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire("attribute:".concat(a,":$text"),c,o)}}}_convertInsert(e,n,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(n.consumable,e);for(const o of Array.from(e.getWalker({shallow:!0})).map(xC))this._testAndFire("insert",o,n)}_convertRemove(e,n,r,o){this.fire("remove:".concat(r),{position:e,length:n},o)}_convertAttribute(e,n,r,o,i){this._addConsumablesForRange(i.consumable,e,"attribute:".concat(n));for(const s of e){const a={item:s.item,range:ve._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:n,attributeOldValue:r,attributeNewValue:o};this._testAndFire("attribute:".concat(n),a,i)}}_convertReinsert(e,n){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(n.consumable,r);for(const o of r.map(xC))this._testAndFire("insert",{...o,reconversion:!0},n)}_convertMarkerAdd(e,n,r){if(n.root.rootName=="$graveyard")return;const o="addMarker:".concat(e);if(r.consumable.add(n,o),this.fire(o,{markerName:e,markerRange:n},r),!!r.consumable.consume(n,o)){this._addConsumablesForRange(r.consumable,n,o);for(const i of n.getItems()){if(!r.consumable.test(i,o))continue;const s={item:i,range:ve._createOn(i),markerName:e,markerRange:n};this.fire(o,s,r)}}}_convertMarkerRemove(e,n,r){n.root.rootName!="$graveyard"&&this.fire("removeMarker:".concat(e),{markerName:e,markerRange:n},r)}_reduceChanges(e){const n={changes:e};return this.fire("reduceChanges",n),n.changes}_addConsumablesForInsert(e,n){for(const r of n){const o=r.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const i of o.getAttributeKeys())e.add(o,"attribute:"+i)}}return e}_addConsumablesForRange(e,n,r){for(const o of n.getItems())e.add(o,r);return e}_addConsumablesForSelection(e,n,r){e.add(n,"selection");for(const o of r)e.add(n,"addMarker:"+o.name);for(const o of n.getAttributeKeys())e.add(n,"attribute:"+o);return e}_testAndFire(e,n,r){const o=Zte(e,n),i=n.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(n.item):n.item,s=this._firedEventsMap.get(r),a=s.get(i);if(!a)s.set(i,new Set([o]));else if(!a.has(o))a.add(o);else return;this.fire(o,n,r)}_testAndFireAddAttributes(e,n){const r={item:e,range:ve._createOn(e)};for(const o of r.item.getAttributeKeys())r.attributeKey=o,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(o),this._testAndFire("attribute:".concat(o),r,n)}_createConversionApi(e,n=new Set,r={}){const o={...this._conversionApi,consumable:new Qte,writer:e,options:r,convertItem:i=>this._convertInsert(ve._createOn(i),o),convertChildren:i=>this._convertInsert(ve._createIn(i),o,{doNotAddConsumables:!0}),convertAttributes:i=>this._testAndFireAddAttributes(i,o),canReuseView:i=>!n.has(o.mapper.toModelElement(i))};return this._firedEventsMap.set(o,new Map),o}}function Jte(t,e,n){const r=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(s=>{if(r.containsItem(s))return!!n.toViewElement(s).getCustomProperty("addHighlight")})}function Zte(t,e){const n=e.item.is("element")?e.item.name:"$text";return"".concat(t,":").concat(n)}function xC(t){const e=t.item,n=ve._createFromPositionAndShift(t.previousPosition,t.length);return{item:e,range:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zr extends wn(is){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let r=!1;for(const o of e._ranges)if(n.isEqual(o)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ve(e.start,e.end)}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?new ve(e.start,e.end):null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?new ve(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[n,r,o]=e;if(typeof r=="object"&&(o=r,r=void 0),n===null)this._setRanges([]);else if(n instanceof Zr)this._setRanges(n.getRanges(),n.isBackward);else if(n&&typeof n.getRanges=="function")this._setRanges(n.getRanges(),n.isBackward);else if(n instanceof ve)this._setRanges([n],!!o&&!!o.backward);else if(n instanceof Oe)this._setRanges([new ve(n)]);else if(n instanceof Us){const i=!!o&&!!o.backward;let s;if(r=="in")s=ve._createIn(n);else if(r=="on")s=ve._createOn(n);else if(r!==void 0)s=new ve(Oe._createAt(n,r));else throw new ae("model-selection-setto-required-second-parameter",[this,n]);this._setRanges([s],i)}else if(no(n))this._setRanges(n,o&&!!o.backward);else throw new ae("model-selection-setto-not-selectable",[this,n])}_setRanges(e,n=!1){const r=Array.from(e),o=r.some(i=>{if(!(i instanceof ve))throw new ae("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(s=>!s.isEqual(i))});r.length===this._ranges.length&&!o||(this._replaceAllRanges(r),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}setFocus(e,n){if(this.anchor===null)throw new ae("model-selection-setfocus-no-ranges",[this,e]);const r=Oe._createAt(e,n);if(r.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(o)=="before"?(this._pushRange(new ve(r,o)),this._lastRangeBackward=!0):(this._pushRange(new ve(o,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const n of this.getRanges()){const r=AC(n.start,e);tne(r,n)&&(yield r);for(const i of n.getWalker()){const s=i.item;i.type=="elementEnd"&&ene(s,e,n)&&(yield s)}const o=AC(n.end,e);nne(o,n)&&(yield o)}}containsEntireContent(e=this.anchor.root){const n=Oe._createAt(e,0),r=Oe._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ve(e.start,e.end))}_checkRange(e){for(let n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new ae("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}_replaceAllRanges(e){this._removeAllRanges();for(const n of e)this._pushRange(n)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Zr.prototype.is=function(t){return t==="selection"||t==="model:selection"};function K_(t,e){return e.has(t)?!1:(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function ene(t,e,n){return K_(t,e)&&ob(t,n)}function AC(t,e){const r=t.parent.root.document.model.schema,o=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const s=o.find(a=>i?!1:(i=r.isLimit(a),!i&&K_(a,e)));return o.forEach(a=>e.add(a)),s}function ob(t,e){const n=rne(t);return n?!e.containsRange(ve._createOn(n),!0):!0}function tne(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.start.isTouching(Oe._createAt(t,t.maxOffset))?!1:ob(t,e):!1}function nne(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.end.isTouching(Oe._createAt(t,0))?!1:ob(t,e):!1}function rne(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mo extends wn(ve){constructor(e,n){super(e,n),one.call(this)}detach(){this.stopListening()}toRange(){return new ve(this.start,this.end)}static fromRange(e){return new Mo(e.start,e.end)}}Mo.prototype.is=function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"};function one(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&ine.call(this,n)},{priority:"low"})}function ine(t){const e=this.getTransformedByOperation(t),n=ve._createFromRanges(e),r=!n.isEqual(this),o=sne(this,t);let i=null;if(r){n.root.rootName=="$graveyard"&&(t.type=="remove"?i=t.sourcePosition:i=t.deletionPosition);const s=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",s,{deletionPosition:i})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:i})}function sne(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vc="selection:";class Lo extends wn(is){constructor(e){super(),this._selection=new ane(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,n){this._selection.setFocus(e,n)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,n){this._selection.setAttribute(e,n)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return vc+e}static _isStoreAttributeKey(e){return e.startsWith(vc)}}Lo.prototype.is=function(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"};class ane extends Zr{constructor(e){super(),this.markers=new ki({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(n,r)=>{const o=r[0];!o.isDocumentOperation||o.type=="marker"||o.type=="rename"||o.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(n,r,o,i)=>{this._updateMarker(r,i)}),this.listenTo(this._document,"change",(n,r)=>{lne(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,n){super.setFocus(e,n),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,n){if(this._setAttribute(e,n)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}overrideGravity(){const e=go();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new ae("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const n=this._prepareRange(e);n&&this._ranges.push(n)}_validateSelectionRanges(e){for(const n of e)if(!this._document._validateSelectionRange(n))throw new ae("document-selection-wrong-position",this,{range:n})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const n=Mo.fromRange(e);return n.on("change:range",(r,o,i)=>{if(this._hasChangedRange=!0,n.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const s=this._ranges.indexOf(n);this._ranges.splice(s,1),n.detach()}}),n}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let n=!1;for(const o of this._model.markers){const i=o.name.split(":",1)[0];if(!this._observedMarkers.has(i))continue;const s=o.getRange();for(const a of this.getRanges())s.containsRange(a,!a.isCollapsed)&&e.push(o)}const r=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),n=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),n=!0);n&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,n){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let o=!1;const i=Array.from(this.markers),s=this.markers.has(e);if(!n)s&&(this.markers.remove(e),o=!0);else{let a=!1;for(const c of this.getRanges())if(n.containsRange(c,!c.isCollapsed)){a=!0;break}a&&!s?(this.markers.add(e),o=!0):!a&&s&&(this.markers.remove(e),o=!0)}o&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(e){const n=Xi(this._getSurroundingAttributes()),r=Xi(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[i,s]of this._attributePriority)s=="low"&&(this._attrs.delete(i),this._attributePriority.delete(i));this._setAttributesTo(n);const o=[];for(const[i,s]of this.getAttributes())(!r.has(i)||r.get(i)!==s)&&o.push(i);for(const[i]of r)this.hasAttribute(i)||o.push(i);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,n,r=!0){const o=r?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===n?!1:(this._attrs.set(e,n),this._attributePriority.set(e,o),!0)}_removeAttribute(e,n=!0){const r=n?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const n=new Set;for(const[r,o]of this.getAttributes())e.get(r)!==o&&this._removeAttribute(r,!1);for(const[r,o]of e)this._setAttribute(r,o,!1)&&n.add(r);return n}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const n of e.getAttributeKeys())n.startsWith(vc)&&(yield[n.substr(vc.length),e.getAttribute(n)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),n=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,i=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Il(o,n)),r||(r=Il(i,n)),!this.isGravityOverridden&&!r){let s=o;for(;s&&!r;)s=s.previousSibling,r=Il(s,n)}if(!r){let s=i;for(;s&&!r;)s=s.nextSibling,r=Il(s,n)}r||(r=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const i of o){if(i.item.is("element")&&n.isObject(i.item)){r=Il(i.item,n);break}if(i.type=="text"){r=i.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const n=this._model.schema.getNearestSelectionRange(e);n&&this._pushRange(n)}}function Il(t,e){if(!t)return null;if(t instanceof Po||t instanceof vn)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[r,o]of t.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&n.push([r,o]);return n}function lne(t,e){const n=t.document.differ;for(const r of n.getChanges()){if(r.type!="insert")continue;const o=r.position.parent;r.length===o.maxOffset&&t.enqueueChange(e,s=>{const a=Array.from(o.getAttributeKeys()).filter(c=>c.startsWith(vc));for(const c of a)s.removeAttribute(c,o)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Y_{constructor(e){this._dispatchers=e}add(e){for(const n of this._dispatchers)e(n);return this}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cne extends Y_{elementToElement(e){return this.add(_ne(e))}elementToStructure(e){return this.add(Pne(e))}attributeToElement(e){return this.add(Mne(e))}attributeToAttribute(e){return this.add(kne(e))}markerToElement(e){return this.add(Rne(e))}markerToHighlight(e){return this.add(One(e))}markerToData(e){return this.add(Tne(e))}}function X_(){return(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)}}function Q_(){return(t,e,n)=>{n.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&n.convertChildren(e.item)}}function une(){return(t,e,n)=>{const r=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),i=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(r,i),a=n.writer.remove(s.getTrimmed());for(const c of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(c,{defer:!0})}}function J_(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),typeof e.priority=="number"&&(n._priority=e.priority),n._id=e.id,n}function dne(){return(t,e,n)=>{const r=e.selection;if(r.isCollapsed||!n.consumable.consume(r,"selection"))return;const o=[];for(const i of r.getRanges())o.push(n.mapper.toViewRange(i));n.writer.setSelection(o,{backward:r.isBackward})}}function fne(){return(t,e,n)=>{const r=e.selection;if(!r.isCollapsed||!n.consumable.consume(r,"selection"))return;const o=n.writer,i=r.getFirstPosition(),s=n.mapper.toViewPosition(i),a=o.breakAttributes(s);o.setSelection(a)}}function mne(){return(t,e,n)=>{const r=n.writer,o=r.document.selection;for(const i of o.getRanges())i.isCollapsed&&i.end.parent.isAttached()&&n.writer.mergeAttributes(i.start);r.setSelection(null)}}function hne(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const o=t(n.attributeOldValue,r,n),i=t(n.attributeNewValue,r,n);if(!o&&!i)return;r.consumable.consume(n.item,e.name);const s=r.writer,a=s.document.selection;if(n.item instanceof Zr||n.item instanceof Lo)s.wrap(a.getFirstRange(),i);else{let c=r.mapper.toViewRange(n.range);n.attributeOldValue!==null&&o&&(c=s.unwrap(c,o)),n.attributeNewValue!==null&&i&&s.wrap(c,i)}}}function gne(t,e=Vne){return(n,r,o)=>{if(!e(r.item,o.consumable,{preflight:!0}))return;const i=t(r.item,o,r);if(!i)return;e(r.item,o.consumable);const s=o.mapper.toViewPosition(r.range.start);o.mapper.bindElements(r.item,i),o.writer.insert(s,i),o.convertAttributes(r.item),rP(i,r.item.getChildren(),o,{reconversion:r.reconversion})}}function pne(t,e){return(n,r,o)=>{if(!e(r.item,o.consumable,{preflight:!0}))return;const i=new Map;o.writer._registerSlotFactory($ne(r.item,i,o));const s=t(r.item,o,r);if(o.writer._clearSlotFactory(),!s)return;Fne(r.item,i,o),e(r.item,o.consumable);const a=o.mapper.toViewPosition(r.range.start);o.mapper.bindElements(r.item,s),o.writer.insert(a,s),o.convertAttributes(r.item),Lne(s,i,o,{reconversion:r.reconversion})}}function vne(t){return(e,n,r)=>{n.isOpening=!0;const o=t(n,r);n.isOpening=!1;const i=t(n,r);if(!o||!i)return;const s=n.markerRange;if(s.isCollapsed&&!r.consumable.consume(s,e.name))return;for(const u of s)if(!r.consumable.consume(u.item,e.name))return;const a=r.mapper,c=r.writer;c.insert(a.toViewPosition(s.start),o),r.mapper.bindElementToMarker(o,n.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),i),r.mapper.bindElementToMarker(i,n.markerName)),e.stop()}}function bne(){return(t,e,n)=>{const r=n.mapper.markerNameToElements(e.markerName);if(r){for(const o of r)n.mapper.unbindElementFromMarkerName(o,e.markerName),n.writer.clear(n.writer.createRangeOn(o),o);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function wne(t){return(e,n,r)=>{const o=t(n.markerName,r);if(!o)return;const i=n.markerRange;r.consumable.consume(i,e.name)&&(EC(i,!1,r,n,o),EC(i,!0,r,n,o),e.stop())}}function EC(t,e,n,r,o){const i=e?t.start:t.end,s=i.nodeAfter&&i.nodeAfter.is("element")?i.nodeAfter:null,a=i.nodeBefore&&i.nodeBefore.is("element")?i.nodeBefore:null;if(s||a){let u,d;e&&s||!e&&!a?(u=s,d=!0):(u=a,d=!1);const f=n.mapper.toViewElement(u);if(f){yne(f,e,d,n,r,o);return}}const c=n.mapper.toViewPosition(i);Cne(c,e,n,r,o)}function yne(t,e,n,r,o,i){const s="data-".concat(i.group,"-").concat(e?"start":"end","-").concat(n?"before":"after"),a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(i.name),r.writer.setAttribute(s,a.join(","),t),r.mapper.bindElementToMarker(t,o.markerName)}function Cne(t,e,n,r,o){const i="".concat(o.group,"-").concat(e?"start":"end"),s=o.name?{name:o.name}:null,a=n.writer.createUIElement(i,s);n.writer.insert(t,a),n.mapper.bindElementToMarker(a,r.markerName)}function Sne(t){return(e,n,r)=>{const o=t(n.markerName,r);if(!o)return;const i=r.mapper.markerNameToElements(n.markerName);if(!i)return;for(const a of i)r.mapper.unbindElementFromMarkerName(a,n.markerName),a.is("containerElement")?(s("data-".concat(o.group,"-start-before"),a),s("data-".concat(o.group,"-start-after"),a),s("data-".concat(o.group,"-end-before"),a),s("data-".concat(o.group,"-end-after"),a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(n.markerName),e.stop();function s(a,c){if(c.hasAttribute(a)){const u=new Set(c.getAttribute(a).split(","));u.delete(o.name),u.size==0?r.writer.removeAttribute(a,c):r.writer.setAttribute(a,Array.from(u).join(","),c)}}}}function xne(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const o=t(n.attributeOldValue,r,n),i=t(n.attributeNewValue,r,n);if(!o&&!i)return;r.consumable.consume(n.item,e.name);const s=r.mapper.toViewElement(n.item),a=r.writer;if(!s)throw new ae("conversion-attribute-to-attribute-on-text",r.dispatcher,n);if(n.attributeOldValue!==null&&o)if(o.key=="class"){const c=typeof o.value=="string"?o.value.split(/\s+/):o.value;for(const u of c)a.removeClass(u,s)}else if(o.key=="style")if(typeof o.value=="string"){const c=new Jg(a.document.stylesProcessor);c.setTo(o.value);for(const[u]of c.getStylesEntries())a.removeStyle(u,s)}else{const c=Object.keys(o.value);for(const u of c)a.removeStyle(u,s)}else a.removeAttribute(o.key,s);if(n.attributeNewValue!==null&&i)if(i.key=="class"){const c=typeof i.value=="string"?i.value.split(/\s+/):i.value;for(const u of c)a.addClass(u,s)}else if(i.key=="style")if(typeof i.value=="string"){const c=new Jg(a.document.stylesProcessor);c.setTo(i.value);for(const[u,d]of c.getStylesEntries())a.setStyle(u,d,s)}else{const c=Object.keys(i.value);for(const u of c)a.setStyle(u,i.value[u],s)}else a.setAttribute(i.key,i.value,s)}}function Ane(t){return(e,n,r)=>{if(!n.item||!(n.item instanceof Zr||n.item instanceof Lo)&&!n.item.is("$textProxy"))return;const o=ib(t,n,r);if(!o||!r.consumable.consume(n.item,e.name))return;const i=r.writer,s=J_(i,o),a=i.document.selection;if(n.item instanceof Zr||n.item instanceof Lo)i.wrap(a.getFirstRange(),s);else{const c=r.mapper.toViewRange(n.range),u=i.wrap(c,s);for(const d of u.getItems())if(d.is("attributeElement")&&d.isSimilar(s)){r.mapper.bindElementToMarker(d,n.markerName);break}}}}function Ene(t){return(e,n,r)=>{if(!n.item||!(n.item instanceof _n))return;const o=ib(t,n,r);if(!o||!r.consumable.test(n.item,e.name))return;const i=r.mapper.toViewElement(n.item);if(i&&i.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);for(const a of ve._createIn(n.item))r.consumable.consume(a.item,e.name);i.getCustomProperty("addHighlight")(i,o,r.writer),r.mapper.bindElementToMarker(i,n.markerName)}}}function Ine(t){return(e,n,r)=>{if(n.markerRange.isCollapsed)return;const o=ib(t,n,r);if(!o)return;const i=J_(r.writer,o),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const a of s)r.mapper.unbindElementFromMarkerName(a,n.markerName),a.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(a),i):a.getCustomProperty("removeHighlight")(a,o.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}function _ne(t){const e=Z_(t.model),n=bc(t.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on("insert:".concat(e.name),gne(n,nP(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",tP(e),{priority:"low"})}}function Pne(t){const e=Z_(t.model),n=bc(t.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new ae("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});r.on("insert:".concat(e.name),pne(n,nP(e)),{priority:t.converterPriority||"normal"}),r.on("reduceChanges",tP(e),{priority:"low"})}}function Mne(t){t=Bo(t);let e=t.model;typeof e=="string"&&(e={key:e});let n="attribute:".concat(e.key);if(e.name&&(n+=":"+e.name),e.values)for(const o of e.values)t.view[o]=bc(t.view[o],"attribute");else t.view=bc(t.view,"attribute");const r=eP(t);return o=>{o.on(n,hne(r),{priority:t.converterPriority||"normal"})}}function kne(t){t=Bo(t);let e=t.model;typeof e=="string"&&(e={key:e});let n="attribute:".concat(e.key);if(e.name&&(n+=":"+e.name),e.values)for(const o of e.values)t.view[o]=IC(t.view[o]);else t.view=IC(t.view);const r=eP(t);return o=>{o.on(n,xne(r),{priority:t.converterPriority||"normal"})}}function Rne(t){const e=bc(t.view,"ui");return n=>{n.on("addMarker:".concat(t.model),vne(e),{priority:t.converterPriority||"normal"}),n.on("removeMarker:".concat(t.model),bne(),{priority:t.converterPriority||"normal"})}}function Tne(t){t=Bo(t);const e=t.model;let n=t.view;return n||(n=r=>({group:e,name:r.substr(t.model.length+1)})),r=>{r.on("addMarker:".concat(e),wne(n),{priority:t.converterPriority||"normal"}),r.on("removeMarker:".concat(e),Sne(n),{priority:t.converterPriority||"normal"})}}function One(t){return e=>{e.on("addMarker:".concat(t.model),Ane(t.view),{priority:t.converterPriority||"normal"}),e.on("addMarker:".concat(t.model),Ene(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:".concat(t.model),Ine(t.view),{priority:t.converterPriority||"normal"})}}function Z_(t){return typeof t=="string"&&(t={name:t}),{name:t.name,attributes:t.attributes?Gn(t.attributes):[],children:!!t.children}}function bc(t,e){return typeof t=="function"?t:(n,r)=>Nne(t,r,e)}function Nne(t,e,n){typeof t=="string"&&(t={name:t});let r;const o=e.writer,i=Object.assign({},t.attributes);if(n=="container")r=o.createContainerElement(t.name,i);else if(n=="attribute"){const s={priority:t.priority||Cs.DEFAULT_PRIORITY};r=o.createAttributeElement(t.name,i,s)}else r=o.createUIElement(t.name,i);if(t.styles){const s=Object.keys(t.styles);for(const a of s)o.setStyle(a,t.styles[a],r)}if(t.classes){const s=t.classes;if(typeof s=="string")o.addClass(s,r);else for(const a of s)o.addClass(a,r)}return r}function eP(t){return t.model.values?(e,n,r)=>{const o=t.view[e];return o?o(e,n,r):null}:t.view}function IC(t){return typeof t=="string"?e=>({key:t,value:e}):typeof t=="object"?t.value?()=>t:e=>({key:t.key,value:e}):t}function ib(t,e,n){const r=typeof t=="function"?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function Dne(t){return(e,n)=>{if(!e.is("element",t.name))return!1;if(n.type=="attribute"){if(t.attributes.includes(n.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(t.children)return!0}return!1}}function tP(t){const e=Dne(t);return(n,r)=>{const o=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const i of r.changes){const s=i.type=="attribute"?i.range.start.nodeAfter:i.position.parent;if(!s||!e(s,i)){o.push(i);continue}if(!r.reconvertedElements.has(s)){r.reconvertedElements.add(s);const a=Oe._createBefore(s);let c=o.length;for(let u=o.length-1;u>=0;u--){const d=o[u],m=(d.type=="attribute"?d.range.start:d.position).compareWith(a);if(m=="before"||d.type=="remove"&&m=="same")break;c=u}o.splice(c,0,{type:"remove",name:s.name,position:a,length:1},{type:"reinsert",name:s.name,position:a,length:1})}}r.changes=o}}function nP(t){return(e,n,r={})=>{const o=["insert"];for(const i of t.attributes)e.hasAttribute(i)&&o.push("attribute:".concat(i));return o.every(i=>n.test(e,i))?(r.preflight||o.forEach(i=>n.consume(e,i)),!0):!1}}function $ne(t,e,n){return(r,o)=>{const i=r.createContainerElement("$slot");let s=null;if(o==="children")s=Array.from(t.getChildren());else if(typeof o=="function")s=Array.from(t.getChildren()).filter(a=>o(a));else throw new ae("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:o});return e.set(i,s),i}}function Fne(t,e,n){const r=Array.from(e.values()).flat(),o=new Set(r);if(o.size!=r.length)throw new ae("conversion-slot-filter-overlap",n.dispatcher,{element:t});if(o.size!=t.childCount)throw new ae("conversion-slot-filter-incomplete",n.dispatcher,{element:t})}function Lne(t,e,n,r){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let o=null,i=null;for([o,i]of e)rP(t,i,n,r),n.writer.move(n.writer.createRangeIn(o),n.writer.createPositionBefore(o)),n.writer.remove(o);n.mapper.off("modelToViewPosition",s);function s(a,c){const u=c.modelPosition.nodeAfter,d=i.indexOf(u);d<0||(c.viewPosition=c.mapper.findPositionIn(o,d))}}function rP(t,e,n,r){for(const o of e)Bne(t.root,o,n,r)||n.convertItem(o)}function Bne(t,e,n,r){const{writer:o,mapper:i}=n;if(!r.reconversion)return!1;const s=i.toViewElement(e);return!s||s.root==t||!n.canReuseView(s)?!1:(o.move(o.createRangeOn(s),i.toViewPosition(Oe._createBefore(e))),!0)}function Vne(t,e,{preflight:n}={}){return n?e.test(t,"insert"):e.consume(t,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oP(t){const{schema:e,document:n}=t.model;for(const r of n.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0;return!1}function iP(t,e,n){const r=n.createContext(t);return!(!n.checkChild(r,"paragraph")||!n.checkChild(r.push("paragraph"),e))}function sP(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jne extends Y_{elementToElement(e){return this.add(aP(e))}elementToAttribute(e){return this.add(Hne(e))}attributeToAttribute(e){return this.add(Wne(e))}elementToMarker(e){return this.add(Gne(e))}dataToMarker(e){return this.add(qne(e))}}function _C(){return(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:r,modelCursor:o}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=o}}}function zne(){return(t,e,{schema:n,consumable:r,writer:o})=>{let i=e.modelCursor;if(!r.test(e.viewItem))return;if(!n.checkChild(i,"$text")){if(!iP(i,"$text",n)||e.viewItem.data.trim().length==0)return;const a=i.nodeBefore;i=sP(i,o),a&&a.is("element","$marker")&&(o.move(o.createRangeOn(a),i),i=o.createPositionAfter(a))}r.consume(e.viewItem);const s=o.createText(e.viewItem.data);o.insert(s,i),e.modelRange=o.createRange(i,i.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}}function Une(t,e){return(n,r)=>{const o=r.newSelection,i=[];for(const a of o.getRanges())i.push(e.toModelRange(a));const s=t.createSelection(i,{backward:o.isBackward});s.isEqual(t.document.selection)||t.change(a=>{a.setSelection(s)})}}function aP(t){t=Bo(t);const e=op(t),n=sb(t.view),r=n?"element:".concat(n):"element";return o=>{o.on(r,e,{priority:t.converterPriority||"normal"})}}function Hne(t){t=Bo(t),lP(t);const e=cP(t,!1),n=sb(t.view),r=n?"element:".concat(n):"element";return o=>{o.on(r,e,{priority:t.converterPriority||"low"})}}function Wne(t){t=Bo(t);let e=null;(typeof t.view=="string"||t.view.key)&&(e=Xne(t)),lP(t,e);const n=cP(t,!0);return r=>{r.on("element",n,{priority:t.converterPriority||"low"})}}function Gne(t){const e=Zne(t.model);return aP({...t,model:e})}function qne(t){t=Bo(t),t.model||(t.model=o=>o?t.view+":"+o:t.view);const e={view:t.view,model:t.model},n=op(PC(e,"start")),r=op(PC(e,"end"));return o=>{o.on("element:".concat(t.view,"-start"),n,{priority:t.converterPriority||"normal"}),o.on("element:".concat(t.view,"-end"),r,{priority:t.converterPriority||"normal"});const i=ys.low,s=ys.highest,a=ys.get(t.converterPriority)/s;o.on("element",Kne(e),{priority:i+a})}}function Kne(t){return(e,n,r)=>{const o="data-".concat(t.view);if(!r.consumable.test(n.viewItem,{attributes:o+"-end-after"})&&!r.consumable.test(n.viewItem,{attributes:o+"-start-after"})&&!r.consumable.test(n.viewItem,{attributes:o+"-end-before"})&&!r.consumable.test(n.viewItem,{attributes:o+"-start-before"}))return;n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:o+"-end-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-end-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-start-before").split(","));function i(s,a){for(const c of a){const u=t.model(c,r),d=r.writer.createElement("$marker",{"data-name":u});r.writer.insert(d,s),n.modelCursor.isEqual(s)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(s,1),n.modelRange=n.modelRange._getTransformedByInsertion(s,1)[0]}}}}function sb(t){return typeof t=="string"?t:typeof t=="object"&&typeof t.name=="string"?t.name:null}function op(t){const e=new hc(t.view);return(n,r,o)=>{const i=e.match(r.viewItem);if(!i)return;const s=i.match;if(s.name=!0,!o.consumable.test(r.viewItem,s))return;const a=Yne(t.model,r.viewItem,o);a&&o.safeInsert(a,r.modelCursor)&&(o.consumable.consume(r.viewItem,s),o.convertChildren(r.viewItem,a),o.updateConversionResult(a,r))}}function Yne(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}function Xne(t){typeof t.view=="string"&&(t.view={key:t.view});const e=t.view.key,n=typeof t.view.value>"u"?/[\s\S]*/:t.view.value;let r;return e=="class"||e=="style"?r={[e=="class"?"classes":"styles"]:n}:r={attributes:{[e]:n}},t.view.name&&(r.name=t.view.name),t.view=r,e}function lP(t,e=null){const n=e===null?!0:i=>i.getAttribute(e),r=typeof t.model!="object"?t.model:t.model.key,o=typeof t.model!="object"||typeof t.model.value>"u"?n:t.model.value;t.model={key:r,value:o}}function cP(t,e){const n=new hc(t.view);return(r,o,i)=>{if(!o.modelRange&&e)return;const s=n.match(o.viewItem);if(!s||(Qne(t.view,o.viewItem)?s.match.name=!0:delete s.match.name,!i.consumable.test(o.viewItem,s.match)))return;const a=t.model.key,c=typeof t.model.value=="function"?t.model.value(o.viewItem,i):t.model.value;if(c===null)return;o.modelRange||Object.assign(o,i.convertChildren(o.viewItem,o.modelCursor)),Jne(o.modelRange,{key:a,value:c},e,i)&&(i.consumable.test(o.viewItem,{name:!0})&&(s.match.name=!0),i.consumable.consume(o.viewItem,s.match))}}function Qne(t,e){const n=typeof t=="function"?t(e):t;return typeof n=="object"&&!sb(n)?!1:!n.classes&&!n.attributes&&!n.styles}function Jne(t,e,n,r){let o=!1;for(const i of Array.from(t.getItems({shallow:n})))r.schema.checkAttribute(i,e.key)&&(o=!0,!i.hasAttribute(e.key)&&r.writer.setAttribute(e.key,e.value,i));return o}function Zne(t){return(e,n)=>{const r=typeof t=="string"?t:t(e,n);return n.writer.createElement("$marker",{"data-name":r})}}function PC(t,e){const n=(r,o)=>{const i=r.getAttribute("name"),s=t.model(i,o);return o.writer.createElement("$marker",{"data-name":s})};return{view:"".concat(t.view,"-").concat(e),model:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ere(t){t.document.registerPostFixer(e=>tre(e,t))}function tre(t,e){const n=e.document.selection,r=e.schema,o=[];let i=!1;for(const s of n.getRanges()){const a=uP(s,r);a&&!a.isEqual(s)?(o.push(a),i=!0):o.push(s)}return i&&t.setSelection(ire(o),{backward:n.isBackward}),!1}function uP(t,e){return t.isCollapsed?nre(t,e):rre(t,e)}function nre(t,e){const n=t.start,r=e.getNearestSelectionRange(n);if(!r){const i=n.getAncestors().reverse().find(s=>e.isObject(s));return i?ve._createOn(i):null}if(!r.isCollapsed)return r;const o=r.start;return n.isEqual(o)?null:new ve(o)}function rre(t,e){const{start:n,end:r}=t,o=e.checkChild(n,"$text"),i=e.checkChild(r,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(r);if(s===a){if(o&&i)return null;if(ore(n,r,e)){const f=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),h=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),g=f?f.start:n,p=h?h.end:r;return new ve(g,p)}}const c=s&&!s.is("rootElement"),u=a&&!a.is("rootElement");if(c||u){const d=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,f=c&&(!d||!kC(n.nodeAfter,e)),m=u&&(!d||!kC(r.nodeBefore,e));let h=n,g=r;return f&&(h=Oe._createBefore(MC(s,e))),m&&(g=Oe._createAfter(MC(a,e))),new ve(h,g)}return null}function MC(t,e){let n=t,r=n;for(;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function ore(t,e,n){const r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||o}function ire(t){const e=[...t],n=new Set;let r=1;for(;r<e.length;){const i=e[r],s=e.slice(0,r);for(const[a,c]of s.entries())if(!n.has(a)){if(i.isEqual(c))n.add(a);else if(i.isIntersecting(c)){n.add(a),n.add(r);const u=i.getJoined(c);e.push(u)}}r++}return e.filter((i,s)=>!n.has(s))}function kC(t,e){return t&&e.isSelectable(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sre extends An(){constructor(e,n){super(),this.model=e,this.view=new Kte(n),this.mapper=new G_,this.downcastDispatcher=new q_({mapper:this.mapper,schema:e.schema});const r=this.model.document,o=r.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(s=>{this.downcastDispatcher.convertChanges(r.differ,i,s),this.downcastDispatcher.convertSelection(o,i,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Une(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",are(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",X_(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Q_(),{priority:"lowest"}),this.downcastDispatcher.on("remove",une(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",mne()),this.downcastDispatcher.on("selection",dne(),{priority:"low"}),this.downcastDispatcher.on("selection",fne(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(s=>{if(s.rootName=="$graveyard")return null;const a=new k_(this.view.document,s.name);return a.rootName=s.rootName,this.mapper.bindElements(s,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const n=typeof e=="string"?e:e.name,r=this.model.markers.get(n);if(!r)throw new ae("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function are(t,e,n){return(r,o)=>{if(!(n.document.isComposing&&!jt.isAndroid))for(let i=0;i<o.targetRanges.length;i++){const s=o.targetRanges[i],a=t.toModelRange(s),c=uP(a,e);!c||c.isEqual(a)||(o.targetRanges[i]=t.toViewRange(c))}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xl{constructor(){this._consumables=new Map}add(e,n){let r;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?r=this._consumables.get(e):(r=new lre(e),this._consumables.set(e,r)),r.add(n)}test(e,n){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(n)}consume(e,n){return this.test(e,n)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(n),!0):!1}revert(e,n){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(n))}static consumablesFromElement(e){const n={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const s of r)s=="style"||s=="class"||n.attributes.push(s);const o=e.getClassNames();for(const s of o)n.classes.push(s);const i=e.getStyleNames();for(const s of i)n.styles.push(s);return n}static createFrom(e,n){if(n||(n=new Xl),e.is("$text"))return n.add(e),n;e.is("element")&&n.add(e,Xl.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);for(const r of e.getChildren())n=Xl.createFrom(r,n);return n}}const Ru=["attributes","classes","styles"];class lre{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const n of Ru)n in e&&this._add(n,e[n])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const n of Ru)if(n in e){const r=this._test(n,e[n]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const n of Ru)n in e&&this._consume(n,e[n])}revert(e){e.name&&(this._canConsumeName=!0);for(const n of Ru)n in e&&this._revert(n,e[n])}_add(e,n){const r=Gn(n),o=this._consumables[e];for(const i of r){if(e==="attributes"&&(i==="class"||i==="style"))throw new ae("viewconsumable-invalid-attribute",this);if(o.set(i,!0),e==="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(i))o.set(s,!0)}}_test(e,n){const r=Gn(n),o=this._consumables[e];for(const i of r)if(e==="attributes"&&(i==="class"||i==="style")){const s=i=="class"?"classes":"styles",a=this._test(s,[...this._consumables[s].keys()]);if(a!==!0)return a}else{const s=o.get(i);if(s===void 0)return null;if(!s)return!1}return!0}_consume(e,n){const r=Gn(n),o=this._consumables[e];for(const i of r)if(e==="attributes"&&(i==="class"||i==="style")){const s=i=="class"?"classes":"styles";this._consume(s,[...this._consumables[s].keys()])}else if(o.set(i,!1),e=="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(i))o.set(s,!1)}_revert(e,n){const r=Gn(n),o=this._consumables[e];for(const i of r)if(e==="attributes"&&(i==="class"||i==="style")){const s=i=="class"?"classes":"styles";this._revert(s,[...this._consumables[s].keys()])}else o.get(i)===!1&&o.set(i,!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cre extends An(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,n)=>{n[0]=new xs(n[0])},{priority:"highest"}),this.on("checkChild",(e,n)=>{n[0]=new xs(n[0]),n[1]=this.getDefinition(n[1])},{priority:"highest"})}register(e,n){if(this._sourceDefinitions[e])throw new ae("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}extend(e,n){if(!this._sourceDefinitions[e])throw new ae("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let n;return typeof e=="string"?n=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?n="$text":n=e.name,this.getDefinitions()[n]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const n=this.getDefinition(e);return!!(n&&n.isBlock)}isLimit(e){const n=this.getDefinition(e);return n?!!(n.isLimit||n.isObject):!1}isObject(e){const n=this.getDefinition(e);return n?!!(n.isObject||n.isLimit&&n.isSelectable&&n.isContent):!1}isInline(e){const n=this.getDefinition(e);return!!(n&&n.isInline)}isSelectable(e){const n=this.getDefinition(e);return n?!!(n.isSelectable||n.isObject):!1}isContent(e){const n=this.getDefinition(e);return n?!!(n.isContent||n.isObject):!1}checkChild(e,n){return n?this._checkContextMatch(n,e):!1}checkAttribute(e,n){const r=this.getDefinition(e.last);return r?r.allowAttributes.includes(n):!1}checkMerge(e,n){if(e instanceof Oe){const r=e.nodeBefore,o=e.nodeAfter;if(!(r instanceof _n))throw new ae("schema-check-merge-no-element-before",this);if(!(o instanceof _n))throw new ae("schema-check-merge-no-element-after",this);return this.checkMerge(r,o)}for(const r of n.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(n,[r,o])=>{if(!o)return;const i=e(r,o);typeof i=="boolean"&&(n.stop(),n.return=i)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(n,[r,o])=>{const i=e(r,o);typeof i=="boolean"&&(n.stop(),n.return=i)},{priority:"high"})}setAttributeProperties(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let n;for(e instanceof Oe?n=e.parent:n=(e instanceof ve?[e]:Array.from(e.getRanges())).reduce((o,i)=>{const s=i.getCommonAncestor();return o?o.getCommonAncestor(s,{includeSelf:!0}):s},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}checkAttributeInSelection(e,n){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new vn("",e.getAttributes())];return this.checkAttribute(o,n)}else{const r=e.getRanges();for(const o of r)for(const i of o)if(this.checkAttribute(i.item,n))return!0}return!1}*getValidRanges(e,n){e=Ere(e);for(const r of e)yield*this._getValidRangesForRange(r,n)}getNearestSelectionRange(e,n="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ve(e);let r,o;const i=e.getAncestors().reverse().find(s=>this.isLimit(s))||e.root;(n=="both"||n=="backward")&&(r=new hi({boundaries:ve._createIn(i),startPosition:e,direction:"backward"})),(n=="both"||n=="forward")&&(o=new hi({boundaries:ve._createIn(i),startPosition:e}));for(const s of Are(r,o)){const a=s.walker==r?"elementEnd":"elementStart",c=s.value;if(c.type==a&&this.isObject(c.item))return ve._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new ve(c.nextPosition)}return null}findAllowedParent(e,n){let r=e.parent;for(;r;){if(this.checkChild(r,n))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,n,r){const o=r.model;for(const[i,s]of Object.entries(n))o.schema.checkAttribute(e,i)&&r.setAttribute(i,s,e)}removeDisallowedAttributes(e,n){for(const r of e)if(r.is("$text"))RC(this,r,n);else{const i=ve._createIn(r).getPositions();for(const s of i){const a=s.nodeBefore||s.parent;RC(this,a,n)}}}getAttributesWithProperty(e,n,r){const o={};for(const[i,s]of e.getAttributes()){const a=this.getAttributeProperties(i);a[n]!==void 0&&(r===void 0||r===a[n])&&(o[i]=s)}return o}createContext(e){return new xs(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},n=this._sourceDefinitions,r=Object.keys(n);for(const i of r)e[i]=ure(n[i],i);const o=Object.values(e);for(const i of o)dre(e,i),fre(e,i),mre(e,i),hre(e,i);for(const i of o)gre(e,i);for(const i of o)pre(e,i);for(const i of o)vre(e,i);for(const i of o)wre(e,i);for(const i of o)yre(e,i);this._compiledDefinitions=bre(e)}_checkContextMatch(e,n,r=n.length-1){const o=n.getItem(r);if(e.allowIn.includes(o.name)){if(r==0)return!0;{const i=this.getDefinition(o);return this._checkContextMatch(i,n,r-1)}}else return!1}*_getValidRangesForRange(e,n){let r=e.start,o=e.start;for(const i of e.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(ve._createIn(i),n)),this.checkAttribute(i,n)||(r.isEqual(o)||(yield new ve(r,o)),r=Oe._createAfter(i)),o=Oe._createAfter(i);r.isEqual(o)||(yield new ve(r,o))}findOptimalInsertionRange(e,n){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return n=="before"||n=="after"?new ve(Oe._createAt(r,n)):ve._createOn(r);const o=al(e.getSelectedBlocks());if(!o)return new ve(e.focus);if(o.isEmpty)return new ve(Oe._createAt(o,0));const i=Oe._createAfter(o);return e.focus.isTouching(i)?new ve(i):new ve(Oe._createBefore(o))}}class xs{constructor(e){if(e instanceof xs)return e;let n;typeof e=="string"?n=[e]:Array.isArray(e)?n=e:n=e.getAncestors({includeSelf:!0}),this._items=n.map(xre)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const n=new xs([e]);return n._items=[...this._items,...n._items],n}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function ure(t,e){const n={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return Cre(t,n),Uo(t,n,"allowIn"),Uo(t,n,"allowChildren"),Uo(t,n,"disallowIn"),Uo(t,n,"disallowChildren"),Uo(t,n,"allowContentOf"),Uo(t,n,"allowWhere"),Uo(t,n,"allowAttributes"),Uo(t,n,"disallowAttributes"),Uo(t,n,"allowAttributesOf"),Uo(t,n,"inheritTypesFrom"),Sre(t,n),n}function dre(t,e){for(const n of e.allowIn){const r=t[n];r?r.allowChildren.add(e.name):e.allowIn.delete(n)}}function fre(t,e){for(const n of e.allowChildren){const r=t[n];r?r.allowIn.add(e.name):e.allowChildren.delete(n)}}function mre(t,e){for(const n of e.disallowIn){const r=t[n];r?r.disallowChildren.add(e.name):e.disallowIn.delete(n)}}function hre(t,e){for(const n of e.disallowChildren){const r=t[n];r?r.disallowIn.add(e.name):e.disallowChildren.delete(n)}}function gre(t,e){for(const n of e.disallowChildren)e.allowChildren.delete(n);for(const n of e.disallowIn)e.allowIn.delete(n);for(const n of e.disallowAttributes)e.allowAttributes.delete(n)}function pre(t,e){for(const n of e.allowContentOf){const r=t[n];r&&(r.disallowChildren.forEach(o=>{e.allowChildren.has(o)||(e.disallowChildren.add(o),t[o].disallowIn.add(e.name))}),r.allowChildren.forEach(o=>{e.disallowChildren.has(o)||(e.allowChildren.add(o),t[o].allowIn.add(e.name))}))}}function vre(t,e){for(const n of e.allowWhere){const r=t[n];r&&(r.disallowIn.forEach(o=>{e.allowIn.has(o)||(e.disallowIn.add(o),t[o].disallowChildren.add(e.name))}),r.allowIn.forEach(o=>{e.disallowIn.has(o)||(e.allowIn.add(o),t[o].allowChildren.add(e.name))}))}}function bre(t){const e={};for(const n of Object.values(t))e[n.name]={name:n.name,isBlock:!!n.isBlock,isContent:!!n.isContent,isInline:!!n.isInline,isLimit:!!n.isLimit,isObject:!!n.isObject,isSelectable:!!n.isSelectable,allowIn:Array.from(n.allowIn).filter(r=>!!t[r]),allowChildren:Array.from(n.allowChildren).filter(r=>!!t[r]),allowAttributes:Array.from(n.allowAttributes)};return e}function wre(t,e){for(const n of e.allowAttributesOf){const r=t[n];if(!r)return;r.allowAttributes.forEach(o=>{e.disallowAttributes.has(o)||e.allowAttributes.add(o)})}}function yre(t,e){for(const n of e.inheritTypesFrom){const r=t[n];if(r){const o=Object.keys(r).filter(i=>i.startsWith("is"));for(const i of o)i in e||(e[i]=r[i])}}}function Cre(t,e){for(const n of t){const r=Object.keys(n).filter(o=>o.startsWith("is"));for(const o of r)e[o]=!!n[o]}}function Uo(t,e,n){for(const r of t){let o=r[n];typeof o=="string"&&(o=[o]),Array.isArray(o)&&o.forEach(i=>e[n].add(i))}}function Sre(t,e){for(const n of t){const r=n.inheritAllFrom;r&&(e.allowContentOf.add(r),e.allowWhere.add(r),e.allowAttributesOf.add(r),e.inheritTypesFrom.add(r))}}function xre(t){return typeof t=="string"||t.is("documentFragment")?{name:typeof t=="string"?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute(e){return t.getAttribute(e)}}}function*Are(t,e){let n=!1;for(;!n;){if(n=!0,t){const r=t.next();r.done||(n=!1,yield{walker:t,value:r.value})}if(e){const r=e.next();r.done||(n=!1,yield{walker:e,value:r.value})}}}function*Ere(t){for(const e of t)yield*e.getMinimalFlatRanges()}function RC(t,e,n){for(const r of e.getAttributeKeys())t.checkAttribute(e,r)||n.removeAttribute(r,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ire extends wn(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(n,r)=>this._convertItem(n,r),convertChildren:(n,r)=>this._convertChildren(n,r),safeInsert:(n,r)=>this._safeInsert(n,r),updateConversionResult:(n,r)=>this._updateConversionResult(n,r),splitToAllowedParent:(n,r)=>this._splitToAllowedParent(n,r),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)}}convert(e,n,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=Pre(r,n),this.conversionApi.writer=n,this.conversionApi.consumable=Xl.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),i=n.createDocumentFragment();if(o){this._removeEmptyElements();for(const s of Array.from(this._modelCursor.parent.getChildren()))n.append(s,i);i.markers=_re(i,n)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,n){const r={viewItem:e,modelCursor:n,modelRange:null};if(e.is("element")?this.fire("element:".concat(e.name),r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof ve))throw new ae("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,n){let r=n.is("position")?n:Oe._createAt(n,0);const o=new ve(r);for(const i of Array.from(e.getChildren())){const s=this._convertItem(i,r);s.modelRange instanceof ve&&(o.end=s.modelRange.end,r=s.modelCursor)}return{modelRange:o,modelCursor:r}}_safeInsert(e,n){const r=this._splitToAllowedParent(e,n);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,n){const r=this._getSplitParts(e),o=this.conversionApi.writer;n.modelRange||(n.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(r[r.length-1])));const i=this._cursorParents.get(e);i?n.modelCursor=o.createPositionAt(i,0):n.modelCursor=n.modelRange.end}_splitToAllowedParent(e,n){const{schema:r,writer:o}=this.conversionApi;let i=r.findAllowedParent(n,e);if(i){if(i===n.parent)return{position:n};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return iP(n,e,r)?{position:sP(n,o)}:null;const s=this.conversionApi.writer.split(n,i),a=[];for(const u of s.range.getWalker())if(u.type=="elementEnd")a.push(u.item);else{const d=a.pop(),f=u.item;this._registerSplitPair(d,f)}const c=s.range.end.parent;return this._cursorParents.set(e,c),{position:s.position,cursorParent:c}}_registerSplitPair(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(n,r),r.push(n)}_getSplitParts(e){let n;return this._splitParts.has(e)?n=this._splitParts.get(e):n=[e],n}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const n of this._splitParts.keys())n.isEmpty&&!this._emptyElementsToKeep.has(n)&&(this.conversionApi.writer.remove(n),this._splitParts.delete(n),e=!0);e&&this._removeEmptyElements()}}function _re(t,e){const n=new Set,r=new Map,o=ve._createIn(t).getItems();for(const i of o)i.is("element","$marker")&&n.add(i);for(const i of n){const s=i.getAttribute("data-name"),a=e.createPositionBefore(i);r.has(s)?r.get(s).end=a.clone():r.set(s,new ve(a.clone())),e.remove(i)}return r}function Pre(t,e){let n;for(const r of new xs(t)){const o={};for(const s of r.getAttributeKeys())o[s]=r.getAttribute(s);const i=e.createElement(r.name,o);n&&e.insert(i,n),n=Oe._createAt(i,0)}return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mre{getHtml(e){const r=ut.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kre{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new V_(e,{renderingMode:"data"}),this.htmlWriter=new Mre}toData(e){const n=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(n)}toView(e){const n=this._toDom(e);return this.domConverter.domToView(n,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e="<body>".concat(e,"</body>"));const n=this.domParser.parseFromString(e,"text/html"),r=n.createDocumentFragment(),o=n.body.childNodes;for(;o.length>0;)r.appendChild(o[0]);return r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rre extends wn(){constructor(e,n){super(),this.model=e,this.mapper=new G_,this.downcastDispatcher=new q_({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",X_(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Q_(),{priority:"lowest"}),this.upcastDispatcher=new Ire({schema:e.schema}),this.viewDocument=new O_(n),this.stylesProcessor=n,this.htmlProcessor=new kre(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new D_(this.viewDocument),this.upcastDispatcher.on("text",zne(),{priority:"lowest"}),this.upcastDispatcher.on("element",_C(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",_C(),{priority:"lowest"}),An().prototype.decorate.call(this,"init"),An().prototype.decorate.call(this,"set"),An().prototype.decorate.call(this,"get"),An().prototype.decorate.call(this,"toView"),An().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},oP)},{priority:"lowest"})}get(e={}){const{rootName:n="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([n]))throw new ae("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(n);return o.isAttached()||an("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(o,{ignoreWhitespaces:!0})?"":this.stringify(o,e)}stringify(e,n={}){const r=this.toView(e,n);return this.processor.toData(r)}toView(e,n={}){const r=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const i=ve._createIn(e),s=new Ss(r);this.mapper.bindElements(e,s);const a=e.is("documentFragment")?e.markers:Tre(e);return this.downcastDispatcher.convert(i,a,o,n),s}init(e){if(this.model.document.version)throw new ae("datacontroller-init-document-not-empty",this);let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new ae("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const o of Object.keys(n)){const i=this.model.document.getRoot(o);r.insert(this.parse(n[o],i),i,0)}}),Promise.resolve()}set(e,n={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new ae("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const i of Object.keys(r)){const s=this.model.document.getRoot(i);o.remove(o.createRangeIn(s)),o.insert(this.parse(r[i],s),s,0)}})}parse(e,n="$root"){const r=this.processor.toView(e);return this.toModel(r,n)}toModel(e,n="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const n of e)if(!this.model.document.getRoot(n))return!1;return!0}}function Tre(t){const e=[],n=t.root.document;if(!n)return new Map;const r=ve._createIn(t);for(const o of n.model.markers){const i=o.getRange(),s=i.isCollapsed,a=i.start.isEqual(r.start)||i.end.isEqual(r.end);if(s&&a)e.push([o.name,i]);else{const c=r.getIntersection(i);c&&e.push([o.name,c])}}return e.sort(([o,i],[s,a])=>{if(i.end.compareWith(a.start)!=="after")return 1;if(i.start.compareWith(a.end)!=="before")return-1;switch(i.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(i.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(o)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ore{constructor(e,n){this._helpers=new Map,this._downcast=Gn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Gn(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,n){const r=this._downcast.includes(n);if(!this._upcast.includes(n)&&!r)throw new ae("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[n],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new ae("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:n,view:r}of hh(e))this.for("upcast").elementToElement({model:n,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:n,view:r}of hh(e))this.for("upcast").elementToAttribute({view:r,model:n,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:n,view:r}of hh(e))this.for("upcast").attributeToAttribute({view:r,model:n})}_createConversionHelpers({name:e,dispatchers:n,isDowncast:r}){if(this._helpers.has(e))throw new ae("conversion-group-exists",this);const o=r?new cne(n):new jne(n);this._helpers.set(e,o)}}function*hh(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},r=t.view[e],o=t.upcastAlso?t.upcastAlso[e]:void 0;yield*TC(n,r,o)}else yield*TC(t.model,t.view,t.upcastAlso)}function*TC(t,e,n){if(yield{model:t,view:e},n)for(const r of Gn(n))yield{model:t,view:r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ro{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ab(t,e){const n=fP(e),r=n.reduce((s,a)=>s+a.offsetSize,0),o=t.parent;Cc(t);const i=t.index;return o._insertChild(i,n),yc(o,i+n.length),yc(o,i),new ve(t,t.getShiftedBy(r))}function dP(t){if(!t.isFlat)throw new ae("operation-utils-remove-range-not-flat",this);const e=t.start.parent;Cc(t.start),Cc(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return yc(e,t.start.index),n}function wc(t,e){if(!t.isFlat)throw new ae("operation-utils-move-range-not-flat",this);const n=dP(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),ab(e,n)}function Nre(t,e,n){Cc(t.start),Cc(t.end);for(const r of t.getItems({shallow:!0})){const o=r.is("$textProxy")?r.textNode:r;n!==null?o._setAttribute(e,n):o._removeAttribute(e),yc(o.parent,o.index)}yc(t.end.parent,t.end.index)}function fP(t){const e=[];function n(r){if(typeof r=="string")e.push(new vn(r));else if(r instanceof Po)e.push(new vn(r.data,r.getAttributes()));else if(r instanceof Us)e.push(r);else if(no(r))for(const o of r)n(o)}n(t);for(let r=1;r<e.length;r++){const o=e[r],i=e[r-1];o instanceof vn&&i instanceof vn&&mP(o,i)&&(e.splice(r-1,2,new vn(i.data+o.data,i.getAttributes())),r--)}return e}function yc(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&mP(n,r)){const o=new vn(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function Cc(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const i=new vn(e.data.substr(0,r),e.getAttributes()),s=new vn(e.data.substr(r),e.getAttributes());n._insertChild(o,[i,s])}}function mP(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const o of n){if(o[1]!==e.getAttribute(o[0]))return!1;r.next()}return r.next().done}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class en extends ro{constructor(e,n,r,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=n,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ve._createFromPositionAndShift(this.sourcePosition,this.howMany),ve._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new en(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new en(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent,r=this.sourcePosition.offset,o=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new ae("move-operation-nodes-do-not-exist",this);if(e===n&&r<o&&o<r+this.howMany)throw new ae("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Tr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=r&&this.targetPosition.path[i]<r+this.howMany)throw new ae("move-operation-node-into-itself",this)}}_execute(){wc(ve._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,n){const r=Oe.fromJSON(e.sourcePosition,n),o=Oe.fromJSON(e.targetPosition,n);return new this(r,e.howMany,o,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dr extends ro{constructor(e,n,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Kl(fP(n)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Kl([...this.nodes].map(r=>r._clone(!0))),n=new dr(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}getReversed(){const e=this.position.root.document.graveyard,n=new Oe(e,[0]);return new en(this.position,this.nodes.maxOffset,n,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new ae("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Kl([...e].map(n=>n._clone(!0))),ab(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,n){const r=[];for(const i of e.nodes)i.name?r.push(_n.fromJSON(i)):r.push(vn.fromJSON(i));const o=new dr(Oe.fromJSON(e.position,n),r,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bn extends ro{constructor(e,n,r,o,i){super(i),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=n,this.insertionPosition=r,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Oe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ve(this.splitPosition,e)}get affectedSelectable(){const e=[ve._createFromPositionAndShift(this.splitPosition,0),ve._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ve._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new bn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,n=new Oe(e,[0]);return new Tn(this.moveTargetPosition,this.howMany,this.splitPosition,n,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,n=this.splitPosition.offset;if(!e||e.maxOffset<n)throw new ae("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new ae("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new ae("split-operation-graveyard-position-invalid",this)}else throw new ae("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)wc(ve._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();ab(this.insertionPosition,r)}const n=new ve(Oe._createAt(e,this.splitPosition.offset),Oe._createAt(e,e.maxOffset));wc(n,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const n=e.path.slice(0,-1);return n[n.length-1]++,new Oe(e.root,n,"toPrevious")}static fromJSON(e,n){const r=Oe.fromJSON(e.splitPosition,n),o=Oe.fromJSON(e.insertionPosition,n),i=e.graveyardPosition?Oe.fromJSON(e.graveyardPosition,n):null;return new this(r,e.howMany,o,i,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tn extends ro{constructor(e,n,r,o,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=n,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new Oe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ve(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ve._createOn(e),ve._createFromPositionAndShift(this.targetPosition,0),ve._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Tn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),n=this.sourcePosition.path.slice(0,-1),r=new Oe(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new bn(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent;if(e.parent)if(n.parent){if(this.howMany!=e.maxOffset)throw new ae("merge-operation-how-many-invalid",this)}else throw new ae("merge-operation-target-position-invalid",this);else throw new ae("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,n=ve._createIn(e);wc(n,this.targetPosition),wc(ve._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,n){const r=Oe.fromJSON(e.sourcePosition,n),o=Oe.fromJSON(e.targetPosition,n),i=Oe.fromJSON(e.graveyardPosition,n);return new this(r,e.howMany,o,i,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Br extends ro{constructor(e,n,r,o,i,s){super(s),this.name=e,this.oldRange=n?n.clone():null,this.newRange=r?r.clone():null,this.affectsData=i,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Br(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Br(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,n){return new Br(e.name,e.oldRange?ve.fromJSON(e.oldRange,n):null,e.newRange?ve.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bn extends ro{constructor(e,n,r,o,i){super(i),this.range=e.clone(),this.key=n,this.oldValue=r===void 0?null:r,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Bn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Bn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new ae("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xb(e.getAttribute(this.key),this.oldValue))throw new ae("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new ae("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){xb(this.oldValue,this.newValue)||Nre(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,n){return new Bn(ve.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qn extends ro{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new qn(this.baseVersion)}getReversed(){return new qn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vr extends ro{constructor(e,n,r,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=n,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Vr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Vr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof _n){if(e.name!==this.oldName)throw new ae("rename-operation-wrong-name",this)}else throw new ae("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,n){return new Vr(Oe.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bi extends ro{constructor(e,n,r,o,i){super(i),this.root=e,this.key=n,this.oldValue=r===void 0?null:r,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new bi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new bi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new ae("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new ae("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new ae("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,n){if(!n.getRoot(e.root))throw new ae("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new bi(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xo extends ro{constructor(e,n,r,o,i){if(super(i),this.rootName=e,this.elementName=n,this.isAdd=r,this._document=o,!this._document.getRoot(this.rootName)){const s=this._document.createRoot(this.elementName,this.rootName);s._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Xo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Xo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,n){return new Xo(e.rootName,e.elementName,e.isAdd,n,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const wo={};wo[Bn.className]=Bn;wo[dr.className]=dr;wo[Br.className]=Br;wo[en.className]=en;wo[qn.className]=qn;wo[ro.className]=ro;wo[Vr.className]=Vr;wo[bi.className]=bi;wo[Xo.className]=Xo;wo[bn.className]=bn;wo[Tn.className]=Tn;class Dre{static fromJSON(e,n){return wo[e.__className].fromJSON(e,n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ip=new Map;function Zt(t,e,n){let r=ip.get(t);r||(r=new Map,ip.set(t,r)),r.set(e,n)}function $re(t,e){const n=ip.get(t);return n&&n.has(e)?n.get(e):Fre}function Fre(t){return[t]}function OC(t,e,n={}){const r=$re(t.constructor,e.constructor);try{return t=t.clone(),r(t,e,n)}catch(o){throw o}}function Lre(t,e,n){t=t.slice(),e=e.slice();const r=new Bre(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);const o=r.originalOperations;if(t.length==0||e.length==0)return{operationsA:t,operationsB:e,originalOperations:o};const i=new WeakMap;for(const c of t)i.set(c,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const c=t[a],u=i.get(c);if(u==e.length){a++;continue}const d=e[u],f=OC(c,d,r.getContext(c,d,!0)),m=OC(d,c,r.getContext(d,c,!1));r.updateRelation(c,d),r.setOriginalOperations(f,c),r.setOriginalOperations(m,d);for(const h of f)i.set(h,u+m.length);t.splice(a,1,...f),e.splice(u,1,...m)}if(n.padWithNoOps){const c=t.length-s.originalOperationsACount,u=e.length-s.originalOperationsBCount;DC(t,u-c),DC(e,c-u)}return NC(t,s.nextBaseVersionB),NC(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:o}}class Bre{constructor(e,n,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,n=null){const r=n?this.originalOperations.get(n):null;for(const o of e)this.originalOperations.set(o,r||o)}updateRelation(e,n){if(e instanceof en)n instanceof Tn?e.targetPosition.isEqual(n.sourcePosition)||n.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,n,"insertAtSource"):e.targetPosition.isEqual(n.deletionPosition)?this._setRelation(e,n,"insertBetween"):e.targetPosition.isAfter(n.sourcePosition)&&this._setRelation(e,n,"moveTargetAfter"):n instanceof en&&(e.targetPosition.isEqual(n.sourcePosition)||e.targetPosition.isBefore(n.sourcePosition)?this._setRelation(e,n,"insertBefore"):this._setRelation(e,n,"insertAfter"));else if(e instanceof bn){if(n instanceof Tn)e.splitPosition.isBefore(n.sourcePosition)&&this._setRelation(e,n,"splitBefore");else if(n instanceof en)if(e.splitPosition.isEqual(n.sourcePosition)||e.splitPosition.isBefore(n.sourcePosition))this._setRelation(e,n,"splitBefore");else{const r=ve._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.splitPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(e.splitPosition)){const o=r.end.offset-e.splitPosition.offset,i=e.splitPosition.offset-r.start.offset;this._setRelation(e,n,{howMany:o,offset:i})}}}else if(e instanceof Tn)n instanceof Tn?(e.targetPosition.isEqual(n.sourcePosition)||this._setRelation(e,n,"mergeTargetNotMoved"),e.sourcePosition.isEqual(n.targetPosition)&&this._setRelation(e,n,"mergeSourceNotMoved"),e.sourcePosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeSameElement")):n instanceof bn?e.sourcePosition.isEqual(n.splitPosition)&&this._setRelation(e,n,"splitAtSource"):n instanceof en&&n.howMany>0&&(e.sourcePosition.isEqual(n.sourcePosition.getShiftedBy(n.howMany))&&this._setRelation(e,n,"mergeSourceAffected"),e.targetPosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeTargetWasBefore"));else if(e instanceof Br){const r=e.newRange;if(!r)return;if(n instanceof en){const o=ve._createFromPositionAndShift(n.sourcePosition,n.howMany),i=o.containsPosition(r.start)||o.start.isEqual(r.start),s=o.containsPosition(r.end)||o.end.isEqual(r.end);(i||s)&&!o.containsRange(r)&&this._setRelation(e,n,{side:i?"left":"right",path:i?r.start.path.slice():r.end.path.slice()})}else if(n instanceof Tn){const o=r.start.isEqual(n.targetPosition),i=r.start.isEqual(n.deletionPosition),s=r.end.isEqual(n.deletionPosition),a=r.end.isEqual(n.sourcePosition);(o||i||s||a)&&this._setRelation(e,n,{wasInLeftElement:o,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:s,wasInRightElement:a})}}}getContext(e,n,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(n),abRelation:this._useRelations?this._getRelation(e,n):null,baRelation:this._useRelations?this._getRelation(n,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const n=this.originalOperations.get(e);return n.wasUndone||this._history.isUndoneOperation(n)}_getRelation(e,n){const r=this.originalOperations.get(n),o=this._history.getUndoneOperation(r);if(!o)return null;const i=this.originalOperations.get(e),s=this._relations.get(i);return s&&s.get(o)||null}_setRelation(e,n,r){const o=this.originalOperations.get(e),i=this.originalOperations.get(n);let s=this._relations.get(o);s||(s=new Map,this._relations.set(o,s)),s.set(i,r)}}function NC(t,e){for(const n of t)n.baseVersion=e++}function DC(t,e){for(let n=0;n<e;n++)t.push(new qn(0))}Zt(Bn,Bn,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(i=>new Bn(i,t.key,t.oldValue,t.newValue,0)),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&r.push(new Bn(o,e.key,e.newValue,t.newValue,0)),r.length==0?[new qn(0)]:r}else return[t]});Zt(Bn,dr,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new Bn(o,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const o=hP(e,t.key,t.oldValue);o&&r.unshift(o)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]});function hP(t,e,n){const o=t.nodes.getNode(0).getAttribute(e);if(o==n)return null;const i=new ve(t.position,t.position.getShiftedBy(t.howMany));return new Bn(i,e,o,n,0)}Zt(Bn,Tn,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(ve._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(o=>new Bn(o,t.key,t.oldValue,t.newValue,t.baseVersion))});Zt(Bn,en,(t,e)=>Vre(t.range,e).map(r=>new Bn(r,t.key,t.oldValue,t.newValue,t.baseVersion)));function Vre(t,e){const n=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,o=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),r=t.getIntersection(n)):o=[t];const i=[];for(let s of o){s=s._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),c=s.start.hasSameParentAs(a),u=s._getTransformedByInsertion(a,e.howMany,c);i.push(...u)}return r&&i.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),i}Zt(Bn,bn,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new ve(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]});Zt(dr,Bn,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=hP(t,e.key,e.newValue);r&&n.push(r)}return n});Zt(dr,dr,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t]));Zt(dr,en,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));Zt(dr,bn,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]));Zt(dr,Tn,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]));Zt(Br,dr,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]));Zt(Br,Br,(t,e,n)=>{if(t.name==e.name)if(n.aIsStrong)t.oldRange=e.newRange?e.newRange.clone():null;else return[new qn(0)];return[t]});Zt(Br,Tn,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]));Zt(Br,en,(t,e,n)=>{if(t.oldRange&&(t.oldRange=ve._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const r=ve._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if(n.abRelation.side=="left"&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.end=r.end,t.newRange.start.path=n.abRelation.path,[t];if(n.abRelation.side=="right"&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=ve._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]});Zt(Br,bn,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Oe._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Oe._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=Oe._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=Oe._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]});Zt(Tn,dr,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]));Zt(Tn,Tn,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition))if(n.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new Oe(e.graveyardPosition.root,r),t.howMany=0,[t]}else return[new qn(0)];if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const r=t.targetPosition.root.rootName=="$graveyard",o=e.targetPosition.root.rootName=="$graveyard";if(o&&!r||!(r&&!o)&&n.aIsStrong){const c=e.targetPosition._getTransformedByMergeOperation(e),u=t.targetPosition._getTransformedByMergeOperation(e);return[new en(c,t.howMany,u,0)]}else return[new qn(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),(!t.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong)&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});Zt(Tn,en,(t,e,n)=>{const r=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new qn(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)?t.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(t.sourcePosition)&&n.abRelation=="mergeSourceAffected"?t.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(t.targetPosition)?(t.targetPosition.stickiness="toNone",t.howMany-=e.howMany):e.targetPosition.isEqual(t.targetPosition)&&n.abRelation=="mergeTargetWasBefore"?(t.targetPosition.stickiness="toPrevious",t.howMany+=e.howMany):(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany)),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.sourcePosition.stickiness="toPrevious",t.targetPosition.stickiness="toNext",t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])});Zt(Tn,bn,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||o||n.abRelation=="mergeTargetNotMoved")return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if(n.abRelation=="mergeSameElement"||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]});Zt(en,dr,(t,e)=>{const r=ve._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]});Zt(en,en,(t,e,n)=>{const r=ve._createFromPositionAndShift(t.sourcePosition,t.howMany),o=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=n.aIsStrong,s=!n.aIsStrong;n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?s=!0:(n.abRelation=="insertAfter"||n.baRelation=="insertBefore")&&(s=!1);let a;if(t.targetPosition.isEqual(e.targetPosition)&&s?a=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),$C(t,e)&&$C(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(o,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),pa([r],a);if(o.containsPosition(t.targetPosition)&&o.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),pa([r],a);const d=Tr(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(d=="prefix"||d=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),pa([r],a);t.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove?i=!0:t.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&(i=!1);const f=[],m=r.getDifference(o);for(const g of m){g.start=g.start._getTransformedByDeletion(e.sourcePosition,e.howMany),g.end=g.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const p=Tr(g.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",w=g._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,p);f.push(...w)}const h=r.getIntersection(o);return h!==null&&i&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),f.length===0?f.push(h):f.length==1?o.start.isBefore(r.start)||o.start.isEqual(r.start)?f.unshift(h):f.push(h):f.splice(1,0,h)),f.length===0?[new qn(t.baseVersion)]:pa(f,a)});Zt(en,bn,(t,e,n)=>{let r=t.targetPosition.clone();(!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter")&&(r=t.targetPosition._getTransformedBySplitOperation(e));const o=ve._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let a=new ve(e.splitPosition,o.end);a=a._getTransformedBySplitOperation(e);const c=[new ve(o.start,e.splitPosition),a];return pa(c,r)}t.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(r=t.targetPosition);const s=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&a&&!n.aWasUndone&&s.push(ve._createFromPositionAndShift(e.insertionPosition,1))}return pa(s,r)});Zt(en,Tn,(t,e,n)=>{const r=ve._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(t.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const s=[];let a=e.graveyardPosition.clone(),c=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(s.push(new en(t.sourcePosition,t.howMany-1,t.targetPosition,0)),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),c=c._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const u=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),d=new en(a,1,u,0),f=d.getMovedRangeStart().path.slice();f.push(0);const m=new Oe(d.targetPosition.root,f);c=c._getTransformedByMove(a,u,1);const h=new en(c,e.howMany,m,0);return s.push(d),s.push(h),s}}else if(t.howMany==1)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new qn(0)]}const i=ve._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]});Zt(Vr,dr,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]));Zt(Vr,Tn,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]));Zt(Vr,en,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));Zt(Vr,Vr,(t,e,n)=>{if(t.position.isEqual(e.position))if(n.aIsStrong)t.oldName=e.newName;else return[new qn(0)];return[t]});Zt(Vr,bn,(t,e)=>{const n=t.position.path,r=e.splitPosition.getParentPath();if(Tr(n,r)=="same"&&!e.graveyardPosition){const o=new Vr(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,o]}return t.position=t.position._getTransformedBySplitOperation(e),[t]});Zt(bi,bi,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new qn(0)];t.oldValue=e.newValue}return[t]});Zt(Xo,Xo,(t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new qn(0)]:[t]);Zt(bn,dr,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]));Zt(bn,Tn,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const o=new Oe(e.graveyardPosition.root,r),i=bn.getInsertionPosition(new Oe(e.graveyardPosition.root,r)),s=new bn(o,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=bn.getInsertionPosition(t.splitPosition),t.graveyardPosition=s.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[s,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=bn.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});Zt(bn,en,(t,e,n)=>{const r=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){const s=t.splitPosition._getTransformedByMoveOperation(e),a=t.graveyardPosition._getTransformedByMoveOperation(e),c=a.path.slice();c.push(0);const u=new Oe(a.root,c);return[new en(s,t.howMany,u,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const o=t.splitPosition.isEqual(e.targetPosition);if(o&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=bn.getInsertionPosition(t.splitPosition),[t];if(o&&n.abRelation&&n.abRelation.howMany){const{howMany:i,offset:s}=n.abRelation;return t.howMany+=i,t.splitPosition=t.splitPosition.getShiftedBy(s),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const i=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=i,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=bn.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=bn.getInsertionPosition(t.splitPosition),[t]});Zt(bn,bn,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new qn(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new qn(0)];if(n.abRelation=="splitBefore")return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r=t.splitPosition.root.rootName=="$graveyard",o=e.splitPosition.root.rootName=="$graveyard";if(o&&!r||!(r&&!o)&&n.aIsStrong){const c=[];return e.howMany&&c.push(new en(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&c.push(new en(t.splitPosition,t.howMany,t.moveTargetPosition,0)),c}else return[new qn(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&n.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const o=new Oe(e.insertionPosition.root,r),i=new en(t.insertionPosition,1,o,0);return[t,i]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=bn.getInsertionPosition(t.splitPosition),[t]});function $C(t,e){return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function pa(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=new en(o.start,o.end.offset-o.start.offset,e,0);n.push(i);for(let s=r+1;s<t.length;s++)t[s]=t[s]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fr extends wn(Oe){constructor(e,n,r="toNone"){if(super(e,n,r),!this.root.is("rootElement"))throw new ae("model-liveposition-root-not-rootelement",e);jre.call(this)}detach(){this.stopListening()}toPosition(){return new Oe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}Fr.prototype.is=function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"};function jre(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&zre.call(this,n)},{priority:"low"})}function zre(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oa{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},an("batch-constructor-deprecated-string-type"));const{isUndoable:n=!0,isLocal:r=!0,isUndo:o=!1,isTyping:i=!1}=e;this.operations=[],this.isUndoable=n,this.isLocal=r,this.isUndo=o,this.isTyping=i}get type(){return an("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sc{constructor(e){this._changesInElement=new Map,this._elementsSnapshots=new Map,this._elementChildrenSnapshots=new Map,this._elementState=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const n=e;switch(n.type){case"insert":{if(this._isInInsertedElement(n.position.parent))return;this._markInsert(n.position.parent,n.position.offset,n.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const r of n.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break}case"remove":case"move":case"reinsert":{if(n.sourcePosition.isEqual(n.targetPosition)||n.sourcePosition.getShiftedBy(n.howMany).isEqual(n.targetPosition))return;const r=this._isInInsertedElement(n.sourcePosition.parent),o=this._isInInsertedElement(n.targetPosition.parent);r||this._markRemove(n.sourcePosition.parent,n.sourcePosition.offset,n.howMany),o||this._markInsert(n.targetPosition.parent,n.getMovedRangeStart().offset,n.howMany);const i=ve._createFromPositionAndShift(n.sourcePosition,n.howMany);for(const s of i.getItems({shallow:!0}))this._setElementState(s,"move");break}case"rename":{if(this._isInInsertedElement(n.position.parent))return;this._markRemove(n.position.parent,n.position.offset,1),this._markInsert(n.position.parent,n.position.offset,1);const r=ve._createFromPositionAndShift(n.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(r)){const i=o.getData();this.bufferMarkerChange(o.name,i,i)}this._setElementState(n.position.nodeAfter,"rename");break}case"split":{const r=n.splitPosition.parent;if(!this._isInInsertedElement(r)){this._markRemove(r,n.splitPosition.offset,n.howMany);const o=ve._createFromPositionAndShift(n.splitPosition,n.howMany);for(const i of o.getItems({shallow:!0}))this._setElementState(i,"move")}this._isInInsertedElement(n.insertionPosition.parent)||this._markInsert(n.insertionPosition.parent,n.insertionPosition.offset,1),n.graveyardPosition&&(this._markRemove(n.graveyardPosition.parent,n.graveyardPosition.offset,1),this._setElementState(n.graveyardPosition.nodeAfter,"move"));break}case"merge":{const r=n.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const o=n.graveyardPosition.parent;this._markInsert(o,n.graveyardPosition.offset,1),this._setElementState(r,"move");const i=n.targetPosition.parent;if(!this._isInInsertedElement(i)){this._markInsert(i,n.targetPosition.offset,r.maxOffset);const s=ve._createFromPositionAndShift(n.sourcePosition,n.howMany);for(const a of s.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const r=n.affectedSelectable;if(!r._isLoaded||r.isAttached()==n.isAdd)return;this._bufferRootStateChange(n.rootName,n.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!n.root._isLoaded)return;const r=n.root.rootName;this._bufferRootAttributeChange(r,n.key,n.oldValue,n.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,n,r){n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let o=this._changedMarkers.get(e);o?o.newMarkerData=r:(o={newMarkerData:r,oldMarkerData:n},this._changedMarkers.set(e,o)),o.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[n,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:n,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[n,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:n,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,n])=>({name:e,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:n}of this._changedMarkers.values()){if(e.affectsData!==n.affectsData)return!0;if(e.affectsData){const r=e.range&&!n.range,o=!e.range&&n.range,i=e.range&&n.range&&!e.range.isEqual(n.range);if(r||o||i)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let n=[];for(const r of this._changesInElement.keys()){const o=this._changesInElement.get(r).sort((d,f)=>d.offset===f.offset?d.type!=f.type?d.type=="remove"?-1:1:0:d.offset<f.offset?-1:1),i=this._elementChildrenSnapshots.get(r),s=LC(r.getChildren()),a=Ure(i.length,o);let c=0,u=0;for(const d of a)if(d==="i"){const f=this._getDiffActionForNode(s[c].node,"insert"),m=this._elementsSnapshots.get(s[c].node),h=this._getInsertDiff(r,c,f,s[c],m);n.push(h),c++}else if(d==="r"){const f=this._getDiffActionForNode(i[u].node,"remove"),m=this._getRemoveDiff(r,c,f,i[u]);n.push(m),u++}else if(d==="a"){const f=i[u].attributes,m=s[c].attributes;let h;if(s[c].name=="$text")h=new ve(Oe._createAt(r,c),Oe._createAt(r,c+1));else{const p=r.offsetToIndex(c);h=new ve(Oe._createAt(r,c),Oe._createAt(r.getChild(p),0))}const g=this._getAttributesDiff(h,f,m);n.push(...g),c++,u++}else c++,u++}n.sort((r,o)=>r.position.root!=o.position.root?r.position.root.rootName<o.position.root.rootName?-1:1:r.position.isEqual(o.position)?r.changeCount-o.changeCount:r.position.isBefore(o.position)?-1:1);for(let r=1,o=0;r<n.length;r++){const i=n[o],s=n[r],a=i.type=="remove"&&s.type=="remove"&&i.name=="$text"&&s.name=="$text"&&i.position.isEqual(s.position),c=i.type=="insert"&&s.type=="insert"&&i.name=="$text"&&s.name=="$text"&&i.position.parent==s.position.parent&&i.position.offset+i.length==s.position.offset,u=i.type=="attribute"&&s.type=="attribute"&&i.position.parent==s.position.parent&&i.range.isFlat&&s.range.isFlat&&i.position.offset+i.length==s.position.offset&&i.attributeKey==s.attributeKey&&i.attributeOldValue==s.attributeOldValue&&i.attributeNewValue==s.attributeNewValue;a||c||u?(i.length++,u&&(i.range.end=i.range.end.getShiftedBy(1)),n[r]=null):o=r}n=n.filter(r=>r);for(const r of n)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=n,this._cachedChanges=n.filter(Hre),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const n={...e};return n.state!==void 0&&delete n.attributes,n})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const n=ve._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(n)){const o=r.getData();this.bufferMarkerChange(r.name,o,o)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const r=n.getData();this.bufferMarkerChange(n.name,{...r,range:null},r)}}}_bufferRootStateChange(e,n){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:n?"attached":"detached"});return}const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=n?"attached":"detached"}_bufferRootAttributeChange(e,n,r,o){const i=this._changedRoots.get(e)||{name:e},s=i.attributes||{};if(s[n]){const a=s[n];o===a.oldValue?delete s[n]:a.newValue=o}else s[n]={oldValue:r,newValue:o};Object.entries(s).length===0?(delete i.attributes,i.state===void 0&&this._changedRoots.delete(e)):(i.attributes=s,this._changedRoots.set(e,i))}_markInsert(e,n,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"insert",offset:n,howMany:r,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,n,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"remove",offset:n,howMany:r,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,n,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,n)}_markChange(e,n){this._makeSnapshots(e);const r=this._getChangesForElement(e);this._handleChange(n,r),r.push(n);for(let o=0;o<r.length;o++)r[o].howMany<1&&(r.splice(o,1),o--)}_setElementState(e,n){if(!e.is("element"))return;const r=Sc._statesPriority.indexOf(this._elementState.get(e));Sc._statesPriority.indexOf(n)>r&&this._elementState.set(e,n)}_getDiffActionForNode(e,n){if(!e.is("element")||!this._elementsSnapshots.has(e))return n;const r=this._elementState.get(e);return!r||r=="move"?n:r}_getChangesForElement(e){let n;return this._changesInElement.has(e)?n=this._changesInElement.get(e):(n=[],this._changesInElement.set(e,n)),n}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const n=LC(e.getChildren());this._elementChildrenSnapshots.set(e,n);for(const r of n)this._elementsSnapshots.set(r.node,r)}_handleChange(e,n){e.nodesToHandle=e.howMany;for(const r of n){const o=e.offset+e.howMany,i=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<i&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<i){const s=r.howMany;r.howMany=e.offset-r.offset,n.unshift({type:"attribute",offset:o,howMany:s-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(o<=r.offset)r.offset-=e.howMany;else if(o<=i)if(e.offset<r.offset){const s=o-r.offset;r.offset=e.offset,r.howMany-=s,e.nodesToHandle-=s}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<i){const s=i-e.offset;r.howMany-=s,e.nodesToHandle-=s}}if(r.type=="remove"&&(o<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(o<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const s=o-r.offset;r.offset=e.offset,r.howMany-=s}else if(e.offset<i)if(o<=i){const s=r.howMany;r.howMany=e.offset-r.offset;const a=s-r.howMany-e.nodesToHandle;n.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else r.howMany-=i-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&o>r.offset){if(o>i){const s={type:"attribute",offset:i,howMany:o-i,count:this._changeCount++};this._handleChange(s,n),n.push(s)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<i&&(o>i?(e.nodesToHandle=o-i,e.offset=i):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&o>r.offset){const s={type:"attribute",offset:r.offset,howMany:o-r.offset,count:this._changeCount++};this._handleChange(s,n),n.push(s),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&o<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&o>=i&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,n,r,o,i){const s={type:"insert",position:Oe._createAt(e,n),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++,action:r};return r!="insert"&&i&&(s.before={name:i.name,attributes:new Map(i.attributes)}),s}_getRemoveDiff(e,n,r,o){return{type:"remove",action:r,position:Oe._createAt(e,n),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,n,r){const o=[];r=new Map(r);for(const[i,s]of n){const a=r.has(i)?r.get(i):null;a!==s&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:s,attributeNewValue:a,changeCount:this._changeCount++}),r.delete(i)}for(const[i,s]of r)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const n=e.parent;if(!n)return!1;const r=this._changesInElement.get(n),o=e.startOffset;if(r){for(const i of r)if(i.type=="insert"&&o>=i.offset&&o<i.offset+i.howMany)return!0}return this._isInInsertedElement(n)}_removeAllNestedChanges(e,n,r){const o=new ve(Oe._createAt(e,n),Oe._createAt(e,n+r));for(const i of o.getItems({shallow:!0}))i.is("element")&&(this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}Sc._statesPriority=[void 0,"refresh","rename","move"];function FC(t){return{node:t,name:t.is("$text")?"$text":t.name,attributes:new Map(t.getAttributes())}}function LC(t){const e=[];for(const n of t)if(n.is("$text"))for(let r=0;r<n.data.length;++r)e.push(FC(n));else e.push(FC(n));return e}function Ure(t,e){const n=[];let r=0,o=0;for(const i of e){if(i.offset>r){for(let s=0;s<i.offset-r;s++)n.push("e");o+=i.offset-r}if(i.type=="insert"){for(let s=0;s<i.howMany;s++)n.push("i");r=i.offset+i.howMany}else if(i.type=="remove"){for(let s=0;s<i.howMany;s++)n.push("r");r=i.offset,o+=i.howMany}else n.push(..."a".repeat(i.howMany).split("")),r=i.offset+i.howMany,o+=i.howMany}if(o<t)for(let i=0;i<t-o-r;i++)n.push("e");return n}function Hre(t){const e="position"in t&&t.position.root.rootName=="$graveyard",n="range"in t&&t.range.root.rootName=="$graveyard";return!e&&!n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wre{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new ae("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,n=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let o=n-1;for(const[a,c]of this._gaps)e>a&&e<c&&(e=c),o>a&&o<c&&(o=a-1);if(o<r.baseVersion||e>this.lastOperation.baseVersion)return[];let i=this._baseVersionToOperationIndex.get(e);i===void 0&&(i=0);let s=this._baseVersionToOperationIndex.get(o);return s===void 0&&(s=this._operations.length-1),this._operations.slice(i,s+1)}getOperation(e){const n=this._baseVersionToOperationIndex.get(e);if(n!==void 0)return this._operations[n]}setOperationAsUndone(e,n){this._undoPairs.set(n,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $d extends _n{constructor(e,n,r="main"){super(n),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}$d.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const BC="$graveyard";class Gre extends wn(){constructor(e){super(),this.model=e,this.history=new Wre,this.selection=new Lo(this),this.roots=new ki({idProperty:"rootName"}),this.differ=new Sc(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",BC),this.listenTo(e,"applyOperation",(n,r)=>{const o=r[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(n,r)=>{const o=r[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(n,r,o,i,s)=>{const a={...r.getData(),range:i};this.differ.bufferMarkerChange(r.name,s,a),o===null&&r.on("change",(c,u)=>{const d=r.getData();this.differ.bufferMarkerChange(r.name,{...d,range:u},d)})}),this.registerPostFixer(n=>{let r=!1;for(const o of this.roots)!o.isAttached()&&!o.isEmpty&&(n.remove(n.createRangeIn(o)),r=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(n.removeMarker(o),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(BC)}createRoot(e="$root",n="main"){if(this.roots.get(n))throw new ae("model-document-createroot-name-exists",this,{name:n});const r=new $d(this,e,n);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(n=>n.rootName)}getRoots(e=!1){return this.roots.filter(n=>n!=this.graveyard&&(e||n.isAttached())&&n._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=sS(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),n=this.model,r=n.schema,o=n.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(o)||n.createRange(o)}_validateSelectionRange(e){return VC(e.start)&&VC(e.end)}_callPostFixers(e){let n=!1;do for(const r of this._postFixers)if(this.selection.refresh(),n=r(e),n)break;while(n)}}function VC(t){const e=t.textNode;if(e){const n=e.data,r=t.offset-e.startOffset;return!Xv(n,r)&&!Qv(n,r)}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qre extends wn(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const n=e instanceof aa?e.name:e;return this._markers.has(n)}get(e){return this._markers.get(e)||null}_set(e,n,r=!1,o=!1){const i=e instanceof aa?e.name:e;if(i.includes(","))throw new ae("markercollection-incorrect-marker-name",this);const s=this._markers.get(i);if(s){const u=s.getData(),d=s.getRange();let f=!1;return d.isEqual(n)||(s._attachLiveRange(Mo.fromRange(n)),f=!0),r!=s.managedUsingOperations&&(s._managedUsingOperations=r,f=!0),typeof o=="boolean"&&o!=s.affectsData&&(s._affectsData=o,f=!0),f&&this.fire("update:".concat(i),s,d,n,u),s}const a=Mo.fromRange(n),c=new aa(i,a,r,o);return this._markers.set(i,c),this.fire("update:".concat(i),c,null,n,{...c.getData(),range:null}),c}_remove(e){const n=e instanceof aa?e.name:e,r=this._markers.get(n);return r?(this._markers.delete(n),this.fire("update:".concat(n),r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const n=e instanceof aa?e.name:e,r=this._markers.get(n);if(!r)throw new ae("markercollection-refresh-marker-not-exists",this);const o=r.getRange();this.fire("update:".concat(n),r,o,o,r.getData())}*getMarkersAtPosition(e){for(const n of this)n.getRange().containsPosition(e)&&(yield n)}*getMarkersIntersectingRange(e){for(const n of this)n.getRange().getIntersection(e)!==null&&(yield n)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const n of this._markers.values())n.name.startsWith(e+":")&&(yield n)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class aa extends wn(is){constructor(e,n,r,o){super(),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=r,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new ae("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new ae("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new ae("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new ae("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new ae("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}aa.prototype.is=function(t){return t==="marker"||t==="model:marker"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kre extends ro{constructor(e,n){super(null),this.sourcePosition=e.clone(),this.howMany=n}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new ae("detach-operation-on-document-node",this)}_execute(){dP(ve._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fi extends is{constructor(e){super(),this.markers=new Map,this._children=new Kl,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let n=this;for(const r of e)n=n.getChild(n.offsetToIndex(r));return n}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}static fromJSON(e){const n=[];for(const r of e)r.name?n.push(_n.fromJSON(r)):n.push(vn.fromJSON(r));return new fi(n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const r=Yre(n);for(const o of r)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,n=1){const r=this._children._removeNodes(e,n);for(const o of r)o.parent=null;return r}}fi.prototype.is=function(t){return t==="documentFragment"||t==="model:documentFragment"};function Yre(t){return typeof t=="string"?[new vn(t)]:(no(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new vn(e):e instanceof Po?new vn(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xre{constructor(e,n){this.model=e,this.batch=n}createText(e,n){return new vn(e,n)}createElement(e,n){return new _n(e,n)}createDocumentFragment(){return new fi}cloneElement(e,n=!0){return e._clone(n)}insert(e,n,r=0){if(this._assertWriterUsedCorrectly(),e instanceof vn&&e.data=="")return;const o=Oe._createAt(n,r);if(e.parent)if(UC(e.root,o.root)){this.move(ve._createOn(e),o);return}else{if(e.root.document)throw new ae("model-writer-insert-forbidden-move",this);this.remove(e)}const i=o.root.document?o.root.document.version:null,s=new dr(o,e,i);if(e instanceof vn&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),e instanceof fi)for(const[a,c]of e.markers){const u=Oe._createAt(c.root,0),f={range:new ve(c.start._getCombined(u,o),c.end._getCombined(u,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,f):this.addMarker(a,f)}}insertText(e,n,r,o){n instanceof fi||n instanceof _n||n instanceof Oe?this.insert(this.createText(e),n,r):this.insert(this.createText(e,n),r,o)}insertElement(e,n,r,o){n instanceof fi||n instanceof _n||n instanceof Oe?this.insert(this.createElement(e),n,r):this.insert(this.createElement(e,n),r,o)}append(e,n){this.insert(e,n,"end")}appendText(e,n,r){n instanceof fi||n instanceof _n?this.insert(this.createText(e),n,"end"):this.insert(this.createText(e,n),r,"end")}appendElement(e,n,r){n instanceof fi||n instanceof _n?this.insert(this.createElement(e),n,"end"):this.insert(this.createElement(e,n),r,"end")}setAttribute(e,n,r){if(this._assertWriterUsedCorrectly(),r instanceof ve){const o=r.getMinimalFlatRanges();for(const i of o)jC(this,e,n,i)}else zC(this,e,n,r)}setAttributes(e,n){for(const[r,o]of Xi(e))this.setAttribute(r,o,n)}removeAttribute(e,n){if(this._assertWriterUsedCorrectly(),n instanceof ve){const r=n.getMinimalFlatRanges();for(const o of r)jC(this,e,null,o)}else zC(this,e,null,n)}clearAttributes(e){this._assertWriterUsedCorrectly();const n=r=>{for(const o of r.getAttributeKeys())this.removeAttribute(o,r)};if(!(e instanceof ve))n(e);else for(const r of e.getItems())n(r)}move(e,n,r){if(this._assertWriterUsedCorrectly(),!(e instanceof ve))throw new ae("writer-move-invalid-range",this);if(!e.isFlat)throw new ae("writer-move-range-not-flat",this);const o=Oe._createAt(n,r);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!UC(e.root,o.root))throw new ae("writer-move-different-document",this);const i=e.root.document?e.root.document.version:null,s=new en(e.start,e.end.offset-e.start.offset,o,i);this.batch.addOperation(s),this.model.applyOperation(s)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof ve?e:ve._createOn(e)).getMinimalFlatRanges().reverse();for(const o of r)this._addOperationForAffectedMarkers("move",o),Qre(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const n=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(n instanceof _n))throw new ae("writer-merge-no-element-before",this);if(!(r instanceof _n))throw new ae("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,n,r){return this.model.createPositionFromPath(e,n,r)}createPositionAt(e,n){return this.model.createPositionAt(e,n)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,n){return this.model.createRange(e,n)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const n=e.nodeBefore,r=e.nodeAfter;this.move(ve._createIn(r),Oe._createAt(n,"end")),this.remove(r)}_merge(e){const n=Oe._createAt(e.nodeBefore,"end"),r=Oe._createAt(e.nodeAfter,0),o=e.root.document.graveyard,i=new Oe(o,[0]),s=e.root.document.version,a=new Tn(r,e.nodeAfter.maxOffset,n,i,s);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,n){if(this._assertWriterUsedCorrectly(),!(e instanceof _n))throw new ae("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,o=new Vr(Oe._createBefore(e),e.name,n,r);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,n){this._assertWriterUsedCorrectly();let r=e.parent;if(!r.parent)throw new ae("writer-split-element-no-parent",this);if(n||(n=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(n))throw new ae("writer-split-invalid-limit-element",this);let o,i;do{const s=r.root.document?r.root.document.version:null,a=r.maxOffset-e.offset,c=bn.getInsertionPosition(e),u=new bn(e,a,c,null,s);this.batch.addOperation(u),this.model.applyOperation(u),!o&&!i&&(o=r,i=e.parent.nextSibling),e=this.createPositionAfter(e.parent),r=e.parent}while(r!==n);return{position:e,range:new ve(Oe._createAt(o,"end"),Oe._createAt(i,0))}}wrap(e,n){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new ae("writer-wrap-range-not-flat",this);const r=n instanceof _n?n:new _n(n);if(r.childCount>0)throw new ae("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new ae("writer-wrap-element-attached",this);this.insert(r,e.start);const o=new ve(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,Oe._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new ae("writer-unwrap-element-no-parent",this);this.move(ve._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,n){if(this._assertWriterUsedCorrectly(),!n||typeof n.usingOperation!="boolean")throw new ae("writer-addmarker-no-usingoperation",this);const r=n.usingOperation,o=n.range,i=n.affectsData===void 0?!1:n.affectsData;if(this.model.markers.has(e))throw new ae("writer-addmarker-marker-exists",this);if(!o)throw new ae("writer-addmarker-no-range",this);return r?(_l(this,e,null,o,i),this.model.markers.get(e)):this.model.markers._set(e,o,r,i)}updateMarker(e,n){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,o=this.model.markers.get(r);if(!o)throw new ae("writer-updatemarker-marker-not-exists",this);if(!n){an("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),this.model.markers._refresh(o);return}const i=typeof n.usingOperation=="boolean",s=typeof n.affectsData=="boolean",a=s?n.affectsData:o.affectsData;if(!i&&!n.range&&!s)throw new ae("writer-updatemarker-wrong-options",this);const c=o.getRange(),u=n.range?n.range:c;if(i&&n.usingOperation!==o.managedUsingOperations){n.usingOperation?_l(this,r,null,u,a):(_l(this,r,c,null,a),this.model.markers._set(r,u,void 0,a));return}o.managedUsingOperations?_l(this,r,c,u,a):this.model.markers._set(r,u,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name;if(!this.model.markers.has(n))throw new ae("writer-removemarker-no-marker",this);const r=this.model.markers.get(n);if(!r.managedUsingOperations){this.model.markers._remove(n);return}const o=r.getRange();_l(this,n,o,null,r.affectsData)}addRoot(e,n="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new ae("writer-addroot-root-exists",this);const o=this.model.document,i=new Xo(e,n,!0,o,o.version);return this.batch.addOperation(i),this.model.applyOperation(i),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?this.model.document.getRoot(e):e;if(!n||!n.isAttached())throw new ae("writer-detachroot-no-root",this);for(const i of this.model.markers)i.getRange().root===n&&this.removeMarker(i);for(const i of n.getAttributeKeys())this.removeAttribute(i,n);this.remove(this.createRangeIn(n));const r=this.model.document,o=new Xo(n.rootName,n.name,!1,r,r.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,n)}setSelectionAttribute(e,n){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,n);else for(const[r,o]of Xi(e))this._setSelectionAttribute(r,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const n of e)this._removeSelectionAttribute(n)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,n){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const o=Lo._getStoreAttributeKey(e);this.setAttribute(o,n,r.anchor.parent)}r._setAttribute(e,n)}_removeSelectionAttribute(e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=Lo._getStoreAttributeKey(e);this.removeAttribute(r,n.anchor.parent)}n._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new ae("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,n){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const o=r.getRange();let i=!1;if(e==="move"){const s=n;i=s.containsPosition(o.start)||s.start.isEqual(o.start)||s.containsPosition(o.end)||s.end.isEqual(o.end)}else{const s=n,a=s.nodeBefore,c=s.nodeAfter,u=o.start.parent==a&&o.start.isAtEnd,d=o.end.parent==c&&o.end.offset==0,f=o.end.nodeAfter==c,m=o.start.nodeAfter==c;i=u||d||f||m}i&&this.updateMarker(r.name,{range:o})}}}function jC(t,e,n,r){const o=t.model,i=o.document;let s=r.start,a,c,u;for(const f of r.getWalker({shallow:!0}))u=f.item.getAttribute(e),a&&c!=u&&(c!=n&&d(),s=a),a=f.nextPosition,c=u;a instanceof Oe&&a!=s&&c!=n&&d();function d(){const f=new ve(s,a),m=f.root.document?i.version:null,h=new Bn(f,e,c,n,m);t.batch.addOperation(h),o.applyOperation(h)}}function zC(t,e,n,r){const o=t.model,i=o.document,s=r.getAttribute(e);let a,c;if(s!=n){if(r.root===r){const d=r.document?i.version:null;c=new bi(r,e,s,n,d)}else{a=new ve(Oe._createBefore(r),t.createPositionAfter(r));const d=a.root.document?i.version:null;c=new Bn(a,e,s,n,d)}t.batch.addOperation(c),o.applyOperation(c)}}function _l(t,e,n,r,o){const i=t.model,s=i.document,a=new Br(e,n,r,i.markers,!!o,s.version);t.batch.addOperation(a),i.applyOperation(a)}function Qre(t,e,n,r){let o;if(t.root.document){const i=r.document,s=new Oe(i.graveyard,[0]);o=new en(t,e,s,i.version)}else o=new Kre(t,e);n.addOperation(o),r.applyOperation(o)}function UC(t,e){return t===e||t instanceof $d&&e instanceof $d}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Jre(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const o=t.schema;t.change(i=>{if(!n.doNotResetEntireContent&&aoe(o,e)){soe(i,e);return}const s={};if(!n.doNotAutoparagraph){const u=e.getSelectedElement();u&&Object.assign(s,o.getAttributesWithProperty(u,"copyOnReplace",!0))}const[a,c]=Zre(r);a.isTouching(c)||i.remove(i.createRange(a,c)),n.leaveUnmerged||(toe(i,a,c),o.removeDisallowedAttributes(a.parent.getChildren(),i)),bP(i,e,a),!n.doNotAutoparagraph&&ooe(o,a)&&vP(i,a,e,s),a.detach(),c.detach()})}function Zre(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const o=eoe(r);if(o&&r.isTouching(e.createPositionAt(o,0))){const i=e.createSelection(t);e.modifySelection(i,{direction:"backward"});const s=i.getLastPosition(),a=e.createRange(s,r);e.hasContent(a,{ignoreMarkers:!0})||(r=s)}}return[Fr.fromPosition(n,"toPrevious"),Fr.fromPosition(r,"toNext")]}function eoe(t){const e=t.parent,n=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const o of r){if(n.isLimit(o))return null;if(n.isBlock(o))return o}}function toe(t,e,n){const r=t.model;if(!lb(t.model.schema,e,n))return;const[o,i]=roe(e,n);!o||!i||(!r.hasContent(o,{ignoreMarkers:!0})&&r.hasContent(i,{ignoreMarkers:!0})?pP(t,e,n,o.parent):gP(t,e,n,o.parent))}function gP(t,e,n,r){const o=e.parent,i=n.parent;if(!(o==r||i==r)){for(e=t.createPositionAfter(o),n=t.createPositionBefore(i),n.isEqual(e)||t.insert(i,e),t.merge(e);n.parent.isEmpty;){const s=n.parent;n=t.createPositionBefore(s),t.remove(s)}lb(t.model.schema,e,n)&&gP(t,e,n,r)}}function pP(t,e,n,r){const o=e.parent,i=n.parent;if(!(o==r||i==r)){for(e=t.createPositionAfter(o),n=t.createPositionBefore(i),n.isEqual(e)||t.insert(o,n);e.parent.isEmpty;){const s=e.parent;e=t.createPositionBefore(s),t.remove(s)}n=t.createPositionBefore(i),noe(t,n),lb(t.model.schema,e,n)&&pP(t,e,n,r)}}function noe(t,e){const n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}function lb(t,e,n){const r=e.parent,o=n.parent;return r==o||t.isLimit(r)||t.isLimit(o)?!1:ioe(e,n,t)}function roe(t,e){const n=t.getAncestors(),r=e.getAncestors();let o=0;for(;n[o]&&n[o]==r[o];)o++;return[n[o],r[o]]}function ooe(t,e){const n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}function ioe(t,e,n){const r=new ve(t,e);for(const o of r.getWalker())if(n.isLimit(o.item))return!1;return!0}function vP(t,e,n,r={}){const o=t.createElement("paragraph");t.model.schema.setAllowedAttributes(o,r,t),t.insert(o,e),bP(t,n,t.createPositionAt(o,0))}function soe(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),vP(t,t.createPositionAt(n,0),e)}function aoe(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const r=e.getFirstRange();return r.start.parent==r.end.parent?!1:t.checkChild(n,"paragraph")}function bP(t,e,n){e instanceof Lo?t.setSelection(n):e.setTo(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function loe(t,e){return t.change(n=>{const r=n.createDocumentFragment(),o=e.getFirstRange();if(!o||o.isCollapsed)return r;const i=o.start.root,s=o.start.getCommonPath(o.end),a=i.getNodeByPath(s);let c;o.start.parent==o.end.parent?c=o:c=n.createRange(n.createPositionAt(a,o.start.path[s.length]),n.createPositionAt(a,o.end.path[s.length]+1));const u=c.end.offset-c.start.offset;for(const d of c.getItems({shallow:!0}))d.is("$textProxy")?n.appendText(d.data,d.getAttributes(),r):n.append(n.cloneElement(d,!0),r);if(c!=o){const d=o._getTransformedByMove(c.start,n.createPositionAt(r,0),u)[0],f=n.createRange(n.createPositionAt(r,0),d.start),m=n.createRange(d.end,n.createPositionAt(r,"end"));HC(m,n),HC(f,n)}return r})}function HC(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(t.start)||r.start.isEqual(t.start))&&(r.end.isBefore(t.end)||r.end.isEqual(t.end))).forEach(r=>{n.push(r.start.parent),e.remove(r)}),n.forEach(r=>{let o=r;for(;o.parent&&o.isEmpty;){const i=e.createRangeOn(o);o=o.parent,e.remove(i)}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function coe(t,e,n){return t.change(r=>{const o=n||t.document.selection;o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});const i=new uoe(t,r,o.anchor),s=[];let a;if(e.is("documentFragment")){if(e.markers.size){const d=[];for(const[f,m]of e.markers){const{start:h,end:g}=m,p=h.isEqual(g);d.push({position:h,name:f,isCollapsed:p},{position:g,name:f,isCollapsed:p})}d.sort(({position:f},{position:m})=>f.isBefore(m)?1:-1);for(const{position:f,name:m,isCollapsed:h}of d){let g=null,p=null;const w=f.parent===e&&f.isAtStart,v=f.parent===e&&f.isAtEnd;!w&&!v?(g=r.createElement("$marker"),r.insert(g,f)):h&&(p=w?"start":"end"),s.push({name:m,element:g,collapsed:p})}}a=e.getChildren()}else a=[e];i.handleNodes(a);let c=i.getSelectionRange();if(e.is("documentFragment")&&s.length){const d=c?Mo.fromRange(c):null,f={};for(let m=s.length-1;m>=0;m--){const{name:h,element:g,collapsed:p}=s[m],w=!f[h];if(w&&(f[h]=[]),g){const v=r.createPositionAt(g,"before");f[h].push(v),r.remove(g)}else{const v=i.getAffectedRange();if(!v){p&&f[h].push(i.position);continue}p?f[h].push(v[p]):f[h].push(w?v.start:v.end)}}for(const[m,[h,g]]of Object.entries(f))h&&g&&h.root===g.root&&h.root.document&&!r.model.markers.has(m)&&r.addMarker(m,{usingOperation:!0,affectsData:!0,range:new ve(h,g)});d&&(c=d.toRange(),d.detach())}/* istanbul ignore else -- @preserve */c&&(o instanceof Lo?r.setSelection(c):o.setTo(c));const u=i.getAffectedRange()||t.createRange(o.anchor);return i.destroy(),u})}class uoe{constructor(e,n,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const n of Array.from(e))this._handleNode(n);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const n=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(n)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new ae("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ve._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ve(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let n=this._checkAndAutoParagraphToAllowedPosition(e);if(!n&&(n=this._checkAndSplitToAllowedPosition(e),!n)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Fr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new ae("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Fr.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Fr.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof _n)||!this._canMergeLeft(e))return;const n=Fr._createBefore(e);n.stickiness="toNext";const r=Fr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(n)&&(this._affectedStart.detach(),this._affectedStart=Fr._createAt(n.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Fr._createAt(n.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof _n)||!this._canMergeRight(e))return;const n=Fr._createAfter(e);n.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(n))throw new ae("insertcontent-invalid-insertion-position",this);this.position=Oe._createAt(n.nodeBefore,"end");const r=Fr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(n)&&(this._affectedEnd.detach(),this._affectedEnd=Fr._createAt(n.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Fr._createAt(n.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_canMergeLeft(e){const n=e.previousSibling;return n instanceof _n&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e){const n=e.nextSibling;return n instanceof _n&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e){const n=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,n)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const n=this.writer.createElement("paragraph");return this.writer.insert(n,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=n,this.position=this.writer.createPositionAt(n,0),!0}_checkAndSplitToAllowedPosition(e){const n=this._getAllowedIn(this.position.parent,e);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===n&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,n){return this.schema.checkChild(e,n)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function doe(t,e,n,r={}){if(!t.schema.isObject(e))throw new ae("insertobject-element-not-an-object",t,{object:e});const o=n||t.document.selection;let i=o;r.findOptimalPosition&&t.schema.isBlock(e)&&(i=t.createSelection(t.schema.findOptimalInsertionRange(o,r.findOptimalPosition)));const s=al(o.getSelectedBlocks()),a={};return s&&Object.assign(a,t.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),t.change(c=>{i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});let u=e;const d=i.anchor.parent;!t.schema.checkChild(d,e)&&t.schema.checkChild(d,"paragraph")&&t.schema.checkChild("paragraph",e)&&(u=c.createElement("paragraph"),c.insert(e,u)),t.schema.setAllowedAttributes(u,a,c);const f=t.insertContent(u,i);return f.isCollapsed||r.setSelection&&foe(c,e,r.setSelection,a),f})}function foe(t,e,n,r){const o=t.model;if(n=="on"){t.setSelection(e,"on");return}if(n!="after")throw new ae("insertobject-invalid-place-parameter-value",o);let i=e.nextSibling;if(o.schema.isInline(e)){t.setSelection(e,"after");return}!(i&&o.schema.checkChild(i,"$text"))&&o.schema.checkChild(e.parent,"paragraph")&&(i=t.createElement("paragraph"),o.schema.setAllowedAttributes(i,r,t),o.insertContent(i,t.createPositionAfter(e))),i&&t.setSelection(i,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const moe=' ,.?!:;"-()';function hoe(t,e,n={}){const r=t.schema,o=n.direction!="backward",i=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=e.focus,c=new hi({boundaries:boe(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),u={walker:c,schema:r,isForward:o,unit:i,treatEmojiAsSingleUnit:s};let d;for(;d=c.next();){if(d.done)return;const f=goe(u,d.value);if(f){e instanceof Lo?t.change(m=>{m.setSelectionFocus(f)}):e.setFocus(f);return}}}function goe(t,e){const{isForward:n,walker:r,unit:o,schema:i,treatEmojiAsSingleUnit:s}=t,{type:a,item:c,nextPosition:u}=e;if(a=="text")return t.unit==="word"?voe(r,n):poe(r,o,s);if(a==(n?"elementStart":"elementEnd")){if(i.isSelectable(c))return Oe._createAt(c,n?"after":"before");if(i.checkChild(u,"$text"))return u}else{if(i.isLimit(c)){r.skip(()=>!0);return}if(i.checkChild(u,"$text"))return u}}function poe(t,e,n){const r=t.position.textNode;if(r){const o=r.data;let i=t.position.offset-r.startOffset;for(;Xv(o,i)||e=="character"&&Qv(o,i)||n&&w_(o,i);)t.next(),i=t.position.offset-r.startOffset}return t.position}function voe(t,e){let n=t.position.textNode;for(n||(n=e?t.position.nodeAfter:t.position.nodeBefore);n&&n.is("$text");){const r=t.position.offset-n.startOffset;if(yoe(n,r,e))n=e?t.position.nodeAfter:t.position.nodeBefore;else{if(woe(n.data,r,e))break;t.next()}}return t.position}function boe(t,e){const n=t.root,r=Oe._createAt(n,e?"end":0);return e?new ve(t,r):new ve(r,t)}function woe(t,e,n){const r=e+(n?0:-1);return moe.includes(t.charAt(r))}function yoe(t,e,n){return e===(n?t.offsetSize:0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Coe extends An(){constructor(){super(),this.markers=new qre,this.document=new Gre(this),this.schema=new cre,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,n)=>{n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,n)=>{if(n.name==="$marker")return!0}),ere(this),this.document.registerPostFixer(oP),this.on("insertContent",(e,[n,r])=>{e.return=coe(this,n,r)}),this.on("insertObject",(e,[n,r,o])=>{e.return=doe(this,n,r,o)}),this.on("canEditAt",e=>{const n=!this.document.isReadOnly;e.return=n,n||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new oa,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(n,this)}}enqueueChange(e,n){try{e?typeof e=="function"?(n=e,e=new oa):e instanceof oa||(e=new oa(e)):e=new oa,this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,n,r,...o){const i=gh(n,r);return this.fire("insertContent",[e,i,r,...o])}insertObject(e,n,r,o,...i){const s=gh(n,r);return this.fire("insertObject",[e,s,o,o,...i])}deleteContent(e,n){Jre(this,e,n)}modifySelection(e,n){hoe(this,e,n)}getSelectedContent(e){return loe(this,e)}hasContent(e,n={}){const r=e instanceof ve?e:ve._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:i=!1}=n;if(!i){for(const s of this.markers.getMarkersIntersectingRange(r))if(s.affectsData)return!0}for(const s of r.getItems())if(this.schema.isContent(s))if(s.is("$textProxy"))if(o){if(s.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const n=gh(e);return this.fire("canEditAt",[n])}createPositionFromPath(e,n,r){return new Oe(e,n,r)}createPositionAt(e,n){return Oe._createAt(e,n)}createPositionAfter(e){return Oe._createAfter(e)}createPositionBefore(e){return Oe._createBefore(e)}createRange(e,n){return new ve(e,n)}createRangeIn(e){return ve._createIn(e)}createRangeOn(e){return ve._createOn(e)}createSelection(...e){return new Zr(...e)}createBatch(e){return new oa(e)}createOperationFromJSON(e){return Dre.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const n=this._pendingChanges[0].batch;this._currentWriter=new Xre(this,n);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function gh(t,e){if(t)return t instanceof Zr||t instanceof Lo?t:t instanceof Us?e||e===0?new Zr(t,e):t.is("rootElement")?new Zr(t,"in"):new Zr(t,"on"):new Zr(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wP extends zs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yP{constructor(e){this.document=e}createDocumentFragment(e){return new Ss(this.document,e)}createElement(e,n,r){return new Fo(this.document,e,n,r)}createText(e){return new En(this.document,e)}clone(e,n=!1){return e._clone(n)}appendChild(e,n){return n._appendChild(e)}insertChild(e,n,r){return r._insertChild(e,n)}removeChildren(e,n,r){return r._removeChildren(e,n)}remove(e){const n=e.parent;return n?this.removeChildren(n.getChildIndex(e),1,n):[]}replace(e,n){const r=e.parent;if(r){const o=r.getChildIndex(e);return this.removeChildren(o,1,r),this.insertChild(o,n,r),!0}return!1}unwrapElement(e){const n=e.parent;if(n){const r=n.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),n)}}rename(e,n){const r=new Fo(this.document,e,n.getAttributes(),n.getChildren());return this.replace(n,r)?r:null}setAttribute(e,n,r){r._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,r){Eo(e)&&r===void 0?n._setStyle(e):r._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,r){r._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}createPositionAt(e,n){return Ke._createAt(e,n)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,n){return new Vt(e,n)}createRangeOn(e){return Vt._createOn(e)}createRangeIn(e){return Vt._createIn(e)}createSelection(...e){return new vi(...e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CP{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const r="error"in n?n.error:n.reason;r instanceof Error&&this._handleError(r,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)}off(e,n){this._listeners[e]=this._listeners[e].filter(r=>r!==n)}_fire(e,...n){const r=this._listeners[e]||[];for(const o of r)o.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,n){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sp(t,e=new Set){const n=[t],r=new Set;let o=0;for(;n.length>o;){const i=n[o++];if(!(r.has(i)||!Soe(i)||e.has(i)))if(r.add(i),Symbol.iterator in i)try{for(const s of i)n.push(s)}catch(s){}else for(const s in i)s!=="defaultValue"&&n.push(i[s])}return r}function Soe(t){const e=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function SP(t,e,n=new Set){if(t===e&&xoe(t))return!0;const r=sp(t,n),o=sp(e,n);for(const i of r)if(o.has(i))return!0;return!1}function xoe(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xP extends CP{constructor(e,n={}){super(n),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=id(this._save.bind(this),typeof n.saveInterval=="number"?n.saveInterval:5e3),e&&(this._creator=(r,o)=>e.create(r,o)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],r=this._config.rootsAttributes||{},o={};for(const[s,a]of Object.entries(this._data.roots))a.isLoaded?(e[s]="",o[s]=r[s]||{}):n.push(s);const i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:o,_watchdogInitialData:this._data};return delete i.initialData,i.extraPlugins.push(Aoe),this._initUsingData?this.create(e,i,i.context):Es(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(n)||{},this._config.context=r,this._creator(e,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:r}=e,o=r.has("CommentsRepository")&&r.get("CommentsRepository"),i=r.has("TrackChanges")&&r.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(a=>{s.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(s.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return o&&(s.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(s.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(n);r&&(e[n]=r)}return e}_isErrorComingFromThisItem(e){return SP(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Cp(e,(n,r)=>{if(Es(n)||r==="context")return n})}}class Aoe{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(e,n){if("name"in n){const r=e.createElement(n.name,n.attributes);if(n.children)for(const o of n.children)r._appendChild(this._createNode(e,o));return r}else return e.createText(n.data,n.attributes)}_restoreEditorData(e){const n=this.editor;Object.entries(this._data.roots).forEach(([r,{content:o,attributes:i}])=>{const s=JSON.parse(o),a=JSON.parse(i),c=n.model.document.getRoot(r);for(const[u,d]of a)e.setAttribute(u,d,c);for(const u of s){const d=this._createNode(e,u);e.insert(d,c,"end")}}),Object.entries(this._data.markers).forEach(([r,o])=>{const{document:i}=n.model,{rangeJSON:{start:s,end:a},...c}=o,u=i.getRoot(s.root),d=e.createPositionFromPath(u,s.path,s.stickiness),f=e.createPositionFromPath(u,a.path,a.stickiness),m=e.createRange(d,f);e.addMarker(r,{range:m,...c})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);e.forEach(r=>{const o=this.editor.config.get("collaboration.channelId"),i=this.editor.plugins.get("CommentsRepository");i.hasCommentThread(r.threadId)&&i.getCommentThread(r.threadId).remove(),i.addCommentThread({channelId:o,...r})}),n.forEach(r=>{const o=this.editor.plugins.get("TrackChangesEditing");if(o.hasSuggestion(r.id)){const i=o.getSuggestion(r.id);i.attributes=r.attributes}else o.addSuggestionData(r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ql=Symbol("MainQueueId");class Eoe extends CP{constructor(e,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Ioe,this._watchdogConfig=n,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Ql,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const n=WC(e);return Promise.all(n.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(r.id))throw new Error("Item with the given id is already added: '".concat(r.id,"'."));if(r.type==="editor")return o=new xP(null,this._watchdogConfig),o.setCreator(r.creator),o._setExcludedProperties(this._contextProps),r.destructor&&o.setDestructor(r.destructor),this._watchdogs.set(r.id,o),o.on("error",(i,{error:s,causesRestart:a})=>{this._fire("itemError",{itemId:r.id,error:s}),a&&this._actionQueues.enqueue(r.id,()=>new Promise(c=>{const u=()=>{o.off("restart",u),this._fire("itemRestart",{itemId:r.id}),c()};o.on("restart",u)}))}),o.create(r.sourceElementOrData,r.config,this._context);throw new Error("Not supported item type: '".concat(r.type,"'."))})))}remove(e){const n=WC(e);return Promise.all(n.map(r=>this._actionQueues.enqueue(r,()=>{const o=this._getWatchdog(r);return this._watchdogs.delete(r),o.destroy()})))}destroy(){return this._actionQueues.enqueue(Ql,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ql,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=sp(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const n=this._watchdogs.get(e);if(!n)throw new Error("Item with the given id was not registered: ".concat(e,"."));return n}_isErrorComingFromThisItem(e){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(e))return!1;return SP(this._context,e.context)}}class Ioe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,n){const r=e===Ql;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const i=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ql),this._queues.get(e)])).then(n),s=i.catch(()=>{});return this._queues.set(e,s),i.finally(()=>{this._activeActions--,this._queues.get(e)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function WC(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _oe{constructor(){this._commands=new Map}add(e,n){this._commands.set(e,n)}get(e){return this._commands.get(e)}execute(e,...n){const r=this.get(e);if(!r)throw new ae("commandcollection-command-not-found",this,{commandName:e});return r.execute(...n)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Poe extends bo{constructor(e){super(),this.editor=e}set(e,n,r={}){if(typeof n=="string"){const o=n;n=(i,s)=>{this.editor.execute(o),s()}}super.set(e,n,r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ph="contentEditing",GC="common";class Moe{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const n=e.config.get("menuBar.isVisible"),r=e.locale.t;this.addKeystrokeInfoCategory({id:ph,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const o=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];n&&o.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:o}]})}addKeystrokeInfoCategory({id:e,label:n,description:r,groups:o}){this.keystrokeInfos.set(e,{id:e,label:n,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:GC}),o&&o.forEach(i=>{this.addKeystrokeInfoGroup({categoryId:e,...i})})}addKeystrokeInfoGroup({categoryId:e=ph,id:n,label:r,keystrokes:o}){const i=this.keystrokeInfos.get(e);if(!i)throw new ae("accessibility-unknown-keystroke-info-category",this._editor,{groupId:n,categoryId:e});i.groups.set(n,{id:n,label:r,keystrokes:o||[]})}addKeystrokeInfos({categoryId:e=ph,groupId:n=GC,keystrokes:r}){if(!this.keystrokeInfos.has(e))throw new ae("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:r});const o=this.keystrokeInfos.get(e);if(!o.groups.has(n))throw new ae("accessibility-unknown-keystroke-info-group",this._editor,{groupId:n,categoryId:e,keystrokes:r});o.groups.get(n).keystrokes.push(...r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sm extends An(){constructor(e={}){super();const n=this.constructor,{translations:r,...o}=n.defaultConfig||{},{translations:i=r,...s}=e,a=e.language||o.language;this._context=e.context||new __({language:a,translations:i}),this._context._addEditor(this,!e.context);const c=Array.from(n.builtinPlugins||[]);this.config=new s_(s,o),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),this.plugins=new I_(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new _oe,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Coe,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const u=new lte;this.data=new Rre(this.model,u),this.editing=new sre(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Ore([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Poe(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Moe(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new ae("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new ae("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new ae("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,n=e.get("plugins"),r=e.get("removePlugins")||[],o=e.get("extraPlugins")||[],i=e.get("substitutePlugins")||[];return this.plugins.init(n.concat(o),r,i)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(n=>this.once("ready",n))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...n){try{return this.commands.execute(e,...n)}catch(r){/* istanbul ignore next -- @preserve */ae.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}sm.Context=__;sm.EditorWatchdog=xP;sm.ContextWatchdog=Eoe;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function koe(t){if(!rd(t.updateSourceElement))throw new ae("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(Roe(e)&&e.form){let n;const r=e.form,o=()=>t.updateSourceElement();rd(r.submit)&&(n=r.submit,r.submit=()=>{o(),n.apply(r)}),r.addEventListener("submit",o),t.on("destroy",()=>{r.removeEventListener("submit",o),n&&(r.submit=n)})}}function Roe(t){return!!t&&t.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ap(t){class e extends t{updateSourceElement(r){if(!this.sourceElement)throw new ae("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!i){Gy(this.sourceElement,"");return}const s=typeof r=="string"?r:this.data.get();Gy(this.sourceElement,s)}}return e}ap.updateSourceElement=ap(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qC extends P_{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ki({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new ae("pendingactions-add-invalid-message",this);const n=new(An());return n.set("message",e),this._actions.add(n),this.hasAny=!0,n}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cn={bold:hk,cancel:gk,caption:pk,check:vk,cog:bk,colorPalette:wk,eraser:yk,history:Ck,image:Sk,imageUpload:xk,imageAssetManager:Ak,imageUrl:Ek,lowVision:Ik,textAlternative:_k,loupe:Pk,previousArrow:Mk,nextArrow:kk,importExport:Rk,paragraph:Tk,plus:Ok,text:Nk,alignBottom:Dk,alignMiddle:$k,alignTop:Fk,alignLeft:Lk,alignCenter:Bk,alignRight:Vk,alignJustify:jk,objectLeft:zk,objectCenter:Uk,objectRight:Hk,objectFullWidth:Wk,objectInline:Gk,objectBlockLeft:qk,objectBlockRight:Kk,objectSizeCustom:Yk,objectSizeFull:Xk,objectSizeLarge:Qk,objectSizeSmall:Jk,objectSizeMedium:Zk,pencil:eR,pilcrow:tR,quote:nR,threeVerticalDots:rR,dragIndicator:oR,redo:iR,undo:sR,bulletedList:aR,numberedList:lR,todoList:cR,codeBlock:uR,browseFiles:dR,heading1:fR,heading2:mR,heading3:hR,heading4:gR,heading5:pR,heading6:vR,horizontalLine:bR,html:wR,indent:yR,outdent:CR,table:SR};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oi extends Et{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const n=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=n.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:o,value:i}of Array.from(n.attributes))oi.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;n.childNodes.length>0;)this.element.appendChild(n.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}oi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Toe extends Et{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kn extends Et{constructor(e,n=new Toe){super(e),this._focusDelayed=null;const r=this.bindTemplate,o=go();this.set("ariaLabel",void 0),this.set("ariaLabelledBy","ck-editor__aria-label_".concat(o)),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(n),this.iconView=new oi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s),r.if("isVisible","ck-hidden",s=>!s),r.to("isOn",s=>s?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",s=>s||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("ariaChecked"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,s=>!s),"aria-pressed":r.to("isOn",s=>this.isToggleable?String(!!s):!1),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};jt.isSafari&&(this._focusDelayed||(this._focusDelayed=Yv(()=>this.focus(),0)),i.on.mousedown=r.to(()=>{this._focusDelayed()}),i.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Et;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",n=>Od(n))}]}),e}_getTooltipString(e,n,r){return e?typeof e=="string"?e:(r&&(r=Od(r)),e instanceof Function?e(n,r):"".concat(n).concat(r?" (".concat(r,")"):"")):""}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ooe extends Et{constructor(e,n={}){super(e);const r=this.bindTemplate;this.set("label",n.label||""),this.set("class",n.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),n.icon&&(this.iconView=new oi,this.iconView.content=n.icon,this.children.add(this.iconView));const o=new Et(e);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(o)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ti extends wn(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const n in e.actions){let r=e.actions[n];typeof r=="string"&&(r=[r]);for(const o of r)e.keystrokeHandler.set(o,(i,s)=>{this[n](),s()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(vh)||null}get last(){return this.focusables.filter(vh).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((n,r)=>{const o=n.element===this.focusTracker.focusedElement;return o&&(e=r),o}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,n){e&&this.focusTracker.focusedElement!==e.element&&e.focus(n)}_getDomFocusableItem(e){const n=this.focusables.length;if(!n)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let o=this.focusables.get(r),i=(r+n+e)%n;do{const s=this.focusables.get(i);if(vh(s)){o=s;break}i=(i+n+e)%n}while(i!==r);return o}}function vh(t){return tu(t)&&ks(t.element)}function tu(t){return"focus"in t&&typeof t.focus=="function"}function Noe(t){return tu(t)&&"focusCycler"in t&&t.focusCycler instanceof Ti}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Doe(t){class e extends t{constructor(...r){super(...r),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(ut.document,"mouseup",this._onDragEndBound),this.listenTo(ut.document,"touchend",this._onDragEndBound),this.listenTo(ut.document,"mousemove",this._onDragBound),this.listenTo(ut.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(ut.document,"mouseup",this._onDragEndBound),this.stopListening(ut.document,"touchend",this._onDragEndBound),this.stopListening(ut.document,"mousemove",this._onDragBound),this.stopListening(ut.document,"touchmove",this._onDragBound)}_onDragStart(r,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let i=0,s=0;o instanceof MouseEvent?(i=o.clientX,s=o.clientY):(i=o.touches[0].clientX,s=o.touches[0].clientY),this._lastDraggingCoordinates={x:i,y:s},this.isDragging=!0}_onDrag(r,o){if(!this.isDragging){this._detachDragListeners();return}let i=0,s=0;o instanceof MouseEvent?(i=o.clientX,s=o.clientY):(i=o.touches[0].clientX,s=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(i-this._lastDraggingCoordinates.x),deltaY:Math.round(s-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:i,y:s}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(r){return this.dragHandleElement?this.dragHandleElement===r.target||r.target instanceof HTMLElement&&this.dragHandleElement.contains(r.target):!1}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $oe extends Et{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new bo,this._focusTracker=new zr,this._focusables=new Ri,this.focusCycler=new Ti({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const n of e){const r=new Kn(this.locale);let o;r.on("execute",()=>n.onExecute()),n.onCreate&&n.onCreate(r);for(o in n)o!="onExecute"&&o!="onCreate"&&r.set(o,n[o]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Foe extends Et{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Co={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},KC=sl("px");class Fa extends Doe(Et){constructor(e,{getCurrentDomRoot:n,getViewportOffset:r}){super(e),this.wasMoved=!1;const o=this.bindTemplate,i=e.t;this.set("className",""),this.set("ariaLabel",i("Editor dialog")),this.set("isModal",!1),this.set("position",Co.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new bo,this.focusTracker=new zr,this._focusables=new Ri,this._focusCycler=new Ti({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",s=>!s),o.if("_isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",s=>KC(s)),left:o.to("_left",s=>KC(s)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(e,{deltaX:n,deltaY:r})=>{this.wasMoved=!0,this.moveBy(n,r)}),this.listenTo(ut.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(ut.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,n,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:n,hasCloseButton:r=!0,content:o,actionButtons:i}){n&&(this.headerView=new Ooe(this.locale,{icon:e}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),o&&(o instanceof Et&&(o=[o]),this.contentView=new Foe(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),i&&(this.actionsView=new $oe(this.locale),this.actionsView.setButtons(i),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,n){const r=this._getViewportRect(),o=this._getDialogRect();e+o.width>r.right&&(e=r.right-o.width),e<r.left&&(e=r.left),n<r.top&&(n=r.top),this._moveTo(e,n)}_moveTo(e,n){this._left=e,this._top=n}moveBy(e,n){this.moveTo(this._left+e,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let n=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):n=Co.SCREEN_CENTER;const o=Fa.defaultOffset,i=this._getDialogRect();switch(n){case Co.EDITOR_TOP_SIDE:{if(r){const s=this.locale.contentLanguageDirection==="ltr"?r.right-i.width-o:r.left+o;this.moveTo(s,r.top+o)}else this._moveOffScreen();break}case Co.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-i.width/2),Math.round(r.top+r.height/2-i.height/2)):this._moveOffScreen();break}case Co.SCREEN_CENTER:{this.moveTo(Math.round((e.width-i.width)/2),Math.round((e.height-i.height)/2));break}case Co.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-i.width/2),r.top+o):this._moveOffScreen();break}case Co.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-i.width/2),r.bottom-i.height-o):this._moveOffScreen();break}case Co.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-i.width/2),r.top-i.height-o):this._moveOffScreen();break}case Co.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-i.width/2),r.bottom+o):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let n=new Ut(this._getCurrentDomRoot()).getVisible();if(n){if(n=e.getIntersection(n),!n)return null}else return null;return n}_getDialogRect(){return new Ut(this.element.firstElementChild)}_getViewportRect(){return Loe(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const n of this.contentView.children)tu(n)&&e.push(n);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element),Noe(n)&&(this.listenTo(n.focusCycler,"forwardCycle",r=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}),this.listenTo(n.focusCycler,"backwardCycle",r=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}))})}_createCloseButton(){const e=new Kn(this.locale),n=this.locale.t;return e.set({label:n("Close"),tooltip:!0,icon:Cn.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}Fa.defaultOffset=15;function Loe(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Ut(ut.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wo extends kt{static get pluginName(){return"Dialog"}constructor(e){super(e);const n=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:n("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",(e,n)=>{this._show(n)}),this.on("show",(e,n)=>{n.onShow&&n.onShow(this)},{priority:"low"}),this.on("hide",()=>{Wo._visibleDialogPlugin&&Wo._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(n,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const n=e.document.differ.getChangedRoots();for(const r of n)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire("show:".concat(e.id),e)}_show({id:e,icon:n,title:r,hasCloseButton:o=!0,content:i,actionButtons:s,className:a,isModal:c,position:u,onHide:d}){const f=this.editor;this.view=new Fa(f.locale,{getCurrentDomRoot:()=>f.editing.view.getDomRoot(f.model.document.selection.anchor.root.rootName),getViewportOffset:()=>f.ui.viewportOffset});const m=this.view;m.on("close",()=>{this.hide()}),f.ui.view.body.add(m),f.ui.focusTracker.add(m.element),f.keystrokes.listenTo(m.element),u||(u=c?Co.SCREEN_CENTER:Co.EDITOR_CENTER),m.set({position:u,_isVisible:!0,className:a,isModal:c}),m.setupParts({icon:n,title:r,hasCloseButton:o,content:i,actionButtons:s}),this.id=e,d&&(this._onHide=d),this.isOpen=!0,Wo._visibleDialogPlugin=this}hide(){Wo._visibleDialogPlugin&&Wo._visibleDialogPlugin.fire("hide:".concat(Wo._visibleDialogPlugin.id))}_hide(){if(!this.view)return;const e=this.editor,n=this.view;n.contentView&&n.contentView.reset(),e.ui.view.body.remove(n),e.ui.focusTracker.remove(n.element),e.keystrokes.stopListening(n.element),n.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Wo._visibleDialogPlugin=null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nu extends Kn{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class am extends Et{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id="ck-editor__label_".concat(go());const n=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:n.to("for")},children:[{text:n.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Boe extends Et{constructor(e,n){super(e);const r=e.t,o=new am;o.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":o.id,role:"document",tabindex:-1},children:[So(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(n.values())),o]})}focus(){this.element.focus()}_createCategories(e){return e.map(n=>{const r=[So(document,"h3",{},n.label),...Array.from(n.groups.values()).map(o=>this._createGroup(o)).flat()];return n.description&&r.splice(1,0,So(document,"p",{},n.description)),So(document,"section",{},r)})}_createGroup(e){const n=e.keystrokes.sort((o,i)=>o.label.localeCompare(i.label)).map(o=>this._createGroupRow(o)).flat(),r=[So(document,"dl",{},n)];return e.label&&r.unshift(So(document,"h4",{},e.label)),r}_createGroupRow(e){const n=this.locale.t,r=So(document,"dt"),o=So(document,"dd"),i=joe(e.keystroke),s=[];for(const a of i)s.push(a.map(Voe).join(""));return r.innerHTML=e.label,o.innerHTML=s.join(", ")+(e.mayRequireFn&&jt.isMac?" ".concat(n("(may require <kbd>Fn</kbd>)")):""),[r,o]}}function Voe(t){return Od(t).split("+").map(e=>"<kbd>".concat(e,"</kbd>")).join("+")}function joe(t){return typeof t=="string"?[[t]]:typeof t[0]=="string"?[t]:t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zoe extends kt{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Wo]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,n=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(Kn);return r.set({tooltip:!0,withText:!1,label:n("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(nu);return r.label=n("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,o)=>{this._showDialog(),o()}),this._setupRootLabels()}_createButton(e){const r=this.editor.locale,o=new e(r);return o.set({keystroke:"Alt+0",icon:Ab}),o.on("execute",()=>this._showDialog()),o}_setupRootLabels(){const e=this.editor,n=e.editing.view,r=e.t;e.ui.on("ready",()=>{n.change(i=>{for(const s of n.document.roots)o(i,s)}),e.on("addRoot",(i,s)=>{const a=e.editing.view.document.getRoot(s.rootName);n.change(c=>o(c,a))},{priority:"low"})});function o(i,s){const a=s.getAttribute("aria-label"),c="".concat(a,". ").concat(r("Press %0 for help.",[Od("Alt+0")]));i.setAttribute("aria-label",c,s)}}_showDialog(){const e=this.editor,n=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new Boe(e.locale,e.accessibility.keystrokeInfos)),n.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:Ab,hasCloseButton:!0,content:this.contentView})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uoe extends Ri{constructor(e,n=[]){super(n),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Yo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=So(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hoe extends Kn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Et;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lp extends Kn{constructor(e){super(e),this.buttonView=this,this._fileInputView=new Woe(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Woe extends Et{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:n.to("acceptedType"),multiple:n.to("allowMultipleFiles")},on:{change:n.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Goe extends Et{constructor(e,n){super(e);const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),n&&this.children.addMany(n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Kn(this.locale),n=e.bindTemplate;return e.set({withText:!0,icon:zd}),e.extendTemplate({attributes:{"aria-expanded":n.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cb extends Et{constructor(e,n){super(e);const r="ck-labeled-field-view-".concat(go()),o="ck-labeled-field-view-status-".concat(go());this.fieldView=n(this,r,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(s,a)=>s||a);const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const n=new am(this.locale);return n.for=e,n.bind("text").to(this,"label"),n}_createStatusView(e){const n=new Et(this.locale),r=this.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",o=>!o)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),n}focus(e){this.fieldView.focus(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qoe extends Et{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new zr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),tabindex:n.to("tabIndex"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById"),"aria-label":n.to("ariaLabel")},on:{input:n.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,n,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=Koe(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function Koe(t){return!t.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yoe extends qoe{constructor(e){super(e),this.set("inputMode","text");const n=this.bindTemplate;this.extendTemplate({attributes:{inputmode:n.to("inputMode")}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xoe extends Yoe{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qoe extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",r=>"ck-dropdown__panel_".concat(r)),n.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:n.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():an("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class La extends Et{constructor(e,n,r){super(e);const o=this.bindTemplate;this.buttonView=n,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bo,this.focusTracker=new zr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",i=>!i)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[n,r]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,r,o)=>{if(o)if(this.panelPosition==="auto"){const i=La._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(n,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(n,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(n,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:n,southEast:r,southWest:o,northEast:i,northWest:s,southMiddleEast:a,southMiddleWest:c,northMiddleEast:u,northMiddleWest:d}=La.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,o,a,c,e,i,s,u,d,n]:[o,r,c,a,e,s,i,d,u,n]}}La.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)*3/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)*3/4,name:"nmw"})};La._getOptimalPosition=nm;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Joe extends Kn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new oi;return e.content=zd,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AP extends Et{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zoe extends Et{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function eie(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function EP(t){if(Array.isArray(t))return{items:t,removeItems:[]};const e={items:[],removeItems:[]};return t?{...e,...t}:e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const tie=(()=>({alignLeft:Cn.alignLeft,bold:Cn.bold,importExport:Cn.importExport,paragraph:Cn.paragraph,plus:Cn.plus,text:Cn.text,threeVerticalDots:Cn.threeVerticalDots,pilcrow:Cn.pilcrow,dragIndicator:Cn.dragIndicator}))();class IP extends Et{constructor(e,n){super(e);const r=this.bindTemplate,o=this.t;this.options=n||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new zr,this.keystrokes=new bo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new nie(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const i=e.uiLanguageDirection==="rtl";this._focusCycler=new Ti({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});const s=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&s.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:s,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:eie(this)}}),this._behavior=this.options.shouldGroupWhenFull?new oie(this):new rie(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,n)=>{this.focusTracker.add(n.element)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,n,r){this.items.addMany(this._buildItemsFromConfig(e,n,r))}_buildItemsFromConfig(e,n,r){const o=EP(e),i=r||o.removeItems;return this._cleanItemsConfiguration(o.items,n,i).map(a=>wi(a)?this._createNestedToolbarDropdown(a,n,i):a==="|"?new AP:a==="-"?new Zoe:n.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,n,r){const o=e.filter((i,s,a)=>i==="|"?!0:r.indexOf(i)!==-1?!1:i==="-"?this.options.shouldGroupWhenFull?(an("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!wi(i)&&!n.has(i)?(an("toolbarview-item-unavailable",{item:i}),!1):!0);return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(e){const n=s=>s!=="-"&&s!=="|",r=e.length,o=e.findIndex(n);if(o===-1)return[];const i=r-e.slice().reverse().findIndex(n);return e.slice(o,i).filter((s,a,c)=>n(s)?!0:!(a>0&&c[a-1]===s))}_createNestedToolbarDropdown(e,n,r){let{label:o,icon:i,items:s,tooltip:a=!0,withText:c=!1}=e;if(s=this._cleanItemsConfiguration(s,n,r),!s.length)return null;const u=this.locale,d=db(u);return o||an("toolbarview-nested-toolbar-dropdown-missing-label",e),d.class="ck-toolbar__nested-toolbar-dropdown",d.buttonView.set({label:o,tooltip:a,withText:!!c}),i!==!1?d.buttonView.icon=tie[i]||i||Cn.threeVerticalDots:d.buttonView.withText=!0,MP(d,()=>d.toolbarView._buildItemsFromConfig(s,n,r)),d}}class nie extends Et{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class rie{constructor(e){const n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>tu(r)?r:null),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class oie{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(n=>n),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(n,r)=>{const o=r.index,i=Array.from(r.added);for(const s of r.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=o;s<o+i.length;s++){const a=i[s-o];s>this.ungroupedItems.length?this.groupedItems.add(a,s-this.ungroupedItems.length):this.ungroupedItems.add(a,s)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ks(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let n;for(;this._areItemsOverflowing;)this._groupLastItem(),n=!0;if(!n&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,n=this.viewLocale.uiLanguageDirection,r=new Ut(e.lastChild),o=new Ut(e);if(!this.cachedPadding){const i=ut.window.getComputedStyle(e),s=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[s])}return n==="ltr"?r.right>o.right-this.cachedPadding:r.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Zc(this.viewElement,n=>{(!e||e!==n.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=n.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new AP),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,n=e.t,r=db(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",MP(r,this.groupedItems),r.buttonView.set({label:n("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Cn.threeVerticalDots}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{tu(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xc extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",n.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _P extends Et{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bh extends Et{constructor(e,n=new am){super(e);const r=this.bindTemplate,o=new ub(e);this.set({label:"",isVisible:!0}),this.labelView=n,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,o]),o.set({role:"group",ariaLabelledBy:n.id}),o.focusTracker.destroy(),o.keystrokes.destroy(),this.items=o.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",i=>!i)]},children:this.children})}focus(){if(this.items){const e=this.items.find(n=>!(n instanceof _P));e&&e.focus()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ub extends Et{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const n=this.bindTemplate;this.focusables=new Ri,this.items=this.createCollection(),this.focusTracker=new zr,this.keystrokes=new bo,this._focusCycler=new Ti({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:n.to("role"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof bh?this._registerFocusableItemsGroup(e):e instanceof xc&&this._registerFocusableListItem(e);this.items.on("change",(e,n)=>{for(const r of n.removed)r instanceof bh?this._deregisterFocusableItemsGroup(r):r instanceof xc&&this._deregisterFocusableListItem(r);for(const r of Array.from(n.added).reverse())r instanceof bh?this._registerFocusableItemsGroup(r,n.index):this._registerFocusableListItem(r,n.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,n){this.focusTracker.add(e.element),this.focusables.add(e,n)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(n,r)=>{for(const o of r.removed)this._deregisterFocusableListItem(o);for(const o of Array.from(r.added).reverse())this._registerFocusableListItem(o,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,n){Array.from(e.items).forEach((o,i)=>{const s=typeof n<"u"?n+i:void 0;this._registerFocusableListItem(o,s)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const n of e.items)this._deregisterFocusableListItem(n);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PP extends Et{constructor(e,n){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(n),this.arrowView=this._createArrowView(),this.keystrokes=new bo,this.focusTracker=new zr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,n)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",(e,n)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),n())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const n=e||new Kn;return e||n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const e=new Kn,n=e.bindTemplate;return e.icon=zd,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":n.to("isOn"),"aria-haspopup":!0,"aria-expanded":n.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function db(t,e=Joe){const n=typeof e=="function"?new e(t):e,r=new Qoe(t),o=new La(t,n,r);return n.bind("isEnabled").to(o),n instanceof PP?n.arrowView.bind("isOn").to(o,"isOpen"):n.bind("isOn").to(o,"isOpen"),sie(o),o}function MP(t,e,n={}){t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.isOpen?YC(t,e,n):t.once("change:isOpen",()=>YC(t,e,n),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&iie(t,()=>t.toolbarView.items.find(r=>r.isOn))}function YC(t,e,n){const r=t.locale,o=r.t,i=t.toolbarView=new IP(r),s=typeof e=="function"?e():e;i.ariaLabel=n.ariaLabel||o("Dropdown toolbar"),n.maxWidth&&(i.maxWidth=n.maxWidth),n.class&&(i.class=n.class),n.isCompact&&(i.isCompact=n.isCompact),n.isVertical&&(i.isVertical=!0),s instanceof Ri?i.items.bindTo(s).using(a=>a):i.items.addMany(s),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function iie(t,e){t.on("change:isOpen",()=>{if(!t.isOpen)return;const n=e();n&&(typeof n.focus=="function"?n.focus():an("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:ys.low-10})}function sie(t){aie(t),lie(t),cie(t),uie(t),die(t),fie(t)}function aie(t){t.on("render",()=>{rm({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:()=>[t.element,...t.focusTracker._elements]})})}function lie(t){t.on("execute",e=>{e.source instanceof Hoe||(t.isOpen=!1)})}function cie(t){t.focusTracker.on("change:isFocused",(e,n,r)=>{t.isOpen&&!r&&(t.isOpen=!1)})}function uie(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}function die(t){t.on("change:isOpen",(e,n,r)=>{if(r)return;const o=t.panelView.element;o&&o.contains(ut.document.activeElement)&&t.buttonView.focus()})}function fie(t){t.on("change:isOpen",(e,n,r)=>{r&&t.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const fb=(t,e,n)=>{const r=new Xoe(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",o=>!o),r.bind("hasError").to(t,"errorText",o=>!!o),r.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused","placeholder").to(r),r};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mie{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,n){this._components.set(wh(e),{callback:n,originalName:e})}create(e){if(!this.has(e))throw new ae("componentfactory-item-missing",this,{name:e});return this._components.get(wh(e)).callback(this.editor.locale)}has(e){return this._components.has(wh(e))}}function wh(t){return String(t).toLowerCase()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const XC=sl("px"),hie={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class hr extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",r=>"ck-balloon-panel_".concat(r)),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",XC),left:n.to("left",XC)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const n=hr.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:ut.document.body,fitInViewport:!0},e),o=hr._getOptimalPosition(r)||hie,i=parseInt(o.left),s=parseInt(o.top),a=o.name,c=o.config||{},{withArrow:u=!0}=c;this.top=s,this.left=i,this.position=a,this.withArrow=u}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const n=cp(e.target),r=e.limiter?cp(e.limiter):ut.document.body;this.listenTo(ut.document,"scroll",(o,i)=>{const s=i.target,a=n&&s.contains(n),c=r&&s.contains(r);(a||c||!n||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(ut.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ut.document,"scroll"),this.stopListening(ut.window,"resize")}static generatePositions(e={}){const{sideOffset:n=hr.arrowSideOffset,heightOffset:r=hr.arrowHeightOffset,stickyVerticalOffset:o=hr.stickyVerticalOffset,config:i}=e;return{northWestArrowSouthWest:(c,u)=>({top:s(c,u),left:c.left-n,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.left-u.width*.25-n,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(c,u)=>({top:s(c,u),left:c.left-u.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.left-u.width*.75+n,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(c,u)=>({top:s(c,u),left:c.left-u.width+n,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(c,u)=>({top:s(c,u),left:c.left+c.width/2-n,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width*.25-n,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width*.75+n,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width+n,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(c,u)=>({top:s(c,u),left:c.right-n,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.right-u.width*.25-n,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(c,u)=>({top:s(c,u),left:c.right-u.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.right-u.width*.75+n,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(c,u)=>({top:s(c,u),left:c.right-u.width+n,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:c=>({top:a(c),left:c.left-n,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(c,u)=>({top:a(c),left:c.left-u.width*.25-n,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(c,u)=>({top:a(c),left:c.left-u.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(c,u)=>({top:a(c),left:c.left-u.width*.75+n,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(c,u)=>({top:a(c),left:c.left-u.width+n,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:c=>({top:a(c),left:c.left+c.width/2-n,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(c,u)=>({top:a(c),left:c.left+c.width/2-u.width*.25-n,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(c,u)=>({top:a(c),left:c.left+c.width/2-u.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(c,u)=>({top:a(c),left:c.left+c.width/2-u.width*.75+n,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(c,u)=>({top:a(c),left:c.left+c.width/2-u.width+n,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:c=>({top:a(c),left:c.right-n,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(c,u)=>({top:a(c),left:c.right-u.width*.25-n,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(c,u)=>({top:a(c),left:c.right-u.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(c,u)=>({top:a(c),left:c.right-u.width*.75+n,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(c,u)=>({top:a(c),left:c.right-u.width+n,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.left-u.width-r,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.right+r,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(c,u,d,f)=>{const m=f||d;return!c.getIntersection(m)||m.height-c.height>o?null:{top:m.top+o,left:c.left+c.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...i}}}};function s(c,u){return c.top-u.height-r}function a(c){return c.bottom+r}}}hr.arrowSideOffset=25;hr.arrowHeightOffset=10;hr.stickyVerticalOffset=20;hr._getOptimalPosition=nm;hr.defaultPositions=hr.generatePositions();function cp(t){return Es(t)?t:tm(t)?t.commonAncestorContainer:typeof t=="function"?cp(t()):null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const QC="ck-tooltip";class or extends vo(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,or._editors.add(e),or._instance)return or._instance;or._instance=this,this.tooltipTextView=new Et(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new hr(e.locale),this.balloonPanelView.class=QC,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=gie(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Sa(this._pinTooltip,600),this._unpinTooltipDebounced=Sa(this._unpinTooltip,400),this.listenTo(ut.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(ut.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ut.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ut.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ut.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ut.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const n=e.ui.view&&e.ui.view.body;or._editors.delete(e),this.stopListening(e.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),or._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),or._instance=null)}static getPositioningFunctions(e){const n=or.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[e]}_onKeyDown(e,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(e,{target:n}){const r=yh(n);if(!r){e.name==="focus"&&this._unpinTooltip();return}r!==this._currentElementWithTooltip&&(this._unpinTooltip(),e.name==="focus"&&!r.matches(":hover")?this._pinTooltip(r,Ch(r)):this._pinTooltipDebounced(r,Ch(r)))}_onLeaveOrBlur(e,{target:n,relatedTarget:r}){if(e.name==="mouseleave"){if(!Es(n))return;const o=this.balloonPanelView.element,i=o&&(o===r||o.contains(r)),s=!i&&n===o;if(i){this._unpinTooltipDebounced.cancel();return}if(!s&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const a=yh(n),c=yh(r);(s||a&&a!==c)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:n,position:r,cssClass:o}){this._unpinTooltip();const i=al(or._editors.values()).ui.view.body;i.has(this.balloonPanelView)||i.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.class=[QC,o].filter(s=>s).join(" "),this.balloonPanelView.pin({target:e,positions:or.getPositioningFunctions(r)}),this._resizeObserver=new Zc(e,()=>{ks(e)||this._unpinTooltip()}),this._mutationObserver.attach(e);for(const s of or._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of or._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=Ch(this._currentElementWithTooltip);if(!ks(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:or.getPositioningFunctions(e.position)})}}or.defaultBalloonPositions=hr.generatePositions({heightOffset:5,sideOffset:13});or._editors=new Set;or._instance=null;function yh(t){return Es(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Ch(t){return{text:t.dataset.ckeTooltipText,position:t.dataset.ckeTooltipPosition||"s",cssClass:t.dataset.ckeTooltipClass||""}}function gie(t){const e=new MutationObserver(()=>{t()});return{attach(n){e.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pie=53,vie=10,bie=50,wie=350,yie="Powered by";class Cie extends vo(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=id(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,n=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!n&&Ree(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(r,o,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(r,o,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,n=this._balloonView=new hr,r=RP(e),o=new Sie(e.locale,r.label);n.content.add(o),n.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(n),e.ui.focusTracker.add(n.element),this._balloonView=n}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=xie(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,n=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!n||!r){this._lastFocusedEditableElement=null;return}const o=Array.from(e.ui.getEditableElementsNames()).map(i=>e.ui.getEditableElement(i));o.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=o[0]}}class Sie extends Et{constructor(e,n){super(e);const r=new oi,o=this.bindTemplate;r.set({content:xR,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:pie+"px",height:vie+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...n?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[n]}]:[],r],on:{dragstart:o.to(i=>i.preventDefault())}}]})}}function xie(t,e){const n=RP(t),r=n.side==="right"?Aie(e,n):Eie(e,n);return{target:e,positions:[r]}}function Aie(t,e){return kP(t,e,(n,r)=>n.left+n.width-r.width-e.horizontalOffset)}function Eie(t,e){return kP(t,e,n=>n.left+e.horizontalOffset)}function kP(t,e,n){return(r,o)=>{const i=new Ut(t);if(i.width<wie||i.height<bie)return null;let s;e.position==="inside"?s=i.bottom-o.height:s=i.bottom-o.height/2,s-=e.verticalOffset;const a=n(i,o),u=r.clone().moveTo(a,s).getIntersection(o.clone().moveTo(a,s)).getVisible();return!u||u.getArea()<o.getArea()?null:{top:s,left:a,name:"position_".concat(e.position,"-side_").concat(e.side),config:{withArrow:!1}}}}function RP(t){const e=t.config.get("ui.poweredBy"),n=e&&e.position||"border";return{position:n,label:yie,verticalOffset:n==="inside"?5:0,horizontalOffset:5,side:t.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const JC={POLITE:"polite",ASSERTIVE:"assertive"};class Iie{constructor(e){this.editor=e,e.once("ready",()=>{for(const n of Object.values(JC))this.announce("",n)})}announce(e,n=JC.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new _ie(r.locale),r.ui.view.body.add(this.view));const{politeness:o,isUnsafeHTML:i}=typeof n=="string"?{politeness:n}:n;let s=this.view.regionViews.find(a=>a.politeness===o);s||(s=new Pie(r,o),this.view.regionViews.add(s)),s.announce({announcement:e,isUnsafeHTML:i})}}class _ie extends Et{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Pie extends Et{constructor(e,n){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":n,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=n,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:n}){if(!e.trim().length)return;const r=document.createElement("li");n?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mie extends An(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const n=e.editing.view;this.editor=e,this.componentFactory=new mie(e),this.focusTracker=new zr,this.tooltipManager=new or(e),this.poweredBy=new Cie(e),this.ariaLiveAnnouncer=new Iie(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(n.document,"layoutChanged",this.update.bind(this)),this.listenTo(n,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor),this.focusTracker.add(n);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(n)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const n=this._editableElementsMap.get(e);n&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(n),this.focusTracker.remove(n),n.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,n={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,n=e.config.get("ui.viewportOffset");if(n)return n;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,n=e.editing.view;let r,o;e.keystrokes.set("Alt+F10",(i,s)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(n.domRoots.values()).includes(a)&&(r=a);const c=this._getCurrentFocusedToolbarDefinition();(!c||!o)&&(o=this._getFocusableCandidateToolbarDefinitions());for(let u=0;u<o.length;u++){const d=o.shift();if(o.push(d),d!==c&&this._focusFocusableCandidateToolbar(d)){c&&c.options.afterBlur&&c.options.afterBlur();break}}s()}),e.keystrokes.set("Esc",(i,s)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(r?(r.focus(),r=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),s())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const n of this._focusableToolbarDefinitions){const{toolbarView:r,options:o}=n;(ks(r.element)||o.beforeFocus)&&e.push(n)}return e.sort((n,r)=>ZC(n)-ZC(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:n,options:{beforeFocus:r}}=e;return r&&r(),ks(n.element)?(n.focus(),!0):!1}_handleScrollToTheSelection(e,n){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};n.viewportOffset.top+=r.top,n.viewportOffset.bottom+=r.bottom,n.viewportOffset.left+=r.left,n.viewportOffset.right+=r.right}}function ZC(t){const{toolbarView:e,options:n}=t;let r=10;return ks(e.element)&&r--,n.isContextual&&r--,r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kie extends Et{constructor(e){super(e),this.body=new Uoe(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rie extends kie{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,n=new am;return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{class:"ck-voice-label"}}),n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tie extends Et{constructor(e,n,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=n}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):n(this);function n(o){e.change(i=>{const s=e.document.getRoot(o.name);i.addClass(o.isFocused?"ck-focused":"ck-blurred",s),i.removeClass(o.isFocused?"ck-blurred":"ck-focused",s)})}function r(o){e.once("change:isRenderingInProgress",(i,s,a)=>{a?r(o):n(o)})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oie extends Tie{constructor(e,n,r,o={}){super(e,n,r);const i=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=o.label||(()=>i("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(n=>{const r=e.document.getRoot(this.name);n.setAttribute("aria-label",this._generateLabel(this),r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let e1=class extends P_{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,n)=>{window.alert(n.message)},{priority:"lowest"})}showSuccess(e,n={}){this._showNotification({message:e,type:"success",namespace:n.namespace,title:n.title})}showInfo(e,n={}){this._showNotification({message:e,type:"info",namespace:n.namespace,title:n.title})}showWarning(e,n={}){this._showNotification({message:e,type:"warning",namespace:n.namespace,title:n.title})}_showNotification(e){const n=e.namespace?"show:".concat(e.type,":").concat(e.namespace):"show:".concat(e.type);this.fire(n,{message:e.message,type:e.type,title:e.title||""})}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Tu=sl("px");class up extends kt{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const n=this.editor.editing.view,o=n.document.selection.editableElement;return o?n.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new ae("contextualballoon-add-view-exist",[this,e]);const n=e.stackId||"main";if(!this._idToStack.has(n)){this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(n);return}const r=this._idToStack.get(n);e.singleViewMode&&this.showStack(n),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new ae("contextualballoon-remove-view-not-exist",[this,e]);const n=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(n.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(n.values())[n.size-2])),n.size===1?(this._idToStack.delete(this._getStackId(n)),this._numberOfStacks=this._idToStack.size):n.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const n=this._idToStack.get(e);if(!n)throw new ae("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==n&&this._showView(Array.from(n.values()).pop())}_createPanelView(){this._view=new hr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)+1;e[n]||(n=0),this.showStack(this._getStackId(e[n]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)-1;e[n]||(n=e.length-1),this.showStack(this._getStackId(e[n]))}_createRotatorView(){const e=new Nie(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,o)=>!o&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,o)=>{if(o<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return n("%0 of %1",[i,o])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Die(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(n,r)=>!r&&n>=2?Math.min(n-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:n="",withArrow:r=!0,singleViewMode:o=!1}){this.view.class=n,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Nie extends Et{constructor(e){super(e);const n=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new zr,this.buttonPrevView=this._createButtonView(n("Previous"),Cn.previousArrow),this.buttonNextView=this._createButtonView(n("Next"),Cn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,n){const r=new Kn(this.locale);return r.set({label:e,icon:n,tooltip:!0}),r}}class Die extends Et{constructor(e,n){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=n,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:r.to("top",Tu),left:r.to("left",Tu),width:r.to("width",Tu),height:r.to("height",Tu)}},children:this.content}),this.on("change:numberOfPanels",(o,i,s,a)=>{s>a?this._addPanels(s-a):this._removePanels(a-s),this.updatePosition()})}_addPanels(e){for(;e--;){const n=new Et;n.setTemplate({tag:"div"}),this.content.add(n),this.registerChild(n)}}_removePanels(e){for(;e--;){const n=this.content.last;this.content.remove(n),this.deregisterChild(n),n.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:n}=this._balloonPanelView,{width:r,height:o}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:e,left:n,width:r,height:o})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ia=sl("px");class $ie extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Yo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",r=>r?"block":"none"),height:n.to("isSticky",r=>r?ia(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Yo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",r=>r?ia(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:n.to("_stickyTopOffset",r=>r&&ia(r)),bottom:n.to("_stickyBottomOffset",r=>r&&ia(r)),marginLeft:n.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(ut.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Ut(this.limiterElement);let n=e.getVisible();if(n){const r=new Ut(ut.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,n=n.getIntersection(r)}if(n&&e.top<n.top){const r=n.top;if(r+this._contentPanelRect.height+this.limiterBottomOffset>n.bottom){const o=Math.max(e.bottom-n.bottom,0)+this.limiterBottomOffset;e.bottom-o>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(r):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=ia(-ut.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=ia(-ut.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ut(this.contentPanelElement)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fie extends cb{constructor(e,n){const r=e.t,o=Object.assign({},{showResetButton:!0,showIcon:!0,creator:fb},n);super(e,o.creator),this.label=n.label,this._viewConfig=o,this._viewConfig.showIcon&&(this.iconView=new oi,this.iconView.content=Cn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Kn(e),this.resetButtonView.set({label:r("Clear"),icon:Cn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",i=>!i),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lie extends Et{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",n=>!n)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bie extends Et{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new zr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ti({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vie extends Et{constructor(e,n){super(e),this._config=n,this.filteredView=n.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new zr,this.keystrokes=new bo,this.resultsView=new Bie(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),n.infoView&&n.infoView.instance?this.infoView=n.infoView.instance:(this.infoView=new Lie,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ti({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(r,{resultsCount:o,totalItemsCount:i})=>{this.resultsCount=o,this.totalItemsCount=i}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",n.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=n=>n.stopPropagation();for(const n of this.focusableChildren)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const n=e?new RegExp(fk(e),"ig"):null,r=this.filteredView.filter(n);this.fire("search",{query:e,...r})}_createSearchTextQueryView(){const e=new Fie(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,n=this.infoView;this.on("search",(o,i)=>{if(i.resultsCount)n.set({isVisible:!1});else{const s=this._config.infoView&&this._config.infoView.text;let a,c;i.totalItemsCount?s&&s.notFound?(a=s.notFound.primary,c=s.notFound.secondary):(a=e("No results found"),c=""):s&&s.noSearchableItems?(a=s.noSearchableItems.primary,c=s.noSearchableItems.secondary):(a=e("No searchable items"),c=""),n.set({primaryText:r(a,i),secondaryText:r(c,i),isVisible:!0})}});function r(o,{query:i,resultsCount:s,totalItemsCount:a}){return typeof o=="function"?o(i,s,a):o}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ac extends Vie{constructor(e,n){super(e,n),this._config=n;const r=sl("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const o=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[o.if("isVisible","ck-hidden",i=>!i),o.to("_position",i=>"ck-search__results_".concat(i))],style:{width:o.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(i,s,a)=>{this._updateResultsVisibility(),a?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(i,s)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,s())}),this.listenTo(ut.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(i,{value:s})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=s,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ut(this.queryView.fieldView.element).width;const e=Ac._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Ac.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=e}}Ac.defaultResultsPositions=[t=>({top:t.bottom,left:t.left,name:"s"}),(t,e)=>({top:t.top-e.height,left:t.left,name:"n"})];Ac._getOptimalPosition=nm;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jie extends Kn{constructor(e){super(e);const n=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":n.to("isOn")},on:{mouseenter:n.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new oi;return e.content=zd,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mb extends xc{constructor(e,n){super(e);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ou=5,Pl={toggleMenusAndFocusItemsOnHover(t){t.on("menu:mouseenter",e=>{if(t.isOpen){for(const n of t.menus){const r=e.path[0],o=r instanceof mb&&r.children.first===n;n.isOpen=(e.path.includes(n)||o)&&n.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(t){const e=t.locale.uiLanguageDirection==="rtl";t.on("menu:arrowright",r=>{n(r.source,e?-1:1)}),t.on("menu:arrowleft",r=>{n(r.source,e?1:-1)});function n(r,o){const i=t.children.getIndex(r),s=r.isOpen,a=t.children.length,c=t.children.get((i+a+o)%a);r.isOpen=!1,s&&(c.isOpen=!0),c.buttonView.focus()}},closeMenusWhenTheBarCloses(t){t.on("change:isOpen",()=>{t.isOpen||t.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(t){t.on("menu:change:isOpen",(e,n,r)=>{r&&t.menus.filter(o=>e.source.parentMenuView===o.parentMenuView&&e.source!==o&&o.isOpen).forEach(o=>{o.isOpen=!1})})},closeOnClickOutside(t){rm({emitter:t,activator:()=>t.isOpen,callback:()=>t.close(),contextElements:()=>t.children.map(e=>e.element)})}},us={openAndFocusPanelOnArrowDownKey(t){t.keystrokes.set("arrowdown",(e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())})},openOnArrowRightKey(t){const e=t.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";t.keystrokes.set(e,(n,r)=>{t.focusTracker.focusedElement!==t.buttonView.element||!t.isEnabled||(t.isOpen||(t.isOpen=!0),t.panelView.focus(),r())})},openOnButtonClick(t){t.buttonView.on("execute",()=>{t.isOpen=!0,t.panelView.focus()})},toggleOnButtonClick(t){t.buttonView.on("execute",()=>{t.isOpen=!t.isOpen,t.isOpen&&t.panelView.focus()})},closeOnArrowLeftKey(t){const e=t.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";t.keystrokes.set(e,(n,r)=>{t.isOpen&&(t.isOpen=!1,t.focus(),r())})},closeOnEscKey(t){t.keystrokes.set("esc",(e,n)=>{t.isOpen&&(t.isOpen=!1,t.focus(),n())})},closeOnParentClose(t){t.parentMenuView.on("change:isOpen",(e,n,r)=>{!r&&e.source===t.parentMenuView&&(t.isOpen=!1)})}},zie={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),eastSouth:t=>({top:t.top,left:t.right-Ou,name:"es"}),eastNorth:(t,e)=>({top:t.top-e.height,left:t.right-Ou,name:"en"}),westSouth:(t,e)=>({top:t.top,left:t.left-e.width+Ou,name:"ws"}),westNorth:(t,e)=>({top:t.top-e.height,left:t.left-e.width+Ou,name:"wn"})},Uie=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Hie(t){let e;return!("items"in t)||!t.items?e={items:Bo(Uie),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...t}:e={items:t.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...t},e}function Wie({normalizedConfig:t,locale:e,componentFactory:n}){const r=Bo(t);return Gie(t,r),qie(t,r),Kie(t,r,n),TP(t,r),Yie(r,e),r}function Gie(t,e){const n=e.removeItems,r=[];e.items=e.items.filter(({menuId:o})=>n.includes(o)?(r.push(o),!1):!0),cl(e.items,o=>{o.groups=o.groups.filter(({groupId:i})=>n.includes(i)?(r.push(i),!1):!0);for(const i of o.groups)i.items=i.items.filter(s=>{const a=OP(s);return n.includes(a)?(r.push(a),!1):!0})});for(const o of n)r.includes(o)||an("menu-bar-item-could-not-be-removed",{menuBarConfig:t,itemName:o})}function qie(t,e){const n=e.addItems,r=[];for(const o of n){const i=Jie(o.position),s=Zie(o.position);if(Xie(o))if(!s)i==="start"?(e.items.unshift(o.menu),r.push(o)):i==="end"&&(e.items.push(o.menu),r.push(o));else{const a=e.items.findIndex(c=>c.menuId===s);a!=-1?i==="before"?(e.items.splice(a,0,o.menu),r.push(o)):i==="after"&&(e.items.splice(a+1,0,o.menu),r.push(o)):t1(e,o.menu,s,i)&&r.push(o)}else Qie(o)?cl(e.items,a=>{if(a.menuId===s)i==="start"?(a.groups.unshift(o.group),r.push(o)):i==="end"&&(a.groups.push(o.group),r.push(o));else{const c=a.groups.findIndex(u=>u.groupId===s);c!==-1&&(i==="before"?(a.groups.splice(c,0,o.group),r.push(o)):i==="after"&&(a.groups.splice(c+1,0,o.group),r.push(o)))}}):t1(e,o.item,s,i)&&r.push(o)}for(const o of n)r.includes(o)||an("menu-bar-item-could-not-be-added",{menuBarConfig:t,addedItemConfig:o})}function t1(t,e,n,r){let o=!1;return cl(t.items,i=>{for(const{groupId:s,items:a}of i.groups){if(o)return;if(s===n)r==="start"?(a.unshift(e),o=!0):r==="end"&&(a.push(e),o=!0);else{const c=a.findIndex(u=>OP(u)===n);c!==-1&&(r==="before"?(a.splice(c,0,e),o=!0):r==="after"&&(a.splice(c+1,0,e),o=!0))}}}),o}function Kie(t,e,n){cl(e.items,r=>{for(const o of r.groups)o.items=o.items.filter(i=>{const s=typeof i=="string"&&!n.has(i);return s&&!e.isUsingDefaultConfig&&an("menu-bar-item-unavailable",{menuBarConfig:t,parentMenuConfig:Bo(r),componentName:i}),!s})})}function TP(t,e){const n=e.isUsingDefaultConfig;let r=!1;if(e.items=e.items.filter(o=>o.groups.length?!0:(Sh(t,o,n),!1)),!e.items.length){Sh(t,t,n);return}cl(e.items,o=>{o.groups=o.groups.filter(i=>i.items.length?!0:(r=!0,!1));for(const i of o.groups)i.items=i.items.filter(s=>NP(s)&&!s.groups.length?(Sh(t,s,n),r=!0,!1):!0)}),r&&TP(t,e)}function Sh(t,e,n){n||an("menu-bar-menu-empty",{menuBarConfig:t,emptyMenuConfig:e})}function Yie(t,e){const n=e.t,r={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};cl(t.items,o=>{o.label in r&&(o.label=r[o.label])})}function cl(t,e){if(Array.isArray(t))for(const r of t)n(r);function n(r){e(r);for(const o of r.groups)for(const i of o.items)NP(i)&&n(i)}}function Xie(t){return typeof t=="object"&&"menu"in t}function Qie(t){return typeof t=="object"&&"group"in t}function Jie(t){return t.startsWith("start")?"start":t.startsWith("end")?"end":t.startsWith("after")?"after":"before"}function Zie(t){const e=t.match(/^[^:]+:(.+)/);return e?e[1]:null}function OP(t){return typeof t=="string"?t:t.menuId}function NP(t){return typeof t=="object"&&"menuId"in t}function ese(t,e){const n=e.element;t.ui.focusTracker.add(n),t.keystrokes.listenTo(n);const r=Hie(t.config.get("menuBar")||{});e.fillFromConfig(r,t.ui.componentFactory),t.keystrokes.set("Esc",(o,i)=>{n.contains(t.ui.focusTracker.focusedElement)&&(t.editing.view.focus(),i())}),t.keystrokes.set("Alt+F9",(o,i)=>{n.contains(t.ui.focusTracker.focusedElement)||(e.focus(),i())})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tse extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",n.to("position",r=>"ck-menu-bar__menu__panel_position_".concat(r)),n.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:n.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class As extends Et{constructor(e){super(e);const n=this.bindTemplate;this.buttonView=new jie(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new tse(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bo,this.focusTracker=new zr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",r=>!r),n.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),us.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(us.openOnButtonClick(this),us.openOnArrowRightKey(this),us.closeOnArrowLeftKey(this),us.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),us.openAndFocusPanelOnArrowDownKey(this),us.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(e,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,n,r)=>{if(!r)return;const o=As._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:n,northEast:r,northWest:o,westSouth:i,eastSouth:s,westNorth:a,eastNorth:c}=zie;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[s,c,i,a]:[e,n,r,o]:this.parentMenuView?[i,a,s,c]:[n,e,o,r]}}As._getOptimalPosition=nm;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dp extends ub{constructor(e){super(e),this.role="menu"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DP extends lp{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const n1=["mouseenter","arrowleft","arrowright","change:isOpen"];class nse extends Et{constructor(e){super(e),this.menus=[];const n=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":n("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,n){const r=this.locale,i=Wie({normalizedConfig:e,locale:r,componentFactory:n}).items.map(s=>this._createMenu({componentFactory:n,menuDefinition:s}));this.children.addMany(i)}render(){super.render(),Pl.toggleMenusAndFocusItemsOnHover(this),Pl.closeMenusWhenTheBarCloses(this),Pl.closeMenuWhenAnotherOnTheSameLevelOpens(this),Pl.focusCycleMenusOnArrows(this),Pl.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,n=null){n?(e.delegate(...n1).to(n),e.parentMenuView=n):e.delegate(...n1).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:n,parentMenuView:r}){const o=this.locale,i=new As(o);return this.registerMenu(i,r),i.buttonView.set({label:n.label}),i.once("change:isOpen",()=>{const s=new dp(o);s.ariaLabel=n.label,i.panelView.children.add(s),s.items.addMany(this._createMenuItems({menuDefinition:n,parentMenuView:i,componentFactory:e}))}),i}_createMenuItems({menuDefinition:e,parentMenuView:n,componentFactory:r}){const o=this.locale,i=[];for(const s of e.groups){for(const a of s.items){const c=new mb(o,n);if(wi(a))c.children.add(this._createMenu({componentFactory:r,menuDefinition:a,parentMenuView:n}));else{const u=this._createMenuItemContentFromFactory({componentName:a,componentFactory:r,parentMenuView:n});if(!u)continue;c.children.add(u)}i.push(c)}s!==e.groups[e.groups.length-1]&&i.push(new _P(o))}return i}_createMenuItemContentFromFactory({componentName:e,parentMenuView:n,componentFactory:r}){const o=r.create(e);return o instanceof As||o instanceof nu||o instanceof DP?(this._registerMenuTree(o,n),o.on("execute",()=>{this.close()}),o):(an("menu-bar-component-unsupported",{componentName:e,componentView:o}),null)}_registerMenuTree(e,n){if(!(e instanceof As)){e.delegate("mouseenter").to(n);return}this.registerMenu(e,n);const r=e.panelView.children.filter(i=>i instanceof dp)[0];if(!r){e.delegate("mouseenter").to(n);return}const o=r.items.filter(i=>i instanceof xc);for(const i of o)this._registerMenuTree(i.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(n,r,o)=>{clearTimeout(e),o?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(i=>i.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rse extends Mie{constructor(e,n){super(e),this.view=n,this._toolbarConfig=EP(e.config.get("toolbar")),this._elementReplacer=new JZ,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const n=this.editor,r=this.view,o=n.editing.view,i=r.editable,s=o.document.getRoot();i.name=s.rootName,r.render();const a=i.element;this.setEditableElement(i.name,a),r.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),r.menuBarView&&ese(n,r.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:n})=>n||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,n=e.editing.view,r=n.document.getRoot(),o=e.sourceElement;let i;const s=e.config.get("placeholder");s&&(i=typeof s=="string"?s:s[this.view.editable.name]),!i&&o&&o.tagName.toLowerCase()==="textarea"&&(i=o.getAttribute("placeholder")),i&&(r.placeholder=i),Yee({view:n,element:r,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,n,r){const o=this.view.stickyPanel;if(o.isSticky){const i=new Ut(o.element).height;n.viewportOffset.top+=i}else{const i=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(o,"change:isSticky",i),setTimeout(()=>{this.stopListening(o,"change:isSticky",i)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,n=this.editor.plugins.get("Dialog");n.on("show",()=>{const r=n.view;r.on("moveTo",(o,i)=>{if(!e.isSticky||r.wasMoved)return;const s=new Ut(e.contentPanelElement);i[1]<s.bottom+Fa.defaultOffset&&(i[1]=s.bottom+Fa.defaultOffset)},{priority:"high"})},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ose extends Rie{constructor(e,n,r={}){super(e),this.stickyPanel=new $ie(e),this.toolbar=new IP(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),r.useMenuBar&&(this.menuBarView=new nse(e)),this.editable=new Oie(e,n)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ise extends ap(sm){constructor(e,n={}){if(!Zu(e)&&n.initialData!==void 0)throw new ae("editor-create-initial-data",null);super(n),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",sse(e)),Zu(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=this.config.get("menuBar"),i=new ose(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r,useMenuBar:o.isVisible});this.ui=new rse(this,i),koe(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,n={}){return new Promise(r=>{const o=new this(e,n);r(o.initPlugins().then(()=>o.ui.init(Zu(e)?e:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function sse(t){return Zu(t)?ree(t):t}function Zu(t){return Es(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ec extends zs{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const n=this.document;this.listenTo(n,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(n,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(n,"dragover",r("dragging"),{priority:"low"});function r(o){return(i,s)=>{s.preventDefault();const a=s.dropRange?[s.dropRange]:null,c=new Ei(n,o);n.fire(c,{dataTransfer:s.dataTransfer,method:i.name,targetRanges:a,target:s.target,domEvent:s.domEvent}),c.stop.called&&s.stopPropagation()}}}onDomEvent(e){const n="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",o={dataTransfer:new U_(n,{cacheFiles:r})};(e.type=="drop"||e.type=="dragover")&&(o.dropRange=ase(this.view,e)),this.fire(e.type,e,o)}}function ase(t,e){const n=e.target.ownerDocument,r=e.clientX,o=e.clientY;let i;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,o)?i=n.caretRangeFromPoint(r,o):e.rangeParent&&(i=n.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0)),i?t.domConverter.domRangeToView(i):null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lse(t){return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(t.includes("</p><p>")||t.includes("<br>"))&&(t="<p>".concat(t,"</p>")),t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cse(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,n)=>n.length==1?" ":n).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const r1=["figcaption","li"],o1=["ol","ul"];function $P(t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return"\n";let e="",n=null;for(const r of t.getChildren())e+=use(r,n)+$P(r),n=r;return e}function use(t,e){return e?t.is("element","li")&&!t.isEmpty&&t.getChild(0).is("containerElement")||o1.includes(t.name)&&o1.includes(e.name)?"\n\n":!t.is("containerElement")&&!e.is("containerElement")?"":r1.includes(t.name)||r1.includes(e.name)?"\n":"\n\n":""}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FP extends kt{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,n){this._markersToCopy.set(e,n)}_copySelectedFragmentWithMarkers(e,n,r=o=>o.model.getSelectedContent(o.model.document.selection)){return this.editor.model.change(o=>{const i=o.model.document.selection;o.setSelection(n);const s=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,e),a=r(o),c=this._removeFakeMarkersInsideElement(o,a);for(const[u,d]of Object.entries(s)){c[u]||(c[u]=o.createRangeIn(a));for(const f of d)o.remove(f)}a.markers.clear();for(const[u,d]of Object.entries(c))a.markers.set(u,d);return o.setSelection(i),a})}_pasteMarkersIntoTransformedElement(e,n){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(o=>{const i=this._insertFakeMarkersElements(o,r),s=n(o),a=this._removeFakeMarkersInsideElement(o,s);for(const c of Object.values(i).flat())o.remove(c);for(const[c,u]of Object.entries(a))o.model.markers.has(c)||o.addMarker(c,{usingOperation:!0,affectsData:!0,range:u});return s})}_pasteFragmentWithMarkers(e){const n=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of n)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,n,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const o=this._markersToCopy.get(e);this._markersToCopy.set(e,r),n(),o?this._markersToCopy.set(e,o):this._markersToCopy.delete(e)}_isMarkerCopyable(e,n){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!n)return!0;const{allowedActions:o}=r;return o==="all"||o.includes(n)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[n]=e.split(":");return this._markersToCopy.get(n)||null}_insertFakeMarkersIntoSelection(e,n,r){const o=this._getCopyableMarkersFromSelection(e,n,r);return this._insertFakeMarkersElements(e,o)}_getCopyableMarkersFromSelection(e,n,r){const o=Array.from(n.getRanges()),i=new Set(o.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),s=a=>{if(!this._isMarkerCopyable(a.name,r))return!1;const{copyPartiallySelected:u}=this._getMarkerClipboardConfig(a.name);if(!u){const d=a.getRange();return o.some(f=>f.containsRange(d,!0))}return!0};return Array.from(i).filter(s).map(a=>({name:r==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,n=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([i,s])=>{if(!this._hasMarkerConfiguration(i))return[{name:i,range:s}];if(this._isMarkerCopyable(i,n)){const a=this._getMarkerClipboardConfig(i),c=r.markers.has(i)&&r.markers.get(i).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||c)&&(i=this._getUniqueMarkerName(i)),[{name:i,range:s}]}return[]})}_insertFakeMarkersElements(e,n){const r={},o=n.flatMap(i=>{const{start:s,end:a}=i.range;return[{position:s,marker:i,type:"start"},{position:a,marker:i,type:"end"}]}).sort(({position:i},{position:s})=>i.isBefore(s)?1:-1);for(const{position:i,marker:s,type:a}of o){const c=e.createElement("$marker",{"data-name":s.name,"data-type":a});r[s.name]||(r[s.name]=[]),r[s.name].push(c),e.insert(c,i)}return r}_removeFakeMarkersInsideElement(e,n){const o=this._getAllFakeMarkersFromElement(e,n).reduce((i,s)=>{const a=s.markerElement&&e.createPositionBefore(s.markerElement);let c=i[s.name],u=!1;return c&&c.start&&c.end&&(this._getMarkerClipboardConfig(s.name).duplicateOnPaste?i[this._getUniqueMarkerName(s.name)]=i[s.name]:u=!0,c=null),u||(i[s.name]={...c,[s.type]:a}),s.markerElement&&e.remove(s.markerElement),i},{});return mk(o,i=>new ve(i.start||e.createPositionFromPath(n,[0]),i.end||e.createPositionAt(n,"end")))}_getAllFakeMarkersFromElement(e,n){const r=Array.from(e.createRangeIn(n)).flatMap(({item:s})=>{if(!s.is("element","$marker"))return[];const a=s.getAttribute("data-name"),c=s.getAttribute("data-type");return[{markerElement:s,name:a,type:c}]}),o=[],i=[];for(const s of r)s.type==="end"&&(r.some(c=>c.name===s.name&&c.type==="start")||o.push({markerElement:null,name:s.name,type:"start"})),s.type==="start"&&(r.some(c=>c.name===s.name&&c.type==="end")||i.unshift({markerElement:null,name:s.name,type:"end"}));return[...o,...r,...i]}_getUniqueMarkerName(e){const n=e.split(":"),r=go().substring(1,6);return n.length===3?"".concat(n.slice(0,2).join(":"),":").concat(r):"".concat(n.join(":"),":").concat(r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rs extends kt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[FP]}init(){this.editor.editing.view.addObserver(Ec),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,n,r){const o=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const i=o._copySelectedFragmentWithMarkers(r,n);this.fire("outputTransformation",{dataTransfer:e,content:i,method:r})})}_setupPasteDrop(){const e=this.editor,n=e.model,r=e.editing.view,o=r.document,i=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(o,"clipboardInput",(s,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&s.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(s,a)=>{const c=a.dataTransfer;let u;if(a.content)u=a.content;else{let f="";c.getData("text/html")?f=cse(c.getData("text/html")):c.getData("text/plain")&&(f=lse(c.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(f)}const d=new Ei(this,"inputTransformation");this.fire(d,{content:u,dataTransfer:c,targetRanges:a.targetRanges,method:a.method}),d.stop.called&&s.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,a)=>{if(a.content.isEmpty)return;const u=this.editor.data.toModel(a.content,"$clipboardHolder");u.childCount!=0&&(s.stop(),n.change(()=>{this.fire("contentInsertion",{content:u,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,a)=>{a.resultRange=i._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,n=e.model.document,o=e.editing.view.document,i=(s,a)=>{const c=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(c,n.selection,s.name)};this.listenTo(o,"copy",i,{priority:"low"}),this.listenTo(o,"cut",(s,a)=>{e.model.canEditAt(e.model.document.selection)?i(s,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(s,a)=>{const c=e.data.toView(a.content);o.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:c,method:a.method})},{priority:"low"}),this.listenTo(o,"clipboardOutput",(s,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",$P(a.content))),a.method=="cut"&&e.model.deleteContent(n.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LP{constructor(e,n=20){this._batch=null,this.model=e,this._size=0,this.limit=n,this._isLocked=!1,this._changeCallback=(r,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dse extends Ur{constructor(e,n){super(e),this._buffer=new LP(e.model,n),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const n=this.editor.model,r=n.document,o=e.text||"",i=o.length;let s=r.selection;if(e.selection?s=e.selection:e.range&&(s=n.createSelection(e.range)),!n.canEditAt(s))return;const a=e.resultRange;n.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const u=Array.from(r.selection.getAttributes());n.deleteContent(s),o&&n.insertContent(c.createText(o,u),s),a?c.setSelection(a):s.is("documentSelection")||c.setSelection(s),this._buffer.unlock(),this._buffer.input(i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const i1=["insertText","insertReplacementText"];class fse extends ri{constructor(e){super(e),this.focusObserver=e.getObserver(Dd),jt.isAndroid&&i1.push("insertCompositionText");const n=e.document;n.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;const{data:i,targetRanges:s,inputType:a,domEvent:c}=o;if(!i1.includes(a))return;this.focusObserver.flush();const u=new Ei(n,"insertText");n.fire(u,new $a(e,c,{text:i,selection:e.createSelection(s)})),u.stop.called&&r.stop()}),n.on("compositionend",(r,{data:o,domEvent:i})=>{!this.isEnabled||jt.isAndroid||o&&n.fire("insertText",new $a(e,i,{text:o,selection:n.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mse extends kt{static get pluginName(){return"Input"}init(){const e=this.editor,n=e.model,r=e.editing.view,o=n.document.selection;r.addObserver(fse);const i=new dse(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",i),e.commands.add("input",i),this.listenTo(r.document,"insertText",(s,a)=>{r.document.isComposing||a.preventDefault();const{text:c,selection:u,resultRange:d}=a,f=Array.from(u.getRanges()).map(g=>e.editing.mapper.toModelRange(g));let m=c;if(jt.isAndroid){const g=Array.from(f[0].getItems()).reduce((p,w)=>p+(w.is("$textProxy")?w.data:""),"");g&&(g.length<=m.length?m.startsWith(g)&&(m=m.substring(g.length),f[0].start=f[0].start.getShiftedBy(g.length)):g.startsWith(m)&&(f[0].start=f[0].start.getShiftedBy(m.length),m=""))}const h={text:m,selection:n.createSelection(f)};d&&(h.resultRange=e.editing.mapper.toModelRange(d)),e.execute("insertText",h),r.scrollToTheSelection()}),jt.isAndroid?this.listenTo(r.document,"keydown",(s,a)=>{o.isCollapsed||a.keyCode!=229||!r.document.isComposing||s1(n,i)}):this.listenTo(r.document,"compositionstart",()=>{o.isCollapsed||s1(n,i)})}}function s1(t,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),t.enqueueChange(n.batch,()=>{t.deleteContent(t.document.selection)}),n.unlock()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class a1 extends Ur{constructor(e,n){super(e),this.direction=n,this._buffer=new LP(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const n=this.editor.model,r=n.document;n.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const i=o.createSelection(e.selection||r.selection);if(!n.canEditAt(i))return;const s=e.sequence||1,a=i.isCollapsed;if(i.isCollapsed&&n.modifySelection(i,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(s)){this._replaceEntireContentWithParagraph(o);return}if(this._shouldReplaceFirstBlockWithParagraph(i,s)){this.editor.execute("paragraph",{selection:i});return}if(i.isCollapsed)return;let c=0;i.getFirstRange().getMinimalFlatRanges().forEach(u=>{c+=Yg(u.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(i,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(c),o.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const n=this.editor.model,o=n.document.selection,i=n.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(i))||!n.schema.checkChild(i,"paragraph"))return!1;const a=i.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const n=this.editor.model,o=n.document.selection,i=n.schema.getLimitElement(o),s=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(s,i),e.setSelection(s,0)}_shouldReplaceFirstBlockWithParagraph(e,n){const r=this.editor.model;if(n>1||this.direction!="backward"||!e.isCollapsed)return!1;const o=e.getFirstPosition(),i=r.schema.getLimitElement(o),s=i.getChild(0);return!(o.parent!=s||!e.containsEntireContent(s)||!r.schema.checkChild(i,"paragraph")||s.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hse="character",l1="word",gse="codePoint",Vi="selection",la="backward",Fl="forward",BP={deleteContent:{unit:Vi,direction:la},deleteContentBackward:{unit:gse,direction:la},deleteWordBackward:{unit:l1,direction:la},deleteHardLineBackward:{unit:Vi,direction:la},deleteSoftLineBackward:{unit:Vi,direction:la},deleteContentForward:{unit:hse,direction:Fl},deleteWordForward:{unit:l1,direction:Fl},deleteHardLineForward:{unit:Vi,direction:Fl},deleteSoftLineForward:{unit:Vi,direction:Fl}};class pse extends ri{constructor(e){super(e);const n=e.document;let r=0;n.on("keydown",()=>{r++}),n.on("keyup",()=>{r=0}),n.on("beforeinput",(o,i)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:a,inputType:c}=i,u=BP[c];if(!u)return;const d={direction:u.direction,unit:u.unit,sequence:r};d.unit==Vi&&(d.selectionToRemove=e.createSelection(s[0])),c==="deleteContentBackward"&&(jt.isAndroid&&(d.sequence=1),bse(s)&&(d.unit=Vi,d.selectionToRemove=e.createSelection(s)));const f=new ll(n,"delete",s[0]);n.fire(f,new $a(e,a,d)),f.stop.called&&o.stop()}),jt.isBlink&&vse(this)}observe(){}stopObserving(){}}function vse(t){const e=t.view,n=e.document;let r=null,o=!1;n.on("keydown",(a,{keyCode:c})=>{r=c,o=!1}),n.on("keyup",(a,{keyCode:c,domEvent:u})=>{const d=n.selection,f=t.isEnabled&&c==r&&i(c)&&!d.isCollapsed&&!o;if(r=null,f){const m=d.getFirstRange(),h=new ll(n,"delete",m),g={unit:Vi,direction:s(c),selectionToRemove:d};n.fire(h,new $a(e,u,g))}}),n.on("beforeinput",(a,{inputType:c})=>{const u=BP[c];i(r)&&u&&u.direction==s(r)&&(o=!0)},{priority:"high"}),n.on("beforeinput",(a,{inputType:c,data:u})=>{r==Ht.delete&&c=="insertText"&&u==""&&a.stop()},{priority:"high"});function i(a){return a==Ht.backspace||a==Ht.delete}function s(a){return a==Ht.backspace?la:Fl}}function bse(t){if(t.length!=1||t[0].isCollapsed)return!1;const e=t[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:r,item:o}of e){if(r.parent.is("$text")){const i=r.parent.data,s=r.offset;if(Xv(i,s)||Qv(i,s)||w_(i,s))continue;n++}else(o.is("containerElement")||o.is("emptyElement"))&&n++;if(n>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hb extends kt{static get pluginName(){return"Delete"}init(){const e=this.editor,n=e.editing.view,r=n.document,o=e.model.document;n.addObserver(pse),this._undoOnBackspace=!1;const i=new a1(e,"forward");e.commands.add("deleteForward",i),e.commands.add("forwardDelete",i),e.commands.add("delete",new a1(e,"backward")),this.listenTo(r,"delete",(s,a)=>{r.isComposing||a.preventDefault();const{direction:c,sequence:u,selectionToRemove:d,unit:f}=a,m=c==="forward"?"deleteForward":"delete",h={sequence:u};if(f=="selection"){const g=Array.from(d.getRanges()).map(p=>e.editing.mapper.toModelRange(p));h.selection=e.model.createSelection(g)}else h.unit=f;e.execute(m,h),n.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(s,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),s.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wse extends kt{static get requires(){return[mse,hb]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yse(t,e){let n=t.start;return{text:Array.from(t.getWalker({ignoreElementEnd:!1})).reduce((o,{item:i})=>i.is("$text")||i.is("$textProxy")?o+i.data:(n=e.createPositionAfter(i),""),""),range:e.createRange(n,t.end)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cse extends An(){constructor(e,n){super(),this.model=e,this.testCallback=n,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(r,{directChange:o})=>{if(o){if(!n.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(n,"change:data",(r,o)=>{o.isUndo||!o.isLocal||this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,n={}){const r=this.model,i=r.document.selection,s=r.createRange(r.createPositionAt(i.focus.parent,0),i.focus),{text:a,range:c}=yse(s,r),u=this.testCallback(a);if(!u&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!u,u){const d=Object.assign(n,{text:a,range:c});typeof u=="object"&&Object.assign(d,u),this.fire("matched:".concat(e),d)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*VP(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sse extends Ur{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const n=this.editor.model,r=n.document.selection,o=n.schema,i=r.isCollapsed,s=r.getFirstRange(),a=s.start.parent,c=s.end.parent;if(o.isLimit(a)||o.isLimit(c))return!i&&a==c&&n.deleteContent(r),!1;if(i){const u=VP(e.model.schema,r.getAttributes());return c1(e,s.start),e.setSelectionAttribute(u),!0}else{const u=!(s.start.isAtStart&&s.end.isAtEnd),d=a==c;if(n.deleteContent(r,{leaveUnmerged:u}),u){if(d)return c1(e,r.focus),!0;e.setSelection(c,0)}}return!1}}function c1(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xse={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class jP extends ri{constructor(e){super(e);const n=this.document;let r=!1;n.on("keydown",(o,i)=>{r=i.shiftKey}),n.on("beforeinput",(o,i)=>{if(!this.isEnabled)return;let s=i.inputType;jt.isSafari&&r&&s=="insertParagraph"&&(s="insertLineBreak");const a=i.domEvent,c=xse[s];if(!c)return;const u=new ll(n,"enter",i.targetRanges[0]);n.fire(u,new $a(e,a,{isSoft:c.isSoft})),u.stop.called&&o.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zP extends kt{static get pluginName(){return"Enter"}init(){const e=this.editor,n=e.editing.view,r=n.document,o=this.editor.t;n.addObserver(jP),e.commands.add("enter",new Sse(e)),this.listenTo(r,"enter",(i,s)=>{r.isComposing||s.preventDefault(),!s.isSoft&&(e.execute("enter"),n.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ase extends Ur{execute(){const e=this.editor.model,n=e.document;e.change(r=>{Ise(e,r,n.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,n=e.document;this.isEnabled=Ese(e.schema,n.selection)}}function Ese(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const r=e.getFirstRange(),o=r.start.parent,i=r.end.parent;return!((fp(o,t)||fp(i,t))&&o!==i)}function Ise(t,e,n){const r=n.isCollapsed,o=n.getFirstRange(),i=o.start.parent,s=o.end.parent,a=i==s;if(r){const c=VP(t.schema,n.getAttributes());u1(t,e,o.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(c)}else{const c=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:c}),a?u1(t,e,n.focus):c&&e.setSelection(s,0)}}function u1(t,e,n){const r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function fp(t,e){return t.is("rootElement")?!1:e.isLimit(t)||fp(t.parent,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _se extends kt{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,n=e.model.schema,r=e.conversion,o=e.editing.view,i=o.document,s=this.editor.t;n.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:c})=>c.createEmptyElement("br")}),o.addObserver(jP),e.commands.add("shiftEnter",new Ase(e)),this.listenTo(i,"enter",(a,c)=>{i.isComposing||c.preventDefault(),c.isSoft&&(e.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pse extends wn(){constructor(){super(...arguments),this._stack=[]}add(e,n){const r=this._stack,o=r[0];this._insertDescriptor(e);const i=r[0];o!==i&&!xh(o,i)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:n})}remove(e,n){const r=this._stack,o=r[0];this._removeDescriptor(e);const i=r[0];o!==i&&!xh(o,i)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:n})}_insertDescriptor(e){const n=this._stack,r=n.findIndex(i=>i.id===e.id);if(xh(e,n[r]))return;r>-1&&n.splice(r,1);let o=0;for(;n[o]&&Mse(n[o],e);)o++;n.splice(o,0,e)}_removeDescriptor(e){const n=this._stack,r=n.findIndex(o=>o.id===e);r>-1&&n.splice(r,1)}}function xh(t,e){return t&&e&&t.priority==e.priority&&Fd(t.classes)==Fd(e.classes)}function Mse(t,e){return t.priority>e.priority?!0:t.priority<e.priority?!1:Fd(t.classes)>Fd(e.classes)}function Fd(t){return Array.isArray(t)?t.sort().join(","):t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kse="ck-widget",d1="ck-widget_selected";function ir(t){return t.is("element")?!!t.getCustomProperty("widget"):!1}function Rse(t,e,n={}){if(!t.is("containerElement"))throw new ae("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass(kse,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Lse,e.setCustomProperty("widgetLabel",[],t),n.label&&Dse(t,n.label),n.hasSelectionHandle&&Bse(t,e),Nse(t,e),t}function Tse(t,e,n){if(e.classes&&n.addClass(Gn(e.classes),t),e.attributes)for(const r in e.attributes)n.setAttribute(r,e.attributes[r],t)}function Ose(t,e,n){if(e.classes&&n.removeClass(Gn(e.classes),t),e.attributes)for(const r in e.attributes)n.removeAttribute(r,t)}function Nse(t,e,n=Tse,r=Ose){const o=new Pse;o.on("change:top",(a,c)=>{c.oldDescriptor&&r(t,c.oldDescriptor,c.writer),c.newDescriptor&&n(t,c.newDescriptor,c.writer)});const i=(a,c,u)=>o.add(c,u),s=(a,c,u)=>o.remove(c,u);e.setCustomProperty("addHighlight",i,t),e.setCustomProperty("removeHighlight",s,t)}function Dse(t,e){t.getCustomProperty("widgetLabel").push(e)}function $se(t){return t.getCustomProperty("widgetLabel").reduce((n,r)=>typeof r=="function"?n?n+". "+r():r():n?n+". "+r:r,"")}function Fse(t,e){const n=t.getSelectedElement();if(n){const r=Bi(t);if(r)return e.createRange(e.createPositionAt(n,r))}return e.schema.findOptimalInsertionRange(t)}function Lse(){return null}function Bse(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(r){const o=this.toDomElement(r),i=new oi;return i.set("content",AR),i.render(),o.appendChild(i.element),o});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ci="widget-type-around";function ds(t,e,n){return!!t&&ir(t)&&!n.isInline(e)}function Vse(t){return t.closest(".ck-widget__type-around__button")}function jse(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function zse(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}function Bi(t){return t.getAttribute(ci)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const UP=["before","after"],Use=new DOMParser().parseFromString(ER,"image/svg+xml").firstChild,f1="ck-widget__type-around_disabled";class Hse extends kt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[zP,hb]}init(){const e=this.editor,n=e.editing.view;this.on("change:isEnabled",(r,o,i)=>{n.change(s=>{for(const a of n.document.roots)i?s.removeClass(f1,a):s.addClass(f1,a)}),i||e.model.change(s=>{s.removeSelectionAttribute(ci)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,n){const r=this.editor,o=r.editing.view,i=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,n),attributes:i}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(e,n,r,o){this.listenTo(e,n,(...i)=>{this.isEnabled&&r(...i)},o)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,o=Bi(r);if(!o)return!1;const i=r.getSelectedElement();return this._insertParagraph(i,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,n=e.model.schema,r=e.locale.t,o={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(i,s,a)=>{const c=a.mapper.toViewElement(s.item);c&&ds(c,s.item,n)&&(Wse(a.writer,o,c),c.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,n=e.model,r=n.document.selection,o=n.schema,i=e.editing.view;this._listenToIfEnabled(i.document,"arrowKey",(a,c)=>{this._handleArrowKeyPress(a,c)},{context:[ir,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(a,c)=>{c.directChange&&e.model.change(u=>{u.removeSelectionAttribute(ci)})}),this._listenToIfEnabled(n.document,"change:data",()=>{const a=r.getSelectedElement();if(a){const c=e.editing.mapper.toViewElement(a);if(ds(c,a,o))return}e.model.change(c=>{c.removeSelectionAttribute(ci)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,c,u)=>{const d=u.writer;if(this._currentFakeCaretModelElement){const g=u.mapper.toViewElement(this._currentFakeCaretModelElement);g&&(d.removeClass(UP.map(s),g),this._currentFakeCaretModelElement=null)}const f=c.selection.getSelectedElement();if(!f)return;const m=u.mapper.toViewElement(f);if(!ds(m,f,o))return;const h=Bi(c.selection);h&&(d.addClass(s(h),m),this._currentFakeCaretModelElement=f)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,c,u)=>{u||e.model.change(d=>{d.removeSelectionAttribute(ci)})});function s(a){return"ck-widget_type-around_show-fake-caret_".concat(a)}}_handleArrowKeyPress(e,n){const r=this.editor,o=r.model,i=o.document.selection,s=o.schema,a=r.editing.view,c=n.keyCode,u=bee(c,r.locale.contentLanguageDirection),d=a.document.selection.getSelectedElement(),f=r.editing.mapper.toModelElement(d);let m;ds(d,f,s)?m=this._handleArrowKeyPressOnSelectedWidget(u):i.isCollapsed?m=this._handleArrowKeyPressWhenSelectionNextToAWidget(u):n.shiftKey||(m=this._handleArrowKeyPressWhenNonCollapsedSelection(u)),m&&(n.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,o=r.document.selection,i=Bi(o);return r.change(s=>{if(i){if(!(i===(e?"after":"before")))return s.removeSelectionAttribute(ci),!0}else return s.setSelectionAttribute(ci,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const n=this.editor,r=n.model,o=r.schema,i=n.plugins.get("Widget"),s=i._getObjectElementNextToSelection(e),a=n.editing.mapper.toViewElement(s);return ds(a,s,o)?(r.change(c=>{i._setSelectionOverElement(s),c.setSelectionAttribute(ci,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const n=this.editor,r=n.model,o=r.schema,i=n.editing.mapper,s=r.document.selection,a=e?s.getLastPosition().nodeBefore:s.getFirstPosition().nodeAfter,c=i.toViewElement(a);return ds(c,a,o)?(r.change(u=>{u.setSelection(a,"on"),u.setSelectionAttribute(ci,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",(r,o)=>{const i=Vse(o.domTarget);if(!i)return;const s=jse(i),a=zse(i,n.domConverter),c=e.editing.mapper.toModelElement(a);this._insertParagraph(c,s),o.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,n=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(o,i)=>{if(o.eventPhase!="atTarget")return;const s=n.getSelectedElement(),a=e.editing.mapper.toViewElement(s),c=e.model.schema;let u;this._insertParagraphAccordingToFakeCaretPosition()?u=!0:ds(a,s,c)&&(this._insertParagraph(s,i.isSoft?"before":"after"),u=!0),u&&(i.preventDefault(),o.stop())},{context:ir})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(r,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=n.selection)},{priority:"high"}),jt.isAndroid?this._listenToIfEnabled(n,"keydown",(r,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,n=e.editing.view,r=e.model,o=r.schema;this._listenToIfEnabled(n.document,"delete",(i,s)=>{if(i.eventPhase!="atTarget")return;const a=Bi(r.document.selection);if(!a)return;const c=s.direction,u=r.document.selection.getSelectedElement(),d=a==="before",f=c=="forward";if(d===f)e.execute("delete",{selection:r.createSelection(u,"on")});else{const h=o.getNearestSelectionRange(r.createPositionAt(u,a),c);if(h)if(!h.isCollapsed)r.change(g=>{g.setSelection(h),e.execute(f?"deleteForward":"delete")});else{const g=r.createSelection(h.start);if(r.modifySelection(g,{direction:c}),!g.focus.isEqual(h.start))r.change(p=>{p.setSelection(h),e.execute(f?"deleteForward":"delete")});else{const p=Kse(o,h.start.parent);r.deleteContent(r.createSelection(p,"on"),{doNotAutoparagraph:!0})}}}s.preventDefault(),i.stop()},{context:ir})}_enableInsertContentIntegration(){const e=this.editor,n=this.editor.model,r=n.document.selection;this._listenToIfEnabled(e.model,"insertContent",(o,[i,s])=>{if(s&&!s.is("documentSelection"))return;const a=Bi(r);if(a)return o.stop(),n.change(c=>{const u=r.getSelectedElement(),d=n.createPositionAt(u,a),f=c.createSelection(d),m=n.insertContent(i,f);return c.setSelection(f),m})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,i)=>{const[,s,a={}]=i;if(s&&!s.is("documentSelection"))return;const c=Bi(r);c&&(a.findOptimalPosition=c,i[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[i])=>{if(i&&!i.is("documentSelection"))return;Bi(r)&&o.stop()},{priority:"high"})}}function Wse(t,e,n){const r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(o){const i=this.toDomElement(o);return Gse(i,e),qse(i),i});t.insert(t.createPositionAt(n,"end"),r)}function Gse(t,e){for(const n of UP){const r=new Yo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(n)],title:e[n],"aria-hidden":"true"},children:[t.ownerDocument.importNode(Use,!0)]});t.appendChild(r.render())}}function qse(t){const e=new Yo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}function Kse(t,e){let n=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||t.isLimit(r))break;n=r}return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yse(t){const e=t.model;return(n,r)=>{const o=r.keyCode==Ht.arrowup,i=r.keyCode==Ht.arrowdown,s=r.shiftKey,a=e.document.selection;if(!o&&!i)return;const c=i;if(s&&Jse(a,c))return;const u=Xse(t,a,c);if(u){if(u.isCollapsed){if(a.isCollapsed)return;if(s)return}(u.isCollapsed||Qse(t,u,c))&&(e.change(d=>{const f=c?u.end:u.start;if(s){const m=e.createSelection(a.anchor);m.setFocus(f),d.setSelection(m)}else d.setSelection(f)}),n.stop(),r.preventDefault(),r.stopPropagation())}}}function Xse(t,e,n){const r=t.model;if(n){const o=e.isCollapsed?e.focus:e.getLastPosition(),i=m1(r,o,"forward");if(!i)return null;const s=r.createRange(o,i),a=h1(r.schema,s,"backward");return a?r.createRange(o,a):null}else{const o=e.isCollapsed?e.focus:e.getFirstPosition(),i=m1(r,o,"backward");if(!i)return null;const s=r.createRange(i,o),a=h1(r.schema,s,"forward");return a?r.createRange(a,o):null}}function m1(t,e,n){const r=t.schema,o=t.createRangeIn(e.root),i=n=="forward"?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:c}of o.getWalker({startPosition:e,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return s;if(c==i&&r.isBlock(a))return null}return null}function h1(t,e,n){const r=n=="backward"?e.end:e.start;if(t.checkChild(r,"$text"))return r;for(const{nextPosition:o}of e.getWalker({direction:n}))if(t.checkChild(o,"$text"))return o;return null}function Qse(t,e,n){const r=t.model,o=t.view.domConverter;if(n){const u=r.createSelection(e.start);r.modifySelection(u),!u.focus.isAtEnd&&!e.start.isEqual(u.focus)&&(e=r.createRange(u.focus,e.end))}const i=t.mapper.toViewRange(e),s=o.viewRangeToDom(i),a=Ut.getDomRangeRects(s);let c;for(const u of a){if(c===void 0){c=Math.round(u.bottom);continue}if(Math.round(u.top)>=c)return!1;c=Math.max(c,Math.round(u.bottom))}return!0}function Jse(t,e){return!t.isCollapsed&&t.isBackward==e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HP extends kt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Hse,hb]}init(){const e=this.editor,n=e.editing.view,r=n.document,o=e.t;this.editor.editing.downcastDispatcher.on("selection",(i,s,a)=>{const c=a.writer,u=s.selection;if(u.isCollapsed)return;const d=u.getSelectedElement();if(!d)return;const f=e.editing.mapper.toViewElement(d);ir(f)&&a.consumable.consume(u,"selection")&&c.setSelection(c.createRangeOn(f),{fake:!0,label:$se(f)})}),this.editor.editing.downcastDispatcher.on("selection",(i,s,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const c=a.writer,u=c.document.selection;let d=null;for(const f of u.getRanges())for(const m of f){const h=m.item;ir(h)&&!eae(h,d)&&(c.addClass(d1,h),this._previouslySelected.add(h),d=h)}},{priority:"low"}),n.addObserver(wP),this.listenTo(r,"mousedown",(...i)=>this._onMousedown(...i)),this.listenTo(r,"arrowKey",(...i)=>{this._handleSelectionChangeOnArrowKeyPress(...i)},{context:[ir,"$text"]}),this.listenTo(r,"arrowKey",(...i)=>{this._preventDefaultOnArrowKeyPress(...i)},{context:"$root"}),this.listenTo(r,"arrowKey",Yse(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(i,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),i.stop())},{context:"$root"}),this.listenTo(r,"tab",(i,s)=>{i.eventPhase=="atTarget"&&(s.shiftKey||this._selectFirstNestedEditable()&&(s.preventDefault(),i.stop()))},{context:ir,priority:"low"}),this.listenTo(r,"tab",(i,s)=>{s.shiftKey&&this._selectAncestorWidget()&&(s.preventDefault(),i.stop())},{priority:"low"}),this.listenTo(r,"keydown",(i,s)=>{s.keystroke==Ht.esc&&this._selectAncestorWidget()&&(s.preventDefault(),i.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,n){const r=this.editor,o=r.editing.view,i=o.document;let s=n.target;if(n.domEvent.detail>=3){this._selectBlockContent(s)&&n.preventDefault();return}if(Zse(s)||!ir(s)&&(s=s.findAncestor(ir),!s))return;jt.isAndroid&&n.preventDefault(),i.isFocused||o.focus();const a=r.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_selectBlockContent(e){const n=this.editor,r=n.model,o=n.editing.mapper,i=r.schema,s=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=tae(o.toModelElement(s),r.schema);return a?(r.change(c=>{const u=i.isLimit(a)?null:nae(c.createPositionAfter(a),i),d=c.createPositionAt(a,0),f=u?c.createPositionAt(u,0):c.createPositionAt(a,"end");c.setSelection(c.createRange(d,f))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,n){const r=n.keyCode,o=this.editor.model,i=o.schema,s=o.document.selection,a=s.getSelectedElement(),c=b_(r,this.editor.locale.contentLanguageDirection),u=c=="down"||c=="right",d=c=="up"||c=="down";if(a&&i.isObject(a)){const m=u?s.getLastPosition():s.getFirstPosition(),h=i.getNearestSelectionRange(m,u?"forward":"backward");h&&(o.change(g=>{g.setSelection(h)}),n.preventDefault(),e.stop());return}if(!s.isCollapsed&&!n.shiftKey){const m=s.getFirstPosition(),h=s.getLastPosition(),g=m.nodeAfter,p=h.nodeBefore;(g&&i.isObject(g)||p&&i.isObject(p))&&(o.change(w=>{w.setSelection(u?h:m)}),n.preventDefault(),e.stop());return}if(!s.isCollapsed)return;const f=this._getObjectElementNextToSelection(u);if(f&&i.isObject(f)){if(i.isInline(f)&&d)return;this._setSelectionOverElement(f),n.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,n){const r=this.editor.model,o=r.schema,i=r.document.selection.getSelectedElement();i&&o.isObject(i)&&(n.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);if(o)return this.editor.model.change(i=>{let s=r.anchor.parent;for(;s.isEmpty;){const a=s;s=a.parent,i.remove(a)}this._setSelectionOverElement(o)}),!0}_setSelectionOverElement(e){this.editor.model.change(n=>{n.setSelection(n.createRangeOn(e))})}_getObjectElementNextToSelection(e){const n=this.editor.model,r=n.schema,o=n.document.selection,i=n.createSelection(o);if(n.modifySelection(i,{direction:e?"forward":"backward"}),i.isEqual(o))return null;const s=e?i.focus.nodeBefore:i.focus.nodeAfter;return s&&r.isObject(s)?s:null}_clearPreviouslySelectedWidgets(e){for(const n of this._previouslySelected)e.removeClass(d1,n);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,r=this.editor.editing.view.document;for(const o of r.selection.getFirstRange().getItems())if(o.is("editableElement")){const i=e.editing.mapper.toModelElement(o);/* istanbul ignore next -- @preserve */if(!i)continue;const s=e.model.createPositionAt(i,0),a=e.model.schema.getNearestSelectionRange(s,"forward");return e.model.change(c=>{c.setSelection(a)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,n=e.editing.mapper,o=e.editing.view.document.selection.getFirstPosition().parent,s=(o.is("$text")?o.parent:o).findAncestor(ir);if(!s)return!1;const a=n.toModelElement(s);/* istanbul ignore next -- @preserve */return a?(e.model.change(c=>{c.setSelection(a,"on")}),!0):!1}}function Zse(t){let e=t;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(ir(e))return!1;e=e.parent}return!1}function eae(t,e){return e?Array.from(t.getAncestors()).includes(e):!1}function tae(t,e){for(const n of t.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(n,"$text"))return n;if(e.isLimit(n)&&!e.isObject(n))break}return null}function nae(t,e){const n=new hi({startPosition:t});for(const{item:r}of n){if(e.isLimit(r)||!r.is("element"))return null;if(e.checkChild(r,"$text"))return r}return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore file -- @preserve */const Ah=sl("px");class rae extends Et{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",n=>!n)],style:{left:e.to("left",n=>Ah(n)),top:e.to("top",n=>Ah(n)),width:e.to("width",n=>Ah(n))}}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nu extends kt{constructor(){super(...arguments),this.removeDropMarkerDelayed=Yv(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=id(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=id(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new rae,this._domEmitter=new(vo()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,n,r,o,i,s){this.removeDropMarkerDelayed.cancel();const a=g1(this.editor,e,n,r,o,i,s);/* istanbul ignore next -- @preserve */if(a){if(s&&s.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,n,r,o,i,s){const a=g1(this.editor,e,n,r,o,i,s);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(n=>{n.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(n,{writer:r})=>{if(e.model.schema.checkChild(n.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);n.markerRange.isCollapsed?this._updateDropTargetLine(n.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const n=this.editor,r=n.model.markers;n.model.change(o=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||o.updateMarker("drop-target",{range:e}):o.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(n){const r=this.toDomElement(n);return r.append("⁠",n.createElement("span"),"⁠"),r})}_updateDropTargetLine(e){const n=this.editor.editing,r=e.start.nodeBefore,o=e.start.nodeAfter,i=e.start.parent,s=r?n.mapper.toViewElement(r):null,a=s?n.view.domConverter.mapViewToDom(s):null,c=o?n.mapper.toViewElement(o):null,u=c?n.view.domConverter.mapViewToDom(c):null,d=n.mapper.toViewElement(i);if(!d)return;const f=n.view.domConverter.mapViewToDom(d),m=this._getScrollableRect(d),{scrollX:h,scrollY:g}=ut.window,p=a?new Ut(a):null,w=u?new Ut(u):null,v=new Ut(f).excludeScrollbarsAndBorders(),y=p?p.bottom:v.top,b=w?w.top:v.bottom,C=ut.window.getComputedStyle(f),S=y<=b?(y+b)/2:b;if(m.top<S&&S<m.bottom){const x=v.left+parseFloat(C.paddingLeft),I=v.right-parseFloat(C.paddingRight),E=Math.max(x+h,m.left),_=Math.min(I+h,m.right);this._dropTargetLineView.set({isVisible:!0,left:E,top:S+g,width:_-E})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const n=e.root.rootName;let r;if(this._scrollables.has(n))r=this._scrollables.get(n).domElement;else{const o=this.editor.editing.view.domConverter.mapViewToDom(e);r=iae(o),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const i=new Zc(r,this._reconvertMarkerThrottled);this._scrollables.set(n,{domElement:r,resizeObserver:i})}return new Ut(r).excludeScrollbarsAndBorders()}}function g1(t,e,n,r,o,i,s){const a=t.model,c=t.editing.mapper;let d=p1(t,e);for(;d;){if(!i){if(a.schema.checkChild(d,"$text")){if(n){const f=n[0].start,m=c.toModelPosition(f);if(!s||Array.from(s.getItems()).every(g=>a.schema.checkChild(m,g))){if(a.schema.checkChild(m,"$text"))return a.createRange(m);if(f)return Du(t,p1(t,f.parent),r,o)}}}else if(a.schema.isInline(d))return Du(t,d,r,o)}if(a.schema.isBlock(d))return Du(t,d,r,o);if(a.schema.checkChild(d,"$block")){const f=Array.from(d.getChildren()).filter(g=>g.is("element")&&!oae(t,g));let m=0,h=f.length;if(h==0)return a.createRange(a.createPositionAt(d,"end"));for(;m<h-1;){const g=Math.floor((m+h)/2);WP(t,f[g],r,o)=="before"?h=g:m=g}return Du(t,f[m],r,o)}d=d.parent}return null}function oae(t,e){const n=t.editing.mapper,r=t.editing.view.domConverter,o=n.toViewElement(e);if(!o)return!0;const i=r.mapViewToDom(o);return ut.window.getComputedStyle(i).float!="none"}function Du(t,e,n,r){const o=t.model;return o.createRange(o.createPositionAt(e,WP(t,e,n,r)))}function WP(t,e,n,r){const o=t.editing.mapper,i=t.editing.view.domConverter,s=o.toViewElement(e),a=i.mapViewToDom(s),c=new Ut(a);return t.model.schema.isInline(e)?n<(c.left+c.right)/2?"before":"after":r<(c.top+c.bottom)/2?"before":"after"}function p1(t,e){const n=t.editing.mapper,r=t.editing.view,o=n.toModelElement(e);if(o)return o;const i=r.createPositionBefore(e),s=n.findMappedViewAncestor(i);return n.toModelElement(s)}function iae(t){let e=t;do{e=e.parentElement;const n=ut.window.getComputedStyle(e).overflowY;if(n=="auto"||n=="scroll")break}while(e.tagName!="BODY");return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sae extends kt{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(vo())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(n,r,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),jt.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(o,i)=>this._handleBlockDragStart(i)),this._domEmitter.listenTo(ut.document,"dragover",(o,i)=>this._handleBlockDragging(i)),this._domEmitter.listenTo(ut.document,"drop",(o,i)=>this._handleBlockDragging(i)),this._domEmitter.listenTo(ut.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(o,i,s)=>{r.setAttribute("draggable",s?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const n=this.editor.model,r=n.document.selection,o=this.editor.editing.view,i=Array.from(r.getSelectedBlocks()),s=n.createRange(n.createPositionBefore(i[0]),n.createPositionAfter(i[i.length-1]));n.change(a=>a.setSelection(s)),this._isBlockDragging=!0,o.focus(),o.getObserver(Ec).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const n=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,o=document.elementFromPoint(n,r),i=this.editor.editing.view;!o||!o.closest(".ck-editor__editable")||i.getObserver(Ec).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:o,clientX:n,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aae extends kt{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Yv(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(vo())}static get pluginName(){return"DragDrop"}static get requires(){return[Rs,HP,Nu,sae]}init(){const e=this.editor,n=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,n.addObserver(Ec),n.addObserver(wP),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,o,i)=>{i?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,o,i)=>{i||this._finalizeDragging(!1)}),jt.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,n=e.model,r=e.editing.view,o=r.document,i=e.plugins.get(Nu);this.listenTo(o,"dragstart",(s,a)=>{if(a.target&&a.target.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=go(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=n.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,c,"dragstart");const{dataTransfer:d,domTarget:f,domEvent:m}=a,{clientX:h}=m;this._updatePreview({dataTransfer:d,domTarget:f,clientX:h}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(o,"dragend",(s,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(ut.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(o,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(o,"dragleave",()=>{i.removeDropMarkerDelayed()}),this.listenTo(o,"dragging",(s,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:c,clientY:u}=a.domEvent;i.updateDropMarker(a.target,a.targetRanges,c,u,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),jt.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),s.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,o=e.plugins.get(Nu);this.listenTo(r,"clipboardInput",(i,s)=>{if(s.method!="drop")return;const{clientX:a,clientY:c}=s.domEvent,u=o.getFinalDropRange(s.target,s.targetRanges,a,c,this._blockMode,this._draggedRange);if(!u){this._finalizeDragging(!1),i.stop();return}if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),v1(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0)){this._finalizeDragging(!1),i.stop();return}s.targetRanges=[e.editing.mapper.toViewRange(u)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Rs);e.on("contentInsertion",(n,r)=>{if(!this.isEnabled||r.method!=="drop")return;const o=r.targetRanges.map(i=>this.editor.editing.mapper.toModelRange(i));this.editor.model.change(i=>i.setSelection(o))},{priority:"high"}),e.on("contentInsertion",(n,r)=>{if(!this.isEnabled||r.method!=="drop")return;const o=v1(r.dataTransfer)=="move",i=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(i&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,n=e.editing.view,r=n.document;this.listenTo(r,"mousedown",(o,i)=>{if(jt.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let s=b1(i.target);if(jt.isBlink&&!e.isReadOnly&&!s&&!r.selection.isCollapsed){const a=r.selection.getSelectedElement();(!a||!ir(a))&&(s=r.selection.editableElement)}s&&(n.change(a=>{a.setAttribute("draggable","true",s)}),this._draggableElement=e.editing.mapper.toModelElement(s))}),this.listenTo(r,"mouseup",()=>{jt.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(n=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&n.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const n=this.editor,r=n.model;n.plugins.get(Nu).removeDropMarker(),this._clearDraggableAttributes(),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(i=>{const s=r.createSelection(this._draggedRange);r.deleteContent(s,{doNotAutoparagraph:!0});const a=s.getFirstPosition().parent;a.isEmpty&&!r.schema.checkChild(a,"$text")&&r.schema.checkChild(a,"paragraph")&&i.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const n=this.editor,r=n.model,o=r.document.selection,i=e?b1(e):null;if(i){const u=n.editing.mapper.toModelElement(i);this._draggedRange=Mo.fromRange(r.createRangeOn(u)),this._blockMode=r.schema.isBlock(u),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(o.isCollapsed&&!o.getFirstPosition().parent.isEmpty)return;const s=Array.from(o.getSelectedBlocks()),a=o.getFirstRange();if(s.length==0){this._draggedRange=Mo.fromRange(a);return}const c=GP(r,s);if(s.length>1)this._draggedRange=Mo.fromRange(c),this._blockMode=!0;else if(s.length==1){const u=a.start.isTouching(c.start)&&a.end.isTouching(c.end);this._draggedRange=Mo.fromRange(u?c:a),this._blockMode=u}r.change(u=>u.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:n,clientX:r}){const o=this.editor.editing.view,i=o.document.selection.editableElement,s=o.domConverter.mapViewToDom(i),a=ut.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=So(ut.document,"div",{style:"position: fixed; left: -999999px;"}),ut.document.body.appendChild(this._previewContainer));const c=new Ut(s);if(s.contains(n))return;const u=parseFloat(a.paddingLeft),d=So(ut.document,"div");d.className="ck ck-content",d.style.width=a.width,d.style.paddingLeft="".concat(c.left-r+u,"px"),jt.isiOS&&(d.style.backgroundColor="white"),d.innerHTML=e.getData("text/html"),e.setDragImage(d,0,0),this._previewContainer.appendChild(d)}}function v1(t){return jt.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function b1(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(ir);if(ir(t))return t;const e=t.findAncestor(n=>ir(n)||n.is("editableElement"));return ir(e)?e:null}function GP(t,e){const n=e[0],r=e[e.length-1],o=n.getCommonAncestor(r),i=t.createPositionBefore(n),s=t.createPositionAfter(r);if(o&&o.is("element")&&!t.schema.isLimit(o)){const a=t.createRangeOn(o),c=i.isTouching(a.start),u=s.isTouching(a.end);if(c&&u)return GP(t,[o])}return t.createRange(i,s)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lae extends kt{static get pluginName(){return"PastePlainText"}static get requires(){return[Rs]}init(){const e=this.editor,n=e.model,r=e.editing.view,o=r.document,i=n.document.selection;let s=!1;r.addObserver(Ec),this.listenTo(o,"keydown",(a,c)=>{s=c.shiftKey}),e.plugins.get(Rs).on("contentInsertion",(a,c)=>{!s&&!cae(c.content,n.schema)||n.change(u=>{const d=Array.from(i.getAttributes()).filter(([m])=>n.schema.getAttributeProperties(m).isFormatting);i.isCollapsed||n.deleteContent(i,{doNotAutoparagraph:!0}),d.push(...i.getAttributes());const f=u.createRangeIn(c.content);for(const m of f.getItems())m.is("$textProxy")&&u.setAttributes(d,m)})})}}function cae(t,e){if(t.childCount>1)return!1;const n=t.getChild(0);return e.isObject(n)?!1:Array.from(n.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uae extends kt{static get pluginName(){return"Clipboard"}static get requires(){return[FP,Rs,aae,lae]}init(){const e=this.editor,n=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Copy selected content"),keystroke:"CTRL+C"},{label:n("Paste content"),keystroke:"CTRL+V"},{label:n("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dae extends Ur{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,n=e.document.selection;let r=e.schema.getLimitElement(n);if(n.containsEntireContent(r)||!w1(e.schema,r))do if(r=r.parent,!r)return;while(!w1(e.schema,r));e.change(o=>{o.setSelection(r,"in")})}}function w1(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const fae=Kv("Ctrl+A");class mae extends kt{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.t,o=e.editing.view.document;e.commands.add("selectAll",new dae(e)),this.listenTo(o,"keydown",(i,s)=>{Na(s)===fae&&(e.execute("selectAll"),s.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Select all"),keystroke:"CTRL+A"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hae extends kt{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const n=this._createButton(Kn);return n.set({tooltip:!0}),n}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(nu))}_createButton(e){const n=this.editor,r=n.locale,o=n.commands.get("selectAll"),i=new e(n.locale),s=r.t;return i.set({label:s("Select all"),icon:IR,keystroke:"Ctrl+A"}),i.bind("isEnabled").to(o,"isEnabled"),this.listenTo(i,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gae extends kt{static get requires(){return[mae,hae]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qP extends Ur{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(n,r)=>{r[1]={...r[1]};const o=r[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(n,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const n=this.editor.model.document.selection,r={ranges:n.hasOwnRange?Array.from(n.getRanges()):[],isBackward:n.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,n,r){const o=this.editor.model,i=o.document,s=[],a=e.map(u=>u.getTransformedByOperations(r)),c=a.flat();for(const u of a){const d=u.filter(f=>f.root!=i.graveyard).filter(f=>!vae(f,c));d.length&&(pae(d),s.push(d[0]))}s.length&&o.change(u=>{u.setSelection(s,{backward:n})})}_undo(e,n){const r=this.editor.model,o=r.document;this._createdBatches.add(n);const i=e.operations.slice().filter(s=>s.isDocumentOperation);i.reverse();for(const s of i){const a=s.baseVersion+1,c=Array.from(o.history.getOperations(a)),d=Lre([s.getReversed()],c,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let f of d){const m=f.affectedSelectable;m&&!r.canEditAt(m)&&(f=new qn(f.baseVersion)),n.addOperation(f),r.applyOperation(f),o.history.setOperationAsUndone(s,f)}}}}function pae(t){t.sort((e,n)=>e.start.isBefore(n.start)?-1:1);for(let e=1;e<t.length;e++){const r=t[e-1].getJoined(t[e],!0);r&&(e--,t.splice(e,2,r))}}function vae(t,e){return e.some(n=>n!==t&&n.containsRange(t,!0))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bae extends qP{execute(e=null){const n=e?this._stack.findIndex(i=>i.batch==e):this._stack.length-1,r=this._stack.splice(n,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(r.batch,o);const i=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,i)}),this.fire("revert",r.batch,o),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wae extends qP{execute(){const e=this._stack.pop(),n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,()=>{const o=e.batch.operations[e.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(o);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,n)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yae extends kt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,n=e.t;this._undoCommand=new bae(e),this._redoCommand=new wae(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,o)=>{const i=o[0];if(!i.isDocumentOperation)return;const s=i.batch,a=this._redoCommand.createdBatches.has(s),c=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(a?this._undoCommand.addBatch(s):c||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,o,i)=>{this._redoCommand.addBatch(i)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Undo"),keystroke:"CTRL+Z"},{label:n("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cae extends kt{static get pluginName(){return"UndoUI"}init(){const e=this.editor,n=e.locale,r=e.t,o=n.uiLanguageDirection=="ltr"?Cn.undo:Cn.redo,i=n.uiLanguageDirection=="ltr"?Cn.redo:Cn.undo;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",o),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",i)}_addButtonsToFactory(e,n,r,o){const i=this.editor;i.ui.componentFactory.add(e,()=>{const s=this._createButton(Kn,e,n,r,o);return s.set({tooltip:!0}),s}),i.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(nu,e,n,r,o))}_createButton(e,n,r,o,i){const s=this.editor,a=s.locale,c=s.commands.get(n),u=new e(a);return u.set({label:r,icon:i,keystroke:o}),u.bind("isEnabled").to(c,"isEnabled"),this.listenTo(u,"execute",()=>{s.execute(n),s.editing.view.focus()}),u}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sae extends kt{static get requires(){return[yae,Cae]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xae extends kt{static get requires(){return[zoe,uae,zP,gae,_se,wse,Sae]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Aae(t){return t.createContainerElement("span",{class:"image-inline"},t.createEmptyElement("img"))}function Eae(t,e){const n=t.plugins.get("ImageUtils"),r=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing");return i=>n.isInlineImageView(i)?r&&(i.getStyle("display")=="block"||i.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:o(i):null;function o(i){const s={name:!0};return i.hasAttribute("src")&&(s.attributes=["src"]),s}}function KP(t,e){const n=al(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&n.name!="listItem"?"imageBlock":"imageInline"}function Ld(t){return t&&t.endsWith("px")?parseInt(t):null}function y1(t){const e=Ld(t.getStyle("width")),n=Ld(t.getStyle("height"));return!!(e&&n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Iae=/^(image|image-inline)$/;class Hs extends kt{constructor(){super(...arguments),this._domEmitter=new(vo())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},n=null,r=null,o={}){const i=this.editor,s=i.model,a=s.document.selection,c=YP(i,n||a,r);e={...Object.fromEntries(a.getAttributes()),...e};for(const u in e)s.schema.checkAttribute(c,u)||delete e[u];return s.change(u=>{const{setImageSizes:d=!0}=o,f=u.createElement(c,e);return s.insertObject(f,n,null,{setSelection:"on",findOptimalPosition:!n&&c!="imageInline"?"auto":void 0}),f.parent?(d&&this.setImageNaturalSizeAttributes(f),f):null})}setImageNaturalSizeAttributes(e){const n=e.getAttribute("src");n&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const o=new ut.window.Image;this._domEmitter.listenTo(o,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(r.batch,i=>{i.setAttribute("width",o.naturalWidth,e),i.setAttribute("height",o.naturalHeight,e)}),this._domEmitter.stopListening(o,"load")}),o.src=n}))}getClosestSelectedImageWidget(e){const n=e.getFirstPosition();if(!n)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let o=n.parent;for(;o;){if(o.is("element")&&this.isImageWidget(o))return o;o=o.parent}return null}getClosestSelectedImageElement(e){const n=e.getSelectedElement();return this.isImage(n)?n:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:Iae})}isImageAllowed(){const n=this.editor.model.document.selection;return _ae(this.editor,n)&&Pae(n)}toImageWidget(e,n,r){return n.setCustomProperty("image",!0,e),Rse(e,n,{label:()=>{const s=this.findViewImgElement(e).getAttribute("alt");return s?"".concat(s," ").concat(r):r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&ir(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const n=this.editor.editing.view;for(const{item:r}of n.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function _ae(t,e){if(YP(t,e,null)=="imageBlock"){const r=Mae(e,t.model);if(t.model.schema.checkChild(r,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function Pae(t){return[...t.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function Mae(t,e){const r=Fse(t,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}function YP(t,e,n){const r=t.model.schema,o=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||(o==="inline"?"imageInline":o!=="auto"?"imageBlock":e.is("selection")?KP(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kae extends Ur{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled&&r.hasAttribute("alt")?this.value=r.getAttribute("alt"):this.value=!1}execute(e){const n=this.editor,r=n.plugins.get("ImageUtils"),o=n.model,i=r.getClosestSelectedImageElement(o.document.selection);o.change(s=>{s.setAttribute("alt",e.newValue,i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rae extends kt{static get requires(){return[Hs]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new kae(this.editor))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tae extends Et{constructor(e){super(e);const n=this.locale.t;this.focusTracker=new zr,this.keystrokes=new bo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(n("Save"),Cn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Cn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ri,this._focusCycler=new Ti({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),E_({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,n,r,o){const i=new Kn(this.locale);return i.set({label:e,icon:n,tooltip:!0}),i.extendTemplate({attributes:{class:r}}),o&&i.delegate("execute").to(this,o),i}_createLabeledInputView(){const e=this.locale.t,n=new cb(this.locale,fb);return n.label=e("Text alternative"),n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Oae(t){const e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){const r=XP(t);e.updatePosition(r)}}function XP(t){const e=t.editing.view,n=hr.defaultPositions,r=t.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nae extends kt{static get requires(){return[up]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,n=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const o=e.commands.get("imageTextAlternative"),i=new Kn(r);return i.set({label:n("Change image text alternative"),icon:Cn.textAlternative,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",s=>!!s),this.listenTo(i,"execute",()=>{this._showForm()}),i})}_createForm(){const e=this.editor,r=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Kee(Tae))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(i,s)=>{this._hideForm(!0),s()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(r.selection)?this._isVisible&&Oae(e):this._hideForm(!0)}),rm({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,n=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:XP(e)}),r.fieldView.value=r.fieldView.element.value=n.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dae extends kt{static get requires(){return[Rae,Nae]}static get pluginName(){return"ImageTextAlternative"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $ae(t,e){const n=(r,o,i)=>{if(!i.consumable.consume(o.item,r.name))return;const s=i.writer,a=i.mapper.toViewElement(o.item),c=t.findViewImgElement(a);o.attributeNewValue===null?(s.removeAttribute("srcset",c),s.removeAttribute("sizes",c)):o.attributeNewValue&&(s.setAttribute("srcset",o.attributeNewValue,c),s.setAttribute("sizes","100vw",c))};return r=>{r.on("attribute:srcset:".concat(e),n)}}function C1(t,e,n){const r=(o,i,s)=>{if(!s.consumable.consume(i.item,o.name))return;const a=s.writer,c=s.mapper.toViewElement(i.item),u=t.findViewImgElement(c);a.setAttribute(i.attributeKey,i.attributeNewValue||"",u)};return o=>{o.on("attribute:".concat(n,":").concat(e),r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QP extends ri{observe(e){this.listenTo(e,"load",(n,r)=>{const o=r.target;this.checkShouldIgnoreEventFromTarget(o)||o.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fae extends Ur{constructor(e){super(e);const n=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||n==="block"&&an("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||n==="inline"&&an("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const n=Gn(e.source),r=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(r.getAttributes());n.forEach((s,a)=>{const c=r.getSelectedElement();if(typeof s=="string"&&(s={src:s}),a&&c&&o.isImage(c)){const u=this.editor.model.createPositionAfter(c);o.insertImage({...s,...i},u)}else o.insertImage({...s,...i})})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lae extends Ur{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const n=this.editor.model.document.selection.getSelectedElement(),r=this.editor.plugins.get("ImageUtils");this.editor.model.change(o=>{o.setAttribute("src",e.source,n),this.cleanupImage(o,n),r.setImageNaturalSizeAttributes(n)})}cleanupImage(e,n){e.removeAttribute("srcset",n),e.removeAttribute("sizes",n),e.removeAttribute("sources",n),e.removeAttribute("width",n),e.removeAttribute("height",n),e.removeAttribute("alt",n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bae extends kt{static get requires(){return[Hs]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,n=e.conversion;e.editing.view.addObserver(QP),n.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new Fae(e),o=new Lae(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",o),e.commands.add("imageInsert",r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vae extends kt{static get requires(){return[Hs]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const n=this.editor,r=n.plugins.get("ImageUtils"),o=e==="imageBlock"?"figure":"img";n.conversion.for("upcast").attributeToAttribute({view:{name:o,styles:{width:/.+/}},model:{key:"width",value:s=>y1(s)?Ld(s.getStyle("width")):null}}).attributeToAttribute({view:{name:o,key:"width"},model:"width"}).attributeToAttribute({view:{name:o,styles:{height:/.+/}},model:{key:"height",value:s=>y1(s)?Ld(s.getStyle("height")):null}}).attributeToAttribute({view:{name:o,key:"height"},model:"height"}),n.conversion.for("editingDowncast").add(s=>{i(s,"width","width",!0),i(s,"height","height",!0)}),n.conversion.for("dataDowncast").add(s=>{i(s,"width","width",!1),i(s,"height","height",!1)});function i(s,a,c,u){s.on("attribute:".concat(a,":").concat(e),(d,f,m)=>{if(!m.consumable.consume(f.item,d.name))return;const h=m.writer,g=m.mapper.toViewElement(f.item),p=r.findViewImgElement(g);if(f.attributeNewValue!==null?h.setAttribute(c,f.attributeNewValue,p):h.removeAttribute(c,p),f.item.hasAttribute("sources"))return;const w=f.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!w&&!u)return;const v=f.item.getAttribute("width"),y=f.item.getAttribute("height");v&&y&&h.setStyle("aspect-ratio","".concat(v,"/").concat(y),p)})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jae extends Ur{constructor(e,n){super(e),this._modelElementName=n}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(r):this.isEnabled=n.isBlockImage(r)}execute(e={}){const n=this.editor,r=this.editor.model,o=n.plugins.get("ImageUtils"),i=o.getClosestSelectedImageElement(r.document.selection),s=Object.fromEntries(i.getAttributes());return!s.src&&!s.uploadId?null:r.change(a=>{const{setImageSizes:c=!0}=e,u=Array.from(r.markers).filter(m=>m.getRange().containsItem(i)),d=o.insertImage(s,r.createSelection(i,"on"),this._modelElementName,{setImageSizes:c});if(!d)return null;const f=a.createRangeOn(d);for(const m of u){const h=m.getRange(),g=h.root.rootName!="$graveyard"?h.getJoined(f,!0):f;a.updateMarker(m,{range:g})}return{oldElement:i,newElement:d}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zae extends kt{static get requires(){return[Hs]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("editingDowncast").add(o=>{o.on("attribute:placeholder",(i,s,a)=>{if(!a.consumable.test(s.item,i.name)||!s.item.is("element","imageBlock")&&!s.item.is("element","imageInline"))return;a.consumable.consume(s.item,i.name);const c=a.writer,u=a.mapper.toViewElement(s.item),d=r.findViewImgElement(u);s.attributeNewValue?(c.addClass("image_placeholder",d),c.setStyle("background-image","url(".concat(s.attributeNewValue,")"),d),c.setCustomProperty("editingPipeline:doNotReuseOnce",!0,d)):(c.removeClass("image_placeholder",d),c.removeStyle("background-image",d))})})}_setupLoadListener(){const e=this.editor,n=e.model,r=e.editing,o=r.view,i=e.plugins.get("ImageUtils");o.addObserver(QP),this.listenTo(o.document,"imageLoaded",(s,a)=>{const c=o.domConverter.mapDomToView(a.target);if(!c)return;const u=i.getImageWidgetFromImageView(c);if(!u)return;const d=r.mapper.toModelElement(u);!d||!d.hasAttribute("placeholder")||n.enqueueChange({isUndoable:!1},f=>{f.removeAttribute("placeholder",d)})})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uae extends Et{constructor(e,n=[]){super(e),this.focusTracker=new zr,this.keystrokes=new bo,this._focusables=new Ri,this.children=this.createCollection(),this._focusCycler=new Ti({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of n)this.children.add(r),this._focusables.add(r),r instanceof Goe&&this._focusables.addMany(r.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),E_({view:this});for(const n of this._focusables)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element);const e=n=>n.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lm extends kt{static get pluginName(){return"ImageInsertUI"}static get requires(){return[Hs]}constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const e=this.editor,n=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(n.getSelectedElement())});const o=s=>this._createToolbarComponent(s),i=s=>this._createMenuBarComponent(s);e.ui.componentFactory.add("insertImage",o),e.ui.componentFactory.add("imageInsert",o),e.ui.componentFactory.add("menuBar:insertImage",i)}registerIntegration({name:e,observable:n,buttonViewCreator:r,formViewCreator:o,menuBarButtonViewCreator:i,requiresForm:s=!1}){this._integrations.has(e)&&an("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:n,buttonViewCreator:r,menuBarButtonViewCreator:i,formViewCreator:o,requiresForm:s})}_createToolbarComponent(e){const n=this.editor,r=e.t,o=this._prepareIntegrations();if(!o.length)return null;let i;const s=o[0];if(o.length==1){if(!s.requiresForm)return s.buttonViewCreator(!0);i=s.buttonViewCreator(!0)}else{const u=s.buttonViewCreator(!1);i=new PP(e,u),i.tooltip=!0,i.bind("label").to(this,"isImageSelected",d=>r(d?"Replace image":"Insert image"))}const a=this.dropdownView=db(e,i),c=o.map(({observable:u})=>typeof u=="function"?u():u);return a.bind("isEnabled").toMany(c,"isEnabled",(...u)=>u.some(d=>d)),a.once("change:isOpen",()=>{const u=o.map(({formViewCreator:f})=>f(o.length==1)),d=new Uae(n.locale,u);a.panelView.children.add(d)}),a}_createMenuBarComponent(e){const n=e.t,r=this._prepareIntegrations();if(!r.length)return null;let o;const i=r[0];if(r.length==1)o=i.menuBarButtonViewCreator(!0);else{o=new As(e);const s=new dp(e);o.panelView.children.add(s),o.buttonView.set({icon:Cn.image,label:n("Image")});for(const a of r){const c=new mb(e,o),u=a.menuBarButtonViewCreator(!1);c.children.add(u),s.items.add(c)}}return o}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),r=[];if(!n.length)return an("image-insert-integrations-not-specified"),r;for(const o of n){if(!this._integrations.has(o)){["upload","assetManager","url"].includes(o)||an("image-insert-unknown-integration",{item:o});continue}r.push(this._integrations.get(o))}return r.length||an("image-insert-integrations-not-registered"),r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hae extends kt{static get requires(){return[Bae,Vae,Hs,zae,Rs]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new jae(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,n=e.t,r=e.conversion,o=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(i,{writer:s})=>s.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(i,{writer:s})=>o.toImageWidget(Aae(s),s,n("image widget"))}),r.for("downcast").add(C1(o,"imageInline","src")).add(C1(o,"imageInline","alt")).add($ae(o,"imageInline")),r.for("upcast").elementToElement({view:Eae(e,"imageInline"),model:(i,{writer:s})=>s.createElement("imageInline",i.hasAttribute("src")?{src:i.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,n=e.model,r=e.editing.view,o=e.plugins.get("ImageUtils"),i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",(s,a)=>{const c=Array.from(a.content.getChildren());let u;if(!c.every(o.isBlockImageView))return;a.targetRanges?u=e.editing.mapper.toModelRange(a.targetRanges[0]):u=n.document.selection.getFirstRange();const d=n.createSelection(u);if(KP(n.schema,d)==="imageInline"){const f=new yP(r.document),m=c.map(h=>h.childCount===1?(Array.from(h.getAttributes()).forEach(g=>f.setAttribute(...g,o.findViewImgElement(h))),h.getChild(0)):h);a.content=f.createDocumentFragment(m)}}),this.listenTo(i,"contentInsertion",(s,a)=>{a.method==="paste"&&n.change(c=>{const u=c.createRangeIn(a.content);for(const d of u.getItems())d.is("element","imageInline")&&o.setImageNaturalSizeAttributes(d)})})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wae extends kt{static get requires(){return[Hae,HP,Dae,lm]}static get pluginName(){return"ImageInline"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function JP(t){const e=t.map(n=>n.replace("+","\\+"));return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function Gae(t){return new Promise((e,n)=>{const r=t.getAttribute("src");fetch(r).then(o=>o.blob()).then(o=>{const i=ZP(o,r),s=i.replace("image/",""),a="image.".concat(s),c=new File([o],a,{type:i});e(c)}).catch(o=>o&&o.name==="TypeError"?Kae(r).then(e).catch(n):n(o))})}function qae(t,e){return!t.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function ZP(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function Kae(t){return Yae(t).then(e=>{const n=ZP(e,t),r=n.replace("image/",""),o="image.".concat(r);return new File([e],o,{type:n})})}function Yae(t){return new Promise((e,n)=>{const r=ut.document.createElement("img");r.addEventListener("load",()=>{const o=ut.document.createElement("canvas");o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0),o.toBlob(s=>s?e(s):n())}),r.addEventListener("error",()=>n()),r.src=t})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xae extends kt{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:n=>this._createMenuBarButton(n?"insertOnly":"insertNested")})}_createButton(e){const n=this.editor,r=n.locale,o=n.commands.get("uploadImage"),i=n.config.get("image.upload.types"),s=JP(i),a=new e(n.locale),c=r.t;return a.set({acceptedType:i.map(u=>"image/".concat(u)).join(","),allowMultipleFiles:!0,label:c("Upload from computer"),icon:Cn.imageUpload}),a.bind("isEnabled").to(o),a.on("done",(u,d)=>{const f=Array.from(d).filter(m=>s.test(m.type));f.length&&(n.execute("uploadImage",{file:f}),n.editing.view.focus())}),a}_createToolbarButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),r=this._createButton(lp);return r.tooltip=!0,r.bind("label").to(n,"isImageSelected",o=>e(o?"Replace image from computer":"Upload image from computer")),r}_createDropdownButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),r=this._createButton(lp);return r.withText=!0,r.bind("label").to(n,"isImageSelected",o=>e(o?"Replace from computer":"Upload from computer")),r.on("execute",()=>{n.dropdownView.isOpen=!1}),r}_createMenuBarButton(e){const n=this.editor.locale.t,r=this._createButton(DP);switch(r.withText=!0,e){case"standalone":r.label=n("Image from computer");break;case"insertOnly":r.label=n("Image");break;case"insertNested":r.label=n("From computer");break}return r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Qae=class extends An(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=n=>{this.loaded=n.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const n=this._reader;return this.total=e.size,new Promise((r,o)=>{n.onload=()=>{const i=n.result;this._data=i,r(i)},n.onerror=()=>{o("error")},n.onabort=()=>{o("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jl extends kt{constructor(){super(...arguments),this.loaders=new ki,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[qC]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,n)=>n?e/n*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return an("filerepository-no-upload-adapter"),null;const n=new S1(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then(r=>{this._loadersMap.set(r,n)}).catch(()=>{}),n.on("change:uploaded",()=>{let r=0;for(const o of this.loaders)r+=o.uploaded;this.uploaded=r}),n.on("change:uploadTotal",()=>{let r=0;for(const o of this.loaders)o.uploadTotal&&(r+=o.uploadTotal);this.uploadTotal=r}),n}destroyLoader(e){const n=e instanceof S1?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((r,o)=>{r===n&&this._loadersMap.delete(o)})}_updatePendingAction(){const e=this.editor.plugins.get(qC);if(this.loaders.length){if(!this._pendingAction){const n=this.editor.t,r=o=>"".concat(n("Upload in progress")," ").concat(parseInt(o),"%.");this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class S1 extends An(){constructor(e,n){super(),this.id=go(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=n(this),this._reader=new Qae,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,o)=>o?r/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new ae("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new ae("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const n={};return n.promise=new Promise((r,o)=>{n.rejecter=o,n.isFulfilled=!1,e.then(i=>{n.isFulfilled=!0,r(i)}).catch(i=>{n.isFulfilled=!0,o(i)})}),n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jae extends kt{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(n,r,o)=>{const i=this.editor,s=r.item,a=s.getAttribute("uploadId");if(!o.consumable.consume(r.item,n.name))return;const c=i.plugins.get("ImageUtils"),u=i.plugins.get(Jl),d=a?r.attributeNewValue:null,f=this.placeholder,m=i.editing.mapper.toViewElement(s),h=o.writer;if(d=="reading"){x1(m,h),A1(c,f,m,h);return}if(d=="uploading"){const g=u.loaders.get(a);x1(m,h),g?(E1(m,h),ele(m,h,g,i.editing.view),ile(c,m,h,g)):A1(c,f,m,h);return}d=="complete"&&u.loaders.get(a)&&nle(m,h,i.editing.view),tle(m,h),E1(m,h),Zae(m,h)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function x1(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Zae(t,e){e.removeClass("ck-appear",t)}function A1(t,e,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);const o=t.findViewImgElement(n);o.getAttribute("src")!==e&&r.setAttribute("src",e,o),eM(n,"placeholder")||r.insert(r.createPositionAfter(o),ole(r))}function E1(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),tM(t,e,"placeholder")}function ele(t,e,n,r){const o=rle(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",(i,s,a)=>{r.change(c=>{c.setStyle("width",a+"%",o)})})}function tle(t,e){tM(t,e,"progressBar")}function nle(t,e,n){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout(()=>{n.change(o=>o.remove(o.createRangeOn(r)))},3e3)}function rle(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}function ole(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}function eM(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function tM(t,e,n){const r=eM(t,n);r&&e.remove(e.createRangeOn(r))}function ile(t,e,n,r){if(r.data){const o=t.findViewImgElement(e);n.setAttribute("src",r.data,o)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sle extends Ur{refresh(){const e=this.editor,n=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=n.isImageAllowed()||n.isImage(r)}execute(e){const n=Gn(e.file),r=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(r.getAttributes());n.forEach((s,a)=>{const c=r.getSelectedElement();if(a&&c&&o.isImage(c)){const u=this.editor.model.createPositionAfter(c);this._uploadImage(s,i,u)}else this._uploadImage(s,i)})}_uploadImage(e,n,r){const o=this.editor,s=o.plugins.get(Jl).createLoader(e),a=o.plugins.get("ImageUtils");s&&a.insertImage({...n,uploadId:s.id},r)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ale extends kt{static get requires(){return[Jl,e1,Rs,Hs]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,n=e.model.document,r=e.conversion,o=e.plugins.get(Jl),i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline"),a=JP(e.config.get("image.upload.types")),c=new sle(e);e.commands.add("uploadImage",c),e.commands.add("imageUpload",c),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(u,d)=>{if(lle(d.dataTransfer))return;const f=Array.from(d.dataTransfer.files).filter(m=>m?a.test(m.type):!1);f.length&&(u.stop(),e.model.change(m=>{d.targetRanges&&m.setSelection(d.targetRanges.map(h=>e.editing.mapper.toModelRange(h))),e.execute("uploadImage",{file:f})}))}),this.listenTo(s,"inputTransformation",(u,d)=>{const f=Array.from(e.editing.view.createRangeIn(d.content)).map(h=>h.item).filter(h=>qae(i,h)&&!h.getAttribute("uploadProcessed")).map(h=>({promise:Gae(h),imageElement:h}));if(!f.length)return;const m=new yP(e.editing.view.document);for(const h of f){m.setAttribute("uploadProcessed",!0,h.imageElement);const g=o.createLoader(h.promise);g&&(m.setAttribute("src","",h.imageElement),m.setAttribute("uploadId",g.id,h.imageElement))}}),e.editing.view.document.on("dragover",(u,d)=>{d.preventDefault()}),n.on("change",()=>{const u=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),d=new Set;for(const f of u)if(f.type=="insert"&&f.name!="$text"){const m=f.position.nodeAfter,h=f.position.root.rootName=="$graveyard";for(const g of cle(e,m)){const p=g.getAttribute("uploadId");if(!p)continue;const w=o.loaders.get(p);w&&(h?d.has(p)||w.abort():(d.add(p),this._uploadImageElements.set(p,g),w.status=="idle"&&this._readAndUpload(w)))}}}),this.on("uploadComplete",(u,{imageElement:d,data:f})=>{const m=f.urls?f.urls:f;this.editor.model.change(h=>{h.setAttribute("src",m.default,d),this._parseAndSetSrcsetAttributeOnImage(m,d,h),i.setImageNaturalSizeAttributes(d)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const n=this.editor,r=n.model,o=n.locale.t,i=n.plugins.get(Jl),s=n.plugins.get(e1),a=n.plugins.get("ImageUtils"),c=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},d=>{d.setAttribute("uploadStatus","reading",c.get(e.id))}),e.read().then(()=>{const d=e.upload(),f=c.get(e.id);/* istanbul ignore next -- @preserve */if(jt.isSafari){const m=n.editing.mapper.toViewElement(f),h=a.findViewImgElement(m);n.editing.view.once("render",()=>{if(!h.parent)return;const g=n.editing.view.domConverter.mapViewToDom(h.parent);if(!g)return;const p=g.style.display;g.style.display="none",g._ckHack=g.offsetHeight,g.style.display=p})}return n.ui&&n.ui.ariaLiveAnnouncer.announce(o("Uploading image")),r.enqueueChange({isUndoable:!1},m=>{m.setAttribute("uploadStatus","uploading",f)}),d}).then(d=>{r.enqueueChange({isUndoable:!1},f=>{const m=c.get(e.id);f.setAttribute("uploadStatus","complete",m),n.ui&&n.ui.ariaLiveAnnouncer.announce(o("Image upload complete")),this.fire("uploadComplete",{data:d,imageElement:m})}),u()}).catch(d=>{if(n.ui&&n.ui.ariaLiveAnnouncer.announce(o("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw d;e.status=="error"&&d&&s.showWarning(d,{title:o("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},f=>{f.remove(c.get(e.id))}),u()});function u(){r.enqueueChange({isUndoable:!1},d=>{const f=c.get(e.id);d.removeAttribute("uploadId",f),d.removeAttribute("uploadStatus",f),c.delete(e.id)}),i.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,n,r){let o=0;const i=Object.keys(e).filter(s=>{const a=parseInt(s,10);if(!isNaN(a))return o=Math.max(o,a),!0}).map(s=>"".concat(e[s]," ").concat(s,"w")).join(", ");if(i!=""){const s={srcset:i};!n.hasAttribute("width")&&!n.hasAttribute("height")&&(s.width=o),r.setAttributes(s,n)}}}function lle(t){return Array.from(t.types).includes("text/html")&&t.getData("text/html")!==""}function cle(t,e){const n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter(r=>n.isImage(r.item)).map(r=>r.item)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ule extends kt{static get pluginName(){return"ImageUpload"}static get requires(){return[ale,Xae,Jae]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dle extends Et{constructor(e){super(e),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new bo,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,n=e.t,r=new cb(e,fb);return r.bind("label").to(this,"isImageSelected",o=>n(o?"Update image URL":"Insert image via URL")),r.bind("isEnabled").to(this),r.fieldView.inputMode="url",r.fieldView.placeholder="https://example.com/image.png",r.fieldView.bind("value").to(this,"imageURLInputValue",o=>o||""),r.fieldView.on("input",()=>{this.imageURLInputValue=r.fieldView.element.value.trim()}),r}focus(){this.urlInputView.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fle extends kt{static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[lm,Wo]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const n=new e(this.editor.locale);return n.icon=Cn.imageUrl,n.on("execute",()=>{this._showModal()}),n}_createToolbarButton(){const e=this.editor.locale.t,n=this._createInsertUrlButton(Kn);return n.tooltip=!0,n.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert image via URL")),n}_createDropdownButton(){const e=this.editor.locale.t,n=this._createInsertUrlButton(Kn);return n.withText=!0,n.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert via URL")),n}_createMenuBarButton(e){const n=this.editor.locale.t,r=this._createInsertUrlButton(nu);switch(r.withText=!0,e){case"standalone":r.label=n("Image via URL");break;case"insertOnly":r.label=n("Image");break;case"insertNested":r.label=n("Via URL");break}return r}_createInsertUrlView(){const e=this.editor,n=e.locale,r=e.commands.get("replaceImageSource"),o=e.commands.get("insertImage"),i=new dle(n);return i.bind("isImageSelected").to(this._imageInsertUI),i.bind("isEnabled").toMany([o,r],"isEnabled",(...s)=>s.some(a=>a)),i}_showModal(){const e=this.editor,r=e.locale.t,o=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const i=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=i.value||"",o.show({id:"insertImageViaUrl",title:this._imageInsertUI.isImageSelected?r("Update image URL"):r("Insert image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>o.hide()},{label:r("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mle extends kt{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[fle,lm]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hle extends kt{static get pluginName(){return"ImageInsert"}static get requires(){return[ule,mle,lm]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const I1={"(":")","[":"]","{":"}"};class gle extends Ur{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,n=e.document;this.isEnabled=e.schema.checkAttributeInSelection(n.selection,"mention")}execute(e){const n=this.editor.model,o=n.document.selection,i=typeof e.mention=="string"?{id:e.mention}:e.mention,s=i.id,a=e.range||o.getFirstRange();if(!n.canEditAt(a))return;const c=e.text||s,u=nM({_text:c,id:s},i);if(e.marker.length!=1)throw new ae("mentioncommand-incorrect-marker",this);if(s.charAt(0)!=e.marker)throw new ae("mentioncommand-incorrect-id",this);n.change(d=>{const f=Xi(o.getAttributes()),m=new Map(f.entries());m.set("mention",u);const h=n.insertContent(d.createText(c,m),a),g=h.start.nodeBefore,p=h.end.nodeAfter;if(p&&p.is("$text")&&p.data.startsWith(" "),g&&p&&g.is("$text")&&p.is("$text")){const w=g.data.slice(-1);w in I1&&p.data.startsWith(I1[w])}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ple extends kt{static get pluginName(){return"MentionEditing"}init(){const e=this.editor,n=e.model,r=n.document;n.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:o=>rM(o)}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:ble}),e.conversion.for("downcast").add(vle),r.registerPostFixer(o=>Cle(o,r,n.schema)),r.registerPostFixer(o=>Sle(o,r)),r.registerPostFixer(o=>wle(o,r)),e.commands.add("mention",new gle(e))}}function nM(t,e){return Object.assign({uid:go()},t,e||{})}function rM(t,e){const n=t.getAttribute("data-mention"),r=t.getChild(0);if(!r)return;const o={id:n,_text:r.data};return nM(o,e)}function vle(t){t.on("attribute:mention",(e,n,r)=>{const o=n.attributeNewValue;if(!n.item.is("$textProxy")||!o)return;const i=n.range.start;(i.textNode||i.nodeAfter).data!=o._text&&r.consumable.consume(n.item,e.name)},{priority:"highest"})}function ble(t,{writer:e}){if(!t)return;const n={class:"mention","data-mention":t.id},r={id:t.uid,priority:20};return e.createAttributeElement("span",n,r)}function wle(t,e){const n=e.selection,r=n.focus;return n.isCollapsed&&n.hasAttribute("mention")&&yle(r)?(t.removeSelectionAttribute("mention"),!0):!1}function yle(t){const e=t.isAtStart;return t.nodeBefore&&t.nodeBefore.is("$text")||e}function Cle(t,e,n){const r=e.differ.getChanges();let o=!1;for(const i of r){if(i.type=="attribute")continue;const s=i.position;if(i.name=="$text"){const a=s.textNode&&s.textNode.nextSibling;o=fs(s.textNode,t)||o,o=fs(a,t)||o,o=fs(s.nodeBefore,t)||o,o=fs(s.nodeAfter,t)||o}if(i.name!="$text"&&i.type=="insert"){const a=s.nodeAfter;for(const c of t.createRangeIn(a).getItems())o=fs(c,t)||o}if(i.type=="insert"&&n.isInline(i.name)){const a=s.nodeAfter&&s.nodeAfter.nextSibling;o=fs(s.nodeBefore,t)||o,o=fs(a,t)||o}}return o}function Sle(t,e){const n=e.differ.getChanges();let r=!1;for(const o of n)if(o.type==="attribute"&&o.attributeKey!="mention"){const i=o.range.start.nodeBefore,s=o.range.end.nodeAfter;for(const a of[i,s])oM(a)&&a.getAttribute(o.attributeKey)!=o.attributeNewValue&&(t.setAttribute(o.attributeKey,o.attributeNewValue,a),r=!0)}return r}function oM(t){if(!t||!(t.is("$text")||t.is("$textProxy"))||!t.hasAttribute("mention"))return!1;const e=t.data,r=t.getAttribute("mention")._text;return e!=r}function fs(t,e){return oM(t)?(e.removeAttribute("mention",t),!0):!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xle extends ub{constructor(e){super(e),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,n=this.items.getIndex(e);this.select(n+1)}selectPrevious(){const e=this.selected,n=this.items.getIndex(e);this.select(n-1)}select(e){let n=0;e>0&&e<this.items.length?n=e:e<0&&(n=this.items.length-1);const r=this.items.get(n);if(this.selected!==r&&(this.selected&&this.selected.removeHighlight(),r.highlight(),this.selected=r,!this._isItemVisibleInScrolledArea(r))){const o=r.element.offsetTop+r.element.clientHeight-this.element.clientHeight;this.element.scrollTo?this.element.scrollTo({top:o,behavior:"smooth"}):this.element.scrollTop=o}}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new Ut(this.element).contains(new Ut(e.element))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ale extends Et{constructor(e,n){super(e),this.template=void 0,this.domElement=n,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(r,o,i)=>{i?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ele extends xc{highlight(){const e=this.children.first;e.isOn=!0}removeHighlight(){const e=this.children.first;e.isOn=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $u=3,Ile=[Ht.arrowup,Ht.arrowdown,Ht.esc],_le=[Ht.enter,Ht.tab];class Ple extends kt{static get pluginName(){return"MentionUI"}static get requires(){return[up]}constructor(e){super(e),this._items=new ki,this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=Sa(this._requestFeed,100),e.config.define("mention",{feeds:[]})}init(){const e=this.editor,n=e.config.get("mention.commitKeys")||_le,r=Ile.concat(n);this._balloon=e.plugins.get(up),e.editing.view.document.on("keydown",(s,a)=>{i(a.keyCode)&&this._isUIVisible&&(a.preventDefault(),s.stop(),a.keyCode==Ht.arrowdown&&this._mentionsView.selectNext(),a.keyCode==Ht.arrowup&&this._mentionsView.selectPrevious(),n.includes(a.keyCode)&&this._mentionsView.executeSelected(),a.keyCode==Ht.esc&&(a.stopPropagation(),this._hideUIAndRemoveMarker()))},{priority:"highest"}),rm({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const o=e.config.get("mention.feeds");for(const s of o){const{feed:a,marker:c,dropdownLimit:u}=s;if(!Dle(c))throw new ae("mentionconfig-incorrect-marker",null,{marker:c});const d=typeof a=="function"?a.bind(this.editor):Tle(a),f=s.itemRenderer,m={marker:c,feedCallback:d,itemRenderer:f,dropdownLimit:u};this._mentionsConfigurations.set(c,m)}this._setupTextWatcher(o),this.listenTo(e,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(s,a)=>this._handleFeedResponse(a)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker());function i(s){return r.includes(s)}}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,n=new xle(e);return n.items.bindTo(this._items).using(r=>{const{item:o,marker:i}=r,{dropdownLimit:s}=this._mentionsConfigurations.get(i),a=s||this.editor.config.get("mention.dropdownLimit")||10;if(n.items.length>=a)return null;const c=new Ele(e),u=this._renderItem(o,i);return u.delegate("execute").to(c),c.children.add(u),c.item=o,c.marker=i,c.on("execute",()=>{n.fire("execute",{item:o,marker:i})}),c}),n.on("execute",(r,o)=>{const i=this.editor,s=i.model,a=o.item,c=o.marker,u=i.model.markers.get("mention"),d=s.createPositionAt(s.document.selection.focus),f=s.createPositionAt(u.getStart()),m=s.createRange(f,d);this._hideUIAndRemoveMarker(),i.execute("mention",{mention:a,text:a.text,marker:c,range:m}),i.editing.view.focus()}),n}_getItemRenderer(e){const{itemRenderer:n}=this._mentionsConfigurations.get(e);return n}_requestFeed(e,n){this._lastRequested=n;const{feedCallback:r}=this._mentionsConfigurations.get(e),o=r(n);if(!(o instanceof Promise)){this.fire("requestFeed:response",{feed:o,marker:e,feedText:n});return}o.then(s=>{this._lastRequested==n?this.fire("requestFeed:response",{feed:s,marker:e,feedText:n}):this.fire("requestFeed:discarded",{feed:s,marker:e,feedText:n})}).catch(s=>{this.fire("requestFeed:error",{error:s}),an("mention-feed-callback-error",{marker:e})})}_setupTextWatcher(e){const n=this.editor,r=e.map(s=>({...s,pattern:sM(s.marker,s.minimumCharacters||0)})),o=new Cse(n.model,kle(r));o.on("matched",(s,a)=>{const c=iM(r,a.text),d=n.model.document.selection.focus,f=n.model.createPositionAt(d.parent,c.position);if(Ole(d)||Nle(f)){this._hideUIAndRemoveMarker();return}const m=Rle(c,a.text),h=c.marker.length+m.length,g=d.getShiftedBy(-h),p=d.getShiftedBy(-m.length),w=n.model.createRange(g,p);if(Eh(n)){const v=n.model.markers.get("mention");n.model.change(y=>{y.updateMarker(v,{range:w})})}else n.model.change(v=>{v.addMarker("mention",{range:w,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(c.marker,m)}),o.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const i=n.commands.get("mention");return o.bind("isEnabled").to(i),o}_handleFeedResponse(e){const{feed:n,marker:r}=e;if(!Eh(this.editor))return;this._items.clear();for(const i of n){const s=typeof i!="object"?{id:i,text:i}:i;this._items.add({item:s,marker:r})}const o=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(o,this._items.length):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e,n){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position,n)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,"caret_ne",n),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),Eh(this.editor)&&this.editor.model.change(e=>e.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(e,n){const r=this.editor;let o,i=e.id;const s=this._getItemRenderer(n);if(s){const a=s(e);typeof a!="string"?o=new Ale(r.locale,a):i=a}if(!o){const a=new Kn(r.locale);a.label=i,a.withText=!0,o=a}return o}_getBalloonPanelPositionData(e,n,r){const o=this.editor,i=o.editing,s=i.view.domConverter,a=i.mapper,c=o.locale.uiLanguageDirection;return{target:()=>{let u=e.getRange();u.start.root.rootName=="$graveyard"&&(u=o.model.document.selection.getFirstRange());const d=a.toViewRange(u);return Ut.getDomRangeRects(s.viewRangeToDom(d)).pop()},limiter:()=>{const u=this.editor.editing.view,f=u.document.selection.editableElement;return f?u.domConverter.mapViewToDom(f.root):null},positions:Mle(n,c,r)}}}function Mle(t,e,n){const r=31.25*(n>5?5:n),o={caret_se:i=>({top:i.bottom+$u,left:i.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(i,s)=>({top:i.top-r-$u,left:i.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(i,s)=>({top:i.bottom+$u,left:i.right-s.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(i,s)=>({top:i.top-r-$u,left:i.right-s.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(o,t)?[o[t]]:e!=="rtl"?[o.caret_se,o.caret_sw,o.caret_ne,o.caret_nw]:[o.caret_sw,o.caret_se,o.caret_nw,o.caret_ne]}function iM(t,e){let n;for(const r of t){const o=e.lastIndexOf(r.marker);o>0&&!e.substring(o-1).match(r.pattern)||(!n||o>=n.position)&&(n={marker:r.marker,position:o,minimumCharacters:r.minimumCharacters,pattern:r.pattern})}return n}function sM(t,e){const n=e==0?"*":"{".concat(e,",}"),r=".",o="([".concat(t,"])(").concat(r).concat(n,")$");return new RegExp(o,"u")}function kle(t){return n=>{const r=iM(t,n);if(!r)return!1;let o=0;r.position!==0&&(o=r.position-1);const i=n.substring(o);return r.pattern.test(i)}}function Rle(t,e){let n=0;t.position!==0&&(n=t.position-1);const r=sM(t.marker,0);return e.substring(n).match(r)[2]}function Tle(t){return e=>t.filter(r=>(typeof r=="string"?r:String(r.id)).toLowerCase().includes(e.toLowerCase()))}function Ole(t){const e=t.textNode&&t.textNode.hasAttribute("mention"),n=t.nodeBefore;return e||n&&n.is("$text")&&n.hasAttribute("mention")}function Nle(t){const e=t.nodeAfter;return e&&e.is("$text")&&e.hasAttribute("mention")}function Dle(t){return t&&t.length==1}function Eh(t){return t.model.markers.has("mention")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $le extends kt{toMentionAttribute(e,n){return rM(e,n)}static get pluginName(){return"Mention"}static get requires(){return[ple,Ple]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fle extends Ur{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,n=e.document,r=al(n.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&_1(r,e.schema)}execute(e={}){const n=this.editor.model,r=n.document,o=e.selection||r.selection;n.canEditAt(o)&&n.change(i=>{const s=o.getSelectedBlocks();for(const a of s)!a.is("element","paragraph")&&_1(a,n.schema)&&i.rename(a,"paragraph")})}}function _1(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lle extends Ur{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const n=this.editor.model,r=e.attributes;let o=e.position;n.canEditAt(o)&&n.change(i=>{if(o=this._findPositionToInsertParagraph(o,i),!o)return;const s=i.createElement("paragraph");r&&n.schema.setAllowedAttributes(s,r,i),n.insertContent(s,o),i.setSelection(s,"in")})}_findPositionToInsertParagraph(e,n){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const o=r.schema.findAllowedParent(e,"paragraph");if(!o)return null;const i=e.parent,s=r.schema.checkChild(i,"$text");return i.isEmpty||s&&e.isAtEnd?r.createPositionAfter(i):!i.isEmpty&&s&&e.isAtStart?r.createPositionBefore(i):n.split(e,o).position}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cm extends kt{static get pluginName(){return"Paragraph"}init(){const e=this.editor,n=e.model;e.commands.add("paragraph",new Fle(e)),e.commands.add("insertParagraph",new Lle(e)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:o})=>!cm.paragraphLikeElements.has(r.name)||r.isEmpty?null:o.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}cm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);const Ble=({item:t})=>Z("div",{className:"flex items-center rounded-md px-2 py-2 hover:bg-[var(--primary-active)]",children:[A(Sn,{size:26,text:t.atAll?"@":t.nickname,src:t.faceURL}),A("div",{className:"!ml-2 max-w-[200] truncate",children:String(t.nickname)})]});class Vle extends kt{init(){const e=this.editor;e.conversion.for("upcast").elementToElement({view:{name:"img",classes:"emojione"},model:(r,{writer:o})=>o.createElement("emoji",{src:r.getAttribute("src"),alt:r.getAttribute("alt")}),converterPriority:"highest"}),e.conversion.for("downcast").elementToElement({model:"emoji",view:(r,{writer:o})=>o.createEmptyElement("img",{class:"emojione",src:r.getAttribute("src"),alt:r.getAttribute("alt")})}),e.model.schema.register("emoji",{allowWhere:"$text",isInline:!0,isObject:!0,allowAttributes:["src","alt"]});const n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(r,o)=>{const i=o.dataTransfer,a=i.getData("text/html")||i.getData("text/plain");a&&(r.stop(),e.model.change(c=>{const u=e.model.document.selection;u.isCollapsed||e.model.deleteContent(u);const d=e.data.processor.toView(eX(Yf(a))),f=e.data.toModel(d),m=e.model.insertContent(f,u.getFirstPosition());if(m&&!m.isCollapsed){const h=m.end;c.setSelection(h)}e.editing.view.focus()}))})}}class jle extends zs{get domEventType(){return"dblclick"}onDomEvent(e){this.fire("dblclick",e)}}class zle extends kt{init(){const e=this.editor,n=e.editing.view,r=n.document;n.addObserver(jle),e.listenTo(r,"dblclick",(o,i)=>{const s=e.model.document.selection.getSelectedElement();s!=null&&s.is("element","imageInline")&&e.fire("imageInlineDoubleClick",{modelElement:s}),i.preventDefault(),o.stop()})}}class Ule extends kt{init(){const e=this.editor;e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention",attributes:{"data-user-id":!0}},model:{key:"mention",value:n=>e.plugins.get("Mention").toMentionAttribute(n,{userID:n.getAttribute("data-user-id")})},converterPriority:"high"}),e.conversion.for("downcast").attributeToElement({model:"mention",view:(n,{writer:r})=>{if(n)return r.createAttributeElement("span",{class:"mention","data-mention":n.id,"data-user-id":n.userID},{priority:20,id:n.uid})},converterPriority:"high"})}}class Hle{constructor(e){pb(this,"loader");this.loader=e}upload(){return this.loader.file.then(e=>new Promise(n=>{const r=URL.createObjectURL(e);n({default:r})}))}abort(){}}class Wle extends kt{init(){this.editor.plugins.get("FileRepository").createUploadAdapter=e=>new Hle(e)}}const P1={delete:46,backspace:8},Gle=({value:t,placeholder:e,enterWithShift:n,onChange:r,onEnter:o,onContextMenu:i,onImageDbClick:s,onDeleteWithEmpty:a,getFeedItems:c},u)=>{const d=l.useRef(null),f=xr(n),m=(y=!1)=>{const b=d.current;if(b){const C=b.model,S=b.editing.view,x=C.document.getRoot();if(y&&x){const I=C.createRange(C.createPositionAt(x,"end"));C.change(E=>{E.setSelection(I)})}S.focus()}},h=y=>{var b;(b=d.current)==null||b.model.change(C=>{var x,I;const S=C.createElement("imageInline",{...y});(I=d.current)==null||I.model.insertContent(S,(x=d.current)==null?void 0:x.model.document.selection),setTimeout(m)})},g=y=>{var b;(b=d.current)==null||b.execute("mention",{marker:"@",mention:{id:"@".concat(y.nickname),userID:y.userID}}),setTimeout(m)},p=y=>{const b=d.current;b==null||b.model.change(C=>{const S=C.createElement("emoji",y),x=b.model.document.selection.getFirstPosition();x&&(C.insert(S,x),setTimeout(m))})},w=y=>{y.on("imageInlineDoubleClick",(b,{modelElement:C})=>{const S=C.getAttribute("src");S&&(s==null||s(S))})},v=y=>{if(y.editing.view.document.on("keydown",(b,C)=>{var S,x,I,E;if(C.keyCode===13&&f.current===C.shiftKey){C.preventDefault(),b.stop(),o==null||o();return}if(C.keyCode===13&&f.current){C.preventDefault(),b.stop(),y.model.change(_=>{const P=_.createElement("softBreak"),M=y.model.document.selection.getFirstPosition();M&&(_.insert(P,M),_.setSelection(P,"after"))});return}if(C.keyCode===P1.backspace||C.keyCode===P1.delete){const _=y.model.document.selection,P=!y.model.getSelectedContent(_).isEmpty;if(!!!y.getData()){P||a==null||a();return}if(P)return;(S=_.focus)!=null&&S.nodeBefore&&((x=_.focus)!=null&&x.nodeBefore.hasAttribute("mention")||((I=_.focus)==null?void 0:I.nodeBefore.name)==="imageInline"||((E=_.focus)==null?void 0:E.nodeBefore.name)==="emoji")&&(y.model.change(T=>{var k;(k=_.focus)!=null&&k.nodeBefore&&T.remove(_.focus.nodeBefore)}),C.preventDefault(),b.stop())}},{priority:"high"}),i){const b=y.ui.view.editable.element;b==null||b.addEventListener("contextmenu",C=>{i(),C.preventDefault()})}};return l.useImperativeHandle(u,()=>({focus:m,insertImage:h,insertEmoji:p,insertMention:g}),[]),A(_R.CKEditor,{editor:ise,data:t,config:{placeholder:e,mention:{feeds:[{marker:"@",feed:c!=null?c:()=>Promise.resolve([]),itemRenderer:Kle,dropdownLimit:100}]},toolbar:[],image:{toolbar:[],insert:{type:"inline"}},plugins:[xae,cm,Wae,hle,$le],extraPlugins:[Vle,Ule,Wle,zle]},onReady:y=>{d.current=y,w(y),v(y),m(!0)},onChange:(y,b)=>{const C=b.getData();r==null||r(C)}})},qle=l.memo(l.forwardRef(Gle));function Kle(t){const e=document.createElement("div");return e.classList.add("mention-item"),e.id="mention-list-item-id-".concat(t.userID),V1.createRoot(e).render(A(Ble,{item:t})),e}const Yle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA+xJREFUWEfVmF922jgUxr9r0+e0Kxi6gklXMGQFlfPU04Mz5L2kygqarKAe6PvQ2mcesbOC0hWUWUGZFQy8Y905krERBGI7MITq0baknz/dvyIc+aAj58MKoGjLFgjvQWgR8PyQ8AxMwUjA+JxEwSjfuwAUvvxIBHlIqG17MXCTfAlu9XsDKHwpifDxGOByBmZcJ2EQkOjIJin8KOAYd8wIbJkPAa7Ny5wg4XUB6eAliQsZEPDePGTcxWEgDgG0bQ/Pl0kOycCtBvxOwKnhc/AiGQTTpwQUHfmcFP7N9MKYvAvJC/W+xWHQekq4fG/Pl2MQfjVOcqSAIxB+exSgeCtPyU1POHVnyV/B+P9Q3PNlfcBzvysZ9MEO4AxMmNV1En1K9glaG9BrXw2I8Pt2CL4ehv1g/b1ov2sRUWbj1mDX/fshZ6wFeO53OwD9mTkSzxg0IOIJMzVJp8XFUKzOkuhTkaK89lVgv18BBKZx2HvxQKipfsTn7e4ERL/oxVTqvLLtTivkkPN1ERLu4rBXxFDPv0oIy6C7KiHPVMNtblOxsoI6JjmpymIS43Mc9Trrf+353RGBjMcNw94yt5u5aQdM94oOpZzkIQerDvhWnjqu+r6Ik7fDqHdzH3CplA24i9NUBtSbnPtXxsiZeRRH/bP1jQsTYJ4No/5eSrRagLYtKYZMot4fRcS3vHuTCWzz4hWH2RBPawHqwFwcc5YfJ2DWjtMkoJl797rRl4emJea689UDfCOb9Ex9LWA2GhcPhmH/0n71oBevrfFowOyInLhK+a9tlBuul4eOLAKkAkxGZQWl0+L9Skk1puseXUnBLOca5YzhM/gbMwd5WhNvZNN5lrbACEB0sjjqZBj1vV08WM+tBGgHaGBzKtOLmfptno6IyJRHAF8Ow/5gF8hSQNF+Jxxy4k0ZYtPG5jjnqXacE+1Ecdh7acDTdAFdjmvn51LAldDiOpWqbDv3aqMnV91sTXUbePMfq3TEXrs71kem7S4O+5WqbDsva5NgkO6tiwaoVEPmf4ZR3zhUqYJF9oBuopYFQNkm+TwwblXDCTCfm16n0mg0xnkEKAXMj1ix8uoUo2Yec0uBhV16VQK0PioFrLvgvr//OQF1D5p8CV7tW43HrCcu5I9Fap2RLSfPsVIxP2bxXeeYDNZAXoPekfBlhwim59AqwsHZU90u6OAOBZ1es5sOxqW+PNJXDRMAJp+acgoYEFPRAO2qSpX5TKzjbceqmmbsQJd0gLlZcmCan2MZrHCmb9iWTU5bCnKgk3xWmTzdmLGCyK//Vq+AtQ2kRmYt9176ixr/OWUggYvE9oGf6xK9xt8e7NP/ALoog04b+vKMAAAAAElFTkSuQmCC",Xle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA8RJREFUWEfVlktME0EYx2e3D2wLlKc8TNSDRw94NxoPGAgaqRqEWApEUAFjK4hIQAERCSCPBQRUUB41wedCggY1Jhw8qwePmKgHCgF5l0Jhd83UtFlgtrvtDgnuqcl88/9+ne/7zzcE2OEfscP5gCCgwWQu4hjuy+Czlk/b+ScMRnM8IEEc3UfVo/IgAQ3plnxAgDbXBpZNpK0tI9sBmWyyJBIAvHOlAdzloT7q4eY8aECj5TwggdUdzHJcwlA/9R4nJB/OpctxKXQ/9VISIAwypJtzAEE88mxgueO0lfqIA/JfWYkPPO0M2kr1SS6xO3A7IH2BgxyiLsYJ6SucJEBXuY1mEyCJXjnl9gdOMqBcyNNGSxJHgmEpPSfZJKiG9eck5cD5dIIe4/hQbrlwfgFKLTcOOL8BxSBxwckCFIIkAKH21xA+X9RSpsYW4/A3sZzghJCiLfsEBY0DFzDAYQPc0nNwRLHgxBtr81upJyUUJzrqxBKg4Nx7cEDKAtwCx7FpgCPU/LEoF9JvQBQc3d8ygHK3HEivgPmFpfsAUJYxDHMAJlYoFGMArN+1TdoPbrhKODbNDSdkHAgZE6X7jtJ70FD9y6ceNBdXHJ5fXH0xv+SIEetBb241GK9mAZJ8IqahD9TY9EEBKVRtxWfRx8KVwvKaiT8LxQzLiZY/UKse7u+sO+kNwHTpxvCiw5kkBqkgCS46PLi2raGyhB+7AcJcVHnu9+Ssq4/gF6wLmNNpAl6rFArXU3+NYeLtjtUzC/bVEHfM3qjQVKq+/DkKAIfeBsDU7Otrq851JUwWHRE02NFYZUAlzi24RU9MLybDtQC1cn2g674KFYdDzwPITxoRqvv2mKo+5K0sOebSr9Oz9jgYExMR3N3eeCebH49LzwOYmVcy7jZFbKRuvzdnQRDo8PEp+0/4GzZ5T3tNLB8Ql54H8GzmNRYaA/Zdb0dtqFhTw/WM3OJZ2I+wwV/1NJH8Pbj0PIAGk4WDCcL02h/drfdc957Yl5V30za3tBIN4+i+5g39jEvv/zlBXD3jPnVcep4TzCu43WWbXrgg1PSby80vL8rFuPQE78Go8KDRzqaqY6g+vGgpG52aWTrqyz3or57XSaLVqB163a4RlVI5yrIsybDskXn7SsKyw6mBcNC9eyJD0qROEn/0tsxbqbMYwsXs1he01lU0e3O7XD3kgwC+ZpaWnU9n5peR102YXjsWqFVnoV4fyJksQ0/0PUgqVIY15/opmFilVg6xzBotNmWEThROH1/1RJ9UYpf1dq/veMC/U5vpRxNTBLoAAAAASUVORK5CYII=",Qle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABKdJREFUWEe9WNt1GkkQvTXoX3IEiyNYOYLFEWj43WMwikCtCBZFQDsCIfDZX3ojMERgKQKzERj9o6k91fSMep7dIJ+dPw79uF2PW7eKcOKX/qkucYYrMC5B6BNw6R/FwCMYWxCtseeN+Vs/nnIVHbMpnag+XnADQkpA/5i9DGzBMOjhi5nrbezeKIDpRF3gBTMiTFoPZmxK/xH+aFvLDI0e7sxc70JAgwDTTypFgnsCLrzDnhkwyGBwhnXbRfZhewyQWIunAM7zMxjYIcO1+apNF8hOgOlIidVUCRhjapZah17e9H86VlOCPe8VKEObpb5tO68RoHPpPZF9tf0YuEMCHeOWLvD27AyKgL+Ksxlz9HDbdHYzwJFaeeCeOcMk5IpjLSqhQwnmuTWZMTdLfV09pwYwHStNwI1b+Mx7DE6liBBooSo6w7oACXwxC+2HFEoA3atW/we4HHwNZIah760CoIuNH3m2cmVhyBpv+d83jM3uBO/zeHwFOFZzAj7nCWEWevqWS4/d6zLcJg57rrYApUJQhh+FaxP035qtRwOcqAvKIBXGUhAfrLg9APQSgxm3XTx3CAX6TMButZg9xABJR2oConMk/ND18CYr5gAl9qS2Pq8W2q8YtfuHI7UF4beqK9qAlh4PbM1Cv+961HCspPydS+2WteSy6Lu78MEsdGu9TT+pASX4VlzA2KyWetB54Ug9gvB7QcoZPpqvWqil8Uv9XNjjA5XMGpG5Q+9CqS6hZPLPB+NptdQlWVZFKeFAhHtrMMYtDUfKgHDlAvNdTHKIJZFhF0vgVjsmuOiyXMGLh2T5aX8z/hELfndiMxh/MQnxK9YMx4pdyD1S/gMR8fQrLo85YzhSazg92QnQKugMYuHOzI65tGmNqxofqgo7HmA1a09F0rGPG7L6NICMDZNVHm/+iDHIXRgG6NHGaiFK6/WTquFlVJDzYpH7FuIENebw8uIpSDMl3nP1MRZI07pS3W/gxYpRLM1In3BQEQ1EnY6UIsLMpX1npYkBXqoUjGuz1KKqi69G1DGlrlR/Gw6NASZr/MvB+He11LXeulbqZGMOQNLeLPS76oU1QRnRLnad0eYt+4ix+mlpzT0gWm6VXn8QlVMkdkrQ2Xw7pX5Dst593OKFityydb4mWKuSuxIfRTy6mNyBMSeQWS1npcmCrddS4wkTn+jb9Gat5fAFqzNtlOS3koswzzVhbPyJy5ht+9rIpZ2S3wKsSu6A9LIuF7c58doKlPHEsNODUra2Za6IZvZajta207p6j48hSeUmXinI1uu8Zovrt+jZuU3nJMuN8b61dZOdjXssyGg3VxbWwIUa93x/iYsip1DHgjw0UpgVlgMai0D78CiDFGbbJ7uMjaKVENBG2gEekEBFD488S/pzGuE+4TxtFvouBKTp/3SspKTKZKvQl36T3rQnaoDpT6E8/jNEZDjhTdcAkzK6YmbhRBliloegEVOzIMCcgpBBWD2fetUey1zWikRobUfFakgwDVUhuSQKYOHyQwugiCG0Ypv36E+IWgg+wTxEPf6ZRwEskau0kj0MCNZSfb85d1n1BGDLwBovWIf4tO2h/wFndsvkh8s8SgAAAABJRU5ErkJggg==",Jle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAolJREFUWEftWNGR2jAQfeu5AkgFcSoIqSCUIP/eHIRUkE0FIRUgOvDhTH5ROjgqCKng7ioIV8CxGRkMtg9HtgXkLoM/Le2+p6eVRvsIz/yjZ84PewmqIXfokd7+jfwsGc9PsbgCQXXFPQQYE9B1gQuwBGhkpuOJa67P+Jag6vOYCNw0mQg0yJL1+wi0kEDmJtaFXClB1WcmwrgAIbgHcFcBG4Lw2o/S/mgBRmaqv2ajZOsNK9wS0LE/BbhGAC6vpJxODTgm4MNRSAqMSXRkc1NBPcGPWaJVHVA15JBWuE3nCu6FENeJq5jTIUEPhO3BFGBippop6vMNCO9TnABvTKyrtvVJ7qjPiyypBHjlUt21gHKpWT4UDVg2KvyaJdp5evMgasAjAr6ki1shMt+0cZFwjRdyApM8wfks0T1XggLBS+7SBX6mBHN10yTHk9q2d/AKvzeizb0I2iRRn++yEy2CGFR58pvwHhIQ2rvWm6C6YkUBZk3Qm8z1JmjB1IA1AZ+aANedexCCKclL7uICta4oFzkSDLOyORhBF2iT8fzVdybYRLls7lnBNqrlY84KnhX0VcA3/v+pQfsQQLB75RaVoeWxOrpaChae9BV7JoLPJtHad0vL8fUI5h6jVQT+KcH0hbLe4v1tgGB5DPU2j+Btn/RyHgsCLMxUvzt0PbXJpwZs+/QQwINtOw/aOrYhlI8p9dvzQuNuXQUz1UNfEJ/4vGNhD6G1PnYOwbp9jE2iP/qAtIlNLZhHWAMrE+hBAoSV5pEIbtoAtYohdMqWX3aF7ey3I5pBTUnnS61sYCqi1O87irXmJGpNKAHnLZT9FrBtIYO1HXeyb4Wl+a4XZbyXaaKfTLUaQH8AidF51x9E6EAAAAAASUVORK5CYII=",Zle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA6lJREFUWEfNmM1VGzEUhe+z2ZMOYioIVBDTgbzNwY6pAFEBpAJEBfiHk61FBZAKYirAqQCzB7+cpxkN8niwNYNtmKWtkb55P1dXInzyhz45H+YAVVc38IITAPtEaG4Tnhl3AMao49L2zMSvnQGqjj4j4HybUEVrMTAF49QOTU/+d4CqrTURLj4aLlyfZzi01+aOVFd/wQwPBHxxAxh/mGHstbHbBFZHuokaugT8TDAwsQOzR3PRY9yMhkZtEyy/lupoQ3B9AJ6hRa22vgPhu/uhhr2wQD8CVBqVZnhIo9gn1dGS3gYY/0ZD0yiCSrv7DDIOmBKRHQ0u+pv6gFZbT0D4KuVGrY5mX3ujoVmQFnWkFdUwysMwo2eH5ngTkGFWlwLONRDjngnSOI2gkH/ZgVm7NMUDevnJpV919DkBZ77T1h3FeMCO7km0GJiLlESWZngUsNFAmi7+SZqAkqZ85nv724zzb5cBdC1fAJh1WhlA1Tk9IbCZE2TR3KE5DX+LB2zrLhGu3PZTw4GXINXWV0TognE/Gpr9mPhl7xQMzjdcNKDM5Vs+3SPHINckTo5ESGN2HF+zno0BkaipF2Q3V6AKpQDVD71PdVinS8HDjGO/oS+LoEqzkMEF7xX856SrFKBM7OTmBUqiB8YUddiYHWcZnAcuGkNA1+9uK4U6pr4Kd5985IBLOzA6cqyk35mXjQAuRAXo24HpriiFQstXCjDdWU7AaIAwQQ39fKqrwGXpTnU3/JBoQFkYhIvMNyaebc79SkNhB7d+jHTrqsjlo6pykFGA+agUGIdjvGD8Xjg/b6utRc6+RdXgAhzjRhx36H6djiW65l35u4xvtMzk1T+fsnw6XATE9dTRtD0zraoAUYALcG8Icx7SH3aqwqW7V+byC2swFi6omddjgzTOMw6LXEos9JsR5DoUZq4LvQF44mc0Vy3m7NcLBNIVtvjE1FxUSnMhIMupPjkol4LLNGwRcowaDqvUYnEE55xAtUIviGQlyOWA7+xC53523D3LbprusR2Yg9j6W2ySQBSrKH/h5p+HLHkCVB396DRVjp2hTKzz4L4QyUhIuQKhGm7T6Pfl6sPZep+OqoVdGMlgMTf/CsjUjGQqIqbYnciyk/yrAegRaC2XRwyWAGRWi5OrtezglDh22mViuTTQwXbpbjqS67ekZv6WKeRNj82u3zIdyxX2pgGWzP/EDD13gRkOTn1fk8SUbvlhwKKOXijupW4Ftszrlvv0gP8BKnGS/D1e5gAAAAAASUVORK5CYII=",ece="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAxFJREFUWEfVmM1V20AQx/8jcw8dhFQQUwF2BZGvPOzYFWSpILiCLBXgZ/NyZakguAJMBXE6gDto8mYtidXKRlJiWUY3fc3+5mNnZ4aw5xftOR9SwHCoDhHhG4AhAUdNgDOwBDBBgEsz0Y/CYAHDU9XGAa4IaDcB5q/JwALPGJmferECHKj7fYFLYAXSTPUxhX01JMKVqwUzzs1Ma/dZeKZCCnCTCnjGsWiY3EuIUGRd9EGeMTA2U32RkTFQmmDDSN4/IsCnxJXWUGeqQ4QJCB/tN4wR9frqDoSTnJk9AHnf6ysDwpd4gSUCHHsLFCvxgoUDYMxM9zJKnKo2HeDePmPMqTdQnNwwQXyeaLhAgG4GIG+lSzPVyl2gUAkXILaSmemJJyM1WhawhZBcDYEcgHVDgF+pqyN0zbW+e8PVeRkDdUHAd8fV4gkJD3u5Xs0A3sx0Zw1Az1xrUzGWsq72lIghxNWf41i7MzPdLQUY72o/mDMa2g1RFEsDNSHg68Z4XblaLJ/bVG9a0NFio4bpjitydVG49JUiwg8/M6wFtNuekaYNEI7cE8UmT4bN7ulFaBNwmMaS+7889GWwtVhWBKGTAspJwljCkfsag/6fe3L/jgAZD8zI5LSmjEgEnezwXJppCspdt9QubhJ064BSrrmFw/8qt1XAMM5lLCmkhZF7ZP0r6HYBnXM1PrY0Whi7RUZV0FoB06QNaDPV46pw8Tm9vpqRYqGqwNCzoPu/7TEinPvFRtEatVvQB7Dx+YLzshtp54DpWRshV7qts2ZTgE8cYVjG3TsHZOASAS7K7uzdATLm3MKwam6sH5Dxh9m6M1f/Fe3gutPMk1REfpdWBqq2YiFp6KVRRwBdNs7egt6qi6tap8z3m3oSOwspI6Dub8KB+p30QzL6eB1nrOlf64bx5Wf6csZtZngknR2BFAd8u41YqqJcOFRHFNEJg6UnX3WKMjzyt3UVobV+y5hL8bKaD64mBVLi2FFE45c0cC10xIuZGbWdFQIhZAS8a1jGA4AlAzKSS6dd72eI3rhbNwD8BeqaSflgvKG5AAAAAElFTkSuQmCC",tce=({cutWithoutWindow:t})=>A("div",{className:"p-1",children:A("div",{className:"cursor-pointer rounded px-2 py-1 text-xs hover:bg-[var(--primary-active)]",onClick:t,children:O("placeholder.screenshotHideWindow")})}),nce=l.memo(tce),rce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABAtJREFUWEftmE9y0zAUxr9nptkCJ6CcgPQETS9A7RO0XeAMKxqHPekB4pQVE7NocgK7XID0BIQTEE5A2YbBj5EcubIjW3YpM50O3iWWn3763h89iXDPH7rnfHj4gGH0aR/Mu+RgV/cGp1iBaBX4L6/+xku3UnDyMe6lTEcEuACeWACuGUgc4vnglbdoC9sKUIAx0zsAvfJEzPyTCEvxPzO6RPTYALMg4rM2oI0Bx1FyQcCxmpTB3wlICJgNfE+ClZ9JFHcZOGbAJdCzm28xG/ruSRM1rYCTi/gJ/6LPALpSHfB3AKOh782aTKDGjKNYLG6kgS5phw8GJ951nZ1awDIcmOfUwanNaNWE0t4a5yA62oyxQtYChlHyJVeOeTDse+dtVKsaO57Gp0Q0UZCB7+5Vja0E1GOO7xAud7kGyaiOSSPgJltF3ImUnAd9L0+Ou1BQ2Qin8Uy5m4gPTNltBAyjRMD1REI4O+jeNuZsixExmf7CcpM4i8B3D8rfbAHq6jH4RM/WgttL7+pgRAYT6CKrAkV36u9MKm4BKtmFekPfy7cv3ZCCoR1+alN38iHe5Uf0TV9Ayuy97XuJVoJWUkVDOG0DRsmPbPvi94HvnWpBPSKSu0j+EHivqkirQYV43vxZTrowis8BegPgOvDdp8U5tF+6sfLkQonUwVJtYcz8ddj3ZPG2PeNpLL57keUc/3RSdAevvVW+CLnjkChpKM9bUFB3Y+C72/EZxd2UZYMAp4Nzm3tzAJEMa0hvOITEpHoYJZzFaDHui4DTWLpRrHLY92xdik24Vu/H0/haeIeZz4Z9b5THuW5lvAEE+Crwva2OpdWMLQeHUbwAaP+hAG5nU0tBWg8PN9WjXkGtoJqS5KZ0XBbKTVOawavDs6qxjZKkrszohpWxpmBqXNWis8a2QZkRhlQ2lQt1KZnyutYUsq5uqkJtqh6VWx0Yq6DvPjcBmLY9G2i5vhU8Mk2+gbDbaKuraxZuq2Kdeq2bBQGhapJQkTq8Z9oxZKu0xkJtYVUKCjing16VDV7TF6leRe21Nqx13e4GUrTvxqwWJaNuS9Tbt1YNq1RR63ZtLb8A/b1Gj/KTH5aPOljU7dWFc0lN1157aNK7EIBOA//wvS0ZmrwPo8s3AMsDmK0rsh479TgT7nZ2eNC0iynDZi0+TdQFQF18GpsF0+q3koGxAmgU9A/nTdRSY8Lp5RHAoywhMuWqkke3a71ZuJng5gQm/2OsGJQ4lM7rrj5Sdo4I7Cqw7NvmJ8XGgMJuViMxEm2RQT1xhaHuaESnbegn+YoIo39yeaQDSdB0cylkvsXKh8tbL3HJ5GDWBqxxDNriTGz0qSgvXLzABGHlAEvbocpmv5WLbcb+xfv/gH+r6h/T+3RH7kI2ogAAAABJRU5ErkJggg==",oce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABANJREFUWEftmM112zgQx/8DL6HjOhWsU0HkCiJ3oFRgpYLYl1A+RT5J9EVOBbE6UAdWKrC2gigVrHMU+IzZB4igQIokSDuHvN3wSIAzP843QPjFH/rF+fA/ALxJ34L5RIBOfG9o8AZEG3yMvr7ES8+z4DQdCOJzJgwJOG4CYOCRGEvNtMBVtOoK2w1wmg6I+BMRBmVFzPgBwtq+Z/SJ8GfFnhUzXXcBbQ0oZuoLCCOnlMHfiWmpBe7wUe7Ays+N6guNERMPCfRXvsy402P5vo01w4BzPiaV3hPQ3xmHv7OmCa7kXRsF+Z6pGpHgiQNlYM0yOsMlPTbJaQYswQFYaBldhITWKpzzsVDpLYDz3c+GIRsBKVEPznIauEQsjfCXP4m6EMA8h4zlaZ3QWkA/5n4qnCPxINEQk9WApowIvs9kLXQs8+R4ufn2EkSiTBxbd2tNZ1XZXQlIM3VvSolNCCn7z4650N/YGFdrkzjMWPFYnpU/OQT0rKc13vvZWnB7aa2RZapGQuBLViOLJcZbq7LiAaAzu7Ve3Nu3L19JRqNl9Cpo3SmfCJF+839AQ7xD/MfSvaNku8nKz0E4HQBSov6x7YvxWY/lhRMiku0EoE8FRYTT2iLtNhbj2b4tJ52YqVsQPpi2yLF85esoAvruLSuf8glRunYtjBl/81ja4h16aKbMd29sWWH8YI76uKJN/p3pOIwHC1/SWwLcx4qO5WF8WkE8tIKkvA261xHYAq2sNzTRssrqIlG8y+Zi3BcgnBvtX45l45QSslrXdZqpx513+FrHvUken76gHBD4yrE8mFi6Ku2ynxK1IuDtfwbwIJu6WOM5e/Pq0eRi+EWzKkkyzSJJC+WmLZCOo+u6va2SBE1lxpPshLUFc/sqK4NZbF1mAOTZVCrUheLp1bW2kE11My/UFdWjvtUxb3jce10JUNH2QqDl+lb84e03InsqDLe6gpsbBgK/O4TgGrtO12HBKHM1iY0Ve/K0smOYUWmbrlwLq4O0cL1oUC9DPRjrcU3tDQ+sTSewvIUVh4g9LF83tcTi+NZhYDUKCtNu6Dwy52Oop4HAkx0eNI7WkEerxl7tj/wVsVfZ6spu8uNMMy4wlp9D8dZqfaY+CII9gIWmovCx048z4+5edNl6iinTmpDYpnN3AdAYn9m37Q7uHqRNHKIJYrloZS23KVHnxDzJysnOcnXJ4wkOA+btbX8C27mGN0S01IRF49UH45yZhw4sE9f6pNga0Ao2l0f2+sKMRcXHjOvg7PKI0K+69bKlxF6btL/l6gbomHY9e8SMYdUtlo9uhl8iLLWmuy5grbK4VYzdqD6e0BeCixeYmjY4wjp4qAooeZ4FW5H/nE2/AV9qx38BMmZDR9mCiGwAAAAASUVORK5CYII=",ice="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzhJREFUWEftmE9W2lAUxr8bqtPqCoorEFeg3UAhKxAHwulI/nRenNeAox5wYFxBYjdQXEHZQXEHdGzJ13NDIiFAQsWgA985nMMJee/++N57373vCV55k1fOhzfAdWcoUcFvXadkiHwFUFg30NL+xFAMseunxfNF7ywFDOCczMDmBuZlo2LW4o+XAlo995cqR/KPCGwSo4xgSyKyr2PLFnfrJ+ZMnCRAaieS582q2coIDu0r54iUnz6g8GP91OxHY70Bpim/UQXb184OH3L7Mh7f1z+bwzQ4/X1jgO3vTp450Y21o4E90vxSNd00yI0BWl3HhsjxIxAxbFRLe68CMFDvt7/rwXuBfAi+nzQrpp0EmZmCOjBgHHpkXogjCPK+VYy55+XQDyBHJPqGIQNCBo3TT7dx2EwArZ7TAeRsXplJNkjIQoNGpXQQ7ZcRoOub+LTxzldqG50wE1z0nLIAZRIFEXkfvhs340wAL7rOKAxKMHGdtXtOgfAzhb+7dQlELSgTwPgULrOUuPUA8wVBJoCqhEIKYAdKjhqV0m58TVo9xwWkmLSjMwPUoBddpyWTehGNivLONqvn9AE5BHjXqJhHi+wmU8AQQL2vWTHzqmrOMPbpqUkXbyLmvVDhzFOd1XV/+/5HDCHQ3DtVKfYsvjlCNTNVMLqb01KagAf1ijnYiFGHQaJrUCtvAB31Qu8BJRCdqf+90BoM15DnoWB4cGf87drZ8UEBJOXjTKc4bVpX+f0NcBWVXqTciga1rn4USU+dWksutZoB9UAOcWXbu40fJTOvZsIAVvf2GGArrAWXKKWFRQfvvMtFoM++BvVghL/GGT2Wo2DBAV99Tj8FAvmwsg7ARwRcY8zzTKoZrUw8wzgTYTksnYIi4B6EHa0FH32y55RB1MKbg/A5AdsQ3ughfX0FAf9MocVndAo1/wJopZ05pvkWrUnhMNP6ItIn6d9c/OfNwrRUmh2TdyJoxa8oVtnNfvFK1GZOf0FHXSLNqukXtdG29OpDB/MA93EdkTdiwH4K2Fz+9c/QqJEoazr006Sgtmg2Um9YFRRbGCZZxSrqLXpnsuFQSPrTqYBPDf5c/d4A11XyHyjwDVZ/cUqlAAAAAElFTkSuQmCC",sce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAy5JREFUWEftmE9a2kAYxt9vHhKX1RMUTyCeQHoC6QmkJ9BuGlyJK4gb8QZ4guIJxBOUG4g3oLua0Hn7TNLQBBJCxUEXZBky8/34/r4zgnf+yDvnwxZw3Qgt96A/bQj0hQC1dQ0VrSc5FlF97TmXed8UA/rThoL+bgtsYV/iRrfcs/n3hYDiBz+M50j8FKAP4cQGLCkNERyYvbXr7OGrZOwUAio/YAzES+3ttG3ARXt2wrpSvI8AtXzCuTNM29oClnp+ox685i7C6QF+V55wLuNSuI2GuMOqqNAU1m6UT1Cf4VUGpZCb8qDygz6AkwTI9De2dvbfB2CHVaXCx6jmwSeBfIyrEl9w7hrw4seaB6ONcQSySrAuItUYytkXFQwNJIEJwKFAjTRlhFblboHUBqDqBj0ITgunQcEUIjCi5x5m1lkBnDXxv60ceBBwqF23N5sEnaApCk0QNRF8SKAWmrENQOkGk8RoaZ5dBTUh7mfVrZ39TAuyAYi5EBa2lLnWgzxBYAXQxMtIMeq+8aQpBnru3oIS6T4PROR4aUVbAwSg/Oc2IBcRgOcuzHXxTTXjiMADPbee22tsAv4D4BO9nWoceh5ocAzPvU2ad5GHrasZ6T4/mv5npgYgYxHMvDT/zvTH3Pls1YOpai4baVpwiG/uaCONOjGSzsFIeQt7US/8FRqV3Eta0ZvlYJJDUKxBO4NMCI30+hU2om+WzWObIS4L60q/bwFXctNbyK20ze70WEE3CFRNqzGqBeCYkAFc527+KGldzcwM+MGJkO1EC+b5yTRpgfS0W7nJBX31HLzmrgqmp6RupsFMm4FgJMSIYq5KWE2Uday0MRFioOlc2lEzsaw/JdBMpFNs2Eh89DNaMHGl0YSCs+TmYOZhoq8pt9EhfW0PEvGZQtBMh9CAUUu79MxhFnXCuii2jXDI7EEMRWQIMLq5+K+bBUlJpSwYHmKw7BXFSsV8FdQUYS6IZqe/ZJ1JEbbc6MiafopvtyIlzEEqj261lv6LwOatmnSR8CxKF6MnDZwBz5k45TesV0ENjjNe2ipWcl/OR9E4nNaW/elywJcaf6V1W8B1HfkHkDS4R7riT+AAAAAASUVORK5CYII=",ace="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAAAXNSR0IArs4c6QAABIRJREFUeF7t3c9rXFUUB/DveTN08n5EqyiFgeqmVhGkxkWrgkpxoShYKzYYXPgDaev/YCnWv6Arq4gK4g/qjxahiqtaF7ZZ2B/URduFVNRA66rO+zETknfkjU07aRJyb++dY9N3ZjfJeef77mcOQ5JL5hIMHmlRPIlZeoaJNwJoE7AGQGxw6c1ckjFwAcAUMU1ygw+NhuHh5RZMSxUwczPPe28wyl0AtZdrpN+vBHiKELwdRa0PiWhmMZMF4MwcpEUxjpL2EOEehbQXYMY5BPxWEoZfEREPdlgA3snzcWL6GEBoH6VXDAjkBJqI45FvlwTP894LJZdfAgiUzotAycQTo1G0f67blQlPe70HMFNO6mR7gR5sUoAbjybJqpPVF/vg/fftrHuaCPd7j9OGAOPXOB7ZQERlHzzLujsZ/K7aDE+AQG/G8cg+YuYkzYrfiOjO4cVpZzBfjONwHaVp8SoIHymJgADjNUqzovoR8BWBuNpHMPAeddLiRyI8UXsNAQBmHKkm/DyAuwXyah/BjLMVeBdAq/YaAgDMuFSBz/tdXyC31hEKLvzyK7iCCwsIx+mEK7iwgHCcTriCCwsIx+mEK7iwgHCcTriCCwsIx+mEK/jSAuf/uIhjJ86iERAefug+rG3fIczlHreiJvyTrw+j6E73V31LEuGlLY+5Cwh3WFHg73/6wzye7S8/JczlHqfg7oZWHRTcisu9WMHdDa06KLgVl3uxgrsbWnVQcCsu92IFdze06qDgVlzuxQrubmjVQcGtuNyLFdzd0KqDgltxuRcruLuhVQcFt+JyL1Zwd0OrDiLg1U7N5IlzuNTJrG5u2MW33RqL7xyJgA/u1Awb0ba/9M6RCPhnB44gzat/tLjxHqNJiIktj4vdmAj473/+jaPHz+CfTi62MJOg21cn2Dh2L+4S3IwWATdZvEmN7mmaKHmsUXCPmCatFNxEyWONgnvENGml4CZKHmsU3COmSSsFN1HyWKPgHjFNWim4iZLHGgX3iGnSSsFNlDzWKLhHTJNWCm6i5LFGwT1imrRScBMljzUK7hHTpNXgzpH0To3J/ZnUrKgNiP7O0S9n0GwG4js1JpgmNSsK3GRBN3qNggu/Qgqu4MICwnE64QouLCAcpxOu4MICwnE64QouLCAcpxP+P4DrB7YLoc99YLseSSAHXh1JkB8DaJNQZq1j+odudLJiHwE7ai0htXjmvZSm3adB/L1UZp1zAuJH+mexpVl+HKCxOmMMf+18KomjBy8fftd7nlEeGH5ofRMIwdY4bh28ep6mTvkQp+G/6a4CroKn0xtAs0f1AFPv7gWawaak1To9D7x6kue9Fy8f0es9taYNy4CCbVHU+mZu/QsOoc6y7nMM/hxAVFMkX8suCLQtjkcODTZc9Fz7LJseK3n2CyKs95Vepz7VMeuExniSrDp17boXBa+KmLmZ573XGeVugNp1Arv+tfIUIXgnilofENHMYn2WBB8s7hTFZpqlZ5m4+hNAm4A1AOLrv7Gb4sqMgQtg/EUB/dwg/i4Mw5+WW9m/ZZOAx7ulWk8AAAAASUVORK5CYII=";var F1,L1;const Zl=new PR({emojiVersion:14,dataSource:"".concat((L1=(F1=window.electronAPI)==null?void 0:F1.getDataPath("public"))!=null?L1:"","/emojis.json")});Zl.className="light w-full h-full";const aM=document.createElement("style");aM.textContent="\n    .search-row,.favorites {\n      display: none;\n    }\n    .tabpanel::-webkit-scrollbar {\n      width: 6px;\n      background-color: transparent;\n    }\n    .tabpanel::-webkit-scrollbar-track {\n      background: transparent;\n    }\n    .tabpanel::-webkit-scrollbar-thumb {\n      border-radius: 3px;\n      background: #b7bdcb;\n      box-shadow: 4px 4px 15px rgba(112, 124, 151, 0.05),\n        2px 2px 10px rgba(112, 124, 151, 0.1), 1px 1px 50px rgba(112, 124, 151, 0.15);\n    }\n    .tabpanel::-webkit-scrollbar-thumb:hover {\n      border-radius: 3px;\n      box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n      background-color: rgba(245, 238, 238, 1);\n    }\n";var B1;(B1=Zl.shadowRoot)==null||B1.appendChild(aM);const lce=({item:t,idx:e,deleteCallback:n,sendCustomEmoji:r})=>{const[o,i]=l.useState(!1),s=()=>{n(e),i(!1)},a=c=>{var u,d;return(d=window.electronAPI)!=null&&d.fileExists((u=c.path)!=null?u:"")?"file://".concat(c.path):c.url};return A("div",{className:Mt("h-[46px] w-[46px] rounded-md",{"cursor-pointer":!!t,"bg-[var(--chat-bubble)]":!t}),children:A(ho,{content:A("div",{className:"p-1",children:A("div",{className:"flex cursor-pointer items-center rounded px-3 py-2 hover:bg-[var(--primary-active)]",onClick:s,children:A("div",{className:"text-xs text-red-400",children:O("placeholder.delete")})})}),open:t?o:!1,onOpenChange:c=>i(c),title:null,trigger:"contextMenu",children:!!t&&A("img",{className:"h-[46px] w-[46px] object-contain",src:a(t),alt:"",onClick:()=>r(t)})})})},cce=({closeAllPop:t})=>{const[e,n]=l.useState([]),{sendMessage:r}=Qc();l.useEffect(()=>{Th().then(c=>n(c))},[]);const o=async c=>{const u=(await ce.createFaceMessage({index:-1,data:JSON.stringify(c)})).data;r({message:u}),t==null||t()},i=async c=>{var g;const u=c.file,{width:d,height:f}=await a(u),{data:{url:m}}=await ce.uploadFile({name:u.name,contentType:u.type,uuid:On(),file:u}),h=[...await Th(),{url:m,path:(g=u.path)!=null?g:"",width:d,height:f}];await Rh(h),n(h)},s=c=>{const u=[...e];u.splice(c,1),Rh(u),n(u)},a=c=>new Promise((u,d)=>{const f=window.URL||window.webkitURL,m=new Image;m.onload=function(){u(m)},m.src=f.createObjectURL(c)});return Z("div",{className:"my-5 grid flex-1 grid-cols-6 gap-3 overflow-auto px-5",children:[A(Wc,{showUploadList:!1,customRequest:i,accept:"image/*",multiple:!0,className:"mr-5 flex",children:A("img",{className:"min-w-[46px] cursor-pointer",width:46,src:ace,alt:""})}),Array.from({length:17},(c,u)=>u).map((c,u)=>A(lce,{idx:u,item:e[u],sendCustomEmoji:o,deleteCallback:s},u))]})},uce=({sendEmoji:t,closeAllPop:e})=>{const[n,r]=l.useState(!1),o=l.useRef(null);return l.useEffect(()=>{var s;(s=o.current)==null||s.appendChild(Zl);const i=a=>{const c=Yf(a.detail.unicode),d=new DOMParser().parseFromString(c,"text/html"),f=Array.from(d.body.childNodes);t==null||t({src:f[0].getAttribute("src"),alt:a.detail.unicode}),e==null||e()};return Zl.addEventListener("emoji-click",i),()=>{Zl.removeEventListener("emoji-click",i)}},[]),Z("div",{className:"flex h-64 w-[380px] flex-col",children:[A("div",{ref:o,className:Mt("flex flex-1 flex-col overflow-hidden",n&&"hidden")}),n&&A(cce,{closeAllPop:e}),A(Wn,{className:"border-1 m-0 border-[var(--gap-text)]"}),Z("div",{className:"flex px-4 py-2",children:[A("div",{className:Mt("flex cursor-pointer items-center justify-center rounded-md px-3 py-1",{"bg-[rgba(19,31,65,0.05)]":!n}),onClick:()=>r(!1),children:A("img",{width:20,src:n?rce:oce,alt:""})}),A("div",{className:Mt("flex cursor-pointer items-center justify-center rounded-md px-3 py-1",{"bg-[rgba(19,31,65,0.05)]":n}),onClick:()=>r(!0),children:A("img",{width:20,src:n?sce:ice,alt:""})})]})]})},dce=l.memo(uce),hs=[{title:O("placeholder.emoji"),icon:Qle,key:"emoji",accept:void 0,comp:A(dce,{}),placement:"topLeft"},{title:O("placeholder.screenshot"),icon:Xle,key:"cut",accept:void 0,comp:A(nce,{}),placement:"bottomLeft"},{title:O("placeholder.image"),icon:Zle,key:"image",accept:"image/*",comp:null,placement:void 0},{title:O("placeholder.video"),icon:ece,key:"video",accept:".mp4",comp:null,placement:void 0},{title:O("placeholder.card"),icon:Yle,key:"card",accept:void 0,comp:null,placement:void 0},{title:O("placeholder.file"),icon:Jle,key:"file",accept:"*",comp:null,placement:void 0}];Or.on("languageChanged",()=>{hs[0].title=O("placeholder.emoji"),hs[1].title=O("placeholder.screenshot"),hs[2].title=O("placeholder.image"),hs[3].title=O("placeholder.video"),hs[4].title=O("placeholder.card"),hs[5].title=O("placeholder.file")});const fce=({sendEmoji:t,sendMessage:e,createFileMessage:n})=>{const[r,o]=l.useState({emoji:!1,cut:!1,rtc:!1}),i=l.useCallback(()=>o({cut:!1,rtc:!1,emoji:!1}),[]),s=l.useCallback(()=>{var u;(u=window.electronAPI)==null||u.ipcInvoke("capture",!0),i()},[]),a=u=>{var d;u==="card"&&ot.emit("OPEN_CHOOSE_MODAL",{type:"SELECT_CARD"}),u==="cut"&&((d=window.electronAPI)==null||d.ipcInvoke("capture"))},c=async u=>{const d=u.file;if(d.size===0){Sr.warning(O("empty.fileContentEmpty"));return}const f=await n(d);e({message:f})};return A("div",{className:"flex items-center px-4.5 pt-2",children:hs.map(u=>{const d=u.key==="cut",f={placement:u.placement,content:u.comp&&fe.cloneElement(u.comp,{sendEmoji:t,closeAllPop:i,cutWithoutWindow:s}),title:null,arrow:!1,trigger:"click",open:u.key?r[u.key]:!1,onOpenChange:m=>o(h=>{const g={...h};return g[u.key]=m,g})};return d?window.electronAPI?Z("div",{className:"mr-5 flex cursor-pointer items-center last:mr-0",onClick:()=>a(u.key),children:[A("img",{src:u.icon,width:20,alt:u.title}),A(ho,{...f,children:A(bf,{className:"ml-px scale-75 text-xs",rev:void 0,onClick:m=>m.stopPropagation()})})]},u.key):null:A(hce,{popProps:f,accept:u.accept,fileHandle:c,children:A("div",{className:Mt("flex cursor-pointer items-center last:mr-0",{"mr-5":!u.accept}),onClick:()=>a(u.key),children:A("img",{src:u.icon,width:20,alt:u.title})})},u.key)})})},mce=l.memo(fce),hce=({accept:t,popProps:e,children:n,fileHandle:r})=>t?A(Wc,{showUploadList:!1,customRequest:r,accept:t,multiple:!0,className:"mr-5 flex",children:n}):A(ho,{...e,children:n});function lM(){const t=async c=>{var g;const{width:u,height:d}=await i(c),f={uuid:On(),type:c.type,size:c.size,width:u,height:d,url:URL.createObjectURL(c)},m=await((g=window.electronAPI)==null?void 0:g.saveFileToDisk({file:c,sync:!0,type:"sentFileCache"}))||"/".concat(c.name),h={sourcePicture:f,bigPicture:f,snapshotPicture:f,sourcePath:m,file:c};return(await ce.createImageMessageByFile(h)).data},e=async(c,u)=>{var p,w;const{width:d,height:f}=await i(u),m=await((p=window.electronAPI)==null?void 0:p.saveFileToDisk({sync:!0,file:u,type:"sentFileCache"}))||"/".concat(u.name),h=await((w=window.electronAPI)==null?void 0:w.saveFileToDisk({file:c,type:"sentFileCache"}))||"/".concat(c.name),g={videoFile:c,snapshotFile:u,videoPath:h,duration:await a(URL.createObjectURL(c)),videoType:c.type,snapshotPath:m,videoUUID:On(),videoUrl:"",videoSize:c.size,snapshotUUID:On(),snapshotSize:u.size,snapshotUrl:URL.createObjectURL(u),snapshotWidth:d,snapshotHeight:f,snapShotType:u.type};return(await ce.createVideoMessageByFile(g)).data},n=async c=>{var f,m;const u=await((f=window.electronAPI)==null?void 0:f.saveFileToDisk({file:c,sync:!0,type:"sentFileCache"}))||"/".concat(c.name),d={file:await((m=window.electronAPI)==null?void 0:m.getFileByPath(u))||c,filePath:u,fileName:c.name,uuid:On(),sourceUrl:"",fileSize:c.size,fileType:c.type};return(await ce.createFileMessageByFile(d)).data},r=async c=>{const u=w2.includes(o(c.name)),d=c.type.includes(window.electronAPI?"video":"mp4");if(u)return await t(c);if(d){const f=await s(c);return await e(c,f)}return await n(c)},o=c=>{const u=c.lastIndexOf(".");return c.slice(u+1)},i=c=>new Promise((u,d)=>{const f=window.URL||window.webkitURL,m=new Image;m.onload=function(){u(m)},m.src=f.createObjectURL(c)}),s=c=>{const u=URL.createObjectURL(c);return new Promise((d,f)=>{const m=document.createElement("VIDEO");m.setAttribute("autoplay","autoplay"),m.setAttribute("muted","muted"),m.innerHTML='<source src="'.concat(u,'" type="audio/mp4">');const h=document.createElement("canvas"),g=h.getContext("2d");m.addEventListener("canplay",()=>{const p=document.createAttribute("width");p.nodeValue=m.videoWidth;const w=document.createAttribute("height");w.nodeValue=m.videoHeight,h.setAttributeNode(p),h.setAttributeNode(w),g.drawImage(m,0,0,m.videoWidth,m.videoHeight);const v=h.toDataURL("image/png");m.pause();const y=C2(v);d(y)})})},a=c=>new Promise(u=>{const d=new Audio(c);d.onloadedmetadata=function(){u(Number(d.duration.toFixed()))}});return{getImageMessage:t,getVideoMessage:e,getFileMessage:n,createFileMessage:r,getVideoSnshotFile:s}}function gce({domRef:t,sendMessage:e}){const n=BM();l.useEffect(()=>{setTimeout(()=>{n()})},[]),W1(t,{onDom:({message:r},o)=>{var c;const i=(c=tt.getState().currentConversation)==null?void 0:c.showName,{fileName:s,fileSize:a}=pce(r);mo.confirm({title:"".concat(O("placeholder.sendTo")).concat(i),icon:null,width:320,className:"drop-file-moal",centered:!0,content:A("div",{className:"h-[240px] overflow-y-auto border-b border-t border-[var(--gap-text)] p-2",children:Z("div",{className:"mb-2 flex items-center",children:[A("img",{width:38,src:ol,alt:"file"}),Z("div",{className:"ml-3 overflow-hidden",children:[A("div",{className:"mb-1.5 truncate",children:s}),A("div",{className:"text-xs text-[var(--sub-text)]",children:qf(a)})]})]})}),okText:O("confirm"),cancelText:O("cancel"),onOk:async()=>{const u=(await ce.createForwardMessage(r)).data;e({message:u})}}),o==null||o.preventDefault()}})}const pce=t=>{var e,n;if(t.contentType===ge.PictureMessage){const r=(n=(e=t.pictureElem.sourcePath)==null?void 0:e.lastIndexOf("/"))!=null?n:-1;return{fileName:r>-1?t.pictureElem.sourcePath.slice(r+1):O("placeholder.file"),fileSize:t.pictureElem.sourcePicture.size}}if(t.contentType===ge.VideoMessage){const r=t.videoElem.videoPath.lastIndexOf("/");return{fileName:r>-1?t.videoElem.videoPath.slice(r+1):O("placeholder.file"),fileSize:t.videoElem.videoSize}}return{fileName:t.fileElem.fileName,fileSize:t.fileElem.fileSize}},vce="AtAllTag",mp=[{label:O("placeholder.sendWithEnter"),key:"enter"},{label:O("placeholder.sendWithShiftEnter"),key:"enterwithshift"}];Or.on("languageChanged",()=>{mp[0].label=O("placeholder.sendWithEnter"),mp[1].label=O("placeholder.sendWithShiftEnter")});const bce=(t,e)=>{const[n,r]=l.useState(""),o=xr(n),{conversationID:i}=wp(),[s,a]=l.useState(DR()),c=l.useRef(null),u=l.useRef(null),d=l.useRef(null),f=l.useRef(document.createElement("textarea")),m=tt(N=>N.quoteMessage),h=xr(m),g=tt(N=>N.updateQuoteMessage),{createFileMessage:p}=lM(),{sendMessage:w}=Qc();gce({domRef:c,sendMessage:w});const v=l.useRef("");l.useEffect(()=>{var B;const N=(B=window.electronAPI)==null?void 0:B.subscribe("captureResponse",H=>{var Y;if(y(),!H)return;const Q=C2(H),G=URL.createObjectURL(Q);(Y=u.current)==null||Y.insertImage({src:G}),y()});return()=>{N==null||N()}},[]),l.useEffect(()=>(window.editRevoke=N=>{let{quoteMessage:B,text:H,atEl:Q}=tt.getState().revokeMap[N];g(B),Q&&(H=Sce(H,Q.atUsersInfo)),r(H),v.current=H,setTimeout(y)},ot.on("TRIGGER_GROUP_AT",j),()=>{ot.off("TRIGGER_GROUP_AT",j)}),[]),l.useEffect(()=>{m&&y()},[m]),l.useEffect(()=>{var B;const N=(B=tt.getState().currentConversation)==null?void 0:B.draftText;return b(N==null?void 0:N.replace(/\n/g,"<br>")),setTimeout(y),()=>{c.current&&C(v.current,N)}},[i]);const y=()=>{var N;return(N=u.current)==null?void 0:N.focus(!0)},b=N=>{N&&(N=Yf(N)),r(N!=null?N:""),v.current=N!=null?N:""},C=(N,B)=>{let H=N;P().length>0?H=M(H).trim():H=D(N).trim(),i&&(H&&H!==B||!H&&B)&&ce.setConversationDraft({conversationID:i,draftText:R(H)})},S=()=>{var B;const N=(B=tt.getState().currentConversation)==null?void 0:B.userID;N&&ce.typingStatusUpdate({recvID:N,msgTip:"yes"})},{run:x}=vp(S,{wait:1500}),I=async N=>{var Q,G;const B=(Q=tt.getState().currentConversation)==null?void 0:Q.groupID;if(!B)return[];if(P().length>9)return[];try{const{data:Y}=await ce.searchGroupMembers({groupID:B,offset:0,count:100,keywordList:[N],isSearchMemberNickname:!0,isSearchUserID:!1});if(Y.length===0)return[];const te=Y.map(J=>({...J,id:"@".concat(J.nickname)})),ee=(G=tt.getState().currentMemberInGroup)==null?void 0:G.roleLevel;return!N&&(ee===mi.Admin||ee===mi.Owner)&&te.unshift({userID:vce,nickname:O("placeholder.mentionAll"),id:"@".concat(O("placeholder.mentionAll")),atAll:!0}),te}catch(Y){return[]}},E=N=>{r(N),v.current=N,N&&x()},_=()=>{if(!c.current)return;[...c.current.querySelectorAll(".image-inline")].map(async B=>{const H=B.firstChild;if(!H.src.startsWith("blob:"))return;const Q=await fetch(H.src).then(te=>te.blob()),G=new File([Q],"screenshot".concat(Date.now(),".png"),{type:Q.type}),Y=await p(G);w({message:Y})})},P=()=>c.current?Array.from(c.current.querySelectorAll(".mention")).map(Q=>({userID:Q.attributes.getNamedItem("data-user-id").value,nickname:Q.attributes.getNamedItem("data-mention").value.slice(1),tag:Q.outerHTML})).reduce((Q,G)=>(Q.find(Y=>Y.userID===G.userID)||Q.push(G),Q),[]):[],M=N=>{const H=new DOMParser().parseFromString(N,"text/html");return Array.from(H.querySelectorAll(".emojione")).map(G=>{const Y=G.outerHTML.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");N=N.replace(new RegExp(Y,"g"),G.alt)}),N},T=N=>{let B=M(N);return B=B.replace(/<\/p><p>/g,"\n"),B=B.replace(/<br\s*[/]?>/gi,"\n"),B=B.replace(/<[^>]+>/g,""),B=R(B),B=k(B),B.trim()},k=N=>(f.current.innerHTML=N,f.current.value),R=N=>N.replace(/&nbsp;/gi," "),D=N=>{N=M(N);const B=/<\/p><p>/g;N=N.replace(B,"</p><br><p>");const H=/<br\s*\/?>/gi;N=N.replace(H,"\n");const Q=/<(?!img\s*\/?)[^>]+>/gi;return N.replace(Q,"")},L=async N=>{var Q;const B=P();if((Q=tt.getState().currentConversation)!=null&&Q.groupID&&B.length>0){let G=o.current,Y=!1;return B.map(te=>{(G.endsWith("".concat(te.tag,"</p>"))||G.endsWith("".concat(te.tag,"&nbsp;</p>")))&&(Y=!0),G=G.replace(new RegExp(te.tag,"g"),"@".concat(te.userID," "))}),(await ce.createTextAtMessage({text:T(G)+(Y?" ":""),atUserIDList:B.map(te=>te.userID),atUsersInfo:B.map(te=>({atUserID:te.userID,groupNickname:te.nickname})),message:h.current})).data}return h.current?(await ce.createQuoteMessage({text:N,message:JSON.stringify(h.current)})).data:(await ce.createTextMessage(N)).data},$=async()=>{const N=T(o.current);_();const B=await L(N);r(""),v.current="",N&&(w({message:B}),h.current&&g())},j=N=>{var H;P().length>9||(H=u.current)==null||H.insertMention(N)},U=N=>{var B;return(B=u.current)==null?void 0:B.insertEmoji(N)},z=()=>{g(),y()},F=N=>{var B;(B=d.current)==null||B.showAlbum(N)},V=N=>{a(N),OR(N)};return l.useImperativeHandle(e,()=>({insertImage:N=>{var B;return(B=u.current)==null?void 0:B.insertImage(N)}}),[]),Z("footer",{className:"relative h-full bg-white py-px",children:[Z("div",{className:"flex h-full flex-col border-t border-t-[var(--gap-text)]",children:[A(mce,{sendEmoji:U,sendMessage:w,createFileMessage:p}),Z("div",{ref:c,className:"relative flex flex-1 flex-col overflow-hidden",children:[m&&Z("div",{className:"mx-5.5 mt-3 flex w-fit items-start rounded-md bg-[var(--chat-bubble)] px-2.5 py-2",children:[A("img",{className:"mt-px cursor-pointer",width:13,src:CZ,alt:"cancel",onClick:z}),A("div",{className:"ml-1.5 line-clamp-1 break-all text-xs text-[var(--sub-text)]",title:"",children:"".concat(O("placeholder.reply")).concat(m.senderNickname,"：").concat(Ra(m))})]}),A(qle,{ref:u,value:n,enterWithShift:s==="enterwithshift",onEnter:$,onChange:E,getFeedItems:I,onImageDbClick:F,onDeleteWithEmpty:z,onContextMenu:window.electronAPI?()=>{var N;return(N=window.electronAPI)==null?void 0:N.ipcInvoke("showInputContextMenu")}:void 0}),A("div",{className:"flex items-center justify-end py-2 pr-3",children:A(lH.Button,{overlayClassName:"send-action-dropdown",className:"w-fit px-6 py-1",type:"primary",icon:A(bf,{}),menu:{items:mp.map(N=>({label:N.label,key:N.key,itemIcon:s===N.key?A(Ds,{}):void 0,onClick:()=>V(N.key)}))},onClick:$,children:O("placeholder.send")})})]})]}),A(Cce,{ref:d})]})},wce=l.memo(l.forwardRef(bce)),yce=(t,e)=>{const[n,r]=l.useState({visible:!1,idx:0,list:[]}),o=i=>{const a=[...document.getElementsByClassName("image-inline")].map(c=>{var u;return(u=c.children[0])==null?void 0:u.src});r({visible:!0,idx:a.findIndex(c=>c===i),list:a})};return l.useImperativeHandle(e,()=>({showAlbum:o}),[]),A("div",{style:{display:"none"},children:A(Of.PreviewGroup,{items:n.list,preview:{current:n.idx,visible:n.visible,onVisibleChange:i=>r(s=>({...s,visible:i})),onChange:i=>r(s=>({...s,idx:i}))}})})},Cce=l.memo(l.forwardRef(yce)),Sce=(t,e=[])=>{const n=/@\S+\s/g,r=t.match(n);return r==null||r.map(o=>{const i=e.find(s=>s.atUserID===o.slice(1,-1));i&&(t=t.replace(o,'<span class="mention" data-mention="@'.concat(i.groupNickname,'" data-user-id="').concat(i.atUserID,'">@').concat(i.groupNickname,"</span>")))}),t},xce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAldJREFUaEPt2VFOwkAQBuAZjc+iF9Aj6AnUCxh6AuHBEt8EfBcPAMQnAy/gCWq8gHoCvYARL2B4xuCYIhgp23a6O1NCoq+W7v/t0u4Mi7Dif7ji+eEfoL2Cre79AY7H79Uzb2AaK3YF2t1gj2B9s+YfP2mHNN2/3QsK9IkPALAHAEMc074JYQQ0u0EJAXvhjQmgX/eL5TwRkfDToem65nvn0RwLgOmH3wCgMLs4T4Q5PAAiHVVPvUcW4GsEA0Tc/HtxHoi48ARUrvten/0MNDtBAxEvox/QRNiED/PFPsStTtAHxJM8ELbhEwHhP/NAuIRPBWgjXMOzAFoIifBsgDRCKnwmgBRCMnxmgCtCOrwVwBahEd4akBWhFd4JwEVohncGpCHWNqj6pyT+3dSTapusVa9IR5awY38gwPZ8URhfmGUNL7ICs0ETEL8Fl+TMz8YVWQEOAhJKYpuZVwFMHtgRvALi3NcmHEyrFBdbgbm3DVHYQi1MrAZCBGB8VeaEcAYkveeR4FC7KXICcDYp7abIGsAJz3g7Of9kYwXIEl4bkRlgE14TkQngEl4LwQZIhNdAsACS4aURqQCN8JKIRIBmeClE/PnA/O/zKs2IBMIIyGPmo5We7Y5tBLS6d+HJyKFmJ2XqAWwQiwcck6MlfM47fOrXieiqXvEaUXjcEdMAAXd+GhHZHpbTfcWsxLDmF7dYgPZNsPu1BiUCeLmoeHecQaWvWUAQ3dYqXokFkA5je79mJwgP9RqI8IIbUKyWveFKATjw1J2Yc5NlXvMPWObsh2Ov/Ap8A89aGU8BnoM+AAAAAElFTkSuQmCC",Ace="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArNJREFUaEPtmkFy2kAQRX8rRbbxEbhByAnCDYxuAItAZRULDgDeRyi7lOQF8QkGnyDkBuYEwTcga6fo1KgioQgJRqgViyqxFD09/3X3jHoYCBf+oQvXjwbgpTMYZ8ALVGfHNCXClZQoZmwt4ltnaD9m+fTuHqbM3DWdj4GN1WLHGdjbaEwMMPeXP0FomzorYPc4Hvbepe3dQPUJtCjgJzRlZmcysr8cAgRLLurMxJ6Z15OR3TkA8NUNEXkmPpI2zHw7GdmzowAMfiJgU9R5hv2WgFleCX32VY+AAzjth0g/p+u0TzOAFKUASCEXGsyisLwO1mPtAbLWhi5DInr7dw0YlNALZSBTPHgARpuIprUGSItn5l+WhZ7zwV65vprVGsD1HzwivokWSiie0I0Wf60B3GC5IKCfJ14/ry1Ahvi1Reint93aAXgLdbV7Ji8V+bX1Gt1kmxBlpVYAWjw/03ckXmB6m8wTX6sSOkd8BsDpXij9tiv0Gs0xzhIP5vvxyI4XcN483lfV5lcIGzhqoZ/djSaaOWkA3aozk/qn2zUUfyp4+3a6IoBQPMKa3/c1QuLDjESE8woAssRLZ7cyAO9OdcOySUSewYPJ0P52qiyKfF8JQF5Tdq54vQHgt/WJd9iMR9f3SUBxAGnxWuw8UMvocJPOoihAZkeZaMqKlEbS9tj6FAMwacpqC+CmDujpdvhc4SY7pEgG5oFaAfQ+PDGBnyygl3eQPwem8hLa1z7/oBZ6WR3lOcL/WwbKiDMZW3kGTESUsWkAykRPYmyTAYkolvHRZKBM9CTGNhmQiGIZH00GykRPYmzhDABYEdFKYnIJH8wc34kZ3dBITFqVj1wA11dbInpT1cRSfo8BxLcgUpNJ+wlPejt0nI92fIN68F8J/WMUBG/rJSH0dVPa38X/2eMPIiMfXnNS33IAAAAASUVORK5CYII=",Ece="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAipJREFUaEPtWktSwkAQ7Q6lW7mB3gC9gV5AMzeATShXQnAv7oWUKyu4kBtMPIFyAuMJzA10bSltDb+KkIRhZiqW1LBl+vOme1433SD88w/q+N8LHwNEainq+ECgk7bHYkX5iZgygGDADwnwRcc4AI18jx3r6FAH8MCr409IEHFP3QG69T2mGkG9CAjp4I4fjB2oKwFASDoeGyrJpoSUI6Br2JT89gDoDXgdCa8A4cDU7ZjWQwSRs0uNdoN9zHUvItAfRO8AUDVt1LQ+IrruNFl3BUAv5DEi1kwbNK1vTMQumyxaAaDFKKa9zNOXwVzb84jLukTTdgojMGsXAgJRdNyGaeNZ+m5C7jqIF0QYd5pn7XU2CwH0w+htTqsE1DBROdc5tKnNYgCDiOYGl+lrnSOq3/c3tGkEwDTVKnu+dzoqclwwHVUq+7jz/ZouRmmZ0gHMcpZPncjvLqfOT9pvUSxj33OPssCWDqAX8i4iXs0A5Pb3wT0/JsKnudO+52ZG3wLYNB9tBJYegk0hm0I5UwbLQjkVUrsSWxayLFTQfclwsk0hm0I2hWw7/SsHZIgjLWALmaVRS6OaNCpGKmOCZ7ErKxp+BdOdmjhXK5pelP6IVQdYeXIWQN5PSiBIwHFaQLBY75i+fSJy04tzmXGmdB0w7ayMPm0Af712Wl4nZYEujICYeyLAUG8bL3PXWWfk/oYgtWISEwVVN5TkviBpn7NERlYKgIyivzrzA2r7W15V9HbmAAAAAElFTkSuQmCC",Ice=[{title:O("placeholder.mergeForward"),icon:Ace},{title:O("placeholder.delete"),icon:Ece},{title:O("placeholder.close"),icon:xce}],_ce=()=>{const[t,e]=l.useState(!1),n=tt(c=>c.currentConversation),r=At(c=>c.updateCheckMode);l.useEffect(()=>{const c=u=>{u.key==="Escape"&&(u.stopPropagation(),r(!1))};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[]);const o=async c=>{switch(c){case 0:ot.emit("OPEN_CHOOSE_MODAL",{type:"FORWARD_MESSAGE",extraData:await s()});break;case 1:await i();break}r(!1)},i=async()=>{e(!0);const c=await a();try{await Promise.all(c.map(async u=>{try{await ce.deleteMessage({clientMsgID:u.clientMsgID,conversationID:n.conversationID})}catch(d){throw await ce.deleteMessageFromLocalStorage({clientMsgID:u.clientMsgID,conversationID:n.conversationID}),new Error("deleteMessage error")}})),c.forEach(u=>Id(u.clientMsgID))}catch(u){mt({error:O("toast.messagesDeleteFailed")})}e(!1)},s=async()=>{const c=await a(),u=c.slice(0,4).map(d=>"".concat(d.senderNickname,"：").concat(Ra(d)));return{messageList:c,summaryList:u,title:O("placeholder.whosMessageHistory",{who:Ta(n==null?void 0:n.conversationType)?O("placeholder.group"):O("placeholder.and",{someone:ct.getState().selfInfo.nickname,otherone:n==null?void 0:n.showName})})}},a=async()=>(await k2()).filter(c=>c.checked);return A(dn,{spinning:t,children:A("div",{className:"flex border-t bg-[var(--chat-bubble)] px-16 py-4",children:Ice.map((c,u)=>Z("div",{className:"mr-8 flex h-16 w-16 cursor-pointer flex-col items-center justify-center rounded-md bg-white last:mr-0",onClick:()=>o(u),children:[A("img",{width:24,src:c.icon,className:"mb-1.5 mt-2",alt:""}),A("span",{className:"text-xs text-[var(--sub-text)]",children:c.title})]},c.title))})})},Pce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAtVJREFUWEftlk1y2kAQhV/L5bXtEwSfIOQEwSdAc4KEhaXKKkhkH7wPP1m5wIvgEww+QcgJnBuEnMBki2N1qgWDVRSIGQtXuVJiB8zPp9fd74nwwj/0wvlQAhatUKlgqWBRBYru/397sHela0ni1Ym4KioR0QR/k+vog5oWVS2731nB3jd9zPekAdQ2gTBTvxXWo31BOgGmcHO6BaEC8A8itKNzNZHfH+aoEdAmotcAJnHgn+0D0gmwO9RjgOoAf40D1dwEYNYw80UrVO3eUFdBXh2c3ESB+ukKbQ3Yu9QVPqBfolwcqI3llctFzWSOKRFxHPgnnYEWVT/LfwyMvEOOooaa2YJaA3YGuklEPQY3WoEa5V3QHegRiN4R8Zm0wJeB9p9afhfAVAlzaR6gUW19bXeoJwC9TZjVp1CNbVR0BrQ5fBug9CODbsF8HYfq/V4BpUwekbY5vDPUUwK9okM+We+37nDMu/r4yT64uhj8ZttEml7d9CCZQbuJA+XvVcF0Qq90jZm+A5iBqRmH9evsJaa0zPzHS1BdT5WVBVkMmjnXugfNhqxtZFUy6i5ibzG9Zo/0XsIyYPBdypueZSPzo795MsWpQYtKAPpixvL90cTTE2dE1I/O6xerwVheRA986pLXVoDL/JXSVhn8G0B7kxcuTVqmUyzpSIy5FfgNUR2A+OgRGFPyuJFVOE+knYBZOJsJTtW+1JXEw1hy2UAaeDH7Rem2D5rTFHeHug/QR1u4Vd8tIm+ygHxMn2WqjCQKCXy2K59zFTS2IGVtBapi269ZSL6nOylrHPqnmUFLY9PmrScX0GSqTXpsgzdnrGe4ib1d0ZkLKNYBxnErVMeu6q1UlH48wIQZzWz+2iZTvoKOseT6EJ2BnhHoLlv+9TO2AmZSw/Ve5/V53mjRg/J6/4yfdIC2v9ns9MFnRLM6ugS0kilnUalgqWBRBYruL3uwqIL/AGqInDhouIt9AAAAAElFTkSuQmCC",Mce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAtJJREFUWEftmE1u2kAUx//PZN/0BlTKqqpUbhBygg7bClNygg4nCDlBJicohahb5gaBXTeVqFSpiy6SGxR2XSR+1YxNZBuoPWM3qSpmg7Bn3vz83rx5H4R/fFCdfJ1wcGzkTScX87rk1gIoulIgwAcCDg0YA0tEONVXSlcFrQwourJNAa4tCOOr/SW8tn8jnOgrNasCWRmwE8oZCMfMGOiJUgZGhFIS4QKM+XSi2k8L2JNsz91YZT62s+O5K2xlDYpQ/iDCUdqca7Mz83c9uXzpCpWe7w0o+vIQ95gSwZqQgVuArIkBlgQ0Af7FTJ/RQEeP1NIH1AvQaAgBponXrgDcAGilATjiLxTQEYBniVd3fBzGGVD05BkBw8Rr59yAMNoRoeyDEkjGQk/UyGiZ7qGNEyVaHuqxOnfRZGnALSY912MVgxYM0ZNDAs4sJGPmYvJSgHmTcgThaq7EcczF7WTyDUCrqYjegVkkl24zPvBJhGD+BtBdkda2v+cDEL1KRZxbsHEuc7mTRsAf886UAYzhcE25A+8H476KgQUCnKQhs4A9aW7b9+6i61vBwKUeK7mWmAe8eTAnYwDGor6t/yCJ0LKhMblP9Vi92Aq4Dk/mZT50/W3QXXtvjZ97wC3m2Guw6hnda/DJNGgCPTjORkqOJRo4dc3/vE2cXlgS0CSvpTOdtUx/wFCafO5NWTgAK75DW39STlHIG9CAib5s4i7OaArHARau5jUyKwEWQtUw4f8FNEU44HQGi/S51cu9NejjxUWEHMFUeJm+jT9g0too2tTh/YoDtPRIxal+MrwBrRe/lS0Eceeq6thVbFUCrApVZr0zIAd47nOflYHJz7EFfoSf6+fpbD6bUafOm+21rEtCn11d1hAeStt8yy5bNKWbkS4b1Dg33/TcLNy7UlCAkekA1LhvGVErjtDPXz87Wx+23fGIY5d3l+rNPCLnxla/AS2gozhcSfAvAAAAAElFTkSuQmCC",M1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1pJREFUWEfNmFFSGkEQhv9efFdPEHKC4AnEE7i8poTgCRxPEDyBkxNIFiuvO5xAPIF4gpgTKO9Kp3rY1RUX6VmgiqniBXZnvvl7uvsfCFs+aMv5sBbAVvv8kImbYOwB2APhgUDjNLkcrirASoBx5/wMYENAvQyEgScA1iX2oipoJcC4a/YwxQ0BDc3CDIwR4cj1rQAHjWDAErgJA308o+/+2LGsHn83DewgJsAA2JXvGHhAhINQyHDAjukT8MPLwLjnGpqLFpXN0AscCIf+ccbIDexRiIRBgPGJaVKEGw1cDpFBjkD45iGnOHLXdqSFDAMsqBeykIScdnCXbWyYDmy8KcBHkjLCuE8HVpUgOUirbURFH+o0sWph1A/KxK2O4ezA/3KJlQRQj7hjegT8DA2zGrB4/hi4cIntqekkszcOKBk5xWOm4PYBZiGWQrsrhdcl9iBEwVbbSLk59huMsK+th+oQe8DiIgHlIu6aOk3xNy9PIQkWBDh3DtUqxm2TEsGXFmacuoHta9UPAsxUfC0XzHCo4fSzcMVtc0WEbhX15J1gwKwzjEH4kvdYAvU44mEO6p+Z0jGDpbTkTmfCz2jm/XpjCsrEvjPU0M/bV75YZq9k1+ILi6MSXHUFZ+qID1R1E+9kQBYR/9Zmb747dYgzm3UGQMDmFVJFzCvMOF97kmT+Lv3gnBlDBkZgjOcdin8nQh2R94WSwd4XgnGbDmxTtSNNksRt0yXCVWFCMagWEaw2XF79Fw/aZYZ119atBfADnChWQ1cLpoX47LmFZ3AeLrTAfrZofGJiipAysNQVlQK+M5gVqv8y5UK8YTlgx9zlJYRnWWeXLRry+0qARd8GRpA910KuCjiz9cCEI9Q3kRCVAYuJUcU1lykoCQGCFPi3QWjkxV6uonO/jYr/RLw7g3Om8qvr2wdt2BY9l99jQuYp3hhfAWcOZGbpq9zaFgHExYu+hpJxyzXE+dF6AyxcytcV3oWqBlxB3wALl2tNAdWIsVZAmazVMf5SNIsyesSk/ouiDIZr/K/sHFfP4qwFraJO8V2xVy6x+/PzVQaUibJSI51jZo9WG5M0sR+842szUFiv8lYn9ugZDZD/VDKnYDyhBreoVMkNETsYL2sEake9mpDV3956wP9lr8I4k8r2WQAAAABJRU5ErkJggg==",kce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABHdJREFUWEftmF1sFFUUx/9ngyZsScDaqmDENfpgYohbjOVFhPoAJJo464Na7McWIZAgdlYwwINAqSY2ERg+NFGqtF1T9EE7xEThQayKD4WYbhRjYky6NKmJqLU82PpQ95hzd2ecnf2Y3aEjJHpf2uy9c+Y35/sewnW+yM2nxfVFyFA7mLU5YE+ZSSNxNXLyALNw+IyA6NUIdT7LjD4zaXT4lZcP2KYbBHT6FWY9x1wgIWEmDcOPXDfgGAEREcSMBBgpP0IBxCmEdiUHgLyEGR1m0uirVl4eYKxNt799aECU6W9pbfo+AvY6AdX/GcTMdw2zGqnBAzL/TES35mCnMIsmc9Co2DKBA2bAPSGmdSDc7wcycEAGujALk+ZhGMDCHGQaITSYfcaUl7n/FUBzwNinrdejLsgUQmjyggwGsEXXKIShnLZSxKTnMkOUiO10w4SUOWA0lNNiMIBZbY16mc9KZ+VyZCCA8uJYqz4MwiovSPFRcYFS5wIDlBdqrXochCixq3QyIiDcKRn8mgKW0oorkV87Df4P6OXgfvf/Wya2O2zwotKpgNIc4lNeVcF6fk41qLXqOhEOeZmzmn7vugNk5sclLSJ7lVDXiYvf/4ix8Ql8NTJ6uGdvQpXCYquiRK216BpCZe4pGaSKNaLMLDAnLKgyVpBOO0FEBd1NRYBe5i22z8zxHJy9ffnXSaTHf0JNeD4iS5eov44lTWyTGzIQwJzm7GZh5OtvcbT3JKanZ/K+5b5778G2Tc24pa7W+r0A0hOwkih2azD5xiv6gpqwivojxwcxfO5CSSOEw/OxbWMzVjywzDrTRUR28+ANWGEUW9KbVjaqF8oSzfUceceGi9yxRGnrj+kZFSDTM3+qPYF888BLlsnFD++yTD3ngLs6N6BxeVYbLVt22xDPbWzGIysbbViBPPrWIM6PXlS/rX7oQTy/ab21HyMidfvzBJRDnlHsMOBQ/yF13ZQ0sufV19WOaO7gyy8WmFmCZsv27uyZpbfjYPeOAjNXBFjSgYpsMGfnCh+d+RwnBrNX4Ce1tXg6tq6omCfa/xndfNhv14NTRKRmQ4EBnv3yPI71nlRQj655GM8+E6sGsJ+IJE0FAihOvnDs0gS273lNQdXX1aogcC/nGZcb2JHs1qASLoJ4Fg3VTACslzOzVAU1l9n8wn788tvvauuxNavwVGytnZwFTnJjenyimBuUCJJW3QRB6qbvtWL5Muzs3KCedwaKJVCCQYLDmbRvvGEeeg93YUFNWI5dIiI1wCowsRbXI5RREy2lRb+re/dWSJWQ5fTFcvKk9O3ftVUgO4jInoIVm7BG6C8YIKz2CyrJ+ED3jjxzvj902s55yi9vvgmLb6vHN9/9YHPX19VOXp6cvNvZV/oesXlpN1eP7XmMdV7MK02C1Sic/WIEx95+zxbn7isDA1SBxqoLl1GHCpoS68rxgQ8+/uTTc1Ifr3AIUbPPSBf1QS+t+N1nZnF6SbziNtbVQSAkkw9L3RX/BzDlvjYEqkG/H+R87m9y3E5Hqx3L+gAAAABJRU5ErkJggg==",Rce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABIRJREFUWEfdWNFx2zgQfUvnP0oFSSqIXEHkCo76vYkYXQWBKohcgeAKTqEy90umgrMqiFxB7Api/1vcmwVIGKQJkrJ8N5nDl8cCF49vd98+gvCLL/rF8eH/BzCeqxH2WIEQA7hGgUX+VV+2ZSKeqzfl3jEYlzjBeb7W14dkbTCDBliBTwAUASP/EAapPF1d+P+LP6gYEf709zJwC0AjwkW+1vJ37xoEcJosPjJYN4HVQDIuiWgN4JaZYyLMQ6cLUAKpLF196UPYCzBO1JKAz3XG8AURligwb/7WPJDh9kqcj40453mql10ghwD8QcAbE4SxZcbSr7n4g5oQYQnC+9pBjBsGlvlGC6tmxb+rMZ1AV3sZuM5T/fYogNOZunQBI7wK1Y4ARYSJOazALv+q80DjjKjAz+qFs422zwTWEAZdirnAWahj+2rJsSiMR/jbJgTPkOKZUkRYmYCMP/yUDQXl74sPjDeEQelekRf8Cwxe5KlWT05xqX3SJEb3uKMGh7IpMasaNLoY4W2XJgYZLCdGRmQLX+QiT3VQ22yH0kuz94RvuiZGrfHshJmGQNYAymiigt4xeNyYGHccYdx2aDkxVk6KSipZDmactzWVPQc7APaFyglDoB1HfOWf4wAaPSu7q5GuO77HJP9LS8DaimdqRYTOGgo1lmH8BWSGG5D+4nucVuc9AEzUuqn0YHzjE6gQcxQhc4FFmMkcCGJMQHhd/RZqLsPk3gj3bzWAXjk5gLW6KHCGF9h1FW+cqJ+ueew4kxcxBqBsLul+M9ok3flGn4Uayey/x9hlkLGtBPwBYKK4CpClEju8pO4ce4ybbKPtKPSW6dY9dhWTbLu102pNWzA8BuihD76xZyAYCGpZnKiDNNTPYkXScwAMjivfCQ0R+UEApeXzVL8ammIGdnmqT9v2x4n6ToBIFvzO7MiMq+vHDM6U1Ms7ebi3Bu00kHqqdGyZp/q8VoOJ+kyA9XqBOm0CdTXIuMo22ryY38W53+7i1QDSTStfBW0aWSPMpcyAIR7R2SguMA3ar2TxCWD5jHhoNMa3bKPlm+cBYK0zvVeTFCLCWZvkxG3a2aAl1ETmg6pAVpVATQe9F6qPOvuhMyHG2HfIhs0IpwGQ4hdlmjQnwh0XmLcxV+qk1KfP2tYIfcPshs2Ctefrqi67zEIptOKoTd10OWoj5D7zjCveY942Smspbu1COy+/DxXwrs53tevZrSHdPcSwuhk9RMv6QPqmpM/C9TJo0nGgRe8FWI+3yDdadz0zhMHn/mhyc5wZxwOczpTTx66BP50t3jPxBKBb3PM2VPSlWf1RCrjTuxCLvQxOEyUWyk2M5r1K+T0sdzA1R2OEe4+FD7S63zlkwvQCbIqxf69yiKNuu995niaxt1rOfFapsEC9Wy57LSLueGSEu5zrdhTj+hHDDZP75BQ7/Wrcq3gBWydG26VTWXdb3kOFarQJtDfFzQfKyyKZMK/FpfAecbAhZmpOBJGRl5CJwVCHXp0cDLBP51on0lyNhl5YHs3gUwAe88x/wuAxAP8BS+SlR9q0RzUAAAAASUVORK5CYII=",Tce=""+new URL("empty_announcement-a9de6b9b.png",import.meta.url).href,Oce={editing:!1,loading:!1},Nce=(t,e)=>{switch(e.type){case"editing":return{...t,editing:!0,loading:!1};case"loading":return{...t,editing:!0,loading:!0};case"done":return{...t,editing:!1,loading:!1};default:throw new Error("Unhandled action type: ".concat(e.type))}},Dce=(t,e)=>{const[n,r]=l.useState(),[o,i]=l.useReducer(Nce,Oce),s=tt(f=>f.currentGroupInfo),{isOverlayOpen:a,closeOverlay:c}=Pr(e),{isNomal:u}=rl();l.useEffect(()=>{r(s==null?void 0:s.notification)},[s==null?void 0:s.notification]);const d=async()=>{if(!o.editing){r(s==null?void 0:s.notification),i({type:"editing"});return}i({type:"loading"});try{await ce.setGroupInfo({groupID:s.groupID,notification:n})}catch(f){mt({error:f})}i({type:"done"})};return A(Tf,{title:O("placeholder.groupAnnouncement"),placement:"right",rootClassName:"chat-drawer",onClose:c,open:a,afterOpenChange:f=>{f||i({type:"done"})},maskClassName:"opacity-0",maskMotion:{visible:!1},width:450,getContainer:"#chat-container",children:Z("div",{className:"relative m-5.5 flex h-full flex-col justify-center",children:[Z("div",{className:"flex flex-1 flex-col overflow-hidden",children:[o.editing?A(lr.TextArea,{showCount:!0,value:n,maxLength:250,spellCheck:!1,bordered:!1,placeholder:O("placeholder.pleaseEnter"),style:{height:"72%",resize:"none"},styles:{textarea:{padding:0}},onChange:f=>r(f.target.value)}):A(Fce,{currentGroup:s}),A("div",{className:"h-20"})]}),u?A(Wn,{className:"border-1 absolute bottom-6 border-[var(--gap-text)] px-20 !text-xs !text-[var(--sub-text)]",children:O("placeholder.needManageEdit")}):A("div",{className:"absolute bottom-6 right-0",children:A(un,{className:"px-5",type:"primary",onClick:d,loading:o.loading,children:o.editing?O("placeholder.publish"):O("placeholder.edit")})})]})})},$ce=l.memo(l.forwardRef(Dce)),Fce=({currentGroup:t})=>{const[e,n]=l.useState();return l.useEffect(()=>{if(!(t!=null&&t.notificationUserID))return;(async()=>{try{const{data:o}=await ce.getSpecifiedGroupMembersInfo({groupID:t.groupID,userIDList:[t.notificationUserID]});n(o[0])}catch(o){console.error(o)}})()},[t==null?void 0:t.notificationUserID,t==null?void 0:t.groupID]),A(to,{children:t!=null&&t.notification?Z(to,{children:[Z("div",{className:"flex",children:[A(Sn,{src:e==null?void 0:e.faceURL,text:(e==null?void 0:e.nickname)||O("placeholder.administrator")}),Z("div",{className:"ml-3",children:[A("div",{className:"mb-1.5 max-w-[200px] truncate",children:(e==null?void 0:e.nickname)||O("placeholder.administrator")}),A("div",{className:"text-xs text-[var(--sub-text)]",children:qi(Number(t==null?void 0:t.notificationUpdateTime))})]})]}),A("div",{className:"text-break mt-3 flex-1 select-text overflow-y-auto",dangerouslySetInnerHTML:{__html:S2((t==null?void 0:t.notification)||"")}})]}):Z("div",{className:"flex h-full flex-col items-center justify-center",children:[A("img",{width:176,src:Tce,alt:"empty_announcement"}),A("div",{className:"mt-9 text-xs text-[var(--sub-text)]",children:O("placeholder.noGroupAnnouncement")})]})})},Lce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAADPlJREFUeF7tnW2MXFUZx/9ndnbbXTrdQLvQ3bRQbGVhptW0i4QqodMPQJQWIngJEiVGQBKJTYyfDNrpECVGP5gYIVLgAxEFvYqxVElLlNFg8IUt8jKjBVoXWnYgw6LbLbvdt7nmOfdlz8zOzn2Ze+/emTnnQzuzc+55eX7n/zznnHtnDoNMLW0B1tK9k52DBNzig0ACloBb3AIt3j2pYAm4xS3Q4t2TCpaAQ7FAqw40LRTr1akkTMMadS17n5fZ5pbJQzFE0IAZYNOPULq5jExtLcwzBGYF2+o9mKY21HpdyGaDaIeHpvt8SSazdK9r9th/2H4adrELNrr3X6A3AdwY07SbGGODAAYAJHw2Z9SLmwDwjqZpx8qMPTUBHDwXGOeNrqDgrwv3C3Clag2wpcnJdeetXPnNWCx2F4CVUScQcvvOlsvlAx+cPfu9vp6ed5cA3bDr9gPwAlyhOXPA9R3AzwCsDtlwzVbd6Xng9jhw0Gq4RaVxl90gYG3hegOuoqqxJ29W9sVi+Ha182k2y4fYXq0MZG5V1ftVRSnXULNnJTcCeLFys1k2l8nc1gH8NETjtExV88CX49nsYzAnZz4o2Svgypi7n2bBGcxmkI4DhwHEW8bq4XZklkJbZxZ/ALLAfnEW7s1dewRsuGbTcWT1eWB5H37DGG4I1yatVZum4WDsPnyW9ypjrI8XlOzaVXsAXBV3+Ro2g5F7Ji+4aG3POzLuNjzgtFNjUxs2/Li7yFVM7rpyGeUKslvAlXHXgIu8ymaeVO7ujOGBhrsnC8BsGfd03ao+hJSiLYbMwgRsjK28ysq/UP7IGK6WfBq3gAYcid2ifkYHbLhqjxMulwoWYq+gXkVR8EsFYwB6G++eLAHA+C0q1qiqikZV7AJwDbgAlLzKSqk+9lwmfQbAConHFwtM78rmVvXlS5pqqnhRPHbmqhsDnFeZAgWlVI4Az/rSNVkIt8CubK6zL5/WVDSmYqeA9cmVtSzSZ85KHozgAmk8l4EE7OPg3JVFJ5ADh5wiyxszaqqDU3O2LnYIuMa6l9SrKCgVcmxiNMFefGhoxsf+tX1Rl9893JUYmND6kmnNisUe1sXOAS9Sr8ogAQc2EGsC9hCHnQCucs+6b1CSKgPFX1Jwf4K9+BWpYD9pX35guCtR1BUMqFALwpLJhZt2B7hqaURwKf5O9A9LwH7SBaADHtJ4HBbddIWK7eNwg4DBJkaH2dRAN8tnktM+97Gti0tlCyu6R6e0xMCQ1pfEQhwOC3A61aerVwIOZCCKgEnFuXxJW7zpEaCCJeBAuFqFSsDB2nfZS5eAlx1BsA2QgIO177KXLgG7QJB//W2cKo7h9MQkv2pFVyc2b+zHpo3r+OsoJgnYAZVTxfdxOPcSTp/RwVYngnvtzm0cdtSSBGxDhFR75E8vOeJGkFOXXOgob1iZJOA6liZX/PhTOUzP6De4Equ6sWPoUvQmevj78YlJvDD8b0ycmbJK+cJNafStic7zChJwHcCHc0dReOMkz7H2vNW4Zc9VNWPtwSN/w/G39G+NrO9fC2X3p8ISqG09EnAdE/3w4d9an95x6zVYbSi3+hJS+CM/P4IZehoZQL28tkR8ziABL2FQmliph/5iqfeLN++qa3pR7XuuuSIyEy4J2AHg9f1roOy+qi5gisV/PXqM57ly+yCP1VFIErBPgHMvvIqXXjvBS5MKFu4HR/VmA8XVBx/7veMY/Pivc9Y6WcbgJgBMZMW4Wm92XJnP3p2H6bqli65jbVoHP/rks1YOWt9SbN100Tr+tzdHitwt04TMTLREosEQlSQB25CQO1m6gTw/shPVGCxyJ6WSGzbXudVjoqszjvQnt0Zum5LaKRXs0JfSpCt/7G0cf6vItyinp2dx/tpebLqoH6nBC+XdJF3lxrcammSS5ZB9pLNJBdfBQ5On0thp62aDHUm6bUgTMdoYiUqSgKtI0Mw598Jr3BU3kpKXXIgd2weX3L9upGw310rAgrXE3Sg3RqyXd9uWTUjv2OJXca7LkYANk4m3/Ewr0i1Ct09p0Iz7/Q9OV4CgidgN117hGo4fF0jAVTtWZFTayEjv2OrZvepu/lXrHjGVSS77up3b/GDmqoy2B0yKe/rZv1tG23nlFmzfusmVEZfKLN5hojzLscvV9oAfeeKI9chN8qMbcF16uy9wzULEferVq3pwx+ev8bV8u8LaGrB4U592o+687VpHGxa0fcnAkLxkg519+RJLfNoj7Ge22hqwOGvetuUjPO7aJXFv2ulTlF7qsWuH08/bGrB66Hn+ILub+OjlyQ3RUzh5OsQpPCf5JGADsFPX6QVwaWycP35LSQIO8QvgooK/fteNTgTBn4P28uyV+YSmBBxxwF5iMI0cCXgZvuHvRcEEiyBTcvM1FQm4iQA78uVVmSTgZQYc5JOQ4rNdMgaHGIPFXSbaK3bjct2o+Oirx63bj0HsltVrS1svk8T1qRtgjeQNez+6rQETqOobAo3As7vWzxsZdnWZn7c9YDIEKZnuKtGGRBCJHuMh978c3xuWgIMgGqEyJeAIwQiiKRJwEFaNUJkScIRgBNEUCTgIq0aoTAk4QjCCaIoEHIRVI1SmBBwhGEE0RQIOwqoRKlMCjhCMIJoiAQdh1QiVKQFHCEYQTYkiYPrmljyc0h/a46ls4Xzz1JVIHMrx2r7kG4whWr/J64+xQy9F0/D6lvsKWyMF+JV9yV91MOwJ3RotWOG8hqc/dl/hc5ECfPTeS/euiMd+0IL2Dr1L07P42vb7CwciBfjw3s2Xrj+36+XQrdGCFZ54f3pwzwPHR5b15DPxaFk62g5I4pV9ONTBEO73LFsMsOmeqVs64KojZsM62s4ErB9OCTZVLLDDezcPrj+36x9yNu151E0fe+/sZTf95MQ73f1TWviHU1K7s7WPl50qdrOZsS728vcvvr1nZccBz11s4wsnZ+fv/Pg3/vN415oZTQcczvGyAIQTwGscMUsngJObJsBzE6fYvx6++lsr47F725iV666fnSt/97K7/vydeGK9xgHbumeqgpnHdi9Zn5PfqqwEbKq46oh3YAhTAwUDcpz988ENu3u7Ox4FsNp1b9vrgtP/m5r/0ravnnwmnpgz4CY1YBjhHvFORl90zDtYKWUcEm18hYVUTFnn1sTZ7+44b/1gf+JHHR3s0+3FzFlv5+e1Z44VJ/Ze/+gHp+Jjc9y6C+o1DofOpzU1RZbPApmMToBb2P5oWSuXs+Ys4abpmPdUjplumsrirnrNKQZsRP94nB3KrLuq55zYzk4W+wSLaRczYIAxdo6zelsjl6ZpH2pAUSuzE7Pz5Rcnp8q53dl3ny/2zmkYGYHpmitmzwQXKhafG+zMPTcOmH5iKK+yUtVh0bRkmhl7U4BcZID+wyczve8RX/569kzJYYhobsidq/oM3zeKrvELjNcnUezt14ARxMco7m7WgIKxNDLVW9LUlGLkNxTsQr0uAXMfrQOhKpeYbNHH+rrYUPJEnGEjMDeuQybMMx++xwzGBjkdeOul0YUujQJd51ygnYR+YFec4I4AZtw1lUv/11/7OlevB8DGTwvTlfuzDMjoHciDKQpQKuiu2pxwmZDpf4rJ/H8OmpL9Txm1FnABLAEWYq4Od4mJFTdCFthvxF+Hsde0nQcXWVvFgII0n3ABOuRKJZsVmqCr4S2Abw2sXKE1kgmWPqIJVbVy6X0un9bQYOxtHDCVUOWqCTJSOZam3a3RYWPw6MsnvUI9Nov91idjlDa2BlmrFyP8FcVXsWNmrBVVS68TA0NaDjmgLlzKab/2FevzoGBOdiEW6x5Ef59XGYesAOnCwvJJr1AErf/FXFK1GNlF3TGVan5gumMTLL+hn0xrJNoF5YIioLAscg+XX+HRuPrP/HPWwoRLhAxYLpvvV1uKJtZDoL1rj3U35WXd/UkNw8NW20mxBJaS7pKr4FbcVLBQ2e5cVRunESNXQuZKFideuprNyZdecZr/WwG7KXF5a7QIlUroS6Y1tVq1izY0vMNtRMFGDw1Xbfa3Ws2CohV6bcy0F5tHB996SVeomAgquWLO1ZpImTnEta54lbu4W3GlD0ZdrGQqVFSzBdqsjePm6q6VaLnlQ7tCL4LDq5F0lRpAzZfWBgY31sI2JL21eu9sO7JeR/0y5AJkqq1iz5r+YKyXxZbwCVkbpQqggmK5ecQ9ZvOzxuFWjBUfTG0AEwZx9Xjmql4CuA8NiH4RWaP75qaF0eKKoW69cT2hqtX/IFRUqWaz1nrNtcBHH5GrFprKdGx5f1QrVhcE4KrybQaiL+PUldnDzWxrYf+hhgm4Rl2tTtRu/Pjrgh3XZpcx4M9tx3nA9QdV/LKP5lY1bFDAmq5cCbjpkLlrsATszl5Nl1sCbjpk7hosAbuzV9PlloCbDpm7BkvA7uzVdLkl4KZD5q7B/weuCZseskkmGgAAAABJRU5ErkJggg==",Bce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAADNtJREFUeF7tnWtsHNUVx/93vXbigGNC6gRbCSRqaMAOj+L0ExVsQP3AMwQ6KOUDz9K0RU1LkSpVtN5s1KKKqqVCpYVUPNKHSjstj5SHqJRki8qnxi0E1lUIBJckNuCG4hji2N7dW507M7t3H96dmZ2Znd29VwKv4zv3cX7zP+c+ZvYyqNTUFmBN3TvVOSjATX4TKMAKcJNboMm7pxSsADe5BZq8e0rBCnAgFmjWG40HYr0KlQRpWLOuuve5zjbPmTwQQ/gNmAFV+hFIN+vItKqFRQbfrFC1ehemKQ+1UhcSCT/a4aLpHl8Sj8/f67I99h62l4YtdcFm9/4HdHcBGyOcX88YWwugD0CXx+YMe3FTAI5yzg9kGXtqCti1BJgUjS6g4K0L9wpwoWpNsBMnTpxx+sKF341EIncCWBh2AgG372Q2m93x4cmTP+pZtOi9eUDX7Lq9AJyHKzUnDVzVBvwOwOKADddo1R3PADdHgV25hueo1O6yawTM89ebcDVdjzx5gzYUieD7xc6n0SwfYHt5Fohv1vX7dE3LllGzayXXArhUuYkES8fjN7UBvwnQOE1TVQa4PZpI7IQ1OPNAyW4BF8bcbTQKjmMujlgUeAlAtGmsHmxH5ii0tSewG0gA2+RRuDt37RKw6Zotx5EwxoHZITzNGK4N1ibNVRvn2BXZjk2iV3FzfpxXsmNX7QJwUdwVc9g4Ru86sfysTy06quJuzTccP3JseuXKn3eOCxWTuy6cRjmC7BRwYdw14SKls9kntS3tETxUc/dUAZjL4q6OzfojGNB4KWQWJGDz3krpLPsHbQ9juETxqd0CHPhr5Eb9SgOw6apdDrgcKliKvZJ6NU3DHzUcA9Bde/dUCQAmb9SxVNd11KpiB4DLwAWgpXQ2MdDD9sZjHwNYoPB4YoGZDYnkqT2pCa5bKi6Jx/ZcdW2AUzrToGFiIEmA5zzpmipEWGBDItnek4pxHbWp2C5gY3CVmxYZI2ctBUZwgRj2xqEAe3hzbkigHUhCQB4gy5sjaqpDULM3L7YJuMy8l9SraZgYSbKpsS6275HBWQ/71/JFrd8y3NHVN8V7+mM8F4tdzIvtAy5Rr86gAPt2I5YF7CIO2wFc5J4N36D16wwUf0nBvV1s31eUgr2kvX7HcEfXuKFgQIc+Ik2ZHLhpZ4CLpkYEl+LvVO+wAuwlXQAG4EEu4rDspgtUXD0O1wgYbGpsmE33dbJUvH/G4z62dHEDiZEFnWPTvKtvkPf0Ix+HgwIcG+gx1KsA+3IjyoBJxcnUBC9d9PBRwQqwL1xzhSrA/tq37qUrwHVH4G8DFGB/7Vv30hVgBwieeD2Llw9zjE4aqzWnLQQ2nh0R/50W0u0RBdgG4OS7HLe/kMZ/jpfP3L0AeOzKKK47285s0UaFHmZRgKsYk1R7x4sZWyZ/9Io23HpexFbeoDIpwBUsPToJXPTEHCbNpZczFwPxi9uwqttQKrnqxCsZvCspe/jWKC5cFh4lK8AVAN/2Qga/fsN4fvz8Hoa9N0XLxtpNT6Wx6y0jLl+6kmHPl8LztK8CXAFw2/35rem3t7Rj1TwPEn00A6z+5RyOmxudlfIG5ZqtehTgeSxOA6vLn0zn1Puv2yqrUlb7nzeFZ8ClANsAfMlKhr1V3C7F4u2vGO586OKIiNVhSAqwR4Dv3p3Bg8MGYKVgaT84zJsNTmLwRY/P5ebJKgY3CGA5rlYaHcv57LjzIF23ctFV5sGffiQ/kr5gGROxdaO5YvXMQY4H92Xwt8P5t0B2b44idqaaB4vHZeldpDC7aGLvZCUrTIMrNU1y4CdJqbc9n87Nc4svXdwBPHB5+JYpqZ3KRdsETYsZpOZnD2bFEuVHJ4ELlzOxk0Trz2o3STxCb77V0CCDLJvsQ51NKbgCHlrNeu0DnttsqEaStg1J1TTiDktSgItI0A7St/ek8exBR+9Hl/C8ZV0EQ2Lnqb6oFWDJ/vJqlFdYvrk+gp9eVr9lSwXYJClv+VlwaYvwus84c7fPvMmxf6JQ/TRvfmpTfbYQFWAA8koUwb12DcMDl0ddu1dy83fvzu8RU5nksh+7MngltzxgmuPe8LSxLUjpJ5e14VvrvXns5mf7srhnT/5xn3qscrU84NUPz+Ueubl5XQSPe6wy2TuctRg49NV2r8K7rXJaGrC8qU+rUe98rd3WggWpfnKGC7dbLRU/7RH0M1stDVgeNW8djIjlxmpJvinsPkXppp5q7bD795YGvOH3afEgOyW78dHNkxvyTRH0dqICbAK26zrdAH71A47BJ4yBnAIc4AvgsoIz37E3+HEDmMBaT4cowCEHLO8P243BCnCd3vB3o2CCRZApOXlNRSm4Dl/h4Baw3RGsnE8BrjNgP5+EpKVL69kuFYMDjMHyKhMtWtzi05uBO1/PYqf5jpMfq2WVPEpLT5Pk+akbt+vmGrvzbTdll7umpQGTQYo3BLwybLlyvNzIsNvOlgdMhiIl08N0tCDhR6L3hcn91+O9YQXYD6IhKlMBDhEMP5qiAPth1RCVqQCHCIYfTVGA/bBqiMpUgEMEw4+mKMB+WDVEZSrAIYLhR1MUYD+sGqIyFeAQwfCjKQqwH1YNUZkKcIhg+NGUMAKmr/YM6bcv+4HA1zInBxIjy6xTV0JxKMcbQ/0HGcOZvna7RQrnHG+u2z5yXqgA7x/q/1MbwzUtwsDXbmY4/nL+9pEvhgrwP+89Z+uCaOTHvva8RQqfmcM3LrpvZEeoAL+0dc05K5Z0vNYiDHzt5qH/zqy95qG3R+t68pl8tCwdbQf0Y/8Qnmtj+IKvvW/ywi33TN00ABcdMRvU0XYWYONwSrDp8RH20tY1a1cs6fiHGk27vgtnDrx/8tzrHz50tLN3mgd/OCW1O1H+eNnp8U42e6yDvXb/6psXLWzb4bqLLXzhibnMly+4553fdiyd5QbgYI6XBSCdAF7miFk6AZzcNAFOTx1h//7VJd9bGI3c28KsHHf9ZDr7w3PvfPkH0a4VXACu6p6pClb1aUObX0VT/Yh3YBDTfSMm5Ch79Rcrr+7ubHsUwGLHvW2tC45/NJ259bNfP/xitCttwu3nwDCCPeKdjF5yzDvYxIB5SLT5CgupmLKml0bZ83ecvmJtb9eDbW3sitZiZq+3mQx/8cD41NarHv3wSPRYWlg3r17zcOhUjOsDZPkEEI8bBISFqx8tm8tlrznzuGk65n0gySw3TWUJV730CANWoXcyyp6Ln/H5RadELm1nkc+xCF/NgD7G2Cn26m2OXJzzTzgwzrPs0Fwmu+/EdDZ5deK9v493pzlGR2G55oLRM8GFjtJzg+2559oBA9BSOpsoOiyapkyzx96SII8zYKUgNdv9PvEVn+c+nrAZIhobcvupPabvG0PH5HLz82GMd/dyYBTRYxR313BgxJwaWeqd4PqAZuY3FexAvQ4BCx9tAKEq5xls0Z+NebGp5KkowyogPWlAJsyzn7zPTMYmOQN486WxfJfGgI5TlvPDOCz+LUpwRwEr7lrKpZ+V57721esCsPnVwnTltoTx7e+UUmCaBkyMGK7aGnBZkOknxWTxU4CmZCi6dZIElgBLMdeAO8/AShgoAWwz46/N2GvZ1YWLLK9iQENMDLgAA3Khkq0KLdDFYPPgmwO5UGiZZIGlP9GAqli59HsyFeOoMfbWDphKKHLVBBkDSRYzv9rBqMSYPhmfjdgs99sYjFFa1Rxkc70YFZ8ovsods2KtrFr63NU3yJNIAhXhUs7qc1+5PhcKFmTzsZh+NVe36LAOAVkDYiP56VMpaONfrClVk5Et6Y6lVOsPlju2wIoN/f4YJ9HmlQuKgNK0yDlccYVL4xpf8y9YSwMu+t2CDORctlivHhvO1zU4CFq7dll3Q17W2dvPMTycazsplsBSMlxyEdyCTYUcqqorV8XGqcXIhZCFkuWBl6Fma/BlVBwT/y+A3ZC43DVahkol9PTHuF6s2pIFDfdwa1Gw2UPTVVv9LVazpGiNPpsj7VLzGOCbLxkKlRNBJVcsuOYGUlYOea4rX+Us7hZc6YFRS5VMhcpqzoG2ahO4hbrLJZpuedCuwIsQ8MokQ6UmUOtjbgFDGCu/DEm/5npvbzmyUke9MmQeMtVWsGZN/2DOl+WWiFjdQqkAqKRYYR55jdn6W+1wC+4VD0xtApNu4uL7Wah6HuAeNCD8RSTM7luLFmaLC2713C+OB1Tl+u+HigrVbNVaqbk58OFH5KiFljJtW94b1crV+QG4qPwqN6In96kjswebuaqFvYcaJOAydTU70Wr3j7cu2HZt1TL6/Peq97nP9ftVfN3v5mY1rF/AGq5cBbjhkDlrsALszF4Nl1sBbjhkzhqsADuzV8PlVoAbDpmzBivAzuzVcLkV4IZD5qzB/wcQXIgeSkWQ6QAAAABJRU5ErkJggg==",Vce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAADE9JREFUeF7tnXuMVFcdx79ndnZhgWFDcYVdF6UJhjJjfW2NadLQIbEaCtX0cRFNxEpFElFq02o0yA5DH2msptaUVmjqqxppL0iCPIKvjramMbKmrc402IqbsOxC1q0uCyzsY6753XPP3DuPnbl35s6duTPn/rE7j3PPOb/f53x/53HvncMgj4b2AGto66RxkIAbvBFIwBJwg3ugwc2TCpaAG9wDDW6eVLAE7IkHGrWhaZ54r0ghXjrWKKvmNtfY5xmXe+KIagNmQAk7PDGzhkxLelhPUDUvlCy+DNcUhlrMhHi8GvUoo+ounxKLzW51QYvdh+2mY/NDsGHef4GOEPCpgKbdwRhbCaAbQMhld9Z7duMAzmqadirN2K/GgcOLgDG90lkU3A3hbgHOVq0BduTy5aXXzJ37rUAgsAXA3Hon4HH9rqTT6X1vX7nyaOe8eedmAV1x6HYDsAnXUp1pYF0L8AsACz12nN+KuzADbAoChzMVz1CpPGRXCFgzzzfgKqoa2H+n0hcIYGdu8PGb5z2sr5YGYhtV9RFVUdIF1Fy2kisBnK/ceJxNx2KfbQGe89A5DVPUDLA5GI//FGJw5oKSywWc3efuolFwDFMxRIPACQDBhvG6t4ZMUdfWGsfvgTiwyzoKLy9clwnYCM0icMT5ODDdh0OM4ZPe+qSxStM0HA7sxu26VTFjfmwq2XGoLgNwTr+rz2FjGNh2ecl73jHvrOx3K25w2uDoxLJlT7YP6yqmcJ09jXIE2Sng7H7XgIukyib3K1tbA9hTsXkyA0ylsa1to7oXEUXLh8y8BGy0raTK0s8rf2AMqyWfyj2gAb8JbFBv5YCNUF3mgMuhgi19r0W9iqLgBQWjADoqN0/mAGBsg4rFqqqiUhU7AFwALgAlqbKRSCd7MRa9CGCOxOOKB66uiScWdCZHNFWoOK8/theqKwOcVJkCBSORBAGecsU0mYnugTXxRGtnMqqpqEzFdgHzwVVmWsRHzkoSjOACUbwYgwTsYuNcE0crkIAOOUKeN0bUVIZOzd682CbgAvNeUq+iYCSVYONDIXZyb++ki/Y1fVY3bO1vC3WPa53hqJbpi8uYF9sHnKdelUECrlpDLAi4jH7YDuCc8MxjgxJWGaj/JQV3hdjJL0kFu0n7hn39baFhrmBAhZqyTJkchGlngHOmRgSX+t/xrn4J2E26ADjgXk3vh61hOkvFpfvhCgGDjQ/1s4nudpaMha+6bGNTZxeJp+a0D01ooe5erTMMsx/2CnA00snVKwFXpSFaAZOKE8kRLX/Ro4oKloCrwjWTqQRcXf/WPHcJuOYIqlsBCbi6/q157hJwzRFUtwISsF3/XhgDXvgxcPQAcG7QPGv1x4ENXwB6b7Sbk6fpJGA77j6VBL7yGeDihdlT33oXcO9OYGF9XcqWgEsBLgR3fgh4bxh49S/ZZxPknd8tlaOn30vApdy96VbgzRRPRWAJ4M2f4O8pbD/0APDSb81cHt1rfl8qbw++l4CLOfmPJ4Bvbi0N73Nrgbfe4OlI2T875gE6e0VIwMX89MzjwI+e4CmWvgs49OfCqY+owMNfN797ZcCe9z1I1ZyASZnHDgLjRQZN5PzhQXPEvGAhV2ehgwZfIowLFVP62Y6uHmD1LZ6E8uYEfONyD7RjowgPlN6cgK19pg0OVUmyYhXw3PGqZG3NtDkBkwdo+iNC6xMPcp+Q07/W567TaWHk+EGeJ82TRZj3aGGkeQELjP2v8EUMOj74UeDp590FbB2oPflLz1e8JGAJ2Nats2XfslPzC/4SsARcUcyWIbrG92QVU7BYwNh8L7DlPs6ZBme0ukVz2af2m+wFyB2PAeuV/M/pE9kH1+CuymKAb7/JXOgQc9bZFCnm1kt7gEMvS8D0TBI98F3XfbB1QcQuYEJrXcCQIbqOQ7QEnIlEjTmKloAl4MytOoUaA7lHhmgZoiuahpU4Wa5kFRtFyxAtQ7QM0WYIMZ8Ptjw+KqdJ1QzQgAzRMkQ38Vr0x64HLtEPrFsWL0qtZNGdl7/7u1zJ8sVKloBJTy7cFzPXordt5GvRe/abN7o/HudPPtBF/Y33SMC+AOxG9yjnwTWeB9PVobvXVe+Ojt33m7fsyKtJNbiaRGit892DLwHdy9zQLn/y4fPrzCtSPzkKrIy4k7fNXOQomhz1jS3m4yd0UxwpzY2HyB58ADh2gKModuO8TVjlJJOAxUV8EabpfbGb3O162XrTPJ1To2eWJGABLPfxE7sg7aRbeyfQ9z07KV1PIwFbXUqLHt/fbT5IVqm7KSx/enP2tKnSPB2eLwE7dJjfkkvAfiPmsL4SsEOH+S25BOw3Yg7rKwE7dJjfkkvAfiPmsL4SsEOH+S25BOw3Yg7rKwE7dJjfkkvAfiPmsL4SsEOH+S25BOw3Yg7rKwE7dJjfktcjYPp1Mrk5pTstaSwST71T7LpSF5ty/KMv/CZjeLc79jV3LpqGf75vd+r6ugL8el/4QAvDbc2Nxh3rZzT8+v27U3fVFeC/7bhu+5xg4DF3TGzuXK5O4asffiS1r64An9i+4rqeRW2vNTcad6w//Z+rK2/b86+Bmu58Zt1alra2A8J4vQ9HWhhuccfM5sxFhGeyngPO2WLWq63tBGC+OSXYxHCKndi+YmXPora/ytF02Y3z6qnzV1bd8cPTZ9u7JjTvN6ekescLby87MdzOJkfb2GvfuXbTvLkt+8o2sYlPvDw188UP3P/vn7ctntQ4YG+2lwVg2QG8wBaztAM4hWkCPD0+yN54ZvW35wYDO5qYlWPTr0ynH1615U8PBUM9mg64ZHimIpjYtnvW8uz8yk42YKHinC3egV5MdKcMyEH26lPL1ne0tzwLoMhPqDv2QyOecOF/EzN3f+jLZ44HQ9MG3LAG9MPbLd7JtXnbvIONRIxNoo1tZknFlHR6cZAdveeanpVdoR+0tLC1jUimUptmZrTjp4bHt6979u3B4Oi07l1Tvcbm0MmopkbI83EgFuMEdA+X3lo2k8peRWcJ07TNeyTBRJimvPRQvXiQAcvRNRZkR2JLb5o3P3BzKwt8hAW0axnQzRibb6/cxkiladolDRjW0uz01Ez65OWJdGJ9/NzLwx3TGgYGIEJz1uiZ4EJF/r7B9sJz5YABKEmVjeRsFk1TpsnRtyyQhxnAn/yb7DhPfPXXUxdHbHYR/obcuqDTiH1DaBtbYrw+g+GOLg0YQHCU+t0VGpAypkZCvSOaGlGM9IaCHajXIWA9RnMgVOQsgy36ms+LDSWPBxmWA9NjHDJhnrx0nhmMDXIceOMdQ6ZJQ0Db/CXaGZzRPwsS3AFA9LtCufS/+NzXvnrLAEyB32hQu+JMf9qfjiSYogAjKR6qxYBLQKb/1Cfr/3XQdLj0LK9vWoUFLAG29Lkc7iwDK92+OLDL6H9t9r3CLWWEyMIqBhRE9QEXwCFnK1kUKEDncjHB+4ZY0YrqCi1wCLD0FQ2ocpVL7xPJqIYK+97KAVMOOaGaICOSYFFa3RrqNxoPnz7xAnnfbLWbD8boqJM9kVxrX3wXNepfrVmKvtaqWnod6u7VEkgAReFSytJzX2t5ZShYJ2v2xTyC8PdJlemQFSCaMqdPvEAraP6JmFK55tM6zUgoVVRPhGMBVr+gH45qJFpTuaAe0DItcg5XP6NMn5h9sVXFVshAJmTr69UZRRPrXtDadZll+/K09q6whv7+TN1JsQSWDh6Sc+BmXVTIoCq5cpXrnEqcnA1ZV7J14MXVLAZfvOCo/jcLti9xlVdpK1TKoTMc1dRc1eYtaJQPtxIFGxYaoVrYm6tmi6L17S6MkXa+ezj4xju4Qq0HQaVQrHPNDKRECutc13qWs34360wXnJqvZMrUquYMaFEa392E1F3ooOmWC/XyPAsdXoGDq9QAKl5mFjB0Z5nLkPQ2Y7295chihrrlSBMylZa1Zk0fGPNla030AVkTHVlALYrV3WNdYxbfVQ43q6244GoDmKUR57ZnXdWzAHehAvWfRdwwXyxaGDXOauqZN44HVIXsr4aKstUsSi1W3Qz4+kfkqIZCmbY9745qrcVVA3BO/iUaoivt1JHbvU1c0sPuQ/UScIGyGp1oqfbjbgi2XVqphFX+vmQ7r3L51cq+5q25UR1bLWC+y1cC9h0yZxWWgJ35y3epJWDfIXNWYQnYmb98l1oC9h0yZxWWgJ35y3epJWDfIXNW4f8DKMx4HkNlD5oAAAAASUVORK5CYII=",jce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAADMhJREFUeF7tnW2MXFUZx/9ndnbb3XbbQFnb3bRQbHVhptW0iwYiodMPQIQCEb2IxiARKwnEJsZPBu10iBKjH0yMNVJsogFN9SrGUkJaggwGRYVd5GVGW2hdbbsD2W51u9Bt92WOee7bnLkzu/dl7tyZO3Pul53Ze+55eX7n/zznnHvvHAZ5tLQFWEu3TjYOEnCLdwIJWAJucQu0ePOkgiXgFrdAizdPKlgCDsUCrdrReCjWW6SQMA1rlNXwNjfY5pbJQzFEvQEzwKEdoTSzgUwdLawlqJsVHIv3YZrqUBdrQiZTj3r4qHrAl6TTC7e6aouDhx2kYStdsNG8/wIre4E7YpzfyRgbBDAAoDdgczZ7dlMATnPOjxYZe3IKOHgJMKlVuoxCsC48KMDlqjXAjp8/v+bSpUu/EYvFdgJY2uwEQq7fhWKxuO/shQvf7evpeWcB0DW77iAAl+AK1ZkDbu0AfgFgRciGi1px5+aBe+LAQaviFpXaXXaNgHnpegOuoqqxA59Wdsdi+Jbd+UTN8iHWlxeB9N2q+oiqKMUqavat5FoAVyo3k2Fz6fTnO4DHQzROyxQ1D3wpnsn8HObgLAAl+wVcHnP30Cg4jdk0UnHgMIB4y1g93IbMUmjrzOA5IAPsEUfh/ty1T8CGazYdR0YfBxZ343eM4fZwbdJapXGOg7GH8SmtVWljflxSsmdX7QOwLe5qc9g0Rh88v/qKy3pOy7hbc4fjpyam1637UXdBUzG56/JplCfIXgGXx10DLnIqmzmg3N8Zw96amyczwGwRD3bdrT6KpMIrIbMwARt9K6ey4q+UPzCGGySf2i3AgSOxu9RbdMCGq/Y54PKoYCH2CupVFAW/VjABYGXtzZM5AJi8S8UqVVVRq4o9AK4CF4CSU9l4so89n069B2CJxBOIBS5uz2SX9+XGuWqquCIeu3PVtQHOqUyBgvFklgDPBtI0mYlmge2ZbGdfLsVV1KZit4D1wZU1LdJHzkoOjOACKTyfhgQcYOfcnkEnkIUGOUmWN0bUVIZGzd282CXgKvNeUq+iYDyfZVNjveyVR4dmAmxf22d1zf3DXb0DU7wvkeJWLPYxL3YPuEK9KoMEXLeOWBWwjzjsBrDNPeu+QUmoDBR/ScH9veyVr0gFB0n7mn3DXb0FXcGACjUvTJk8uGlvgG1TI4JL8Xeqf1gCDpIuAB3wENfisOimy1TsHIdrBAw2NTbMpge6WS6duBhwG9s6u2Qmv6R7bJr3DgzxvgRKcTgswKlkn65eCbguHVEETCrO5sZ55aJHHRUsAdeFq5WpBFxf+zY8dwm44QjqWwEJuL72bXjuErAPBOemzmtXrejt8XF1uJdIwC7tTVBfGjmK46MFXJzRl8uXdHViw/p+XLd1sGlhS8AuAI9PTEI99CcLrP0SAq3s+AT6VjXfbey2B3yqcEbjtbb/sqqoSblPPJldEK55EUG+73M3aqpupqOtARNcUiYdN2/bgsSHL69gczg7gvxbJ10xS3xoHW5ObXWVNqxEbQ2Y1Ln/wLOWratB3vuzpzFDTxm7OEi9D3zxFhcpw0vS1oDJzLlj/8GRF15dEPIPHvu9Jxpf23mHp/T1Ttz2gJ0gU/ylQZbbQwKmG/7C7cJmWYteSMk0JaI47RayBNykgBdTshfIEnATAw4CsgTc5IBrhSwBRwBwLZAl4IgA9gtZAo4QYD+QJeCIAfYKWQJuUsBvjxbw1LN/w7VbB3Hd0FXWugZNkWgJ0u08WQRMS6G0jr1l0wcbdhNCrmQZKNVDL+JUYUK75feFO1MWYFrJoluBbiGLgB//7fM4c/YcGnkTQgI2UGZfegOvvnlC+yZCorVogu4Wstg5zHVsUnDqus1uVzsDTScBG+Z8afif+MvIUe0b3REy7+sePPJXHP/3O64gz87OobNT/2Eg8U6V3e0HStAhMwnYMJB4b/imbVuQNO4Ni/93o2TT3mLMJlU36mkPCVhQgHnv1x6HRfftFvLTz72MYyfG0NUZx4P33hqmaMvKkoAFc4huetu1m7B18wbr7Mgbx0Hn6ea/G8jmDYoNV6wpG5WHTVoCFixOUH76yyMaxGoP0tF5mk5RfF3WsxTJwcvREYstOoWKMWbF5bDhUnkSsM3qYswlyLff9PEFH8gTL3V6MqQRcCXgBaxuh0UP4y327DPnHIwxx8d/GgFZKngRyNk/v1H2wB3F3o3r+8uuIJdNh9M8uRFwpYIdrE6x9vALI9oKl9NB8D972/VavG0mdy0V7ETOWLQYefO49lyWHfba/lXaqHrrpg1lr680C2QJ2AVgMYk4lXJaoWoGyBJwHQFT1nbI9HrLiuXhvZUoAdcZsB0yDcYWeg/KY1VcJZeAXZiJVrHohgMdNPA6957xfvDyHivu0oqVuPJlz9bpJTcX1fCVRAJ2YTa3r68029MccprkAi4lMR8GWCw5jaaVHde7zDG8ZFLBLm1NUyTzzX77JbSk2ajbgU7Vl4CdLBTx8xJwxAE6VV8CdrJQxM9LwBEH6FR9CdjJQhE/LwFHHKBT9SVgJwtF/LwEHHGATtWXgJ0sFPHzEnDEATpVXwJ2slDEz0vAEQfoVP1mBHxObk7phM31+clkJv8Bc9eVptiU483dibcYQ+Wvgrpuk0xoWoBzHNv0cH5zUwF+fXfiNx0Mt0lMtVtgnuOpjzyc/0xTAR556KpdS+Kx79fePJnDxVl8desj+X1NBfjwro1Xrb2k6zWJp3YLnDhzcfC2vcdHG7rzmbi1LG1tByTw+m4c6mC4sfYmtm8OpnsmC+iAbVvMhrW1nQlY35wSbLqQZ4d3bRxce0nXy3I07buDXjz67oWr7/zJidPd/dM8/M0pqd6Z6tvLThe62cxEF3vte1fe07O0Y5/vJrbxhedn57/80a//64muVTNcBxzO9rIAhB3Aq2wxSzuAk5smwHNTp9g/Hrvhm0vjsYfamJXnpl+YK37n6p1//Ha8dy3XADu6ZyqCmdt2L1iem+1lywGbKrZt8Q4MYXogb0COs7//eN2Old0d+2kfKs+tba8Lzv1vev7eLQ+cfCbeO2fATXBgGOFu8U5Gr9jmHWw8aWwSbWwzSyqmpHOr4uzp+y5dO9jf+8OODvbJ9mLmrrXz8/yZo4WpXbfuP3sqPjGnWbekXmNz6FyKq0myfAZIp3UCmoWdt5a1UrmrzgJumrZ5T2aZ6aYpL81VrzrFgPXon4yzQ+k11/csi23rZLGPsRi/kgEDjLFl7sptjVSc8/c5UOBFdmJ2vvjK+elidkfmnRcLK+c4Rkdhuuay0TPBhYrKfYPduefaAdMb8jmVjds2i6Yp08zE2wLkAgPWaaRmVr5LfLXPs++NuwwR0YbcubzP8H1j6JpcbXw+icLKfg6MIj5BcXcjB/LG1MhU7zhXk4qR3lCwB/V6BKz5aB2I7YdJxTkxndbnxYaSp+IM64G5SR0yYZ55/11mMDbI6cBb7xgrNWkM6Fq2mp+EvllXnOCOAmbcNZVLfxef+7pXrw/A5PiNDrUnw4C03oAcmKIA43ndVZsDLhMy/aWYrP3VQNOhK7p9DgEsARZirg53gYGVZqAMsMeIvy5jr2lXHy6yuooBBSltwAXokMuVbBZograDLYFvDeSaQqscJlg6RQMqu3LpezaX4qgx9tYOmHKwuWqCjGSWpWh1a2zY6Dz69EkvUI/NYrv1wRgd61uDrNWKUe0TxVexYWasFVVLn3sHhngWWWBRuJTSee4rludDwRrZUizWPYj+PacyDbICpPKl6ZNeoAha/485pWoxshXNMZVqnjDdsQlWu6GfSHESbUm5oAgoTIu8w9Wu8GncUiwWVSxCBiyXra1XW4om1kOgtWufZUfysu7+BMfwsFV3UiyBpUN3yTa4ZTcVLFSOK1d249Ri5HLImpLFgZeuZnPwpRes/yJ7GexI4vJXaREq5dCXSHHVrtqKBQ3/cGtRsNFCw1Wb7bWrWVC0Qp+NkXaleUo/xe/PdM16la5Q8SCo5Io1rtZAykwhznXFq7zF3bIrAzBNpZLtarZAm6VpuDV1VztouhVAvULPQoNX5dBVagA1P1oLGJqxSsuQ9NVqvbvlyMUaGpQhS5CptLI1a/qHMV8Wa6INyNroKAMqKFYzj7jGbJ6rHW5ZXwnA1AYwoRPb+7MWoxcAHkAFmj+LjNF8c9HCqHFZV7e+eB5QVWt/PVRUrmaz1MWqa4FvfkSeamgq07Xlg1GtWFw9ANvyd+iIgfRTT2YPN7GjhYOHGibgKmW1OlGn/hOsC3ZdmlPCOp937Od1Lr9e2Te8N7eqYesFLHL5SsCRQ+atwhKwN3tFLrUEHDlk3iosAXuzV+RSS8CRQ+atwhKwN3tFLrUEHDlk3ir8fzwVKC28OFuMAAAAAElFTkSuQmCC",zce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAADOhJREFUeF7tnW1sW9UZx//n2kmbljSULoVELbQCVEjKGKT7xAQuaB946wbsIrpJHS9joKEVpkmTJra4rjY0MU1jaGxrJ0TZi2C7E7COgZhEayr6aQ2CgjOVsi7QksCyFNJA0ya2z/Tcc699fG3H9/pe29f2OR8SOz73vDy/83/Oq3MYVGhpC7CWrp2qHBTgFm8ECrAC3OIWaPHqKQUrwC1ugRavnlKwAlwXC7RqQ+N1sd4CmdTTsFZeDa9zg22eM3ldDFFrwAyoUI+6VLOBTCta2IxQMytUzL4K05SGulAVEolalKOKogf8SDxevtYlaxw87CANW+yCrep9BPR0A1/SOL+ZMbYOQD+A7oDNGfbkZgC8zzk/lGXsmRlg93Jg2ix0AYVgXXhQgAtVa4GdPHnynLMWL/6+pml3A1gcdgJ1Lt+pbDa78/ipUz/pXbLkgzKgfbvuIADn4UrFSQPXR4A/AlhWZ8M1W3YnMsCWKLA7V/AcFf8u2ydgnn/egqsbhvb0LfqwpuGHTufTbJavY3l5FojfZhgPGbqeLaHmqpXsB3CxchMJlo7HvxoBfl9H47RMVhngzmgi8STswVkASq4WcGGfu41GwXHMxxGLAi8BiLaM1etbkXnq2joSeBlIANvkUXh17rpKwJZrth1HQowDs8N4ljFsqq9NWis3zrFb246bzFrFrflxXsmeXXUVgB39rjmHjWPsvpNnn/eZJe+rftd3g+PHpmZXr/5l14SpYnLXhdMoT5C9Ai7sdy24SBls7mn9ng4Nj/munkoA81nc13mbsQODOi+GzOoJ2GpbKYNl/6TvYQxXKj7+LcCBf2i3GtcJwJarrnLA5VHBUt8rqVfXdfxZxxSAHv/VUykAmL7VwArDMOBXxR4Al4ALQE8ZbHKwl+2Nxz4BsEjhCcQCpzcmkmf0pia5Yau4qD9256r9AU4ZTIeOycEkAZ4PpGoqEdMCGxPJjt5UjBvwp2K3gMXgKjctEiNnPQVGcIEY9sahAAfYODcm0AEkYUIeJMtbI2rKw6Tmbl7sEnCJeS+pV9cxOZpkM+Pd7MCOobkA69f2SW24Z6Szu3+G9w7EeK4vrmJe7B5wkXoNBgW4Zg2xJOAq+mE3gB3uWfgGfcBgoP6XFNzXzQ58Uyk4SNobdo50dk8IBQMGjFFpyuTBTXsD7JgaEVzqf2f6RhTgIOkCEICHuNkPy266QMWV+2GfgMFmxkfYbH8XS8UHTgdcx7ZObjAxuqhrfJZ39w/x3gHk++F6AY4N9gr1KsA1aYgyYFJxMjXJixc9aqhgBbgmXHOJKsC1tW/DU1eAG46gtgVQgGtr34anrgBXgWBMnELGmibY81KAXQImqNv3Z/Dc4SymrYlczyLgyxdqGL4iElrYbQ2YVk3dTOBf/y/H1U+lc2CdbYJA79kcxedWuknNZYsKKFpbAyYbvnJULI5ftZqZm1xORKTcy3fNl4VrcyDIR+7twJkh28lua8AEl5RJ4YnrItiyXiuCfMcLGfzuLXGGvFKg5ymdMIW2Bjw2zXH+DgG4HOTlj8zjhMsNTFLx8fs7wsQXbQ2YSDz5ZhZ3vpgpCznysLfzB5nvKcCAtJsUhqXKhSBv2JUGDbLcBgWYbBUywAsp+ePTwDVPuYesAIcUcFCQFeAQAw4CsgIccsB+ISvATQDYD2QFuEkAVwtZAW4iwNVAVoCbDLBXyApwSAE/d5jjlmfTGL5CQ/yK/HoybQ3SEmS5xRDnPFkGTBsVtI69dYPWsE2Itl+qtFeoNj6Vxr6jHJeuZHjt9vy/BhnalTa3At1ClgFf9kQaBye5uYnRqE0IBdgi/J2XM3h0ROwayZBoLZr2ed1CHpEah72OvXVIw8+vacwukwJsAU7sz2D7fgF46v78vu5Nz6Sx+x3uCvKn88BSa6+B3PP5O8RGhdPtu13XDiKeAmxZMfkexzVPi63Dx6+N4PZLNPO1/Hc3SrYPDex6M4u7rF0qUnWjTnsowJJM7L1fZz8su2+3kDf/NQPjUBbLOoGPHmjcFqICLAGW3fTPro7ggQ1CxRQeOZBF4tWMufnvBrI9ut50ISsYlQfhdr2koQBL1iIoa38tTnCUOkhHnz/3dhbvnuA4ZynDHZdo6IyUn0LRFEvTgO7GCVid6HCqQe5zCfIzN0URO7fyaclKJ0O8qC7IuErBJawpD5Do46+vX/jsc5YDGqt8/CdIcG7TUoDLWIog0+BKPnBHgy866C4HOghP+q40T3Z7BtstOLfxFOAFLEVz2TteECtclQINvPZ9LWrOg8PkrhXgSuQAEOhfHMiYh++csK9czcxR9f0bCr++EhbICrALwHIUeSpVaYWqHGSPWfqKrgB7NJ8XwJS0E/KRe6M4b1nlUbnHYpWNrgB7tKRXwE7Ie26L4ioX0y6PxVKA/RiMVrF2HxYbEfR1l3dPiNTOW0bfERZq3HShVrDy5czvlfesL7nVES6VQSnYBXm3X18J22kOBdgFXIpiHwZYKDqNpvduDt8dIkrBLiHTFOnjU6Ujn7lYbECEMSjAYaQSYJkU4ACNGcakFOAwUgmwTApwgMYMY1IKcBipBFgmBThAY4YxKQU4jFQCLJMCHKAxw5iUAhxGKgGWSQEO0JhhTEoBDiOVAMukAAdozDAmFUbAtNsasn/pGUZ0rso0PZgYXWnfuhKKSzneGh44zBjOdVV8FWlBC3COt9dvH70kVIAPDg/8JcJwo2Ln3wIZjr99dvvoV0IF+LUHL9q6KKr91H/1VAqn5/Htyx8a3RkqwC9tveCiVcs731B4/FvgyP9Or7vxsX+PNfTmM/lqWbraDhjAwWE8H2H4ov8qtm8KtnsmCwjAjitm63W1nQ1YXE4JNjsxyl7aesG6Vcs7/6lG01U30NOHPjx18c2/OfJ+V98sr//llFTuROnrZWcnutjcVCd74+G1W5Ysjuysuopt/ODJ+cw3Lv3uf/7QuWKOC8D1uV4WgHQDeIkrZukGcHLTBDg9c4z967dX/mBxVHuwjVl5rvqpdPbHF9+970fR7lXcBFzRPVMWrOK361weKax8xTswhNn+UQtylL3+q9U39HRFHgewzHNt2+uBEx/PZm6/7FtHX4x2py24AxwYQX2veCejF13zDjY5aF0SbV0zSyqmqOkVUfb3u85ata6v+9FIhF3bXszc1TaT4S8empjZev3jx49Fp9KmdfPqtS6HTsW4MUiWTwDxuCBgWrjy1bK5WO6KU8ZN0zXvg0lmu2lKy3TVK44xYA36pqPs+fg5X1iyVLuqg2mfZxpfy4B+xthSd/m2RizO+accmOBZdmQ+kz1wcjabvCHxwasTPWmOsTHYrrlg9ExwYaD43mB37tk/YAB6ymCTjsuiaco0N/WOBHmCAatNUnM9HxJf8/X8J5Muu4jmhtxxRq/l+8bROX229fooJnr6ODCG6BT1uxdwYNSaGtnqneTGoG7FtxTsQb0eAZs+WgBx/GNSeU5MH4t5saXkmSjDGiA9LSAT5rlPP2QWY4ucAN56YTxfpXGgc+nZ/CiOmn+LEtwxwO53beXS74Xnvu7VWwVgcvxWg9qWYEBcVCAFpuvA5Khw1faAy4ZMv6lPNn+boCkIRbdPkMASYKnPFXDLDKxMAyWAbVb/67Lvte1ahYssrWJAR8wccAECcqGS7Qxt0E6wefCtgdxUaIlgg6WPaEDlVC69T6ZiHD77Xv+AKQWHqybIGEyyGK1ujY9YjUdMn0SGom+W6y0GYxTWtAbZXC3GzFfUv8oVs/taWbX0urt/iCeRBBaESzErz33l/KpQsEk23xcLDyLepwxmQtaB2Gh++iQylEGLv9hTqhYjW1QdW6n2B7Y7tsGaG/oDMU6izSsX1ANK0yLvcM0nqjRuvi+WVSxDBnIu21yvzimaWA+B1q6rzLspH+vqG+AYGcmVnRRLYCkIl+yAW7CpkENVceXKaRw/Ri6EbCpZHngJNduDL5FxzPxZALspcVVXaBkqpdA7EOOGU7VFCxrVw/WjYKuGlqu26+tUs6RonV5bI+1i8wjwrReEQuVAUMkVm1xzAyk7hjzXlZ/y1u8WPBmAUYuVTInKas6BtnMzcZvqLhVouhVAueqehAmvRBAqtYDaL3MLGKax8suQ9DZXe3fLkQtVNChD5iFTbgVr1vQHa74sl8QckLVRKAAqKdY0j7zGbH/mH25BWwnA1BYwqRE727Op6jLAAyhA+JNIWNW3Fy2sEhc09dwbzwOqUvWvhYoK1WznulBxc+DDj8hTCW1lurZ8MKqVs6sFYEf6FRpiIO3Uk9nrG7mihYOHWk/AJfJqdaKV2k+wLth1bpUi1vjziu28xvnXKvmGt+ZWNWytgDVdugpw0yHzVmAF2Ju9mi62Atx0yLwVWAH2Zq+mi60ANx0ybwVWgL3Zq+liK8BNh8xbgf8P2mQSLczDy80AAAAASUVORK5CYII=",ec={"member-item":"_member-item_1kc0z_1","list-member-item":"_list-member-item_1kc0z_8","tools-row":"_tools-row_1kc0z_11"},Uce=({isSearching:t},e)=>{var v;const n=ct(y=>y.selfInfo.userID),{isAdmin:r,isOwner:o,currentMemberInGroup:i}=rl(),{fetchState:s,getMemberData:a,searchMember:c,resetState:u}=Qf(),d=l.useRef(null),[f,m]=l.useState();l.useEffect(()=>(i!=null&&i.groupID&&a(!0),()=>{u()}),[i==null?void 0:i.groupID]),l.useImperativeHandle(e,()=>({searchMember:c}));const h=()=>{t?c(Pd):a()},g=l.useCallback(y=>{var b;m(y),(b=d.current)==null||b.openOverlay()},[]),p=l.useCallback(async y=>{try{await ce.changeGroupMemberMute({groupID:f.groupID,userID:f.userID,mutedSeconds:y})}catch(b){mt({error:b})}},[f==null?void 0:f.groupID,f==null?void 0:f.userID]),w=t?s.searchMemberList:s.groupMemberList;return Z("div",{className:"h-full px-2 py-2.5",children:[t&&w.length===0?A(sr,{className:"flex h-full flex-col items-center justify-center",description:O("empty.noSearchResults")}):A(No,{className:"h-full overflow-x-hidden",data:w,endReached:h,components:{Header:()=>s.loading?A(dn,{}):null},itemContent:(y,b)=>A(Wce,{member:b,selfUserID:n,currentIsAdmin:r,currentIsOwner:o,tryUpdateMute:g})}),A(qce,{ref:d,canCancelMute:((v=f==null?void 0:f.muteEndTime)!=null?v:0)>Date.now(),updateMuteState:p})]})},Hce=l.forwardRef(Uce),Wce=l.memo(({member:t,selfUserID:e,currentIsOwner:n,currentIsAdmin:r,tryUpdateMute:o})=>{const i=t.roleLevel===mi.Owner,s=t.roleLevel===mi.Admin,a=t.muteEndTime>Date.now(),{runAsync:c,loading:u}=qo(ce.setGroupMemberInfo,{manual:!0}),d=()=>n?e!==t.userID:r?!i&&!s:!1,f=()=>{mo.confirm({title:O("placeholder.kickMember"),content:O("toast.confirmkickMember",{name:t.nickname}),onOk:async()=>{try{await ce.kickGroupMember({groupID:t.groupID,userIDList:[t.userID],reason:""})}catch(h){mt({error:h})}}})},m=async()=>{try{await c({groupID:t.groupID,userID:t.userID,roleLevel:s?mi.Normal:mi.Admin})}catch(h){mt({error:h})}};return A(dn,{spinning:u,children:Z("div",{className:ec["list-member-item"],children:[Z("div",{className:"flex items-center overflow-hidden",onClick:()=>window.userClick(t.userID,t.groupID),children:[A(Sn,{src:t.faceURL,text:t.nickname}),Z("div",{className:"ml-3 flex items-center",children:[A("div",{className:"max-w-[120px] truncate",children:t.nickname}),i&&A("span",{className:"ml-2 rounded border border-[#FF9831] px-1 text-xs text-[#FF9831]",children:O("placeholder.groupOwner")}),s&&A("span",{className:"ml-2 rounded border border-[#0289FA] px-1 text-xs text-[#0289FA]",children:O("placeholder.administrator")})]})]}),A("div",{className:"h-[50px]",children:d()&&Z("div",{className:ec["tools-row"],children:[A(To,{title:O("placeholder.mute"),children:A("div",{className:"w-[50px] cursor-pointer",onClick:()=>o(t),children:A("img",{width:50,src:a?zce:jce,alt:""})})}),n&&A(To,{title:O("placeholder.setAdministrator"),children:A("div",{className:"w-[50px] cursor-pointer",onClick:m,children:A("img",{width:50,src:s?Bce:Lce,alt:""})})}),A(To,{title:O("placeholder.kick"),children:A("div",{className:"w-[50px] cursor-pointer",onClick:f,children:A("img",{width:50,src:Vce,alt:""})})})]})})]})})}),k1=[{title:O("date.minute",{num:10}),value:10*60},{title:O("date.hour",{num:1}),value:60*60},{title:O("date.hour",{num:12}),value:12*60*60},{title:O("date.day",{num:1}),value:24*60*60},{title:O("date.custom"),value:-1},{title:O("placeholder.cancelMute"),value:0}],Gce=({canCancelMute:t,updateMuteState:e},n)=>{const[r,o]=l.useState(),[i,s]=l.useState(0),{closeOverlay:a,isOverlayOpen:c}=Pr(n),{loading:u,runAsync:d}=qo(e,{manual:!0}),f=async()=>{r!==void 0&&(r===-1?await d(i):await d(r),a())};return A(ni,{title:null,footer:null,closable:!1,open:c,destroyOnClose:!0,centered:!0,onCancel:a,width:320,className:"no-padding-modal",children:A(dn,{spinning:u,children:Z("div",{className:"py-6",children:[Z("div",{className:"flex items-center justify-between px-5",children:[A(c2,{className:"cursor-pointer !text-[#8e9aaf]",onClick:a}),A("div",{children:O("placeholder.setMute")}),A("span",{className:"cursor-pointer text-[var(--primary)]",onClick:f,children:O("placeholder.save")})]}),A("div",{className:"mt-5",children:k1.slice(0,t?void 0:k1.length-1).map(m=>Z("div",{className:Mt("flex cursor-pointer items-center justify-between px-6 py-4 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":r===m.value}),onClick:()=>o(m.value),children:[Z("div",{children:[A("span",{children:m.title}),r===-1&&m.value===-1&&A(lr,{type:"number",size:"small",className:"ml-4 w-[160px]",value:i,onChange:h=>s(Number(h.target.value))})]}),r===m.value&&A(Ds,{className:"!text-[var(--primary)]"})]},m.value))})]})})})},qce=l.forwardRef(Gce),Kce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABEpJREFUWEfVl89vG0UUx79v/SMIDnilNHFEldoEKZWqqEk5IKQKjMQRgfeCeotzscUJ/+De9I6TcqpskBr+gk04ghC2xAFOdSTO1AUkJ4FiR2pRqWM/NLP2Zndt746bRipz9Lyd+cz78X3PhBds0QvGg/830PZdM9Z/qt0kcBqEhPQuo8mEmtbjW4VPjOZZPa7soXLVzBBoG0Bs0qUM3ihljZ2zQCkBfV4x0xqRqXLRWaECgUSYuEv3h55h8ANm5ENR1AobRkfAErBJRFeHwNTj5LOGLxCoXDHzRDJUYOZjLYqEAPF6q1wxGzYU89fFnJFR8ajXJhBoq2rWAHrXyt/JOeIKK6NZzKWT5wJUrpgdInpVHE7gtULWaEy6aKu6y8O9YlZEcvoV+FG5ajYJdCkIaJBr7XMHcoWMuVDKGbfHvdsZMpH4paxh6dSUK9hDjqQG0CHwe96wSe88pXu2WIK/KGaN/JQs0jwQSKpzF41h2AQUQJuEfh09dDgcugruCzGUgulXiSqAgUDikO2qucqgeyoHnrswDiEEVB/YdXjKxSc8w0Dms5yxqwI+yUbJQzaUbK7IECHNQAKMGBEazNjVotgZJ5jTwk0FZIN9aaaYQ7bmUKS3/zxgfJPa0hVtnZlTBKyeVlDAm8U4Aog2UqNef+/GjRSoi4+IEGNCIz6r7/mdMOIhe+YhfqaydV62cjmBlctSU08Xo6kRjLk5faziu4AGavsDhEd8F9fd21avc67lpYt4c2Vp/CmM5kwUa7qujzRpF9BW1bwN0KeO59QZ2NGAhl8Pc966fcdM9ENIffzB9a8i4XBI7P3Reoj28SMsL72GaCRsmRMK8Qv6iOrbQOIgDsm5Ry72aRN+zmu12wntBOvM2BR2j/75F998+5P85OLCLN5568rgAjQRQt6bUzbQYES9O7CuF7NGyj9so7utw/YmEW46dw7/Osb3P1rpMjcbw/vX7TnOBnPm1ClQxRRTnzyMmW+VcoZ8oeo6+LOdB0MOclMBWcadmQiSIqeeH9DR36LHyblpmDNWyJ7g/m8H8tZXXn4Jry/Gbd5xOTU+ZFNOfEdHbdFWZK9z5kyQdz05tRef10+nOu+AJaqrlE1vBB0q9kUiUxeyIB4/foK9735W+QzJxTjevrY8zCU3kPh1pOwZTRAJKWgUsx96tMd954EjZALq19+tMAmPuUM2b4dPeMgrAyNKvVUxd0C0HvDEmmd/NbkYj9mvdWwGVpksIjxYmNflhDm2uZYrpqgw8fdHJqnqcoVg8JEC0D5HkF7Qdfk3fGK3H0yKaWKkGFh1/hH0A4xEw7+8cSneXbuytObNKQ/wvgZkvD1t6vFDgOLE0+vCaHjHj9Zhu0kE2VlFTh0+7EilVm4dqmFRtWsdtTMEDJR/5Kv9mQhSgc1V9TJVOwuKRZXauchAPQTklcYP1YumsRMahRMkxJAnBreFC7q3Ql3H/Qe2Guo0rdYexgAAAABJRU5ErkJggg==",Yce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAr1JREFUWEftl0GS0kAUhv8XS7biCWRO4MwJhAsIfQJhMaFczRDci3uBYTVFXAw3aDyBcAKZE4g3iFsVntWBMG3opDtoTY0WvSOd9Pv6f69f/xAe2KAHxoMjkC0j/4dC78eyQUR1AioAyttdRwwsibxpcP7yo02JrHlnhYY3soyf3gUzX2oQWetGAPUCvz4qCuYENAzlKTNJUKxIkbEgcKvji4XrR1ag4QdZjWHuUqOtzfPkBzPKRPTcEDgicM0VKhcoVgb0SYdh5m8Ael4Jk05LRDrA8FpW1h6aAC6J6Ik2F9GKzzqvxdKmVC5QP5RLAj27U4FvvRKqaZB0EFVv6++YpRSbBX6jdjBQfyzVLoc6TLctTm0LJvMmKAa3ur6Y5K2RqVB/LKNEdpUmr4SKTZk9pa5lhR/Rl91zxjJoN04KA21r57OmzrtuW/Rc1dHfG4zlBESvkme04pO8WjIq1B/LHhG9dV0kD9SwuU63La4KNcZBKKcA1dVHDP7a9UXR/vNbvEE4ZVe1jQoNQjkD6MVmEZ4Hvqgekq7km/5YLu5OXP56/wzQLmUAosBvPP0ThfSUATwKfKHuQ+NwK2rwmWvr3zv6m6tHdftNATAXL+r0ybDtKk+9v3LsVYD0tUEHqGQ48re2bp/dqUPZJNCNtvsFPeaaa7dWVwf/iLt0YuBAxLXOuZgV7tTm4xo/dfI3Wf7JReV8+7G5tZcpKwEGJh54lC50BbIGXRBiC2IaVm9kN2gqCMdWQvc3erAkBa7NMxfKCqQib+oBqjdtu7drV+I5rdBce5imvFEmlBPQrqZCqVLR002bCU3df+q9xPtkGDYjVCGgJHhcK4xG/DcoMf6MJQMLjzAzNVEjlMEfHQTkmrC9rp2ytsr4ddti1xbU+/cKpNWjsrHlNePqTVtMdfB7B7KpewQ6KmRTwDb/CyigazR815MKAAAAAElFTkSuQmCC",Xce=({back2Settings:t,searchMemebers:e,updateSearching:n})=>{const[r,o]=l.useState({keyword:"",visible:!1});return Z("div",{className:"flex items-center justify-between",children:[Z("div",{className:"flex items-center",children:[A(ka,{className:"mr-2 !text-[var(--base-black)]",rev:void 0,onClick:t}),A("div",{children:O("placeholder.memberList")})]}),r.visible?Z("div",{className:"mr-4 flex items-center transition-opacity",children:[A(lr,{className:"w-36 rounded-2xl border-[var(--sub-text)] bg-[var(--gap-text)] px-2.5 py-[2px] text-sm font-normal",value:r.keyword,allowClear:!0,spellCheck:!1,classNames:{input:"bg-[var(--gap-text)]"},onChange:i=>{o(s=>({...s,keyword:i.target.value})),i.target.value||n(!1)},placeholder:O("placeholder.search"),prefix:A(qa,{rev:void 0}),onPressEnter:()=>{r.keyword&&(n(!0),e(r.keyword))}}),A("span",{className:"mx-3 cursor-pointer text-sm font-normal text-[var(--primary)]",onClick:()=>{o({visible:!1,keyword:""}),n(!1)},children:O("cancel")})]}):Z("div",{className:"mr-4 flex items-center",children:[A("img",{className:"mr-3 cursor-pointer",width:18,src:Kce,alt:"",onClick:()=>{var i;return ot.emit("OPEN_CHOOSE_MODAL",{type:"INVITE_TO_GROUP",extraData:(i=tt.getState().currentConversation)==null?void 0:i.groupID})}}),A("img",{className:"mr-3 cursor-pointer",width:18,src:Yce,onClick:()=>o({visible:!0,keyword:""}),alt:""})]})]})},Qce=l.memo(Xce),Jce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAASJJREFUSEvtlkFOwzAQRf9YqllzgxyBG9Aj9AjcIGHlsOsu9Yr0BFyBG1BuUE4AR+i2RvJHqRSpFQnOSE1BKN5ZntHzfP0ZW3DhJRfm4Y8CK2bGfOYkbjSKEHhGadfHOYMqlNX+XUQyDayNjcA9nK3b/SCg8YEEXunsXAPtypuABwXHk7RiJhJeWoMQ2NHZ69GAZhVqCPLGIE1lAm6iu1qOBhQfNgLcRmdPzDQB+3oz2YeTpGcfbQlJdyC2mlkqgjmIdSxt0Tm8+4Cowp0xeNLAmlgSb+RsgQf50AG1pB/iTxq8t8IE0Pj9kpC8GYOpu50FqLno7wLhQ2GAx5QsXecHg5Q2+ef5/uL7UAiw0ECF2EbO6mM39uUP+mJo4KnY/w/8Akj7CyyRDYCqAAAAAElFTkSuQmCC",Zce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAz5JREFUSEvFlz9MU1EUxr/TluBk68LGHzU4aUBxNIHAJIuUSSZAB51EGFwBRwcEJl1I66KLgAtOxZLoBgKRSaIB3EhMWicIba/5bt8tt+W911eBeJeX9t13f/f8ued8VxBwKKXaAQwC4DPmPPn1BoCM80yKCH9XHeI3QylFwAiApw6s6oLOJqZFZNJvsidYKdUH4CWAFi6w+wdY/F7Ah+0CMofA5r7S67Y1CGL1wL3WEPquhdB8sYTbATAqIotuG3AFK6WmHUux8kth8nNeP4OMzkbB+J0w+HTGhJv1J8BKqYQTS4wt5zGzWgjCOzFn5HYIU91h839CRIbtSWVgY2n2EIjP5wJb6bUzWr3QH0G0Xs+YFJEJM7cEdmK6wBfdb08PNQDClwci5mfcxFyDnexdZyKdxr1elltu3xGRy5xnwHTBOBOI1p7H+DoU0SfAuNyAWQCi/+Li9gbgfTyCzAHw8GMOG/vu27ZcnhGRS6KU6gLwief0yqujmowlNHU/gtiFYqpkDhR63nnDfz6uM+f8JsH6zPLYML5Bh4GKFJORbpzrpeXecB4vxhvADMFpAJ21uLkSatw7eL0I38kqdCRyusLZw3L3CsEs6m23ErlSGfSz2gtqvvnxKIKWqKAjcXQi3vQKk4wNhWBdC8Mvqse3GnTubhiDN0J4s1XA8JJ72PLP6vQeA4PPAkqgDQ7k6t9PjrP3wVIOya3jphHEUkItV28GTi7udHY1j86mkF7AwINCCa5MrqrHiW5eG6rD8y/FbsXaS3h6r4CuJv+Y2olaeZwoZdZ3ssDV1+4J1tUoSA1EkPxWQHKroBv/XG9YFw6/RKo8HWUFxGkSviXTgCsXqgVquTkrIrGyJpHeK1adykEL24sFvmykA6oSfuTVJCjqmN3N59wWd0VEa7j/KwSM/5RSui+zxfUvnF6FMK7zcZ5/TXCXPha8JPZGU3nMrp2J2KPQH7ITxEveast1Nd9XGEvVJm+nesJ2MpZZauDVBD2LSzMn85wvbhcFPVWoLeipIrWgbw2hJVqya5c3kJoEve0SJ+68whwv6dc3gSwAXmFKUtZtuu/dqWIDrHCMk7m0tTnvN61LG4V7oEvbXxxJzK3g0Lt1AAAAAElFTkSuQmCC",wr=({title:t,value:e,hidden:n,className:r,children:o,tryChange:i,rowClick:s})=>{const[a,c]=l.useState(!1),u=async d=>{c(!0),await(i==null?void 0:i(d)),c(!1)};return n?null:Z("div",{className:Mt("flex items-center justify-between p-4",r),onClick:s,children:[A("div",{className:"font-medium",children:t}),o!=null?o:A(PK,{className:"bg-[#8e9aaf]",loading:a,checked:e,onClick:u})]})};function cM(){const{modal:t}=$c.useApp(),e=tt(c=>c.currentConversation),n=At(c=>c.clearPreviewList),r=l.useCallback(async c=>{if(e)try{await ce.pinConversation({conversationID:e.conversationID,isPinned:c})}catch(u){mt({error:u,msg:O("toast.pinConversationFailed")})}},[e==null?void 0:e.conversationID]),o=l.useCallback(async(c,u)=>{if(e)try{await ce.setConversationRecvMessageOpt({conversationID:e.conversationID,opt:c?u:Ko.Normal})}catch(d){mt({error:d,msg:O("toast.setConversationRecvMessageOptFailed")})}},[e==null?void 0:e.conversationID]),i=l.useCallback(async()=>{if(e)try{await ce.setConversationPrivateChat({conversationID:e.conversationID,isPrivate:!e.isPrivateChat})}catch(c){mt({error:c,msg:O("toast.updateConversationPrivateStateFailed")})}},[e==null?void 0:e.conversationID,e==null?void 0:e.isPrivateChat]),s=l.useCallback(async c=>{if(e)try{await ce.setConversationBurnDuration({conversationID:e.conversationID,burnDuration:c})}catch(u){mt({error:u,msg:O("toast.updateConversationPrivateStateFailed")})}},[e==null?void 0:e.conversationID]),a=l.useCallback(()=>{e&&t.confirm({title:O("toast.clearChatHistory"),content:O("toast.confirmClearChatHistory"),onOk:async()=>{try{await ce.clearConversationAndDeleteAllMsg(e.conversationID),n()}catch(c){mt({error:c,msg:O("toast.clearConversationMessagesFailed")})}}})},[e==null?void 0:e.conversationID]);return{currentConversation:e,updateBurnDuration:s,updateConversationPin:r,updateConversationMessageRemind:o,updateConversationPrivateState:i,clearConversationMessages:a}}const eue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABC1JREFUeF7tnEtsTFEYx//fTBBCWzr1CuqxYId2gVgYC/WI0KlYNKmoeIWVYo+9tiukFTENiYUwQ7wtjIW0Fn2ILmoxKOI5ZVpCPO58cm7nttPXaO+9EzNzv7uamXvPyfl+93++88icPyHJVXsmMJ/drq0AlwLIA7As2fMZdK8NQBSgIGmxa1UHfC9HajsNd0OBibnpGAGVGRS06aYy4HdpfGI4UEMAnawLlLqIzscVg4XzZmjTPXnuubM9KMjPxYTx40w3JB0K/vz1G5+6uvH6bQQfI1Ht+asP7ni7ojHmXUf3+4KJ7RwAqLo+UEnQ4SB/6hRt49pit4KSzZeCdftBs9b15asOisG7juzz+Y2Y+wAlwllZtJhXFS8ZtvtlK6zG5g5uanmmxxxj9hlK0n/oTcbUqrrVyqLFWFW8JFs5JI0r1PgUre3P1TNR0ni5ykk6oJq6gB9EOz3TcnjHtrWOUs5gYheuPODI5x4Cc8Ph/b5KiqvnhXqwosyrJ2InXyonXbwa0hGQxguoui5wiIhqFxXO5C0lKxytHkMY1+895nDne2LmKqqpD4QAWuPk3DO4xzQ2d6Cp5Zka0x5STV3wBQjzt29ejTmzPE7uXX2xv3kXweUbj9T3NqqpD7L6dHDnpoyfBNr1dtVk8nTDrd48ZACq2rvVrvqzop7as9cEULI3KYD+oXMBJICspUJRkChIFGSNQCYqSM1g74bUrguw3rv8v87s0zIHnbt0Hz3fvuuAciZPwu7ydSlVScbNg4y3ZjT8f87u01JBAmiUiVEUNAIoUZAoyNqgIwoSBYmCrBEQBVnjJzlIFCQKSkrAWI0bC05ruMZeWi1w7doFSMlaLHE1Pvbw7Clh1y5ASgCd8t/Er99/7InUZC1TJk/EnvISk6X7i6UEkOpid0It+Prth+UGmqlAwdngLbJloy0lgMwElVhGhnkZ5q1pSBQkChIFWSMgCrLGT3KQKEgUZI2AKMgaP8lBoiBrCkrcDbBrVW62RWm5WDV2A1RQdq3KswqQ2WBSUS4tFZSKQM3WKYBGOWDIUYQRQImCREFms09vOVGQKMhmBcmBun6gAw7UVdcHXhKoUI5k9gMyjmQy8xM51DtMTxxwqDfhWDi2lKyw1nGzpPT1e48R7nwP/Vi4GAsMfKtDjAXUbcOaoiA/lyvKvI42F7h4NcSfurr7rSn0SZEyVHKhjYhynWwwYJibMHO3K4ZlfeYmClLcWCmgPiv3FwXKSVeosR2t7WE95CH2OAaIRA8hz7QcbYO3yBEGS3dCLVrkc09ygyUDklISAX7V3dRviwpnYbonV//PTUF+Tsa7M/RadPVAzXU+RroR7nynh666FQOVSS26DEj6yObCceUp5IhuxtxAMRwflclbIpB48i4lQikz8ohoaTYA02fIhCgzgq4YgslsAv8CtxfqUzvVPwMAAAAASUVORK5CYII=",tue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABHxJREFUeF7tnF1sk1UYx/9P23Wf3SfgB4oTpwkfEy5wYU4mQ0mMSNriAohuStBNvBrrhTfeeWEItl4R1jk1QmREwLeLIIS4ADHsAyfTbBdDNsYCG58FRhe21e495ry4xS0D6t51vuuec9W0p+95zu/8ztMm73sewgOap6JmGUjdCMIKgJ4C8MiD+k+jz64CoksAJ2Ay7XO9b2++X+w03gfuCuUVInwKotxpNOkJhyqABrNAWVmpo3HsRUYB2rnz+6QBi7WKCBtkx9SURDyb+TjmzZ2NtJQk2JLiJxyEkb4Y6OvHrd4+dHVfw7nzPegN3B0Or6K8xLH137GOAJJwBi3WOhCy42KtYnX+UsrKfMxI84pYLG0dl1D7yx8I/hUCBBrLSx3LhwcbAeSpVHwA2W2J8Sh8Iw+pyYkRC8iIF755O4D9h07hbv8gBMTXrhLnFhmnBsjj9W0C4Tuz2Sw2OfJpVnqyEecQ8Zi6r/hx4HCdUFWVhCpedX3orP0HkNIBovkFL2Zj6aL5EQ/EyAPUNbWhsfms3GpN5aWOF+hzr+IwESkZaTYUF64ycuxTEltoaAhVe4+hfyAIFaYc8lT6qgFsXJGzCMuWZE1JEEYf5ER9C5pbz0uLdpDbq7QT0TNFhQWYlTYzc8/YBbtw6RqUI/Xy7VPkrvTdIcD20btrEGu1GH1xpyQ++T+pqvqYNKhbbjEhR932gX1KBp8ug3zxZY0WKgO6z4oxoIeozIAYkL5sxwaxQWyQPgJskD5+nIPYIDZIHwE2SB8/zkFsEBukjwAbpI8f5yA2iA3SR4AN0sePcxAbZFCD2i9cRsOZs7ju79UX4X/8dnJSAl7OXYzJemQnYltM3nCTN97+jzY7IwXvrFs5KUNHJSD52E7RmwXGBiS3WP1vbbhx886kBBruReTjgStzs42/xcKdkNH7RWyLGX3i4cbHgPh/ULiujN+PDWKD2CB9BNggffw4B7FBbJA+AmyQPn6cg9ggNkgfATZIHz/OQWwQG6SPABukjx/nIDaIDdJHIHyDFD9A6VuLX0dcbExEB50uFx8YDGLX7iOAEH55qLeFiBbLI+HyaDg3aDc99xw8LlH8Lo9k7gZQtCrveSxZ+DTzAXCmpQMnG1q1EhXkrvBtIBP2zX00A+vXvsSAAFT7TuLK9duSxTra/lWNzRJS5dn5Oc7XliPzyWipoTSxtT7X2YNDP/8KAfRQajBLq93hrlTeI9A3CfGxeMuRD/mszUxssqaQtGcwGIIQtN5Vat8/Uh7H7fUpRHCk2BJQuCYPybaZBcl/K4ADh++VxwGwp7zEUSxfjC6wFBNzGqAF8XFWsXZ1Dsm8NBNa58Wr+Km2abjAklb1ZXjeo0p0eaqOpgu1/yiBtA4Ln5uHBVlPaCW6oq2FQkO42HMDrX92ob3zsjY9IXA8ZCH7x1vsgXEByTe93h8T+ij0CQmUgSg6ipY9ZHWFEL0gbHeVOD8b23XcKniy045dP8wxmU2bSeBtWdcs2gy6Nx9xGjDtpRj1222bndrv+tj2N/qIaxoCwFLBAAAAAElFTkSuQmCC",nue=({currentGroupInfo:t,isNomal:e,updateTravel:n})=>{const{fetchState:r,getMemberData:o,resetState:i}=Qf();l.useEffect(()=>(t!=null&&t.groupID&&o(!0),()=>{i()}),[t==null?void 0:t.groupID]);const s=e?17:16,a=u=>{u.stopPropagation(),ot.emit("OPEN_CHOOSE_MODAL",{type:"INVITE_TO_GROUP",extraData:t.groupID})},c=u=>{u.stopPropagation(),ot.emit("OPEN_CHOOSE_MODAL",{type:"KICK_FORM_GROUP",extraData:t.groupID})};return Z("div",{className:"p-4",children:[Z("div",{className:"mb-3 font-medium",children:[A("span",{children:O("placeholder.groupMember")}),A("span",{className:"ml-2",children:t==null?void 0:t.memberCount})]}),Z("div",{className:"flex flex-wrap items-center",children:[r.groupMemberList.slice(0,s).map(u=>Z("div",{title:u.nickname,className:ec["member-item"],onClick:()=>window.userClick(u.userID,u.groupID),children:[A(Sn,{src:u.faceURL,text:u.nickname,size:36}),A("div",{className:"mt-2 min-h-[16px] max-w-full truncate text-xs",children:u.nickname})]},u.userID)),Z("div",{className:Mt(ec["member-item"],"cursor-pointer"),onClick:a,children:[A("img",{width:36,src:eue,alt:"invite"}),A("div",{className:"mt-2 max-w-full truncate text-xs text-[var(--sub-text)]",children:O("placeholder.add")})]}),!e&&Z("div",{className:Mt(ec["member-item"],"cursor-pointer"),onClick:c,children:[A("img",{width:36,src:tue,alt:"kick"}),A("div",{className:"mt-2 max-w-full truncate text-xs text-[var(--sub-text)]",children:O("placeholder.remove")})]})]}),A("div",{className:"flex cursor-pointer items-center justify-center pt-2 text-xs text-[var(--primary)]",onClick:n,children:O("placeholder.viewMore")})]})},rue=l.memo(nue),oue=[{title:O("placeholder.forbidLookMemberInfo"),field:"lookMemberInfo"},{title:O("placeholder.forbidAddMember"),field:"applyMemberFriend"}],iue=l.memo(({applyMemberFriend:t,lookMemberInfo:e,tryChange:n})=>{const[r,o]=l.useState(!1);return A(dn,{spinning:r,children:A("div",{className:"p-1",children:oue.map(i=>{const s=i.field==="applyMemberFriend"?t:e;return Z("div",{className:"flex cursor-pointer items-center rounded p-3 pr-1 text-xs hover:bg-[var(--primary-active)]",onClick:async()=>{o(!0),await n(+!s,i.field),o(!1)},children:[A("div",{className:"w-44",children:i.title}),A("div",{className:"w-4",children:s===Ph.NotAllowed&&A(Ds,{className:"text-[var(--primary)]",rev:void 0})})]},i.field)})})})});function sue({closeOverlay:t}){const e=tt(d=>d.currentGroupInfo),n=ct(d=>d.selfInfo.userID),r=l.useCallback(async d=>{if(e)try{await ce.setGroupInfo({...d,groupID:e.groupID})}catch(f){mt({error:f,msg:O("toast.updateGroupInfoFailed")})}},[e==null?void 0:e.groupID]),o=l.useCallback(async d=>{if(e)try{await ce.setGroupMemberInfo({groupID:e.groupID,userID:n,nickname:d})}catch(f){mt({error:f})}},[n,e==null?void 0:e.groupID]),i=l.useCallback(async d=>{if(e)try{await ce.setGroupInfo({groupID:e==null?void 0:e.groupID,needVerification:d})}catch(f){mt({error:f,msg:O("toast.updateGroupVerificationFailed")})}},[e==null?void 0:e.groupID]),s=l.useCallback(async()=>{if(!e)return;const d=e.status===bp.Muted,f=async()=>{try{await ce.changeGroupMute({groupID:e.groupID,isMute:!d})}catch(m){mt({error:m})}};d?await f():mo.confirm({title:O("placeholder.allMuted"),content:Z("div",{className:"flex items-baseline",children:[A("div",{children:O("toast.confirmAllMuted")}),A("span",{className:"text-xs text-[var(--sub-text)]",children:O("placeholder.onlyManageCanSend")})]}),onOk:f})},[e==null?void 0:e.status,e==null?void 0:e.groupID]),a=l.useCallback(async(d,f)=>{if(e)try{await ce.setGroupInfo({groupID:e.groupID,[f]:d})}catch(m){mt({error:m})}},[]);return{currentGroupInfo:e,updateGroupInfo:r,updateGroupMuteAll:s,updateNickNameInGroup:o,updateGroupVerification:i,updateGroupMemberPermission:a,tryQuitGroup:()=>{e&&mo.confirm({title:O("placeholder.exitGroup"),content:Z("div",{className:"flex items-baseline",children:[A("div",{children:O("toast.confirmExitGroup")}),A("span",{className:"text-xs text-[var(--sub-text)]",children:O("placeholder.exitGroupToast")})]}),onOk:async()=>{try{await ce.quitGroup(e.groupID),t()}catch(d){mt({error:d})}}})},tryDismissGroup:()=>{e&&mo.confirm({title:O("placeholder.disbandGroup"),content:Z("div",{className:"flex items-baseline",children:[A("div",{children:O("toast.confirmDisbandGroup")}),A("span",{className:"text-xs text-[var(--sub-text)]",children:O("placeholder.disbandGroupToast")})]}),onOk:async()=>{try{await ce.dismissGroup(e.groupID),t()}catch(d){mt({error:d})}}})}}}const tc=[{title:O("placeholder.applyNeedInvite"),type:Lu.ApplyNeedInviteNot},{title:O("placeholder.applyNeedVerification"),type:Lu.AllNeed},{title:O("placeholder.applyAll"),type:Lu.AllNot}];Or.on("languageChanged",()=>{tc[0].title=O("placeholder.applyNeedInvite"),tc[1].title=O("placeholder.applyNeedVerification"),tc[2].title=O("placeholder.applyAll")});const aue=l.memo(({activeType:t,tryChange:e})=>{const[n,r]=l.useState(!1);return A(dn,{spinning:n,children:A("div",{className:"p-1",children:tc.map(o=>Z("div",{className:"flex cursor-pointer items-center rounded p-3 pr-2 text-xs hover:bg-[var(--primary-active)]",onClick:async()=>{o.type!==t&&(r(!0),await e(o.type),r(!1))},children:[A("div",{className:"w-40",children:o.title}),t===o.type&&A(Ds,{className:"text-[var(--primary)]",rev:void 0})]},o.type))})})}),lue=({updateTravel:t,closeOverlay:e})=>{var _;const n=tt(P=>{var M;return(M=P.currentMemberInGroup)==null?void 0:M.nickname}),{isNomal:r,isOwner:o,isAdmin:i,isJoinGroup:s}=rl(),{currentConversation:a,updateConversationPin:c,updateConversationMessageRemind:u,clearConversationMessages:d}=cM(),{currentGroupInfo:f,updateGroupInfo:m,updateGroupMuteAll:h,updateNickNameInGroup:g,updateGroupVerification:p,updateGroupMemberPermission:w,tryQuitGroup:v,tryDismissGroup:y}=sue({closeOverlay:e}),[b,C]=yp(),S=async({file:P})=>{try{const{data:{url:M}}=await ce.uploadFile({name:P.name,contentType:P.type,uuid:On(),file:P});await m({faceURL:M})}catch(M){mt({error:O("toast.updateAvatarFailed")})}},x=l.useCallback(async P=>{await m({groupName:P})},[m]),I=()=>{ot.emit("OPEN_CHOOSE_MODAL",{type:"TRANSFER_IN_GROUP",extraData:f==null?void 0:f.groupID})},E=i||o;return Z("div",{className:"flex h-full flex-col",children:[A("div",{className:"flex items-center p-4",children:Z("div",{className:"flex items-center",children:[A(Wc,{accept:"image/*",className:Mt({"disabled-upload":r}),openFileDialogOnClick:E,showUploadList:!1,customRequest:S,children:Z("div",{className:"relative",children:[A(Sn,{isgroup:!0,src:f==null?void 0:f.faceURL,text:f==null?void 0:f.groupName}),E&&A("img",{className:"absolute -bottom-1 -right-1",width:15,src:Zce,alt:"edit avatar"})]})}),A(Wg,{textClassName:"font-medium",value:f==null?void 0:f.groupName,editable:E,onChange:x})]})}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),f&&s&&A(rue,{currentGroupInfo:f,isNomal:r,updateTravel:t}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"pb-2",title:"".concat(O("placeholder.group"),"ID"),children:Z("div",{className:"flex items-center",children:[A("span",{className:"mr-1 text-xs text-[var(--sub-text)]",children:f==null?void 0:f.groupID}),A("img",{className:"cursor-pointer",width:14,src:Jce,alt:"",onClick:()=>{var P;C((P=f==null?void 0:f.groupID)!=null?P:""),mt({msg:O("toast.copySuccess")})}})]})}),A(wr,{title:O("placeholder.groupTppe"),children:A("span",{className:"text-xs text-[var(--sub-text)]",children:O("placeholder.workGroup")})}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{hidden:!s,className:"pb-2",title:O("placeholder.myGroupNickname"),children:A(Wg,{textClassName:"text-xs text-[var(--sub-text)]",value:n,editable:!0,onChange:g})}),A(wr,{hidden:!s,className:"pb-2",title:O("placeholder.sticky"),value:a==null?void 0:a.isPinned,tryChange:c}),A(wr,{hidden:!s,className:"pb-2",title:O("placeholder.notNotify"),value:(a==null?void 0:a.recvMsgOpt)===Ko.NotNotify,tryChange:P=>u(P,Ko.NotNotify)}),E&&A(wr,{className:"pb-2",title:O("placeholder.allMuted"),value:(f==null?void 0:f.status)===bp.Muted,tryChange:h}),A(wr,{className:"cursor-pointer",title:O("toast.clearChatHistory"),rowClick:d,children:A(er,{rev:void 0})}),E?Z(to,{children:[A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"cursor-pointer pb-2",title:O("placeholder.groupVerification"),children:A(ho,{content:A(aue,{activeType:f==null?void 0:f.needVerification,tryChange:p}),trigger:"click",placement:"topLeft",title:null,arrow:!1,children:Z("div",{className:"flex items-center",children:[A("span",{className:"mr-1 text-xs text-[var(--sub-text)]",children:(_=tc[Number(f==null?void 0:f.needVerification)])==null?void 0:_.title}),A(er,{rev:void 0})]})})}),A(ho,{content:A(iue,{applyMemberFriend:f==null?void 0:f.applyMemberFriend,lookMemberInfo:f==null?void 0:f.lookMemberInfo,tryChange:w}),trigger:"click",placement:"topRight",title:null,arrow:!1,children:A("div",{children:A(wr,{className:"cursor-pointer",title:O("placeholder.groupMemberPermissions"),children:A(er,{rev:void 0})})})}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"})]}):A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),o&&Z(to,{children:[A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"cursor-pointer",title:O("placeholder.transferGroup"),rowClick:I,children:A(er,{rev:void 0})})]}),A("div",{className:"flex-1"}),s&&A("div",{className:"flex w-full justify-center pb-3 pt-24",children:o?A(un,{type:"primary",danger:!0,onClick:y,children:O("placeholder.disbandGroup")}):A(un,{type:"primary",danger:!0,ghost:!0,onClick:v,children:O("placeholder.exitGroup")})})]})},cue=l.memo(lue),uue=(t,e)=>{const n=l.useRef(null),[r,o]=l.useState(!1),[i,s]=l.useState(!1),{isOverlayOpen:a,closeOverlay:c}=Pr(e),u=m=>{var h;(h=n.current)==null||h.searchMember(m)},d=m=>{o(m)},f=()=>{s(!1),o(!1)};return A(Tf,{title:i?A(Qce,{back2Settings:f,searchMemebers:u,updateSearching:d}):O("placeholder.setting"),destroyOnClose:!0,placement:"right",rootClassName:"chat-drawer",onClose:c,afterOpenChange:m=>{m||f()},open:a,maskClassName:"opacity-0",maskMotion:{visible:!1},width:460,getContainer:"#chat-container",children:i?A(Hce,{ref:n,isSearching:r}):A(cue,{closeOverlay:c,updateTravel:()=>s(!0)})})},due=l.memo(l.forwardRef(uue)),fue=({triggerSearch:t},e)=>{const[n,r]=l.useState(""),{run:o}=gp(()=>t(n),{wait:500});return l.useImperativeHandle(e,()=>({clear:()=>r("")}),[]),A("div",{className:"px-5.5",children:A(lr,{value:n,allowClear:!0,spellCheck:!1,onChange:i=>{r(i.target.value),o()},placeholder:O("placeholder.search"),prefix:A(qa,{rev:void 0})})})},uM=l.memo(l.forwardRef(fue)),R1={loading:!1,hasMore:!0,pageIndex:1,messageList:[]},mue=({isActive:t,conversationID:e,isOverlayOpen:n})=>{const r=l.useRef(""),o=l.useRef(null),[i,s]=l.useState({...R1}),a=xr(i);l.useEffect(()=>{var f;const u=(m,h)=>{const{clientMsgID:g}=At.getState().downloadMap[m],p=a.current.messageList.findIndex(w=>w.clientMsgID===g);p>-1&&s(w=>{const v=[...w.messageList];return v[p].localEx=h,{...w,messageList:v}})},d=(f=window.electronAPI)==null?void 0:f.subscribe("downloadSuccess",u);return()=>{d==null||d()}},[]),l.useEffect(()=>()=>{var u;n||(s({...R1}),(u=o.current)==null||u.clear())},[e,n]),l.useEffect(()=>{t&&c("")},[t]);const c=(u,d=!1)=>{!i.hasMore&&d||i.loading||!e||(s(f=>({...f,loading:!0})),ce.searchLocalMessages({conversationID:e,keywordList:[u],keywordListMatchType:0,senderUserIDList:[],messageTypeList:[ge.FileMessage],searchTimePosition:0,searchTimePeriod:0,pageIndex:d?i.pageIndex:1,count:20}).then(({data:f})=>{const m=f.searchResultItems?f.searchResultItems[0].messageList:[];s(h=>({loading:!1,pageIndex:h.pageIndex+1,hasMore:m.length===20,messageList:[...d?h.messageList:[],...m]}))}).catch(f=>{s(m=>({...m,loading:!1})),mt({error:f,msg:O("toast.getMessageListFailed")})}),r.current=u)};return Z("div",{className:"flex h-full flex-col",children:[A(uM,{ref:o,triggerSearch:c}),A("div",{className:"my-2 flex-1 px-2.5",children:A(No,{className:"h-full overflow-x-hidden",data:i.messageList,endReached:()=>c(r.current,!0),components:{EmptyPlaceholder:()=>i.loading?null:A(sr,{className:"flex h-full flex-col items-center justify-center",description:O("empty.noSearchResults")}),Footer:()=>i.loading?A("div",{className:"flex w-full justify-center py-3",children:A(dn,{spinning:!0})}):null},itemContent:(u,d)=>A(gue,{message:d})})})]})},hue=l.memo(mue),gue=l.memo(({message:t})=>{const{fileElem:e}=t,{progress:n,downloadState:r,tryDownload:o}=rs(t);return A(L2,{viewInFinder:()=>{var a;const s=t.localEx||Ki(t).path;s&&((a=window.electronAPI)==null||a.showInFinder(s))},children:A("div",{className:"flex cursor-pointer items-center justify-between rounded-md px-3 py-2.5 hover:bg-[var(--primary-active)]",onClick:o,children:Z("div",{className:"flex items-center",children:[Z("div",{className:"relative",children:[A("img",{width:38,src:ol,alt:"file"}),r!=="finish"&&A("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-md bg-[rgba(0,0,0,.4)]",children:A(os,{pausing:r==="pause",percent:n!=null?n:0})})]}),Z("div",{className:"ml-3",children:[A("div",{children:e.fileName}),Z("div",{className:"mt-2 flex items-center text-xs",children:[A("div",{children:qf(e.fileSize)}),A("div",{className:"ml-3.5 mr-2 max-w-[120px] truncate text-[var(--sub-text)]",children:t.senderNickname}),A("div",{className:"text-[var(--sub-text)]",children:qi(t.sendTime)})]})]})]})})})}),T1=({isVideo:t,isActive:e,conversationID:n})=>{const[r,o]=l.useState({loading:!1,hasMore:!0,pageIndex:1,weekMessage:[],monthMessage:[],earlierMessage:[],previewItems:[]}),i=xr(r),s=l.useRef(null);l.useEffect(()=>{var m;const d=(h,g)=>{const{isMediaMessage:p,clientMsgID:w}=At.getState().downloadMap[h],v=["weekMessage","monthMessage","earlierMessage"],y=S=>{const x=i.current[S].findIndex(I=>I.clientMsgID===w);x>-1&&o(I=>{const E=[...I[S]];return E[x].localEx=g,{...I,[S]:E}})};if(v.forEach(y),!p)return;const b=[...i.current.previewItems],C=b.findIndex(S=>S.clientMsgID===w);C>=0&&(b[C].url="file://".concat(g),o(S=>({...S,previewItems:b})))},f=(m=window.electronAPI)==null?void 0:m.subscribe("downloadSuccess",d);return()=>{f==null||f()}},[]),l.useEffect(()=>()=>{o(d=>({...d,weekMessage:[],monthMessage:[],earlierMessage:[],previewItems:[]}))},[n]),l.useEffect(()=>{e&&a(!0)},[e]);const a=(d=!1)=>{!r.hasMore&&!d||r.loading||!n||(o(f=>({...f,loading:!0,pageIndex:d?1:f.pageIndex})),ce.searchLocalMessages({conversationID:n,keywordList:[],keywordListMatchType:0,senderUserIDList:[],messageTypeList:[t?ge.VideoMessage:ge.PictureMessage],searchTimePosition:0,searchTimePeriod:0,pageIndex:d?1:r.pageIndex,count:20}).then(({data:f})=>{const m=f.searchResultItems?f.searchResultItems[0].messageList:[],h=d?[]:[...r.weekMessage],g=d?[]:[...r.monthMessage],p=d?[]:[...r.earlierMessage],w=d?[]:[...r.previewItems];m.map(v=>{var b,C,S;const y=v.sendTime;JM(y)?h.push(v):ZM(y)?g.push(v):p.push(v),t||w.push({url:(b=_d(v))!=null?b:"",clientMsgID:v.clientMsgID,thumbUrl:(S=(C=v.pictureElem)==null?void 0:C.snapshotPicture.url)!=null?S:""})}),o(v=>({loading:!1,pageIndex:v.pageIndex+1,hasMore:m.length===20,weekMessage:h,monthMessage:g,earlierMessage:p,previewItems:w}))}).catch(f=>{o(m=>({...m,loading:!1})),mt({error:f,msg:O("toast.getMessageListFailed")})}))},c=l.useCallback(d=>{var m,h;const f=r.previewItems.findIndex(g=>g.clientMsgID===d);f<0||(window.electronAPI&&r.previewItems[f].url.startsWith("http")&&pi(r.previewItems[f].url,{clientMsgID:d,conversationID:n,isMediaMessage:!0,saveType:"image",showError:!0}),(m=s.current)==null||m.setAlbumCurrent(f),(h=s.current)==null||h.setAlbumVisible(!0))},[r.previewItems.length]),u=[r.weekMessage,r.monthMessage,r.earlierMessage];return Z("div",{className:"h-full px-5.5 pb-2",children:[u.flat().length>0?A(No,{className:"h-full overflow-x-hidden",data:u,endReached:()=>a(),components:{Footer:()=>r.loading?A(dn,{}):null},itemContent:(d,f)=>{switch(d){case 0:return f.length?A(Ih,{title:O("date.thisWeek"),messageList:f,preview:c}):A(Fu,{});case 1:return f.length?A(Ih,{title:O("date.thisMonth"),messageList:f,preview:c}):A(Fu,{});case 2:return f.length?A(Ih,{title:O("date.earlier"),messageList:f,preview:c}):A(Fu,{});default:return A(Fu,{})}}}):A(sr,{className:"flex h-full flex-col items-center justify-center",description:O("empty.noSearchResults")}),A(bue,{conversationID:n,previewItems:r.previewItems,ref:s})]})},Ih=({title:t,messageList:e,preview:n})=>Z("div",{className:"mb-3",children:[A("div",{className:"mb-3",children:t}),A("div",{className:"grid grid-cols-4 gap-2",children:e.map(r=>A(pue,{preview:n,message:r},r.clientMsgID))})]}),pue=({message:t,preview:e})=>{const{showVideoPlayer:n}=Jc(),r=d=>{n("file://".concat(d))},{progress:o,downloadState:i,tryDownload:s}=rs(t,r),a=t.contentType===ge.VideoMessage,c=()=>{if(window.electronAPI){s();return}n(t.videoElem.videoUrl)},u=()=>{var d,f,m;return!a&&t.localEx&&((d=window.electronAPI)!=null&&d.fileExists(t.localEx))?t.localEx:!a&&t.pictureElem.sourcePath&&((f=window.electronAPI)!=null&&f.fileExists(t.pictureElem.sourcePath))?t.pictureElem.sourcePath:a&&t.videoElem.snapshotPath&&((m=window.electronAPI)!=null&&m.fileExists(t.videoElem.snapshotPath))?t.videoElem.snapshotPath:a?t.videoElem.snapshotUrl:t.pictureElem.snapshotPicture.url};return Z("div",{className:Mt("grid-image relative flex h-[90px] items-center justify-center overflow-hidden rounded-md",{"cursor-pointer":a}),children:[A(il,{src:u(),height:90,preview:a?!1:{visible:!1},onClick:()=>!a&&(e==null?void 0:e(t.clientMsgID)),className:"object-cover"}),a&&A("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",onClick:c,children:A(os,{size:40,pausing:i==="pause",finished:i==="finish"||!window.electronAPI,percent:o})})]},t.clientMsgID)},Fu=()=>A("div",{className:"h-px"}),vue=({previewItems:t,conversationID:e},n)=>{const[r,o]=l.useState(0),[i,s]=l.useState(!1),a=ct(f=>f.imageCache),c=At(f=>f.updateDownloadTask),u=f=>{var p,w,v;const{url:m,clientMsgID:h}=t[f],g=nl({downloadMap:At.getState().downloadMap,compareKey:"clientMsgID",compareValue:h});if((g==null?void 0:g.downloadState)==="pause"){(p=window.electronAPI)==null||p.ipcInvoke("resumeDownload",g==null?void 0:g.downloadUrl),c((w=g==null?void 0:g.downloadUrl)!=null?w:"",{downloadState:"downloading"});return}if(!m.startsWith("http")){(v=window.electronAPI)==null||v.showInFinder(m.replace("file://",""));return}pi(m,{clientMsgID:h,conversationID:e,isMediaMessage:!0,saveType:"image",showError:!0})};l.useImperativeHandle(n,()=>({setAlbumCurrent:o,setAlbumVisible:s}),[]);const d=t.map(f=>{var m,h;return!window.electronAPI||f.url.startsWith("file://")||!f.thumbUrl?f.url:a[(m=f.thumbUrl)!=null?m:""]?"file://".concat(a[(h=f.thumbUrl)!=null?h:""]):f.thumbUrl});return A("div",{style:{display:"none"},children:A(Of.PreviewGroup,{items:d,preview:{current:r,visible:i,toolbarRender:(f,{current:m})=>A(V2,{clientMsgID:t[m].clientMsgID,dom:f,isFileDownloaded:!t[m].url.startsWith("http"),onDownloadOrShowFinder:()=>u(m)}),onChange:f=>o(f),onVisibleChange:f=>s(f)}})})},bue=l.memo(l.forwardRef(vue)),O1={loading:!1,hasMore:!0,pageIndex:1,messageList:[]},wue=({conversationID:t,isOverlayOpen:e,closeOverlay:n})=>{const r=l.useRef(""),o=l.useRef(null),[i,s]=l.useState({...O1});l.useEffect(()=>()=>{var c;e||(s({...O1}),(c=o.current)==null||c.clear())},[t,e]);const a=(c,u=!1)=>{!i.hasMore&&u||i.loading||!t||!c||(s(d=>({...d,loading:!0})),ce.searchLocalMessages({conversationID:t,keywordList:[c],keywordListMatchType:0,senderUserIDList:[],messageTypeList:YY,searchTimePosition:0,searchTimePeriod:0,pageIndex:u?i.pageIndex:1,count:20}).then(({data:d})=>{const f=d.searchResultItems?d.searchResultItems[0].messageList:[];s(m=>({loading:!1,pageIndex:m.pageIndex+1,hasMore:f.length===20,messageList:[...u?m.messageList:[],...f]}))}).catch(d=>{s(f=>({...f,loading:!1})),mt({error:d,msg:O("toast.getMessageListFailed")})}),r.current=c)};return Z("div",{className:"flex h-full flex-col",children:[A(uM,{ref:o,triggerSearch:a}),A("div",{className:"m-2 flex-1",children:A(No,{className:"h-full overflow-x-hidden",data:i.messageList,endReached:()=>a(r.current,!0),components:{EmptyPlaceholder:()=>i.loading?null:A(sr,{className:"flex h-full flex-col items-center justify-center",description:O("empty.noSearchResults")}),Footer:()=>i.loading?A("div",{className:"flex w-full justify-center py-3",children:A(dn,{spinning:!0})}):null},itemContent:(c,u)=>A(Cue,{message:u,conversationID:t,closeOverlay:n})})})]})},yue={[ge.TextMessage]:Ca,[ge.AtTextMessage]:Ca,[ge.QuoteMessage]:Ca,[ge.VoiceMessage]:Y2,[ge.PictureMessage]:Md,[ge.VideoMessage]:Md,[ge.CardMessage]:z2,[ge.FileMessage]:W2,[ge.LocationMessage]:G2,[ge.CustomMessage]:U2},Cue=({message:t,conversationID:e,closeOverlay:n})=>{const r=l.useRef(null),o=yue[t.contentType]||Zf;return A(F2,{ref:r,message:t,conversationID:e,afterJump:n,children:Z("div",{className:"flex items-start rounded-md px-3.5 py-3 hover:bg-[var(--primary-active)]",onDoubleClick:()=>{var i;return(i=r.current)==null?void 0:i.jumpToHistory()},children:[A(Sn,{src:t.senderFaceUrl,text:t.senderNickname}),Z("div",{className:"ml-3 flex-1 select-text",children:[Z("div",{className:"mb-1 flex items-center text-xs",children:[A("div",{title:t.senderNickname,className:"max-w-[30%] truncate text-[var(--sub-text)]",children:t.senderNickname}),A("div",{className:"ml-2 text-[var(--sub-text)]",children:qi(t.sendTime)})]}),A(o,{disabled:!0,message:t,isSender:!1})]})]})})},Sue=(t,e)=>{const{conversationID:n}=wp(),[r,o]=l.useState("0"),{isOverlayOpen:i,closeOverlay:s}=Pr(e);l.useEffect(()=>{i||o("0")},[i]);const a=[{key:"0",label:O("placeholder.chat"),children:A(wue,{conversationID:n,isOverlayOpen:i,closeOverlay:s})},{key:"1",label:O("placeholder.image"),children:A(T1,{isActive:r==="1",conversationID:n})},{key:"2",label:O("placeholder.video"),children:A(T1,{isVideo:!0,isActive:r==="2",conversationID:n})},{key:"3",label:O("placeholder.file"),children:A(hue,{isActive:r==="3",isOverlayOpen:i,conversationID:n})}],c=u=>{o(u)};return A(Tf,{title:O("placeholder.messageHistory"),placement:"right",rootClassName:"chat-drawer",onClose:s,open:i,maskClassName:"opacity-0",maskMotion:{visible:!1},width:450,getContainer:"#chat-container",children:A(fI,{activeKey:r,className:"message-drawer-tab",items:a,onChange:c})})},xue=l.memo(l.forwardRef(Sue)),Aue=(t,e)=>{var w,v;const n=l.useRef(null),{currentConversation:r,updateBurnDuration:o,updateConversationPin:i,updateConversationMessageRemind:s,updateConversationPrivateState:a,clearConversationMessages:c}=cM(),u=mn(y=>y.blackList).some(y=>(r==null?void 0:r.userID)===y.userID),d=mn(y=>y.friendList).some(y=>(r==null?void 0:r.userID)===y.userID),{isOverlayOpen:f,closeOverlay:m}=Pr(e),h=async()=>{if(!r)return;const y=async()=>{try{u?await ce.removeBlack(r==null?void 0:r.userID):await ce.addBlack({toUserID:r==null?void 0:r.userID})}catch(b){mt({error:b,msg:O("toast.updateBlackStateFailed")})}};u?await y():mo.confirm({title:O("placeholder.moveBlacklist"),content:Z("div",{className:"flex items-baseline",children:[A("div",{children:O("toast.confirmMoveBlacklist")}),A("span",{className:"text-xs text-[var(--sub-text)]",children:O("placeholder.willFilterThisUserMessage")})]}),onOk:y})},g=()=>{r&&mo.confirm({title:O("placeholder.unfriend"),content:O("toast.confirmUnfriend"),onOk:async()=>{try{await ce.deleteFriend(r.userID)}catch(y){mt({error:y,msg:O("toast.unfriendFailed")})}}})},p=()=>{ot.emit("OPEN_USER_CARD",{userID:r==null?void 0:r.userID})};return Z(Tf,{title:O("placeholder.setting"),placement:"right",rootClassName:"chat-drawer",destroyOnClose:!0,onClose:m,open:f,maskClassName:"opacity-0",maskMotion:{visible:!1},width:450,getContainer:"#chat-container",children:[Z("div",{className:"flex cursor-pointer items-center justify-between p-4",onClick:p,children:[Z("div",{className:"flex items-center",children:[A(Sn,{src:r==null?void 0:r.faceURL,text:r==null?void 0:r.showName}),A("div",{className:"ml-3",children:r==null?void 0:r.showName})]}),A(er,{rev:void 0})]}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"pb-2",title:O("placeholder.sticky"),value:r==null?void 0:r.isPinned,tryChange:i}),A(wr,{className:"pb-2",title:O("placeholder.notNotify"),value:(r==null?void 0:r.recvMsgOpt)===Ko.NotNotify,tryChange:y=>s(y,Ko.NotNotify)}),A(wr,{title:O("placeholder.moveBlacklist"),value:u,tryChange:h}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"pb-2",title:O("placeholder.privateChat"),value:r==null?void 0:r.isPrivateChat,tryChange:a}),A(wr,{className:"cursor-pointer",title:O("placeholder.privateChatTime"),value:!1,rowClick:()=>{var y;return(y=n.current)==null?void 0:y.openOverlay()},children:Z("div",{className:"flex items-center",children:[A("span",{className:"mr-1 text-xs text-[var(--sub-text)]",children:"".concat((w=r==null?void 0:r.burnDuration)!=null?w:30,"s")}),A(er,{rev:void 0})]})}),A(Wn,{className:"m-0 border-4 border-[#F4F5F7]"}),A(wr,{className:"cursor-pointer",title:O("toast.clearChatHistory"),rowClick:c,children:A(er,{rev:void 0})}),A("div",{className:"flex-1"}),d&&A("div",{className:"flex w-full justify-center pb-3 pt-24",children:A(un,{type:"primary",danger:!0,onClick:g,children:O("placeholder.unfriend")})}),A(Pue,{ref:n,burnDuration:(v=r==null?void 0:r.burnDuration)!=null?v:30,updateBurnDuration:o})]})},Eue=l.memo(l.forwardRef(Aue)),Iue=[{title:"30s",value:30},{title:O("date.minute",{num:5}),value:60*5},{title:O("date.hour",{num:1}),value:60*60}],_ue=({burnDuration:t,updateBurnDuration:e},n)=>{const[r,o]=l.useState(t),{closeOverlay:i,isOverlayOpen:s}=Pr(n),{loading:a,runAsync:c}=qo(e,{manual:!0}),u=async()=>{r!==void 0&&(await c(r),i())};return A(ni,{title:null,footer:null,closable:!1,open:s,destroyOnClose:!0,centered:!0,onCancel:i,width:320,className:"no-padding-modal",children:A(dn,{spinning:a,children:Z("div",{className:"py-6",children:[Z("div",{className:"flex items-center justify-between px-5",children:[A(c2,{className:"cursor-pointer !text-[#8e9aaf]",onClick:i}),A("div",{children:O("placeholder.privateChatTime")}),A("span",{className:"cursor-pointer text-[var(--primary)]",onClick:u,children:O("placeholder.save")})]}),A("div",{className:"mt-5",children:Iue.map(d=>Z("div",{className:Mt("flex cursor-pointer items-center justify-between px-6 py-4 hover:bg-[var(--primary-active)]",{"bg-[var(--primary-active)]":r===d.value}),onClick:()=>o(d.value),children:[A("span",{children:d.title}),r===d.value&&A(Ds,{className:"!text-[var(--primary)]"})]},d.value))})]})})})},Pue=l.memo(l.forwardRef(_ue)),Mue="_blink_1w78s_1",ed={"notice-card":"_notice-card_1w78s_1","dot-1":"_dot-1_1w78s_16","dot-2":"_dot-2_1w78s_17","dot-3":"_dot-3_1w78s_18",blink:Mue},kue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA0VJREFUWEe9l99rFFccxc+ZKG2NJbshu7MWIcFgg7baBEu1tCg+FGwLrVKagi/+QLD+D4q0/Qt80kKpPhUtLbVoLfRJQWwEJTVVJMouidhkZrJmdy2Ngu6ccqeunU12vdm42fu2c79zzud+597v3i9hGZKW+vdKm1XWB6DeovgKIBdke9Wr0j8AfVETEC/DwS+ZrsRFko+eZcF6k5KWBEFpnxgeAozpQoYmQOcLt6vjW5KPaynMAZDk+Pn7g1D4JYDVC7Gd/Y6AWwAPZlIdP5BUfH4OgBcUP5PC4yRfaoZ5RUPSDNu4M9OV/LkugO8XPxH1PQCnmeYxrRDgzkw6cary7GkGfH96fQgMNXvlcz6H9KCNfCedTg6buQhAUpsXFEZIrl2klVfLStfddLKfZDkC8P3i56KOtsT8iQnFA66bOMapKb38OCxmSaRaCQAhWLoksZqTQWE3geMtNX9iJmCPAThBYJcNYPxugOEbOazr60Zvz4qa4ddHx5G74+ONNT3oXpm2SZrN97UBOE9giy36zG+X8ffMwyhsVXcGmwb6ql4ZGh5FbtyLni1vfxEfvbfRJgkBFzjpF8ZIdNuizepGbo49DYtDxM1NwIZ1vejrXWmThKBRA/CQxAvWaACzjQyEGZWV18tOfW2V6AWFqtpsAzEQ2TEPrPE3VuvT2PQaBjCCtSAWYh5VwkYzUAGIp73x1P+fl4YB4vtAQtWnWEgWGtqEV0Zu41ZuIsI35r09TdiE8z2Go9m7uPpntu4xjG/Mho6h508PgbRWDVshimcn2dGO97e+aTsA/xUiz58+BnK/LdqU4j9u5KIy/Hpf7bplilV2bBL9r62aXykGjjAISttChL/aABZlvs15m5LoTRWvEhhYFJP6otcy5lJi5v18YbtC/NRKADrY4XYlT1euZK3OQrT6qBJWVh0Ehf6ydKkVl1IH2OS6nSNVAObHZFD8lIiu5Ys1QoqDrpv4sWIwtzHJFz5WWd+RXNZMCkkP6GAwk+o8G9et2RsGQWGgDJwk8GozIExr5giDrpu8Nlvvmc2pny/thcLDz9OcUs5X6XTHN/NuTmcTmvbcyxffRYgPQW20t+f4y4EuETyXSiV+t7Xn/wJZTo1rOsHLAAAAAABJRU5ErkJggg==",Rue=({currentGroupInfo:t,conversationID:e,openGroupAnnouncementDrawer:n})=>{const[r,o]=l.useState(),i=tt(a=>a.updateCurrentConversationFields);l.useEffect(()=>{if(!(t!=null&&t.notificationUserID))return;(async()=>{try{const{data:c}=await ce.getSpecifiedGroupMembersInfo({groupID:t.groupID,userIDList:[t.notificationUserID]});o(c[0])}catch(c){console.error(c)}})()},[t==null?void 0:t.notificationUserID,t==null?void 0:t.groupID]);const s=()=>{e&&(ce.resetConversationGroupAtType(e),i({groupAtType:nd.AtNormal}))};return Z("div",{className:ed["notice-card"],onDoubleClick:()=>{n(),s()},children:[Z("div",{className:"flex items-center justify-between",children:[Z("div",{className:"flex items-center",children:[A("img",{width:20,src:j2,alt:"spear"}),A("span",{className:"ml-2 text-[var(--primary)]",children:O("placeholder.groupAnnouncement")})]}),A("img",{className:"cursor-pointer",width:16,src:kue,alt:"cancel",onClick:s})]}),A("div",{className:"mb-4 line-clamp-2 select-text pt-3",children:t==null?void 0:t.notification}),Z("div",{className:"flex w-fit items-center",onClick:()=>window.userClick(r==null?void 0:r.userID,r==null?void 0:r.groupID),children:[A(Sn,{size:20,src:r==null?void 0:r.faceURL,text:(r==null?void 0:r.nickname)||O("placeholder.administrator")}),A("div",{className:"ml-2 max-w-[120px] truncate text-xs text-[var(--sub-text)]",children:(r==null?void 0:r.nickname)||O("placeholder.administrator")})]})]})},ca=[{title:O("placeholder.groupAnnouncement"),icon:Mce,idx:0},{title:O("placeholder.historyList"),icon:kce,idx:1},{title:O("placeholder.createGroup"),icon:M1,idx:3},{title:O("placeholder.invitation"),icon:M1,idx:4},{title:O("placeholder.setting"),icon:Rce,idx:5}];Or.on("languageChanged",()=>{ca[0].title=O("placeholder.groupAnnouncement"),ca[1].title=O("placeholder.historyList"),ca[2].title=O("placeholder.createGroup"),ca[3].title=O("placeholder.invitation"),ca[4].title=O("placeholder.setting")});const Tue=({isBlackUser:t})=>{const e=l.useRef(null),n=l.useRef(null),r=l.useRef(null),o=l.useRef(null),i=tt(g=>g.currentConversation),s=tt(g=>g.currentGroupInfo),a=tt(g=>{var p;return!!((p=g.currentMemberInGroup)!=null&&p.groupID)});ct(g=>g.appSettings.locale),l.useEffect(()=>{var g,p,w,v,y,b;(g=e.current)!=null&&g.isOverlayOpen&&((p=e.current)==null||p.closeOverlay()),(w=n.current)!=null&&w.isOverlayOpen&&((v=n.current)==null||v.closeOverlay()),(y=r.current)!=null&&y.isOverlayOpen&&((b=r.current)==null||b.closeOverlay())},[i==null?void 0:i.conversationID]);const c=l.useCallback(()=>{var g;(g=o.current)==null||g.openOverlay()},[]),u=g=>{var p,w,v,y;switch(g){case 0:(p=o.current)==null||p.openOverlay();break;case 1:(w=r.current)==null||w.openOverlay();break;case 3:case 4:ot.emit("OPEN_CHOOSE_MODAL",{type:m?"CRATE_GROUP":"INVITE_TO_GROUP",extraData:m?[{...i}]:i==null?void 0:i.groupID});break;case 5:Ta(i==null?void 0:i.conversationType)?(v=n.current)==null||v.openOverlay():(y=e.current)==null||y.openOverlay();break}},d=()=>{if(m||f){window.userClick(i==null?void 0:i.userID);return}s&&ot.emit("OPEN_GROUP_CARD",s)},f=(i==null?void 0:i.conversationType)===ln.Notification,m=(i==null?void 0:i.conversationType)===ln.Single,h=(i==null?void 0:i.groupAtType)===nd.AtGroupNotice;return Z(Ms.Header,{className:"relative border-b border-b-[var(--gap-text)] !bg-white !px-3",children:[Z("div",{className:"flex h-full items-center leading-none",children:[Z("div",{className:"flex flex-1 items-center overflow-hidden",children:[A(Sn,{src:i==null?void 0:i.faceURL,text:i==null?void 0:i.showName,isgroup:!!(i!=null&&i.groupID),isnotification:f,onClick:d}),Z("div",{className:Mt("ml-3 flex !h-10.5 flex-1 flex-col justify-between overflow-hidden",f&&"!justify-center"),children:[A("div",{className:"truncate text-base font-semibold",children:i==null?void 0:i.showName}),m&&A(Nue,{userID:i==null?void 0:i.userID}),!m&&!f&&Z("div",{className:"flex items-center text-xs text-[var(--sub-text)]",children:[A("img",{width:20,src:Pce,alt:"member"}),A("span",{children:s==null?void 0:s.memberCount})]})]})]}),!f&&A("div",{className:"mr-5 flex",children:ca.map(g=>(g.idx===0||g.idx===4)&&(m||!a&&!m)||g.idx===3&&(!m||t)?null:A(To,{title:g.title,children:A("img",{className:"ml-5 cursor-pointer",width:20,src:g.icon,alt:"",onClick:()=>u(g.idx)})},g.idx))})]}),h&&A(Rue,{currentGroupInfo:s,conversationID:i==null?void 0:i.conversationID,openGroupAnnouncementDrawer:c}),A(Eue,{ref:e}),A(due,{ref:n}),A(xue,{ref:r}),A($ce,{ref:o})]})},Oue=l.memo(Tue),Nue=({userID:t})=>{const[e,n]=l.useState(!1),[r,o]=l.useState(),i=l.useRef(null),{loading:s,cancel:a}=qo(()=>ce.subscribeUsersStatus([t]),{refreshDeps:[t],onSuccess:({data:c})=>o(c[0])});return l.useEffect(()=>{const c=({data:u})=>{u.userID===t&&o(u)};return ce.on(Ue.OnUserStatusChanged,c),()=>{ce.off(Ue.OnUserStatusChanged,c),ce.unsubscribeUsersStatus([t]),a(),n(!1)}},[t]),l.useEffect(()=>{const c=()=>{n(!0),i.current=setTimeout(()=>{i.current&&clearTimeout(i.current),n(!1)},500)};return ot.on("TYPING_UPDATE",c),()=>{i.current&&clearTimeout(i.current),ot.off("TYPING_UPDATE",c)}},[]),A("div",{className:"flex items-center",children:e?Z("p",{className:"text-xs text-[var(--sub-text)]",children:[O("placeholder.typing")," ",A("span",{className:ed["dot-1"],children:"."}),A("span",{className:ed["dot-2"],children:"."}),A("span",{className:ed["dot-3"],children:"."})]}):!s&&Z(to,{children:[A("i",{className:Mt("mr-1.5 inline-block h-[6px] w-[6px] rounded-full bg-[#2ddd73]",{"bg-[#999]":(r==null?void 0:r.status)===q1.Offline})}),A("span",{className:"text-xs text-[var(--sub-text)]",children:$ue(r)})]})})},Due={1:"iOS",2:"Android",3:"Windows",4:"MacOSX",5:"Web",6:"MiniProgram",7:"Linux",8:"AndroidPad",9:"iPad"},$ue=t=>{var n;if(!t||t.status===q1.Offline)return O("placeholder.offLine");let e="";return(n=t.platformIDs)==null||n.map(r=>e+="".concat(Due[r],"/")),"".concat(e.slice(0,-1)).concat(O("placeholder.online"))};function Fue(){const t=ct(h=>h.syncState),e=xr(t),n=tt(h=>h.currentConversation),r=xr(n),o=tt(h=>h.updateCurrentConversationFields),i=tt(h=>{var g;return((g=h.currentGroupInfo)==null?void 0:g.status)===bp.Muted}),s=mn(h=>h.blackList.findIndex(g=>g.userID===(n==null?void 0:n.userID))!==-1),{isJoinGroup:a,isNomal:c,currentIsMuted:u}=rl();wb(()=>{t!=="loading"&&d()},[t]),wb(()=>{f()},[n==null?void 0:n.groupAtType,n==null?void 0:n.unreadCount]),l.useEffect(()=>{d()},[n==null?void 0:n.conversationID]),l.useEffect(()=>{function h(){document.visibilityState==="visible"&&d()}document.addEventListener("visibilitychange",h)},[]);const d=()=>{!r.current||e.current==="loading"||document.visibilityState==="hidden"||(r.current.unreadCount>0&&(ce.markConversationMessageAsRead(r.current.conversationID),o({unreadCount:0})),r.current.groupAtType!==nd.AtNormal&&r.current.groupAtType!==nd.AtGroupNotice&&ce.resetConversationGroupAtType(r.current.conversationID))},{run:f}=vp(d,{wait:2e3});return{getIsCanSendMessage:()=>n!=null&&n.userID?!s:!a||i&&c?!1:!u,currentIsMuted:u,isMutedGroup:i,isBlackUser:s,currentConversation:n}}function Lue({currentConversation:t,getIsCanSendMessage:e,insertImage:n}){const[r,o]=l.useState(!1),{createFileMessage:i}=lM(),{sendMessage:s}=Qc(),a=()=>{r&&o(!1)};return W1(document.getElementById("chat-container"),{onText:()=>{a()},onFiles:async(c,u)=>{if(!e())return;if(await Promise.all(c.map(async m=>await Bue(m))).then(m=>{c=c.filter((h,g)=>m[g])}),!c.length){Sr.error(O("toast.fileTypeError")),a();return}const d=[],f=[];if(c.map(m=>{w2.includes(QY(m.name))?d.push(m):f.push(m)}),d.length)for await(const m of d){const h=URL.createObjectURL(m);n({src:h})}f.length&&mo.confirm({title:"".concat(O("placeholder.sendTo")).concat(t==null?void 0:t.showName),icon:null,width:320,centered:!0,className:"drop-file-moal",content:A("div",{className:"h-[240px] overflow-y-auto border-b border-t border-[var(--gap-text)] p-2",children:f.map(m=>Z("div",{className:"mb-2 flex items-center",children:[A("img",{width:38,src:ol,alt:"file"}),Z("div",{className:"ml-3 overflow-hidden",children:[A("div",{className:"mb-1.5 truncate",children:m.name}),A("div",{className:"text-xs text-[var(--sub-text)]",children:qf(m.size)})]})]},m.lastModified))}),okText:O("confirm"),cancelText:O("cancel"),onOk:()=>{f.map(async m=>{const h=await i(m);s({message:h})})}}),a()},onUri:(c,u)=>{u==null||u.preventDefault(),a()},onDom:(c,u)=>{u==null||u.preventDefault(),a()},onDragEnter:c=>{(c==null?void 0:c.dataTransfer.types[0])!=="custom"&&e()&&o(!0)},onDragLeave:a}),{droping:r}}const Bue=t=>new Promise(e=>{const n=new FileReader;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.readAsText(t)});function Vue(){const t=ct(o=>o.selfInfo.userID);l.useEffect(()=>(e(),()=>{n()}),[t]);const e=()=>{ce.on(Ue.OnRecvC2CReadReceipt,r)},n=()=>{ce.off(Ue.OnRecvC2CReadReceipt,r)},r=({data:o})=>{var i;((i=tt.getState().currentConversation)==null?void 0:i.conversationType)===ln.Single&&o.map(s=>{var a;((a=s.msgIDList)!=null?a:[]).map(c=>{Oo({clientMsgID:c,isRead:!0})})})}}const jue=()=>{const t=At(f=>f.isCheckMode),e=tt(f=>f.updateCurrentConversation),n=l.useRef(null),{getIsCanSendMessage:r,isMutedGroup:o,currentIsMuted:i,isBlackUser:s,currentConversation:a}=Fue();Vue();const c=(a==null?void 0:a.conversationType)===ln.Notification,{droping:u}=Lue({currentConversation:a,insertImage:f=>{var m;return(m=n.current)==null?void 0:m.insertImage(f)},getIsCanSendMessage:r});return VM(()=>{e()}),Z(Ms,{id:"chat-container",className:"relative overflow-hidden",children:[A(Oue,{isBlackUser:s}),Z(ok,{direction:"vertical",children:[A(Cb,{id:"chat-main",order:0,children:A(yZ,{isNotificationSession:c})}),(()=>{if(c)return null;if(t)return A(_ce,{});if(!r()){let f=O("toast.notCanSendMessage");return o&&(f=O("toast.groupMuted")),i&&(f=O("toast.currentMuted")),s&&(f=O("toast.userBlacked")),a!=null&&a.draftText&&ce.setConversationDraft({conversationID:a.conversationID,draftText:""}),Z("div",{className:"flex justify-center py-4.5 text-xs text-[var(--sub-text)]",children:[A(Nq,{rev:void 0}),A("span",{className:"ml-1",children:f})]})}return Z(to,{children:[A(ik,{}),A(Cb,{id:"chat-footer",order:1,defaultSize:25,maxSize:60,className:"min-h-[200px]",children:A(wce,{ref:n})})]})})()]}),u&&A("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center bg-[rgba(248,229,229,0.4)]",children:A("div",{className:"max-w-[200px] truncate text-[var(--sub-text)]",children:"".concat(O("placeholder.loosenToSend")," ").concat(a==null?void 0:a.showName)})})]})},zue=[{path:"groupNotifications",async lazy(){const{GroupNotifications:t}=await fo(()=>import("./index-c3470c7b.js"),["./index-c3470c7b.js","./@openim-a63ca2b1.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./react-11ad9974.js","./@babel-260269db.js","./lodash-858845ea.js","./dayjs-58c5dd90.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./react-virtuoso-e1d9e9c1.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./index-cacc640d.js","./i18next-c73dc616.js","./react-i18next-61ba1977.js","./localforage-42b533ed.js","./electron-log-39892505.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{index:!0,async lazy(){const{MyFriends:t}=await fo(()=>import("./index-a5ca4e12.js"),["./index-a5ca4e12.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./react-11ad9974.js","./@babel-260269db.js","./lodash-858845ea.js","./dayjs-58c5dd90.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./react-virtuoso-e1d9e9c1.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./clsx-a2f71979.js","./react-i18next-61ba1977.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./electron-log-39892505.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"myGroups",async lazy(){const{MyGroups:t}=await fo(()=>import("./index-82c38be6.js"),["./index-82c38be6.js","./react-11ad9974.js","./@babel-260269db.js","./react-virtuoso-e1d9e9c1.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-i18next-61ba1977.js","./dayjs-58c5dd90.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./electron-log-39892505.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"newFriends",async lazy(){const{NewFriends:t}=await fo(()=>import("./index-3d746f5c.js"),["./index-3d746f5c.js","./@openim-a63ca2b1.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./react-11ad9974.js","./@babel-260269db.js","./lodash-858845ea.js","./dayjs-58c5dd90.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./react-virtuoso-e1d9e9c1.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./index-cacc640d.js","./i18next-c73dc616.js","./react-i18next-61ba1977.js","./localforage-42b533ed.js","./electron-log-39892505.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}}],Uue=[{path:"personal-settings",async lazy(){const{PersonalSettings:t}=await fo(()=>import("./index-f08646ee.js"),["./index-f08646ee.js","./react-11ad9974.js","./@babel-260269db.js","./dayjs-58c5dd90.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"about",async lazy(){const{About:t}=await fo(()=>import("./index-d5b18f01.js"),["./index-d5b18f01.js","./react-11ad9974.js","./@babel-260269db.js","./dayjs-58c5dd90.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"black-list",async lazy(){const{BlackList:t}=await fo(()=>import("./index-5c878c8d.js"),["./index-5c878c8d.js","./react-11ad9974.js","./@babel-260269db.js","./dayjs-58c5dd90.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"change-password",async lazy(){const{ChangePassword:t}=await fo(()=>import("./index-5d164fd3.js"),["./index-5d164fd3.js","./react-11ad9974.js","./@babel-260269db.js","./dayjs-58c5dd90.js","./i18next-c73dc616.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}},{path:"choose-contact",async lazy(){const{ChooseContact:t}=await fo(()=>import("./index-024fbc6f.js"),["./index-024fbc6f.js","./i18next-c73dc616.js","./@babel-260269db.js","./react-11ad9974.js","./dayjs-58c5dd90.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./clsx-a2f71979.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}}}],Hue=MM([{path:"/",element:A(yX,{}),errorElement:A(zX,{}),children:[{path:"/",element:A(pJ,{}),children:[{path:"/chat",async lazy(){const{Chat:t}=await fo(()=>import("./index-a2f272e2.js"),["./index-a2f272e2.js","./clsx-a2f71979.js","./@babel-260269db.js","./i18next-c73dc616.js","./react-11ad9974.js","./react-virtuoso-e1d9e9c1.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./index-0fd367d4.js","./index-de787424.css","./@openim-a63ca2b1.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./dayjs-58c5dd90.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js","./index-f459ea04.css"],import.meta.url);return{Component:t}},children:[{index:!0,element:A(bJ,{})},{path:":conversationID",element:A(jue,{})}]},{path:"contact",async lazy(){const{Contact:t}=await fo(()=>import("./index-d8aa68c2.js"),["./index-d8aa68c2.js","./clsx-a2f71979.js","./@babel-260269db.js","./i18next-c73dc616.js","./react-11ad9974.js","./index-0fd367d4.js","./index-de787424.css","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./dayjs-58c5dd90.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./@openim-a63ca2b1.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js"],import.meta.url);return{Component:t}},children:zue}]},{path:"login",async lazy(){const{Login:t}=await fo(()=>import("./index-a5674eff.js"),["./index-a5674eff.js","./i18next-c73dc616.js","./@babel-260269db.js","./react-11ad9974.js","./@openim-a63ca2b1.js","./md5-ffbe311d.js","./crypt-5ea4a8e1.js","./charenc-bfd911d6.js","./is-buffer-793dba8c.js","./react-router-e84d70e0.js","./@remix-run-1f835eaf.js","./clsx-a2f71979.js","./react-use-cc94cbd6.js","./copy-to-clipboard-5e8b3f9a.js","./toggle-selection-93f4ad84.js","./dayjs-58c5dd90.js","./localforage-42b533ed.js","./react-i18next-61ba1977.js","./electron-log-39892505.js","./react-dom-ad405c1c.js","./scheduler-765c72db.js","./react-query-c78ce74a.js","./react-router-dom-28f205e1.js","./classnames-c74120a4.js","./@emotion-c0b5c018.js","./stylis-5efc5547.js","./@ctrl-03fa0c70.js","./ahooks-0f0ed15d.js","./tslib-b745fb4d.js","./lodash-858845ea.js","./intersection-observer-90e9e37b.js","./react-fast-compare-922b1222.js","./resize-observer-polyfill-0f9f8adb.js","./zustand-14da06db.js","./use-sync-external-store-0e343eac.js","./twemoji-540bbbe7.js","./axios-26ac709a.js","./uuid-4a60fe23.js","./mitt-f7ef348c.js","./date-fns-27ddccf6.js","./react-image-file-resizer-3cc20154.js","./scroll-into-view-if-needed-247ac2f3.js","./compute-scroll-into-view-ff36de3a.js","./throttle-debounce-87e7e444.js","./react-virtuoso-e1d9e9c1.js","./react-draggable-a9e3b63d.js","./prop-types-08c7c3df.js","./react-resizable-panels-2ebb3bd3.js","./xgplayer-ac1eb2ea.js","./xgplayer-b14e136e.css","./lodash-es-039c886b.js","./@ckeditor-6ab12b32.js","./@ckeditor-ad8eb942.css","./color-convert-d47c3cb3.js","./color-name-b7949e8c.js","./emoji-picker-element-ec9d8710.js","./index-f1a96729.css"],import.meta.url);return{Component:t}}}]},{path:"third",children:[...Uue]}]),dM=Hue;function Wue(){const t=ct(n=>n.appSettings.locale),e=new IM({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return l.useEffect(()=>{},[]),A(nf,{autoInsertSpaceInButton:!1,locale:t==="zh-CN"?zY:IY,theme:{token:{colorPrimary:"#0089FF"}},children:Z(_M,{client:e,children:[A(l.Suspense,{fallback:A("div",{children:"loading..."}),children:Z($c,{children:[A(UY,{}),A(kM,{router:dM})]})}),A(PM.ReactQueryDevtools,{initialIsOpen:!1})]})})}if(window.electronAPI&&pX){const t=vb.scope("openim-sdk-core");console.debug=t.debug.bind(t);const e=vb.scope("renderer");console.log=e.log.bind(e),console.error=e.error.bind(e)}V1.createRoot(document.getElementById("root")).render(A(Wue,{}));postMessage({payload:"removeLoading"},"*");export{Zde as $,ofe as A,AB as B,efe as C,tfe as D,LI as E,to as F,qde as G,Kde as H,ce as I,Yde as J,Qde as K,Ms as L,ni as M,$c as N,Sn as O,ho as P,afe as Q,ife as R,dn as S,fI as T,ka as U,sfe as V,nfe as W,Xde as X,pQ as Y,hX as Z,I2 as _,que as __vite_legacy_guard,Z as a,oX as a0,sr as a1,Jde as a2,rQ as a3,GX as a4,QX as a5,eQ as a6,fr as a7,ky as a8,Qc as b,ol as c,qf as d,ct as e,mt as f,lM as g,Vv as h,x2 as i,A as j,Wx as k,ot as l,mo as m,GY as n,mn as o,Yf as p,E2 as q,Rr as r,lr as s,hu as t,tt as u,un as v,rfe as w,fX as x,mX as y,lfe as z};
