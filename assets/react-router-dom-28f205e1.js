import{r,a as H}from"./react-11ad9974.js";import{a as k}from"./react-dom-ad405c1c.js";import{m as A,D as N,a as B,R as Y,u as q}from"./react-router-e84d70e0.js";import{b as G,d as J,E as K}from"./@remix-run-1f835eaf.js";/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},_.apply(this,arguments)}const Q="6";try{window.__reactRouterVersion=Q}catch(n){}function ce(n,t){return G({basename:t==null?void 0:t.basename,future:_({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:J({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||W(),routes:n,mapRouteProperties:A,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:t==null?void 0:t.unstable_patchRoutesOnMiss,window:t==null?void 0:t.window}).initialize()}function W(){var n;let t=(n=window)==null?void 0:n.__staticRouterHydrationData;return t&&t.errors&&(t=_({},t,{errors:X(t.errors)})),t}function X(n){if(!n)return null;let t=Object.entries(n),e={};for(let[a,i]of t)if(i&&i.__type==="RouteErrorResponse")e[a]=new K(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let u=window[i.__subType];if(typeof u=="function")try{let l=new u(i.message);l.stack="",e[a]=l}catch(l){}}if(e[a]==null){let u=new Error(i.message);u.stack="",e[a]=u}}else e[a]=i;return e}const Z=r.createContext({isTransitioning:!1}),$=r.createContext(new Map),ee="startTransition",O=H[ee],te="flushSync",D=k[te];function ne(n){O?O(n):n()}function S(n){D?D(n):n()}class re{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",e(a))}})}}function fe(n){let{fallbackElement:t,router:e,future:a}=n,[i,u]=r.useState(e.state),[l,T]=r.useState(),[v,w]=r.useState({isTransitioning:!1}),[o,E]=r.useState(),[h,y]=r.useState(),[p,L]=r.useState(),R=r.useRef(new Map),{v7_startTransition:C}=a||{},g=r.useCallback(s=>{C?ne(s):s()},[C]),P=r.useCallback((s,f)=>{let{deletedFetchers:c,unstable_flushSync:F,unstable_viewTransitionOpts:d}=f;c.forEach(m=>R.current.delete(m)),s.fetchers.forEach((m,z)=>{m.data!==void 0&&R.current.set(z,m.data)});let j=e.window==null||e.window.document==null||typeof e.window.document.startViewTransition!="function";if(!d||j){F?S(()=>u(s)):g(()=>u(s));return}if(F){S(()=>{h&&(o&&o.resolve(),h.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:d.currentLocation,nextLocation:d.nextLocation})});let m=e.window.document.startViewTransition(()=>{S(()=>u(s))});m.finished.finally(()=>{S(()=>{E(void 0),y(void 0),T(void 0),w({isTransitioning:!1})})}),S(()=>y(m));return}h?(o&&o.resolve(),h.skipTransition(),L({state:s,currentLocation:d.currentLocation,nextLocation:d.nextLocation})):(T(s),w({isTransitioning:!0,flushSync:!1,currentLocation:d.currentLocation,nextLocation:d.nextLocation}))},[e.window,h,o,R,g]);r.useLayoutEffect(()=>e.subscribe(P),[e,P]),r.useEffect(()=>{v.isTransitioning&&!v.flushSync&&E(new re)},[v]),r.useEffect(()=>{if(o&&l&&e.window){let s=l,f=o.promise,c=e.window.document.startViewTransition(async()=>{g(()=>u(s)),await f});c.finished.finally(()=>{E(void 0),y(void 0),T(void 0),w({isTransitioning:!1})}),y(c)}},[g,l,o,e.window]),r.useEffect(()=>{o&&l&&i.location.key===l.location.key&&o.resolve()},[o,h,i.location,l]),r.useEffect(()=>{!v.isTransitioning&&p&&(T(p.state),w({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),L(void 0))},[v.isTransitioning,p]),r.useEffect(()=>{},[]);let b=r.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:s=>e.navigate(s),push:(s,f,c)=>e.navigate(s,{state:f,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(s,f,c)=>e.navigate(s,{replace:!0,state:f,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[e]),x=e.basename||"/",V=r.useMemo(()=>({router:e,navigator:b,static:!1,basename:x}),[e,b,x]),M=r.useMemo(()=>({v7_relativeSplatPath:e.future.v7_relativeSplatPath}),[e.future.v7_relativeSplatPath]);return r.createElement(r.Fragment,null,r.createElement(N.Provider,{value:V},r.createElement(B.Provider,{value:i},r.createElement($.Provider,{value:R.current},r.createElement(Z.Provider,{value:v},r.createElement(Y,{basename:x,location:i.location,navigationType:i.historyAction,navigator:b,future:M},i.initialized||e.future.v7_partialHydration?r.createElement(ie,{routes:e.routes,future:e.future,state:i}):t))))),null)}const ie=r.memo(ae);function ae(n){let{routes:t,future:e,state:a}=n;return q(t,void 0,a,e)}var I;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(I||(I={}));var U;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(U||(U={}));export{fe as R,ce as c};
