import{o as f,a as p,j as e,a7 as b,a8 as k,v as h}from"./index-9718ad5b.js";import{t as n}from"./i18next-c73dc616.js";import{r as c}from"./react-11ad9974.js";import"./dayjs-58c5dd90.js";import"./@babel-260269db.js";import"./localforage-42b533ed.js";import"./react-i18next-61ba1977.js";import"./electron-log-39892505.js";import"./react-dom-ad405c1c.js";import"./scheduler-765c72db.js";import"./react-query-c78ce74a.js";import"./react-router-dom-28f205e1.js";import"./react-router-e84d70e0.js";import"./@remix-run-1f835eaf.js";import"./classnames-c74120a4.js";import"./@emotion-c0b5c018.js";import"./stylis-5efc5547.js";import"./@ctrl-03fa0c70.js";import"./ahooks-0f0ed15d.js";import"./tslib-b745fb4d.js";import"./lodash-858845ea.js";import"./intersection-observer-90e9e37b.js";import"./react-fast-compare-922b1222.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./@openim-a63ca2b1.js";import"./zustand-14da06db.js";import"./use-sync-external-store-0e343eac.js";import"./twemoji-540bbbe7.js";import"./axios-26ac709a.js";import"./uuid-4a60fe23.js";import"./mitt-f7ef348c.js";import"./date-fns-27ddccf6.js";import"./clsx-a2f71979.js";import"./react-image-file-resizer-3cc20154.js";import"./scroll-into-view-if-needed-247ac2f3.js";import"./compute-scroll-into-view-ff36de3a.js";import"./throttle-debounce-87e7e444.js";import"./md5-ffbe311d.js";import"./crypt-5ea4a8e1.js";import"./charenc-bfd911d6.js";import"./is-buffer-793dba8c.js";import"./react-virtuoso-e1d9e9c1.js";import"./react-draggable-a9e3b63d.js";import"./prop-types-08c7c3df.js";import"./react-use-cc94cbd6.js";import"./copy-to-clipboard-5e8b3f9a.js";import"./toggle-selection-93f4ad84.js";import"./react-resizable-panels-2ebb3bd3.js";import"./xgplayer-ac1eb2ea.js";import"./lodash-es-039c886b.js";import"./@ckeditor-6ab12b32.js";import"./color-convert-d47c3cb3.js";import"./color-name-b7949e8c.js";import"./emoji-picker-element-ec9d8710.js";const Lt=()=>{const i=c.useRef(null),[m,u]=c.useState(!1),x=f(t=>t.setFriendList),C=f(t=>t.setGroupList);c.useEffect(()=>{var r,a,l;const t=window.location.href.split("precheck=")[1],o=JSON.parse(decodeURIComponent(t));(r=i.current)==null||r.updatePrevCheckList([...o.friendList,...o.groupList]),u(o.notConversation),(a=window.electronAPI)==null||a.subscribeOnce("transferContactStoreData",w=>{const d=JSON.parse(w);x(d.friendList),C(d.groupList)}),(l=window.electronAPI)==null||l.ipcInvoke("getContactStoreData",{key:"choose-contact"})},[]);const v=()=>{var o,r;const t=(o=i.current)==null?void 0:o.getCheckedList();(r=window.electronAPI)==null||r.ipcInvoke("transferChooseModalData",{key:"moments",data:JSON.stringify({notConversation:m,choosedList:t})}),s()},s=()=>{var t;(t=window.electronAPI)==null||t.ipcInvoke("closeWindow","choose-contact")};return p("div",{className:"flex h-screen flex-col",children:[p("div",{className:"app-drag flex h-16 items-center justify-between bg-[var(--gap-text)] px-7",children:[e("div",{children:n("placeholder.selectMember")}),e(b,{className:"app-no-drag cursor-pointer text-[var(--sub-text)]",rev:void 0,onClick:s})]}),e(k,{className:"flex-1",ref:i,notConversation:m}),p("div",{className:"flex justify-end px-9 py-6",children:[e(h,{className:"mr-6 border-0 bg-[var(--chat-bubble)] px-6",onClick:s,children:n("cancel")}),e(h,{className:"px-6",type:"primary",onClick:v,children:n("confirm")})]})]})};export{Lt as ChooseContact};
