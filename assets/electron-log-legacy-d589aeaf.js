System.register(["./@babel-legacy-17757daa.js"],(function(e,t){"use strict";var r;return{setters:[e=>{r=e.g}],execute:function(){var t={exports:{}};const s=function(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const s={};for(const t of[...e.levels,"log"])s[t]=(...s)=>e.logData(s,{level:t,scope:r});return s}};class n{static instances={};dependencies={};errorHandler=null;eventLogger=null;functions={};hooks=[];isDev=!1;levels=null;logId=null;scope=null;transports={};variables={};constructor({allowUnknownLevel:e=!1,dependencies:t={},errorHandler:r,eventLogger:o,initializeFn:a,isDev:i=!1,levels:l=["error","warn","info","verbose","debug","silly"],logId:c,transportFactories:d={},variables:h}={}){this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=e,this.dependencies=t,this.initializeFn=a,this.isDev=i,this.levels=l,this.logId=c,this.transportFactories=d,this.variables=h||{},this.scope=s(this),this.addLevel("log",!1);for(const s of this.levels)this.addLevel(s,!1);this.errorHandler=r,r?.setOptions({...t,logFn:this.error}),this.eventLogger=o,o?.setOptions({...t,logger:this});for(const[s,n]of Object.entries(d))this.transports[s]=n(this,t);n.instances[c]=this}static getInstance({logId:e}){return this.instances[e]||this.instances.default}addLevel(e,t=this.levels.length){!1!==t&&this.levels.splice(t,0,e),this[e]=(...t)=>this.logData(t,{level:e}),this.functions[e]=this[e]}catchErrors(e){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(e)}create(e){return"string"==typeof e&&(e={logId:e}),new n({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...e})}compareLevels(e,t,r=this.levels){const s=r.indexOf(e),n=r.indexOf(t);return-1===n||-1===s||n<=s}initialize(e={}){this.initializeFn({logger:this,...this.dependencies,...e})}logData(e,t={}){this.processMessage({data:e,...t})}processMessage(e,{transports:t=this.transports}={}){if("errorHandler"===e.cmd)return void this.errorHandler.handle(e.error,{errorName:e.errorName,processType:"renderer",showDialog:Boolean(e.showDialog)});let r=e.level;this.allowUnknownLevel||(r=this.levels.includes(e.level)?e.level:"info");const s={date:new Date,...e,level:r,variables:{...this.variables,...e.variables}};for(const[o,a]of this.transportEntries(t))if("function"==typeof a&&!1!==a.level&&this.compareLevels(a.level,e.level))try{const e=this.hooks.reduce(((e,t)=>e?t(e,a,o):e),s);e&&a({...e,data:[...e.data]})}catch(n){this.processInternalErrorFn(n)}}processInternalErrorFn(e){}transportEntries(e=this.transports){return(Array.isArray(e)?e:Object.entries(e)).map((e=>{switch(typeof e){case"string":return this.transports[e]?[e,this.transports[e]]:null;case"function":return[e.name,e];default:return Array.isArray(e)?e:null}})).filter(Boolean)}}var o=n;const a=console.error;var i=class{logFn=null;onError=null;showDialog=!1;preventDefault=!0;constructor({logFn:e=null}={}){this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.startCatching=this.startCatching.bind(this),this.logFn=e}handle(e,{logFn:t=this.logFn,errorName:r="",onError:s=this.onError,showDialog:n=this.showDialog}={}){try{!1!==s?.({error:e,errorName:r,processType:"renderer"})&&t({error:e,errorName:r,showDialog:n})}catch{a(e)}}setOptions({logFn:e,onError:t,preventDefault:r,showDialog:s}){"function"==typeof e&&(this.logFn=e),"function"==typeof t&&(this.onError=t),"boolean"==typeof r&&(this.preventDefault=r),"boolean"==typeof s&&(this.showDialog=s)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),window.addEventListener("error",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleError(e.error||e)})),window.addEventListener("unhandledrejection",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleRejection(e.reason||e)})))}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}},l=function(e){return Object.assign(t,{format:"{h}:{i}:{s}.{ms}{scope} â€º {text}",formatDataFn:({data:r=[],date:s=new Date,format:n=t.format,logId:o=e.logId,scope:a=e.scopeName,...i})=>"function"==typeof n?n({...i,data:r,date:s,logId:o,scope:a}):("string"!=typeof n||(r.unshift(n),"string"==typeof r[1]&&r[1].match(/%[1cdfiOos]/)&&(r=[`${r[0]} ${r[1]}`,...r.slice(2)]),r[0]=r[0].replace(/\{(\w+)}/g,((e,t)=>{switch(t){case"level":return i.level;case"logId":return o;case"scope":return a?` (${a})`:"";case"text":return"";case"y":return s.getFullYear().toString(10);case"m":return(s.getMonth()+1).toString(10).padStart(2,"0");case"d":return s.getDate().toString(10).padStart(2,"0");case"h":return s.getHours().toString(10).padStart(2,"0");case"i":return s.getMinutes().toString(10).padStart(2,"0");case"s":return s.getSeconds().toString(10).padStart(2,"0");case"ms":return s.getMilliseconds().toString(10).padStart(3,"0");case"iso":return s.toISOString();default:return i.variables?.[t]||e}})).trim()),r),writeFn({message:{level:e,data:t}}){const r=c[e]||c.info;setTimeout((()=>r(...t)))}});function t(e){t.writeFn({message:{...e,data:t.formatDataFn(e)}})}};const c={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var d=function(e){return Object.assign(t,{depth:5,serializeFn:(e,{depth:r=5,seen:s=new WeakSet}={})=>s.has(e)?"[Circular]":r<1?g(e)?e:Array.isArray(e)?"[Array]":`[${typeof e}]`:["function","symbol"].includes(typeof e)?e.toString():g(e)?e:h.has(e.constructor)?`[${e.constructor.name}]`:Array.isArray(e)?e.map((e=>t.serializeFn(e,{depth:r-1,seen:s}))):e instanceof Date?e.toISOString():e instanceof Error?e.stack:e instanceof Map?new Map(Array.from(e).map((([e,n])=>[t.serializeFn(e,{depth:r-1,seen:s}),t.serializeFn(n,{depth:r-1,seen:s})]))):e instanceof Set?new Set(Array.from(e).map((e=>t.serializeFn(e,{depth:r-1,seen:s})))):(s.add(e),Object.fromEntries(Object.entries(e).map((([e,n])=>[e,t.serializeFn(n,{depth:r-1,seen:s})]))))});function t(r){if(window.__electronLog)try{__electronLog.sendToMain(t.serializeFn(r,{depth:t.depth}))}catch(s){e.transports.console({data:["electronLog.transports.ipc",s,"data:",r.data],level:"error"})}else e.processMessage({data:["electron-log: logger isn't initialized in the main process"],level:"error"},{transports:["console"]})}};const h=new Set([Promise,WeakMap,WeakSet]);function g(e){return Object(e)!==e}!function(e){const t=o,r=i,s=l,n=d;e.exports=function(){const e=new t({allowUnknownLevel:!0,errorHandler:new r,initializeFn:()=>{},logId:"default",transportFactories:{console:s,ipc:n},variables:{processType:"renderer"}});return e.errorHandler.setOptions({logFn({error:t,errorName:r,showDialog:s}){e.transports.console({data:[r,t].filter(Boolean),level:"error"}),e.transports.ipc({cmd:"errorHandler",error:{cause:t?.cause,code:t?.code,name:t?.name,message:t?.message,stack:t?.stack},errorName:r,logId:e.logId,showDialog:s})}}),"object"==typeof window&&window.addEventListener("message",(e=>{const{cmd:r,logId:s,...n}=e.data||{},o=t.getInstance({logId:s});"message"===r&&o.processMessage(n,{transports:["console"]})})),new Proxy(e,{get:(t,r)=>void 0!==t[r]?t[r]:(...t)=>e.logData(t,{level:r})})}(),e.exports.Logger=t,e.exports.default=e.exports}(t),e("l",r(t.exports))}}}));
