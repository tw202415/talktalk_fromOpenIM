import{R as S}from"./react-11ad9974.js";import{u as b}from"./use-sync-external-store-0e343eac.js";const c=t=>{let e;const o=new Set,n=(s,a)=>{const r=typeof s=="function"?s(e):s;if(!Object.is(r,e)){const f=e;e=(a!=null?a:typeof r!="object"||r===null)?r:Object.assign({},e,r),o.forEach(E=>E(e,f))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>d,subscribe:s=>(o.add(s),()=>o.delete(s)),destroy:()=>{o.clear()}},d=e=t(n,i,u);return u},p=t=>t?c(t):c,{useDebugValue:y}=S,{useSyncExternalStoreWithSelector:g}=b;const D=t=>t;function R(t,e=D,o){const n=g(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,o);return y(n),n}const l=t=>{const e=typeof t=="function"?p(t):t,o=(n,i)=>R(e,n,i);return Object.assign(o,e),o},w=t=>t?l(t):l;export{w as c};
