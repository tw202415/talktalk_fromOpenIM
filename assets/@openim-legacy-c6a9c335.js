System.register([],(function(e,t){"use strict";return{execute:function(){function n(e){return(t,n,i)=>{if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)throw new Error("`startWorkerFromMain` should only be called from the main thread");if("undefined"==typeof Worker)throw new Error("Web workers not available. sqlite3 requires web workers to work.");e().then((({default:e})=>{let s=new e;s.postMessage({type:"init",buffers:[t,n]}),s.addEventListener("message",(e=>{i.postMessage(e.data)}))}))}}e("g",(function(e){const{sqlWasmPath:t,coreWasmPath:n="/openIM.wasm",debug:i=!0}=e||{};return"undefined"==typeof window?{}:_||(_=new J(n,i),t&&window.setSqlWasmPath(t),_)}));const i=function(e,t){const i=n(t);return t=>{t.addEventListener("message",(n=>{n.data.type===e&&i(n.data.argBuffer,n.data.resultBuffer,t)}))}}("__absurd:spawn-idb-worker",(()=>Promise.resolve().then((function(){return he}))));var s=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e},g=(e,t)=>o(e,r(t)),u=(e,t,n)=>(c(e,"symbol"!=typeof t?t+"":t,n),n);const w={CONNECT_TIMEOUT:{code:-32300,message:"Connect timeout"},APPLICATION_ERROR:{code:-32500,message:"Application error"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"}};class h{constructor(e){u(this,"_currentEndpoint"),u(this,"_targetEndpoint"),u(this,"_events"),u(this,"_originOnmessage"),u(this,"_receiveMessage"),u(this,"onerror",null),u(this,"config"),u(this,"sendAdapter"),u(this,"receiveAdapter"),this._events={},this._currentEndpoint=e.currentEndpoint,this._targetEndpoint=e.targetEndpoint,this._originOnmessage=null,this.config=e.config,this.receiveAdapter=e.receiveAdapter,this.sendAdapter=e.sendAdapter;const t=e=>{const t=this.receiveAdapter?this.receiveAdapter(e):e.data;if(t&&"string"==typeof t.event){const e=this._events[t.event]||[];if(e.length)return void e.forEach((e=>{e(...t.args||[])}));this.onerror&&this.onerror(g(p({},w.METHOD_NOT_FOUND),{data:t}))}};if(this._currentEndpoint.addEventListener)return"start"in this._currentEndpoint&&this._currentEndpoint.start&&this._currentEndpoint.start(),this._currentEndpoint.addEventListener("message",t,!1),void(this._receiveMessage=t);this._originOnmessage=this._currentEndpoint.onmessage,this._currentEndpoint.onmessage=e=>{this._originOnmessage&&this._originOnmessage(e),t(e)},this._receiveMessage=this._currentEndpoint.onmessage}emit(e,...t){const n={event:e,args:t},i=this.sendAdapter?this.sendAdapter(n,this._targetEndpoint):{data:n},s=i.data||n,o=this.config?"function"==typeof this.config?this.config(s,this._targetEndpoint)||{}:this.config||{}:{};Array.isArray(i.transfer)&&i.transfer.length&&(o.transfer=i.transfer),this._targetEndpoint.postMessage(s,o)}on(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}off(e,t){if(!this._events[e])return;if(!t)return void(this._events[e]=[]);const n=this._events[e]||[];this._events[e]=n.filter((e=>e!==t))}destroy(){if(this._currentEndpoint.removeEventListener)this._currentEndpoint.removeEventListener("message",this._receiveMessage,!1);else try{this._currentEndpoint.onmessage=this._originOnmessage}catch(e){}}}const m=class{constructor(e){u(this,"_event"),u(this,"_methods",{}),u(this,"_timeout",0),u(this,"_$connect",null),this._event=e.event,this._timeout=e.timeout||0,e.methods&&Object.entries(e.methods).forEach((([e,t])=>{this.registerMethod(e,t)})),this._event.onerror=e=>{const{code:t,message:n,data:i}=e;if(i.event&&Array.isArray(i.args)&&i.args.length){const e=i.args[0],s=this._getAckEventName(e.method),o={jsonrpc:"2.0",id:null==e?void 0:e.id,error:{code:t,message:n,data:e}};this._event.emit(s,o)}},this.connect()}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}_getSynEventName(e){return`${m.EVENT.SYN_SIGN}${e}`}_getAckEventName(e){return`${m.EVENT.ACK_SIGN}${e}`}connect(e){return this._$connect||(this._$connect=new Promise(((t,n)=>{const i=e||this._timeout;let s;i&&(s=setTimeout((()=>{const e=g(p({},w.TIMEOUT),{data:{timeout:i}});n(e)}),i));const o=m.EVENT.CONNECT,r=this._getAckEventName(o),a=this._getSynEventName(o),d=()=>{clearTimeout(s),t()};this._event.on(r,d),this._event.on(a,(()=>{this._event.emit(r),d()})),this._event.emit(a)}))),this._$connect}registerMethod(e,t){if(this._methods[e])throw new Error(`${e} already registered`);this._methods[e]=t;const n=this._getSynEventName(e);this._event.on(n,(n=>{const i=this._getAckEventName(e);n.id?Promise.resolve(t(...n.params)).then((e=>{const t={jsonrpc:"2.0",result:e,id:n.id};this._event.emit(i,t)})).catch((e=>{const t={jsonrpc:"2.0",id:n.id,error:{code:(null==e?void 0:e.code)||w.APPLICATION_ERROR.code,message:(null==e?void 0:e.message)||w.APPLICATION_ERROR.message,data:null}};this._event.emit(i,t)})):t(...n.params)}))}removeMethod(e){this._methods[e]||delete this._methods[e];const t=this._getSynEventName(e);this._event.off(t)}invoke(e,...t){return new Promise(((n,i)=>{const s=t[t.length-1],o=s&&"object"==typeof s&&(Reflect.has(s,"isNotify")||Reflect.has(s,"timeout")),r=o?s:{isNotify:!1,timeout:0},a=o?t.slice(0,-1):t,d=this._getSynEventName(e),l=m.uuid(),c={jsonrpc:"2.0",method:e,params:a,id:l};if(this._event.emit(d,c),r.isNotify)n(void 0);else{const t=this._getAckEventName(e),s=r.timeout||this._timeout;let o;s&&(o=setTimeout((()=>{const e=g(p({},w.CONNECT_TIMEOUT),{data:{timeout:s}});i(e)}),s));const a=e=>{e.id===l&&(clearTimeout(o),this._event.off(t,a),e.error?i(e.error):n(e.result))};this._event.on(t,a)}}))}destroy(){Object.entries(this._methods).forEach((([e])=>{const t=this._getSynEventName(e);this._event.off(t)}));const e=this._getAckEventName(m.EVENT.CONNECT),t=this._getSynEventName(m.EVENT.CONNECT);this._event.off(t),this._event.off(e),this._event.destroy&&this._event.destroy()}};let G=m;u(G,"CODES",w),u(G,"EVENT",{SYN_SIGN:"syn:",ACK_SIGN:"ack:",CONNECT:"__rpc_connect_event",SYNC_METHODS:"__rpc_sync_methods_event"});const M={ErrorInit:10001,ErrorNoRecord:10002,ErrorDBTimeout:10003};var y;let v,b;e("C",y),function(e){e.Login="Login",e.OnConnectFailed="OnConnectFailed",e.OnConnectSuccess="OnConnectSuccess",e.OnConnecting="OnConnecting",e.OnKickedOffline="OnKickedOffline",e.OnSelfInfoUpdated="OnSelfInfoUpdated",e.OnUserTokenExpired="OnUserTokenExpired",e.OnUserTokenInvalid="OnUserTokenInvalid",e.OnProgress="OnProgress",e.OnRecvNewMessage="OnRecvNewMessage",e.OnRecvNewMessages="OnRecvNewMessages",e.OnRecvOfflineNewMessage="onRecvOfflineNewMessage",e.OnRecvOfflineNewMessages="onRecvOfflineNewMessages",e.OnRecvMessageRevoked="OnRecvMessageRevoked",e.OnNewRecvMessageRevoked="OnNewRecvMessageRevoked",e.OnRecvC2CReadReceipt="OnRecvC2CReadReceipt",e.OnRecvGroupReadReceipt="OnRecvGroupReadReceipt",e.OnConversationChanged="OnConversationChanged",e.OnNewConversation="OnNewConversation",e.OnSyncServerFailed="OnSyncServerFailed",e.OnSyncServerFinish="OnSyncServerFinish",e.OnSyncServerProgress="OnSyncServerProgress",e.OnSyncServerStart="OnSyncServerStart",e.OnTotalUnreadMessageCountChanged="OnTotalUnreadMessageCountChanged",e.OnBlackAdded="OnBlackAdded",e.OnBlackDeleted="OnBlackDeleted",e.OnFriendApplicationAccepted="OnFriendApplicationAccepted",e.OnFriendApplicationAdded="OnFriendApplicationAdded",e.OnFriendApplicationDeleted="OnFriendApplicationDeleted",e.OnFriendApplicationRejected="OnFriendApplicationRejected",e.OnFriendInfoChanged="OnFriendInfoChanged",e.OnFriendAdded="OnFriendAdded",e.OnFriendDeleted="OnFriendDeleted",e.OnJoinedGroupAdded="OnJoinedGroupAdded",e.OnJoinedGroupDeleted="OnJoinedGroupDeleted",e.OnGroupDismissed="OnGroupDismissed",e.OnGroupMemberAdded="OnGroupMemberAdded",e.OnGroupMemberDeleted="OnGroupMemberDeleted",e.OnGroupApplicationAdded="OnGroupApplicationAdded",e.OnGroupApplicationDeleted="OnGroupApplicationDeleted",e.OnGroupInfoChanged="OnGroupInfoChanged",e.OnGroupMemberInfoChanged="OnGroupMemberInfoChanged",e.OnGroupApplicationAccepted="OnGroupApplicationAccepted",e.OnGroupApplicationRejected="OnGroupApplicationRejected",e.UploadComplete="UploadComplete",e.OnRecvCustomBusinessMessage="OnRecvCustomBusinessMessage",e.OnUserStatusChanged="OnUserStatusChanged",e.OnUploadLogsProgress="OnUploadLogsProgress",e.OnReceiveNewInvitation="OnReceiveNewInvitation",e.OnInviteeAccepted="OnInviteeAccepted",e.OnInviteeRejected="OnInviteeRejected",e.OnInvitationCancelled="OnInvitationCancelled",e.OnHangUp="OnHangUp",e.OnInvitationTimeout="OnInvitationTimeout",e.OnInviteeAcceptedByOtherDevice="OnInviteeAcceptedByOtherDevice",e.OnInviteeRejectedByOtherDevice="OnInviteeRejectedByOtherDevice",e.OnStreamChange="OnStreamChange",e.OnRoomParticipantConnected="OnRoomParticipantConnected",e.OnRoomParticipantDisconnected="OnRoomParticipantDisconnected",e.OnReceiveCustomSignal="OnReceiveCustomSignal",e.UnUsedEvent="UnUsedEvent"}(y||e("C",y={}));let S=!1;function I(){if("undefined"==typeof window)return;const e=t.meta.url.includes(".vite/deps"),n=t.meta.url.includes("_nuxt/node_modules"),s=function(){if("undefined"!=typeof Worker&&"type"in Worker.prototype)return!0;try{const e=new Blob([""],{type:"text/javascript"}),t=URL.createObjectURL(e);return new Worker(t,{type:"module"}),URL.revokeObjectURL(t),!0}catch(e){return!1}}();let o=s?new URL(""+new URL("worker-baa254ba.js",t.meta.url).href,self.location):new URL(""+new URL("worker-legacy-673b8868.js",t.meta.url).href,self.location);e&&(o=o.href.replace(".vite/deps","@openim/wasm-client-sdk/lib")),n&&(o=o.href.replace(".cache/vite/client/deps","@openim/wasm-client-sdk/lib")),b=new Worker(o,{type:s?"module":"classic"}),i(b),v=new G({event:new h({currentEndpoint:b,targetEndpoint:b})})}function f(e){if(-32300===e.code)return v&&(v.destroy(),v=void 0),b&&(b.terminate(),b=void 0),JSON.stringify({data:"",errCode:M.ErrorDBTimeout,errMsg:"database maybe damaged"});throw e}function C(e,t,n=!0){return async(...t)=>{if(v&&b||I(),v)try{JSON.stringify(t);const i=await v.invoke(e,...t,{timeout:5e6});return JSON.stringify(i),n?JSON.stringify(i):i}catch(i){f(i)}}}function L(e=!0){v&&(S=e,window.wasmOpen=C("wasmOpen"),window.wasmClose=C("wasmClose"),window.wasmRead=C("wasmRead",0,!1),window.getUpload=C("getUpload"),window.insertUpload=C("insertUpload"),window.updateUpload=C("updateUpload"),window.deleteUpload=C("deleteUpload"),window.fileMapSet=C("fileMapSet"),window.fileMapClear=C("fileMapClear"),window.setSqlWasmPath=C("setSqlWasmPath"),window.initDB=C("initDB"),window.close=C("close"),window.getMessage=C("getMessage"),window.getMultipleMessage=C("getMultipleMessage"),window.getSendingMessageList=C("getSendingMessageList"),window.getNormalMsgSeq=C("getNormalMsgSeq"),window.updateMessageTimeAndStatus=C("updateMessageTimeAndStatus"),window.updateMessage=C("updateMessage"),window.updateMessageBySeq=C("updateMessageBySeq"),window.updateColumnsMessage=C("updateColumnsMessage"),window.insertMessage=C("insertMessage"),window.batchInsertMessageList=C("batchInsertMessageList"),window.getMessageList=C("getMessageList"),window.getMessageListNoTime=C("getMessageListNoTime"),window.messageIfExists=C("messageIfExists"),window.messageIfExistsBySeq=C("messageIfExistsBySeq"),window.getAbnormalMsgSeq=C("getAbnormalMsgSeq"),window.getAbnormalMsgSeqList=C("getAbnormalMsgSeqList"),window.batchInsertExceptionMsg=C("batchInsertExceptionMsg"),window.searchMessageByKeyword=C("searchMessageByKeyword"),window.searchMessageByContentType=C("searchMessageByContentType"),window.searchMessageByContentTypeAndKeyword=C("searchMessageByContentTypeAndKeyword"),window.updateMsgSenderNickname=C("updateMsgSenderNickname"),window.updateMsgSenderFaceURL=C("updateMsgSenderFaceURL"),window.updateMsgSenderFaceURLAndSenderNickname=C("updateMsgSenderFaceURLAndSenderNickname"),window.getMsgSeqByClientMsgID=C("getMsgSeqByClientMsgID"),window.getMsgSeqListByGroupID=C("getMsgSeqListByGroupID"),window.getMsgSeqListByPeerUserID=C("getMsgSeqListByPeerUserID"),window.getMsgSeqListBySelfUserID=C("getMsgSeqListBySelfUserID"),window.deleteAllMessage=C("deleteAllMessage"),window.getAllUnDeleteMessageSeqList=C("getAllUnDeleteMessageSeqList"),window.updateSingleMessageHasRead=C("updateSingleMessageHasRead"),window.updateGroupMessageHasRead=C("updateGroupMessageHasRead"),window.updateMessageStatusBySourceID=C("updateMessageStatusBySourceID"),window.getAlreadyExistSeqList=C("getAlreadyExistSeqList"),window.getMessageBySeq=C("getMessageBySeq"),window.getMessagesByClientMsgIDs=C("getMessagesByClientMsgIDs"),window.getMessagesBySeqs=C("getMessagesBySeqs"),window.getConversationNormalMsgSeq=C("getConversationNormalMsgSeq"),window.checkConversationNormalMsgSeq=C("getConversationNormalMsgSeq"),window.getConversationPeerNormalMsgSeq=C("getConversationPeerNormalMsgSeq"),window.deleteConversationAllMessages=C("deleteConversationAllMessages"),window.markDeleteConversationAllMessages=C("markDeleteConversationAllMessages"),window.getUnreadMessage=C("getUnreadMessage"),window.markConversationMessageAsReadBySeqs=C("markConversationMessageAsReadBySeqs"),window.markConversationMessageAsReadDB=C("markConversationMessageAsRead"),window.deleteConversationMsgs=C("deleteConversationMsgs"),window.markConversationAllMessageAsRead=C("markConversationAllMessageAsRead"),window.searchAllMessageByContentType=C("searchAllMessageByContentType"),window.insertSendingMessage=C("insertSendingMessage"),window.deleteSendingMessage=C("deleteSendingMessage"),window.getAllSendingMessages=C("getAllSendingMessages"),window.getAllConversationListDB=C("getAllConversationList"),window.getAllConversationListToSync=C("getAllConversationListToSync"),window.getHiddenConversationList=C("getHiddenConversationList"),window.getConversation=C("getConversation"),window.getMultipleConversationDB=C("getMultipleConversation"),window.updateColumnsConversation=C("updateColumnsConversation"),window.updateConversation=C("updateColumnsConversation"),window.updateConversationForSync=C("updateColumnsConversation"),window.decrConversationUnreadCount=C("decrConversationUnreadCount"),window.batchInsertConversationList=C("batchInsertConversationList"),window.insertConversation=C("insertConversation"),window.getTotalUnreadMsgCountDB=C("getTotalUnreadMsgCount"),window.getConversationByUserID=C("getConversationByUserID"),window.getConversationListSplitDB=C("getConversationListSplit"),window.deleteConversation=C("deleteConversation"),window.deleteAllConversation=C("deleteAllConversation"),window.batchUpdateConversationList=C("batchUpdateConversationList"),window.conversationIfExists=C("conversationIfExists"),window.resetConversation=C("resetConversation"),window.resetAllConversation=C("resetAllConversation"),window.clearConversation=C("clearConversation"),window.clearAllConversation=C("clearAllConversation"),window.setConversationDraftDB=C("setConversationDraft"),window.removeConversationDraft=C("removeConversationDraft"),window.unPinConversation=C("unPinConversation"),window.incrConversationUnreadCount=C("incrConversationUnreadCount"),window.setMultipleConversationRecvMsgOpt=C("setMultipleConversationRecvMsgOpt"),window.getAllSingleConversationIDList=C("getAllSingleConversationIDList"),window.getAllConversationIDList=C("getAllConversationIDList"),window.getAllConversations=C("getAllConversations"),window.searchConversations=C("searchConversations"),window.getLoginUser=C("getLoginUser"),window.insertLoginUser=C("insertLoginUser"),window.updateLoginUser=C("updateLoginUser"),window.getStrangerInfo=C("getStrangerInfo"),window.setStrangerInfo=C("setStrangerInfo"),window.getAppSDKVersion=C("getAppSDKVersion"),window.setAppSDKVersion=C("setAppSDKVersion"),window.getVersionSync=C("getVersionSync"),window.setVersionSync=C("setVersionSync"),window.deleteVersionSync=C("deleteVersionSync"),window.getJoinedSuperGroupList=C("getJoinedSuperGroupList"),window.getJoinedSuperGroupIDList=C("getJoinedSuperGroupIDList"),window.getSuperGroupInfoByGroupID=C("getSuperGroupInfoByGroupID"),window.deleteSuperGroup=C("deleteSuperGroup"),window.insertSuperGroup=C("insertSuperGroup"),window.updateSuperGroup=C("updateSuperGroup"),window.deleteConversationUnreadMessageList=C("deleteConversationUnreadMessageList"),window.batchInsertConversationUnreadMessageList=C("batchInsertConversationUnreadMessageList"),window.superGroupGetMessage=C("superGroupGetMessage"),window.superGroupGetMultipleMessage=C("superGroupGetMultipleMessage"),window.superGroupGetNormalMinSeq=C("superGroupGetNormalMinSeq"),window.getSuperGroupNormalMsgSeq=C("getSuperGroupNormalMsgSeq"),window.superGroupUpdateMessageTimeAndStatus=C("superGroupUpdateMessageTimeAndStatus"),window.superGroupUpdateMessage=C("superGroupUpdateMessage"),window.superGroupInsertMessage=C("superGroupInsertMessage"),window.superGroupBatchInsertMessageList=C("superGroupBatchInsertMessageList"),window.superGroupGetMessageListNoTime=C("superGroupGetMessageListNoTime"),window.superGroupGetMessageList=C("superGroupGetMessageList"),window.superGroupUpdateColumnsMessage=C("superGroupUpdateColumnsMessage"),window.superGroupDeleteAllMessage=C("superGroupDeleteAllMessage"),window.superGroupSearchMessageByKeyword=C("superGroupSearchMessageByKeyword"),window.superGroupSearchMessageByContentType=C("superGroupSearchMessageByContentType"),window.superGroupSearchMessageByContentTypeAndKeyword=C("superGroupSearchMessageByContentTypeAndKeyword"),window.superGroupUpdateMessageStatusBySourceID=C("superGroupUpdateMessageStatusBySourceID"),window.superGroupGetSendingMessageList=C("superGroupGetSendingMessageList"),window.superGroupUpdateGroupMessageHasRead=C("superGroupUpdateGroupMessageHasRead"),window.superGroupGetMsgSeqByClientMsgID=C("superGroupGetMsgSeqByClientMsgID"),window.superGroupUpdateMsgSenderFaceURLAndSenderNickname=C("superGroupUpdateMsgSenderFaceURLAndSenderNickname"),window.superGroupSearchAllMessageByContentType=C("superGroupSearchAllMessageByContentType"),window.exec=C("exec"),window.getRowsModified=C("getRowsModified"),window.exportDB=async()=>{if(v&&b||I(),v)try{const e=await v.invoke("exportDB",void 0,{timeout:5e3});return JSON.stringify(e),e}catch(e){f(e)}},window.getBlackListDB=C("getBlackList"),window.getBlackListUserID=C("getBlackListUserID"),window.getBlackInfoByBlockUserID=C("getBlackInfoByBlockUserID"),window.getBlackInfoList=C("getBlackInfoList"),window.insertBlack=C("insertBlack"),window.deleteBlack=C("deleteBlack"),window.updateBlack=C("updateBlack"),window.insertFriendRequest=C("insertFriendRequest"),window.deleteFriendRequestBothUserID=C("deleteFriendRequestBothUserID"),window.updateFriendRequest=C("updateFriendRequest"),window.getRecvFriendApplication=C("getRecvFriendApplication"),window.getSendFriendApplication=C("getSendFriendApplication"),window.getFriendApplicationByBothID=C("getFriendApplicationByBothID"),window.getBothFriendReq=C("getBothFriendReq"),window.insertFriend=C("insertFriend"),window.deleteFriendDB=C("deleteFriend"),window.updateFriend=C("updateFriend"),window.getAllFriendList=C("getAllFriendList"),window.searchFriendList=C("searchFriendList"),window.getFriendInfoByFriendUserID=C("getFriendInfoByFriendUserID"),window.getFriendInfoList=C("getFriendInfoList"),window.getPageFriendList=C("getPageFriendList"),window.updateColumnsFriend=C("updateColumnsFriend"),window.getFriendListCount=C("getFriendListCount"),window.batchInsertFriend=C("batchInsertFriend"),window.deleteAllFriend=C("deleteAllFriend"),window.insertGroup=C("insertGroup"),window.deleteGroup=C("deleteGroup"),window.updateGroup=C("updateGroup"),window.getJoinedGroupListDB=C("getJoinedGroupList"),window.getGroupInfoByGroupID=C("getGroupInfoByGroupID"),window.getAllGroupInfoByGroupIDOrGroupName=C("getAllGroupInfoByGroupIDOrGroupName"),window.subtractMemberCount=C("subtractMemberCount"),window.addMemberCount=C("addMemberCount"),window.getJoinedWorkingGroupIDList=C("getJoinedWorkingGroupIDList"),window.getJoinedWorkingGroupList=C("getJoinedWorkingGroupList"),window.getGroupMemberAllGroupIDs=C("getGroupMemberAllGroupIDs"),window.getUserJoinedGroupIDs=C("getUserJoinedGroupIDs"),window.getGroups=C("getGroups"),window.getGroupMemberListByUserIDs=C("getGroupMemberListByUserIDs"),window.batchInsertGroup=C("batchInsertGroup"),window.deleteAllGroup=C("deleteAllGroup"),window.insertGroupRequest=C("insertGroupRequest"),window.deleteGroupRequest=C("deleteGroupRequest"),window.updateGroupRequest=C("updateGroupRequest"),window.getSendGroupApplication=C("getSendGroupApplication"),window.insertAdminGroupRequest=C("insertAdminGroupRequest"),window.deleteAdminGroupRequest=C("deleteAdminGroupRequest"),window.updateAdminGroupRequest=C("updateAdminGroupRequest"),window.getAdminGroupApplication=C("getAdminGroupApplication"),window.getGroupMemberInfoByGroupIDUserID=C("getGroupMemberInfoByGroupIDUserID"),window.getAllGroupMemberList=C("getAllGroupMemberList"),window.getAllGroupMemberUserIDList=C("getAllGroupMemberUserIDList"),window.getGroupMemberCount=C("getGroupMemberCount"),window.getGroupSomeMemberInfo=C("getGroupSomeMemberInfo"),window.getGroupAdminID=C("getGroupAdminID"),window.getGroupMemberListByGroupID=C("getGroupMemberListByGroupID"),window.getGroupMemberListSplit=C("getGroupMemberListSplit"),window.getGroupMemberOwnerAndAdminDB=C("getGroupMemberOwnerAndAdmin"),window.getGroupMemberOwner=C("getGroupMemberOwner"),window.getGroupMemberListSplitByJoinTimeFilter=C("getGroupMemberListSplitByJoinTimeFilter"),window.getGroupOwnerAndAdminByGroupID=C("getGroupOwnerAndAdminByGroupID"),window.getGroupMemberUIDListByGroupID=C("getGroupMemberUIDListByGroupID"),window.insertGroupMember=C("insertGroupMember"),window.batchInsertGroupMember=C("batchInsertGroupMember"),window.deleteGroupMember=C("deleteGroupMember"),window.deleteGroupAllMembers=C("deleteGroupAllMembers"),window.updateGroupMember=C("updateGroupMember"),window.updateGroupMemberField=C("updateGroupMemberField"),window.searchGroupMembersDB=C("searchGroupMembers"),window.batchInsertTempCacheMessageList=C("batchInsertTempCacheMessageList"),window.InsertTempCacheMessage=C("InsertTempCacheMessage"),window.getNotificationAllSeqs=C("getNotificationAllSeqs"),window.setNotificationSeq=C("setNotificationSeq"),window.batchInsertNotificationSeq=C("batchInsertNotificationSeq"),window.getExistedTables=C("getExistedTables"))}I();const Z=null==v?void 0:v.connect(5e3);class k{constructor(){this.events={}}emit(e,t){return this.events[e]&&this.events[e].forEach((e=>e(t))),this}on(e,t){return this.events[e]?this.events[e].push(t):this.events[e]=[t],this}off(e,t){if(e&&"function"==typeof t&&this.events[e]){const n=this.events[e];if(!n||0===n.length)return;const i=n.findIndex((e=>e===t));-1!==i&&n.splice(i,1)}return this}}let R;const O=new Uint8Array(16);function X(){if(!R&&(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(O)}const A=[];for(let e=0;e<256;++e)A.push((e+256).toString(16).slice(1));var N={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function W(e,t,n){if(N.randomUUID&&!t&&!e)return N.randomUUID();const i=(e=e||{}).random||(e.rng||X)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase()}(i)}function U(e,t){return`font-size:14px; background:${null!=e?e:"#ffffff"}; color:${null!=t?t:"#000000"}; border-radius:4px; padding-inline:4px;`}let F,V=!1;const D="openim-wasm-cache";async function B(e){if(V)return null;if("undefined"==typeof window)return Promise.resolve(null);let t;F=new Go;try{if("instantiateStreaming"in WebAssembly)t=await WebAssembly.instantiateStreaming(K(e),F.importObject);else{const n=await K(e).then((e=>e.arrayBuffer()));t=await WebAssembly.instantiate(n,F.importObject)}F.run(t.instance)}catch(n){return null}return await async function(e){return new Promise((t=>{const n=setTimeout((()=>{clearTimeout(n),t(null)}),e)}))}(100),V=!0,F}function x(){return F}async function K(e){if(!("caches"in window))return fetch(e);const t=await caches.open(D),n=await t.match(e);return n&&!(await(async()=>{const t=await fetch(e,{method:"HEAD"}),i=t.headers.get("ETag"),s=t.headers.get("Last-Modified");return t.ok&&(i!==(null==n?void 0:n.headers.get("ETag"))||s!==(null==n?void 0:n.headers.get("Last-Modified")))})())?n:async function(e,t){const n=await fetch(e,{cache:"no-cache"});return await t.put(e,n.clone()),n}(e,t)}class J extends k{constructor(e="/openIM.wasm",t=!0){super(),this.goExisted=!1,this.tryParse=!0,this.isLogStandardOutput=!0,this.login=async(e,t=W())=>{var n,i;this._logWrap(`SDK => (invoked by js) run login with args ${JSON.stringify({params:e,operationID:t})}`),await Z,await this.wasmInitializedPromise,window.commonEventFunc((e=>{try{this._logWrap(`%cSDK =>%c received event %c${e}%c `,U("#282828","#ffffff"),"","color: #4f2398;","");const n=JSON.parse(e);if(this.tryParse)try{n.data=JSON.parse(n.data)}catch(t){}this.emit(n.event,n)}catch(t){}}));const s={platformID:e.platformID,apiAddr:e.apiAddr,wsAddr:e.wsAddr,dataDir:"./",logLevel:e.logLevel||5,isLogStandardOutput:null!==(n=e.isLogStandardOutput)&&void 0!==n?n:this.isLogStandardOutput,logFilePath:"./",isExternalExtensions:e.isExternalExtensions||!1};return this.tryParse=null===(i=e.tryParse)||void 0===i||i,window.initSDK(t,JSON.stringify(s)),await window.login(t,e.userID,e.token)},this.logout=(e=W())=>(window.fileMapClear(),this._invoker("logout",window.logout,[e])),this.getAllConversationList=(e=W())=>this._invoker("getAllConversationList",window.getAllConversationList,[e]),this.getOneConversation=(e,t=W())=>this._invoker("getOneConversation",window.getOneConversation,[t,e.sessionType,e.sourceID]),this.getAdvancedHistoryMessageList=(e,t=W())=>this._invoker("getAdvancedHistoryMessageList",window.getAdvancedHistoryMessageList,[t,JSON.stringify(e)]),this.getAdvancedHistoryMessageListReverse=(e,t=W())=>this._invoker("getAdvancedHistoryMessageListReverse",window.getAdvancedHistoryMessageListReverse,[t,JSON.stringify(e)]),this.getSpecifiedGroupsInfo=(e,t=W())=>this._invoker("getSpecifiedGroupsInfo",window.getSpecifiedGroupsInfo,[t,JSON.stringify(e)]),this.deleteConversationAndDeleteAllMsg=(e,t=W())=>this._invoker("deleteConversationAndDeleteAllMsg",window.deleteConversationAndDeleteAllMsg,[t,e]),this.markConversationMessageAsRead=(e,t=W())=>this._invoker("markConversationMessageAsRead",window.markConversationMessageAsRead,[t,e]),this.sendGroupMessageReadReceipt=(e,t=W())=>this._invoker("sendGroupMessageReadReceipt",window.sendGroupMessageReadReceipt,[t,e.conversationID,JSON.stringify(e.clientMsgIDList)]),this.getGroupMessageReaderList=(e,t=W())=>this._invoker("getGroupMessageReaderList",window.getGroupMessageReaderList,[t,e.conversationID,e.clientMsgID,e.filter,e.offset,e.count]),this.getGroupMemberList=(e,t=W())=>this._invoker("getGroupMemberList",window.getGroupMemberList,[t,e.groupID,e.filter,e.offset,e.count]),this.createTextMessage=(e,t=W())=>this._invoker("createTextMessage",window.createTextMessage,[t,e],(e=>e[0])),this.createImageMessageByURL=(e,t=W())=>this._invoker("createImageMessageByURL",window.createImageMessageByURL,[t,e.sourcePath,JSON.stringify(e.sourcePicture),JSON.stringify(e.bigPicture),JSON.stringify(e.snapshotPicture)],(e=>e[0])),this.createImageMessageByFile=(e,t=W())=>(e.sourcePicture.uuid=`${e.sourcePicture.uuid}/${e.file.name}`,window.fileMapSet(e.sourcePicture.uuid,e.file),this._invoker("createImageMessageByFile",window.createImageMessageByURL,[t,e.sourcePath,JSON.stringify(e.sourcePicture),JSON.stringify(e.bigPicture),JSON.stringify(e.snapshotPicture)],(e=>e[0]))),this.createCustomMessage=(e,t=W())=>this._invoker("createCustomMessage",window.createCustomMessage,[t,e.data,e.extension,e.description],(e=>e[0])),this.createQuoteMessage=(e,t=W())=>this._invoker("createQuoteMessage",window.createQuoteMessage,[t,e.text,e.message],(e=>e[0])),this.createAdvancedQuoteMessage=(e,t=W())=>this._invoker("createAdvancedQuoteMessage",window.createAdvancedQuoteMessage,[t,e.text,JSON.stringify(e.message),JSON.stringify(e.messageEntityList)],(e=>e[0])),this.createAdvancedTextMessage=(e,t=W())=>this._invoker("createAdvancedTextMessage",window.createAdvancedTextMessage,[t,e.text,JSON.stringify(e.messageEntityList)],(e=>e[0])),this.sendMessage=(e,t=W())=>{var n,i;const s=null!==(n=e.offlinePushInfo)&&void 0!==n?n:{title:"你有一条新消息",desc:"",ex:"",iOSPushSound:"+1",iOSBadgeCount:!0};return this._invoker("sendMessage",window.sendMessage,[t,JSON.stringify(e.message),e.recvID,e.groupID,JSON.stringify(s),null!==(i=e.isOnlineOnly)&&void 0!==i&&i])},this.sendMessageNotOss=(e,t=W())=>{var n,i;const s=null!==(n=e.offlinePushInfo)&&void 0!==n?n:{title:"你有一条新消息",desc:"",ex:"",iOSPushSound:"+1",iOSBadgeCount:!0};return this._invoker("sendMessageNotOss",window.sendMessageNotOss,[t,JSON.stringify(e.message),e.recvID,e.groupID,JSON.stringify(s),null!==(i=e.isOnlineOnly)&&void 0!==i&&i])},this.setMessageLocalEx=(e,t=W())=>this._invoker("setMessageLocalEx",window.setMessageLocalEx,[t,e.conversationID,e.clientMsgID,e.localEx]),this.getHistoryMessageListReverse=(e,t=W())=>this._invoker("getHistoryMessageListReverse",window.getHistoryMessageListReverse,[t,JSON.stringify(e)]),this.revokeMessage=(e,t=W())=>this._invoker("revokeMessage",window.revokeMessage,[t,e.conversationID,e.clientMsgID]),this.setConversationPrivateChat=(e,t=W())=>this._invoker("setConversationPrivateChat",window.setConversationPrivateChat,[t,e.conversationID,e.isPrivate]),this.setConversationBurnDuration=(e,t=W())=>this._invoker("setConversationBurnDuration",window.setConversationBurnDuration,[t,e.conversationID,e.burnDuration]),this.getLoginStatus=(e=W())=>this._invoker("getLoginStatus",window.getLoginStatus,[e],(e=>e[0])),this.setAppBackgroundStatus=(e,t=W())=>this._invoker("setAppBackgroundStatus",window.setAppBackgroundStatus,[t,e]),this.networkStatusChanged=(e=W())=>this._invoker("networkStatusChanged ",window.networkStatusChanged,[e]),this.getLoginUserID=(e=W())=>this._invoker("getLoginUserID",window.getLoginUserID,[e]),this.getSelfUserInfo=(e=W())=>this._invoker("getSelfUserInfo",window.getSelfUserInfo,[e]),this.getUsersInfo=(e,t=W())=>this._invoker("getUsersInfo",window.getUsersInfo,[t,JSON.stringify(e)]),this.getUsersInfoWithCache=(e,t=W())=>this._invoker("getUsersInfoWithCache",window.getUsersInfoWithCache,[t,JSON.stringify(e.userIDList),e.groupID]),this.setSelfInfo=(e,t=W())=>this._invoker("setSelfInfo",window.setSelfInfo,[t,JSON.stringify(e)]),this.createTextAtMessage=(e,t=W())=>{var n;return this._invoker("createTextAtMessage",window.createTextAtMessage,[t,e.text,JSON.stringify(e.atUserIDList),JSON.stringify(e.atUsersInfo),null!==(n=JSON.stringify(e.message))&&void 0!==n?n:""],(e=>e[0]))},this.createSoundMessageByURL=(e,t=W())=>this._invoker("createSoundMessageByURL",window.createSoundMessageByURL,[t,JSON.stringify(e)],(e=>e[0])),this.createSoundMessageByFile=(e,t=W())=>(e.uuid=`${e.uuid}/${e.file.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("createSoundMessageByFile",window.createSoundMessageByURL,[t,JSON.stringify(e)],(e=>e[0]))),this.createVideoMessageByURL=(e,t=W())=>this._invoker("createVideoMessageByURL",window.createVideoMessageByURL,[t,JSON.stringify(e)],(e=>e[0])),this.createVideoMessageByFile=(e,t=W())=>(e.videoUUID=`${e.videoUUID}/${e.videoFile.name}`,e.snapshotUUID=`${e.snapshotUUID}/${e.snapshotFile.name}`,window.fileMapSet(e.videoUUID,e.videoFile),window.fileMapSet(e.snapshotUUID,e.snapshotFile),this._invoker("createVideoMessageByFile",window.createVideoMessageByURL,[t,JSON.stringify(e)],(e=>e[0]))),this.createFileMessageByURL=(e,t=W())=>this._invoker("createFileMessageByURL",window.createFileMessageByURL,[t,JSON.stringify(e)],(e=>e[0])),this.createFileMessageByFile=(e,t=W())=>(e.uuid=`${e.uuid}/${e.file.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("createFileMessageByFile",window.createFileMessageByURL,[t,JSON.stringify(e)],(e=>e[0]))),this.createMergerMessage=(e,t=W())=>this._invoker("createMergerMessage ",window.createMergerMessage,[t,JSON.stringify(e.messageList),e.title,JSON.stringify(e.summaryList)],(e=>e[0])),this.createForwardMessage=(e,t=W())=>this._invoker("createForwardMessage ",window.createForwardMessage,[t,JSON.stringify(e)],(e=>e[0])),this.createFaceMessage=(e,t=W())=>this._invoker("createFaceMessage ",window.createFaceMessage,[t,e.index,e.data],(e=>e[0])),this.createLocationMessage=(e,t=W())=>this._invoker("createLocationMessage ",window.createLocationMessage,[t,e.description,e.longitude,e.latitude],(e=>e[0])),this.createCardMessage=(e,t=W())=>this._invoker("createCardMessage ",window.createCardMessage,[t,JSON.stringify(e)],(e=>e[0])),this.deleteMessageFromLocalStorage=(e,t=W())=>this._invoker("deleteMessageFromLocalStorage ",window.deleteMessageFromLocalStorage,[t,e.conversationID,e.clientMsgID]),this.deleteMessage=(e,t=W())=>this._invoker("deleteMessage ",window.deleteMessage,[t,e.conversationID,e.clientMsgID]),this.deleteAllConversationFromLocal=(e=W())=>this._invoker("deleteAllConversationFromLocal ",window.deleteAllConversationFromLocal,[e]),this.deleteAllMsgFromLocal=(e=W())=>this._invoker("deleteAllMsgFromLocal ",window.deleteAllMsgFromLocal,[e]),this.deleteAllMsgFromLocalAndSvr=(e=W())=>this._invoker("deleteAllMsgFromLocalAndSvr ",window.deleteAllMsgFromLocalAndSvr,[e]),this.insertSingleMessageToLocalStorage=(e,t=W())=>this._invoker("insertSingleMessageToLocalStorage ",window.insertSingleMessageToLocalStorage,[t,JSON.stringify(e.message),e.recvID,e.sendID]),this.insertGroupMessageToLocalStorage=(e,t=W())=>this._invoker("insertGroupMessageToLocalStorage ",window.insertGroupMessageToLocalStorage,[t,JSON.stringify(e.message),e.groupID,e.sendID]),this.typingStatusUpdate=(e,t=W())=>this._invoker("typingStatusUpdate ",window.typingStatusUpdate,[t,e.recvID,e.msgTip]),this.clearConversationAndDeleteAllMsg=(e,t=W())=>this._invoker("clearConversationAndDeleteAllMsg ",window.clearConversationAndDeleteAllMsg,[t,e]),this.hideConversation=(e,t=W())=>this._invoker("hideConversation ",window.hideConversation,[t,e]),this.getConversationListSplit=(e,t=W())=>this._invoker("getConversationListSplit ",window.getConversationListSplit,[t,e.offset,e.count]),this.setConversationEx=(e,t=W())=>this._invoker("setConversationEx ",window.setConversationEx,[t,e.conversationID,e.ex]),this.getConversationIDBySessionType=(e,t=W())=>this._invoker("getConversationIDBySessionType ",window.getConversationIDBySessionType,[t,e.sourceID,e.sessionType]),this.getMultipleConversation=(e,t=W())=>this._invoker("getMultipleConversation ",window.getMultipleConversation,[t,JSON.stringify(e)]),this.deleteConversation=(e,t=W())=>this._invoker("deleteConversation ",window.deleteConversation,[t,e]),this.setConversationDraft=(e,t=W())=>this._invoker("setConversationDraft ",window.setConversationDraft,[t,e.conversationID,e.draftText]),this.pinConversation=(e,t=W())=>this._invoker("pinConversation ",window.pinConversation,[t,e.conversationID,e.isPinned]),this.getTotalUnreadMsgCount=(e=W())=>this._invoker("getTotalUnreadMsgCount ",window.getTotalUnreadMsgCount,[e]),this.getConversationRecvMessageOpt=(e,t=W())=>this._invoker("getConversationRecvMessageOpt ",window.getConversationRecvMessageOpt,[t,JSON.stringify(e)]),this.setConversationRecvMessageOpt=(e,t=W())=>this._invoker("setConversationRecvMessageOpt ",window.setConversationRecvMessageOpt,[t,e.conversationID,e.opt]),this.searchLocalMessages=(e,t=W())=>this._invoker("searchLocalMessages ",window.searchLocalMessages,[t,JSON.stringify(e)]),this.addFriend=(e,t=W())=>this._invoker("addFriend ",window.addFriend,[t,JSON.stringify(e)]),this.searchFriends=(e,t=W())=>this._invoker("searchFriends ",window.searchFriends,[t,JSON.stringify(e)]),this.getSpecifiedFriendsInfo=(e,t=W())=>this._invoker("getSpecifiedFriendsInfo ",window.getSpecifiedFriendsInfo,[t,JSON.stringify(e)]),this.getFriendApplicationListAsRecipient=(e=W())=>this._invoker("getFriendApplicationListAsRecipient ",window.getFriendApplicationListAsRecipient,[e]),this.getFriendApplicationListAsApplicant=(e=W())=>this._invoker("getFriendApplicationListAsApplicant ",window.getFriendApplicationListAsApplicant,[e]),this.getFriendList=(e=W())=>this._invoker("getFriendList ",window.getFriendList,[e]),this.getFriendListPage=(e,t=W())=>this._invoker("getFriendListPage ",window.getFriendListPage,[t,e.offset,e.count]),this.setFriendRemark=(e,t=W())=>this._invoker("setFriendRemark ",window.setFriendRemark,[t,JSON.stringify(e)]),this.pinFriends=(e,t=W())=>this._invoker("pinFriends ",window.pinFriends,[t,JSON.stringify(e)]),this.setFriendsEx=(e,t=W())=>this._invoker("setFriendsEx ",window.setFriendsEx,[t,JSON.stringify(e.toUserIDs),e.ex]),this.checkFriend=(e,t=W())=>this._invoker("checkFriend",window.checkFriend,[t,JSON.stringify(e)]),this.acceptFriendApplication=(e,t=W())=>this._invoker("acceptFriendApplication",window.acceptFriendApplication,[t,JSON.stringify(e)]),this.refuseFriendApplication=(e,t=W())=>this._invoker("refuseFriendApplication ",window.refuseFriendApplication,[t,JSON.stringify(e)]),this.deleteFriend=(e,t=W())=>this._invoker("deleteFriend ",window.deleteFriend,[t,e]),this.addBlack=(e,t=W())=>{var n;return this._invoker("addBlack ",window.addBlack,[t,e.toUserID,null!==(n=e.ex)&&void 0!==n?n:""])},this.removeBlack=(e,t=W())=>this._invoker("removeBlack ",window.removeBlack,[t,e]),this.getBlackList=(e=W())=>this._invoker("getBlackList ",window.getBlackList,[e]),this.inviteUserToGroup=(e,t=W())=>this._invoker("inviteUserToGroup ",window.inviteUserToGroup,[t,e.groupID,e.reason,JSON.stringify(e.userIDList)]),this.kickGroupMember=(e,t=W())=>this._invoker("kickGroupMember ",window.kickGroupMember,[t,e.groupID,e.reason,JSON.stringify(e.userIDList)]),this.isJoinGroup=(e,t=W())=>this._invoker("isJoinGroup ",window.isJoinGroup,[t,e]),this.getSpecifiedGroupMembersInfo=(e,t=W())=>this._invoker("getSpecifiedGroupMembersInfo ",window.getSpecifiedGroupMembersInfo,[t,e.groupID,JSON.stringify(e.userIDList)]),this.getUsersInGroup=(e,t=W())=>this._invoker("getUsersInGroup ",window.getUsersInGroup,[t,e.groupID,JSON.stringify(e.userIDList)]),this.getGroupMemberListByJoinTimeFilter=(e,t=W())=>this._invoker("getGroupMemberListByJoinTimeFilter ",window.getGroupMemberListByJoinTimeFilter,[t,e.groupID,e.offset,e.count,e.joinTimeBegin,e.joinTimeEnd,JSON.stringify(e.filterUserIDList)]),this.searchGroupMembers=(e,t=W())=>this._invoker("searchGroupMembers ",window.searchGroupMembers,[t,JSON.stringify(e)]),this.setGroupApplyMemberFriend=(e,t=W())=>this._invoker("setGroupApplyMemberFriend ",window.setGroupApplyMemberFriend,[t,e.groupID,e.rule]),this.setGroupLookMemberInfo=(e,t=W())=>this._invoker("setGroupLookMemberInfo ",window.setGroupLookMemberInfo,[t,e.groupID,e.rule]),this.getJoinedGroupList=(e=W())=>this._invoker("getJoinedGroupList ",window.getJoinedGroupList,[e]),this.getJoinedGroupListPage=(e,t=W())=>this._invoker("getJoinedGroupListPage ",window.getJoinedGroupListPage,[t,e.offset,e.count]),this.createGroup=(e,t=W())=>this._invoker("createGroup ",window.createGroup,[t,JSON.stringify(e)]),this.setGroupInfo=(e,t=W())=>this._invoker("setGroupInfo ",window.setGroupInfo,[t,JSON.stringify(e)]),this.setGroupMemberNickname=(e,t=W())=>this._invoker("setGroupMemberNickname ",window.setGroupMemberNickname,[t,e.groupID,e.userID,e.groupMemberNickname]),this.setGroupMemberInfo=(e,t=W())=>this._invoker("setGroupMemberInfo ",window.setGroupMemberInfo,[t,JSON.stringify(e)]),this.joinGroup=(e,t=W())=>{var n;return this._invoker("joinGroup ",window.joinGroup,[t,e.groupID,e.reqMsg,e.joinSource,null!==(n=e.ex)&&void 0!==n?n:""])},this.searchGroups=(e,t=W())=>this._invoker("searchGroups ",window.searchGroups,[t,JSON.stringify(e)]),this.quitGroup=(e,t=W())=>this._invoker("quitGroup ",window.quitGroup,[t,e]),this.dismissGroup=(e,t=W())=>this._invoker("dismissGroup ",window.dismissGroup,[t,e]),this.changeGroupMute=(e,t=W())=>this._invoker("changeGroupMute ",window.changeGroupMute,[t,e.groupID,e.isMute]),this.changeGroupMemberMute=(e,t=W())=>this._invoker("changeGroupMemberMute ",window.changeGroupMemberMute,[t,e.groupID,e.userID,e.mutedSeconds]),this.transferGroupOwner=(e,t=W())=>this._invoker("transferGroupOwner ",window.transferGroupOwner,[t,e.groupID,e.newOwnerUserID]),this.getGroupApplicationListAsApplicant=(e=W())=>this._invoker("getGroupApplicationListAsApplicant ",window.getGroupApplicationListAsApplicant,[e]),this.getGroupApplicationListAsRecipient=(e=W())=>this._invoker("getGroupApplicationListAsRecipient ",window.getGroupApplicationListAsRecipient,[e]),this.acceptGroupApplication=(e,t=W())=>this._invoker("acceptGroupApplication ",window.acceptGroupApplication,[t,e.groupID,e.fromUserID,e.handleMsg]),this.refuseGroupApplication=(e,t=W())=>this._invoker("refuseGroupApplication ",window.refuseGroupApplication,[t,e.groupID,e.fromUserID,e.handleMsg]),this.resetConversationGroupAtType=(e,t=W())=>this._invoker("resetConversationGroupAtType ",window.resetConversationGroupAtType,[t,e]),this.setGroupMemberRoleLevel=(e,t=W())=>this._invoker("setGroupMemberRoleLevel ",window.setGroupMemberRoleLevel,[t,e.groupID,e.userID,e.roleLevel]),this.setGroupVerification=(e,t=W())=>this._invoker("setGroupVerification ",window.setGroupVerification,[t,e.groupID,e.verification]),this.getGroupMemberOwnerAndAdmin=(e,t=W())=>this._invoker("getGroupMemberOwnerAndAdmin ",window.getGroupMemberOwnerAndAdmin,[t,e]),this.setGlobalRecvMessageOpt=(e,t=W())=>this._invoker("setGlobalRecvMessageOpt ",window.setGlobalRecvMessageOpt,[t,e]),this.findMessageList=(e,t=W())=>this._invoker("findMessageList ",window.findMessageList,[t,JSON.stringify(e)]),this.uploadFile=(e,t=W())=>{var n;return e.uuid=`${e.uuid}/${null===(n=e.file)||void 0===n?void 0:n.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("uploadFile ",window.uploadFile,[t,JSON.stringify({...e,filepath:"",cause:""})])},this.subscribeUsersStatus=(e,t=W())=>this._invoker("subscribeUsersStatus ",window.subscribeUsersStatus,[t,JSON.stringify(e)]),this.unsubscribeUsersStatus=(e,t=W())=>this._invoker("unsubscribeUsersStatus ",window.unsubscribeUsersStatus,[t,JSON.stringify(e)]),this.getUserStatus=(e=W())=>this._invoker("getUserStatus ",window.getUserStatus,[e]),this.getSubscribeUsersStatus=(e=W())=>this._invoker("getSubscribeUsersStatus ",window.getSubscribeUsersStatus,[e]),this.signalingInvite=(e,t=W())=>this._invoker("signalingInvite ",window.signalingInvite,[t,JSON.stringify(e)]),this.signalingInviteInGroup=(e,t=W())=>this._invoker("signalingInviteInGroup ",window.signalingInviteInGroup,[t,JSON.stringify(e)]),this.signalingAccept=(e,t=W())=>this._invoker("signalingAccept ",window.signalingAccept,[t,JSON.stringify(e)]),this.signalingReject=(e,t=W())=>this._invoker("signalingReject ",window.signalingReject,[t,JSON.stringify(e)]),this.signalingCancel=(e,t=W())=>this._invoker("signalingCancel ",window.signalingCancel,[t,JSON.stringify(e)]),this.signalingHungUp=(e,t=W())=>this._invoker("signalingHungUp ",window.signalingHungUp,[t,JSON.stringify(e)]),this.signalingGetRoomByGroupID=(e,t=W())=>this._invoker("signalingGetRoomByGroupID ",window.signalingGetRoomByGroupID,[t,e]),this.signalingGetTokenByRoomID=(e,t=W())=>this._invoker("signalingGetTokenByRoomID ",window.signalingGetTokenByRoomID,[t,e]),this.signalingSendCustomSignal=(e,t=W())=>this._invoker("signalingSendCustomSignal ",window.signalingSendCustomSignal,[t,e.customInfo,e.roomID]),this.signalingCreateMeeting=(e,t=W())=>this._invoker("signalingCreateMeeting ",window.signalingCreateMeeting,[t,JSON.stringify(e)]),this.signalingJoinMeeting=(e,t=W())=>this._invoker("signalingJoinMeeting ",window.signalingJoinMeeting,[t,JSON.stringify({roomID:e})]),this.signalingUpdateMeetingInfo=(e,t=W())=>this._invoker("signalingUpdateMeetingInfo ",window.signalingUpdateMeetingInfo,[t,JSON.stringify(e)]),this.signalingCloseRoom=(e,t=W())=>this._invoker("signalingCloseRoom ",window.signalingCloseRoom,[t,e]),this.signalingGetMeetings=(e=W())=>this._invoker("signalingGetMeetings ",window.signalingGetMeetings,[e]),this.signalingOperateStream=(e,t=W())=>this._invoker("signalingOperateStream ",window.signalingOperateStream,[t,e.streamType,e.roomID,e.userID,e.mute,e.muteAll]),this.setConversationIsMsgDestruct=(e,t=W())=>this._invoker("setConversationIsMsgDestruct ",window.setConversationIsMsgDestruct,[t,e.conversationID,e.isMsgDestruct]),this.setConversationMsgDestructTime=(e,t=W())=>this._invoker("setConversationMsgDestructTime ",window.setConversationMsgDestructTime,[t,e.conversationID,e.msgDestructTime]),this.fileMapSet=(e,t)=>window.fileMapSet(e,t),L(t),this.isLogStandardOutput=t,this.wasmInitializedPromise=B(e),this.goExitPromise=void 0,this.goExitPromise&&this.goExitPromise.then((()=>{this._logWrap("SDK => wasm exist")})).catch((e=>{this._logWrap("SDK => wasm with error ",e)})).finally((()=>{this.goExisted=!0}))}_logWrap(...e){this.isLogStandardOutput}_invoker(e,t,n,i){return new Promise((async(s,o)=>{this._logWrap(`%cSDK =>%c [OperationID:${n[0]}] (invoked by js) run ${e} with args ${JSON.stringify(n)}`,"font-size:14px; background:#7CAEFF; border-radius:4px; padding-inline:4px;","");let r={operationID:n[0],event:e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()};try{if(!x()||x().exited||this.goExisted)throw"wasm exist already, fail to run";let o=await t(...n);if(i&&(this._logWrap(`%cSDK =>%c [OperationID:${n[0]}] (invoked by js) run ${e} with response before processor ${JSON.stringify(o)}`,U("#FFDC19"),""),o=i(o)),this.tryParse)try{o=JSON.parse(o)}catch(a){}r.data=o,s(r)}catch(a){this._logWrap(`%cSDK =>%c [OperationID:${n[0]}] (invoked by js) run ${e} with error ${JSON.stringify(a)}`,U("#EE4245"),""),r={...r,...a},o(r)}}))}exportDB(e=W()){return this._invoker("exportDB",window.exportDB,[e])}}let _;var Y,T,z,H,P,E,Q,j,q,$,ee,te,ne,ie,se,oe,re,ae,de;function le(e,t,n){var i=void 0===t?null:t,s=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),s=0,o=n.length;s<o;++s)i[s]=n.charCodeAt(s);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),o=s.indexOf("\n",10)+1,r=s.substring(o)+(i?"//# sourceMappingURL="+i:""),a=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(a)}e("b",Y),function(e){e[e.Normal=0]="Normal",e[e.NotReceive=1]="NotReceive",e[e.NotNotify=2]="NotNotify"}(Y||e("b",Y={})),e("A",T),function(e){e[e.Allowed=0]="Allowed",e[e.NotAllowed=1]="NotAllowed"}(T||e("A",T={})),e("d",z),function(e){e[e.Group=2]="Group",e[e.WorkingGroup=2]="WorkingGroup"}(z||e("d",z={})),e("f",H),function(e){e[e.Invitation=2]="Invitation",e[e.Search=3]="Search",e[e.QrCode=4]="QrCode"}(H||e("f",H={})),e("G",P),function(e){e[e.Normal=20]="Normal",e[e.Admin=60]="Admin",e[e.Owner=100]="Owner"}(P||e("G",P={})),e("e",E),function(e){e[e.ApplyNeedInviteNot=0]="ApplyNeedInviteNot",e[e.AllNeed=1]="AllNeed",e[e.AllNot=2]="AllNot"}(E||e("e",E={})),e("c",Q),function(e){e[e.Sending=1]="Sending",e[e.Succeed=2]="Succeed",e[e.Failed=3]="Failed"}(Q||e("c",Q={})),e("P",j),function(e){e[e.iOS=1]="iOS",e[e.Android=2]="Android",e[e.Windows=3]="Windows",e[e.MacOSX=4]="MacOSX",e[e.Web=5]="Web",e[e.Linux=7]="Linux",e[e.AndroidPad=8]="AndroidPad",e[e.iPad=9]="iPad"}(j||e("P",j={})),e("L",q),function(e){e[e.Verbose=6]="Verbose",e[e.Debug=5]="Debug",e[e.Info=4]="Info",e[e.Warn=3]="Warn",e[e.Error=2]="Error",e[e.Fatal=1]="Fatal",e[e.Panic=0]="Panic"}(q||e("L",q={})),e("a",$),function(e){e[e.Unprocessed=0]="Unprocessed",e[e.Agree=1]="Agree",e[e.Reject=-1]="Reject"}($||e("a",$={})),e("M",ee),function(e){e[e.TextMessage=101]="TextMessage",e[e.PictureMessage=102]="PictureMessage",e[e.VoiceMessage=103]="VoiceMessage",e[e.VideoMessage=104]="VideoMessage",e[e.FileMessage=105]="FileMessage",e[e.AtTextMessage=106]="AtTextMessage",e[e.MergeMessage=107]="MergeMessage",e[e.CardMessage=108]="CardMessage",e[e.LocationMessage=109]="LocationMessage",e[e.CustomMessage=110]="CustomMessage",e[e.TypingMessage=113]="TypingMessage",e[e.QuoteMessage=114]="QuoteMessage",e[e.FaceMessage=115]="FaceMessage",e[e.FriendAdded=1201]="FriendAdded",e[e.OANotification=1400]="OANotification",e[e.GroupCreated=1501]="GroupCreated",e[e.GroupInfoUpdated=1502]="GroupInfoUpdated",e[e.MemberQuit=1504]="MemberQuit",e[e.GroupOwnerTransferred=1507]="GroupOwnerTransferred",e[e.MemberKicked=1508]="MemberKicked",e[e.MemberInvited=1509]="MemberInvited",e[e.MemberEnter=1510]="MemberEnter",e[e.GroupDismissed=1511]="GroupDismissed",e[e.GroupMemberMuted=1512]="GroupMemberMuted",e[e.GroupMemberCancelMuted=1513]="GroupMemberCancelMuted",e[e.GroupMuted=1514]="GroupMuted",e[e.GroupCancelMuted=1515]="GroupCancelMuted",e[e.GroupAnnouncementUpdated=1519]="GroupAnnouncementUpdated",e[e.GroupNameUpdated=1520]="GroupNameUpdated",e[e.BurnMessageChange=1701]="BurnMessageChange",e[e.RevokeMessage=2101]="RevokeMessage"}(ee||e("M",ee={})),e("S",te),function(e){e[e.Single=1]="Single",e[e.Group=3]="Group",e[e.WorkingGroup=3]="WorkingGroup",e[e.Notification=4]="Notification"}(te||e("S",te={})),e("h",ne),function(e){e[e.Normal=0]="Normal",e[e.Banned=1]="Banned",e[e.Dismissed=2]="Dismissed",e[e.Muted=3]="Muted"}(ne||e("h",ne={})),e("i",ie),function(e){e[e.AtNormal=0]="AtNormal",e[e.AtMe=1]="AtMe",e[e.AtAll=2]="AtAll",e[e.AtAllAtMe=3]="AtAllAtMe",e[e.AtGroupNotice=4]="AtGroupNotice"}(ie||e("i",ie={})),function(e){e[e.All=0]="All",e[e.Owner=1]="Owner",e[e.Admin=2]="Admin",e[e.Normal=3]="Normal",e[e.AdminAndNormal=4]="AdminAndNormal",e[e.AdminAndOwner=5]="AdminAndOwner"}(se||(se={})),function(e){e[e.isBlack=0]="isBlack",e[e.isFriend=1]="isFriend"}(oe||(oe={})),function(e){e[e.Logout=1]="Logout",e[e.Logging=2]="Logging",e[e.Logged=3]="Logged"}(re||(re={})),e("O",ae),function(e){e[e.Online=1]="Online",e[e.Offline=0]="Offline"}(ae||e("O",ae={})),function(e){e[e.Read=0]="Read",e[e.UnRead=1]="UnRead"}(de||(de={}));var ce,pe,ge,ue,we=(ce="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7bGV0IHQ9MzczNTkyODU1OTtjbGFzcyBle2NvbnN0cnVjdG9yKHQse2luaXRpYWxPZmZzZXQ6ZT00LHVzZUF0b21pY3M6aT0hMCxzdHJlYW06cz0hMCxkZWJ1ZzpyLG5hbWU6bn09e30pe3RoaXMuYnVmZmVyPXQsdGhpcy5hdG9taWNWaWV3PW5ldyBJbnQzMkFycmF5KHQpLHRoaXMub2Zmc2V0PWUsdGhpcy51c2VBdG9taWNzPWksdGhpcy5zdHJlYW09cyx0aGlzLmRlYnVnPXIsdGhpcy5uYW1lPW59bG9nKC4uLnQpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKGBbcmVhZGVyOiAke3RoaXMubmFtZX1dYCwuLi50KX13YWl0V3JpdGUodCxlPW51bGwpe2lmKHRoaXMudXNlQXRvbWljcyl7Zm9yKHRoaXMubG9nKGB3YWl0aW5nIGZvciAke3R9YCk7MD09PUF0b21pY3MubG9hZCh0aGlzLmF0b21pY1ZpZXcsMCk7KXtpZihudWxsIT1lJiYidGltZWQtb3V0Ij09PUF0b21pY3Mud2FpdCh0aGlzLmF0b21pY1ZpZXcsMCwwLGUpKXRocm93IG5ldyBFcnJvcigidGltZW91dCIpO0F0b21pY3Mud2FpdCh0aGlzLmF0b21pY1ZpZXcsMCwwLDUwMCl9dGhpcy5sb2coYHJlc3VtZWQgZm9yICR7dH1gKX1lbHNlIGlmKDEhPT10aGlzLmF0b21pY1ZpZXdbMF0pdGhyb3cgbmV3IEVycm9yKCJgd2FpdFdyaXRlYCBleHBlY3RlZCBhcnJheSB0byBiZSByZWFkYWJsZSIpfWZsaXAoKXtpZih0aGlzLmxvZygiZmxpcCIpLHRoaXMudXNlQXRvbWljcyl7aWYoMSE9PUF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKHRoaXMuYXRvbWljVmlldywwLDEsMCkpdGhyb3cgbmV3IEVycm9yKCJSZWFkIGRhdGEgb3V0IG9mIHN5bmMhIFRoaXMgaXMgZGlzYXN0cm91cyIpO0F0b21pY3Mubm90aWZ5KHRoaXMuYXRvbWljVmlldywwKX1lbHNlIHRoaXMuYXRvbWljVmlld1swXT0wO3RoaXMub2Zmc2V0PTR9ZG9uZSgpe3RoaXMud2FpdFdyaXRlKCJkb25lIik7bGV0IGU9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5nZXRVaW50MzIoMCk9PT10O3JldHVybiBlJiYodGhpcy5sb2coImRvbmUiKSx0aGlzLmZsaXAoKSksZX1wZWVrKHQpe3RoaXMucGVla09mZnNldD10aGlzLm9mZnNldDtsZXQgZT10KCk7cmV0dXJuIHRoaXMub2Zmc2V0PXRoaXMucGVla09mZnNldCx0aGlzLnBlZWtPZmZzZXQ9bnVsbCxlfXN0cmluZyh0KXt0aGlzLndhaXRXcml0ZSgic3RyaW5nIix0KTtsZXQgZT10aGlzLl9pbnQzMigpLGk9ZS8yLHM9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0LGUpLHI9W107Zm9yKGxldCB0PTA7dDxpO3QrKylyLnB1c2gocy5nZXRVaW50MTYoMip0KSk7bGV0IG49U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHIpO3JldHVybiB0aGlzLmxvZygic3RyaW5nIixuKSx0aGlzLm9mZnNldCs9ZSxudWxsPT10aGlzLnBlZWtPZmZzZXQmJnRoaXMuZmxpcCgpLG59X2ludDMyKCl7bGV0IHQ9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5nZXRJbnQzMigpO3JldHVybiB0aGlzLmxvZygiX2ludDMyIix0KSx0aGlzLm9mZnNldCs9NCx0fWludDMyKCl7dGhpcy53YWl0V3JpdGUoImludDMyIik7bGV0IHQ9dGhpcy5faW50MzIoKTtyZXR1cm4gdGhpcy5sb2coImludDMyIix0KSxudWxsPT10aGlzLnBlZWtPZmZzZXQmJnRoaXMuZmxpcCgpLHR9Ynl0ZXMoKXt0aGlzLndhaXRXcml0ZSgiYnl0ZXMiKTtsZXQgdD10aGlzLl9pbnQzMigpLGU9bmV3IEFycmF5QnVmZmVyKHQpO3JldHVybiBuZXcgVWludDhBcnJheShlKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsdGhpcy5vZmZzZXQsdCkpLHRoaXMubG9nKCJieXRlcyIsZSksdGhpcy5vZmZzZXQrPXQsbnVsbD09dGhpcy5wZWVrT2Zmc2V0JiZ0aGlzLmZsaXAoKSxlfX1jbGFzcyBpe2NvbnN0cnVjdG9yKHQse2luaXRpYWxPZmZzZXQ6ZT00LHVzZUF0b21pY3M6aT0hMCxzdHJlYW06cz0hMCxkZWJ1ZzpyLG5hbWU6bn09e30pe3RoaXMuYnVmZmVyPXQsdGhpcy5hdG9taWNWaWV3PW5ldyBJbnQzMkFycmF5KHQpLHRoaXMub2Zmc2V0PWUsdGhpcy51c2VBdG9taWNzPWksdGhpcy5zdHJlYW09cyx0aGlzLmRlYnVnPXIsdGhpcy5uYW1lPW4sdGhpcy51c2VBdG9taWNzP0F0b21pY3Muc3RvcmUodGhpcy5hdG9taWNWaWV3LDAsMCk6dGhpcy5hdG9taWNWaWV3WzBdPTB9bG9nKC4uLnQpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKGBbd3JpdGVyOiAke3RoaXMubmFtZX1dYCwuLi50KX13YWl0UmVhZCh0KXtpZih0aGlzLnVzZUF0b21pY3Mpe2lmKHRoaXMubG9nKGB3YWl0aW5nIGZvciAke3R9YCksMCE9PUF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKHRoaXMuYXRvbWljVmlldywwLDAsMSkpdGhyb3cgbmV3IEVycm9yKCJXcm90ZSBzb21ldGhpbmcgaW50byB1bndyaXRhYmxlIGJ1ZmZlciEgVGhpcyBpcyBkaXNhc3Ryb3VzIik7Zm9yKEF0b21pY3Mubm90aWZ5KHRoaXMuYXRvbWljVmlldywwKTsxPT09QXRvbWljcy5sb2FkKHRoaXMuYXRvbWljVmlldywwKTspQXRvbWljcy53YWl0KHRoaXMuYXRvbWljVmlldywwLDEsNTAwKTt0aGlzLmxvZyhgcmVzdW1lZCBmb3IgJHt0fWApfWVsc2UgdGhpcy5hdG9taWNWaWV3WzBdPTE7dGhpcy5vZmZzZXQ9NH1maW5hbGl6ZSgpe3RoaXMubG9nKCJmaW5hbGl6aW5nIiksbmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5zZXRVaW50MzIoMCx0KSx0aGlzLndhaXRSZWFkKCJmaW5hbGl6ZSIpfXN0cmluZyh0KXt0aGlzLmxvZygic3RyaW5nIix0KTtsZXQgZT0yKnQubGVuZ3RoO3RoaXMuX2ludDMyKGUpO2xldCBpPW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlcix0aGlzLm9mZnNldCxlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpLnNldFVpbnQxNigyKmUsdC5jaGFyQ29kZUF0KGUpKTt0aGlzLm9mZnNldCs9ZSx0aGlzLndhaXRSZWFkKCJzdHJpbmciKX1faW50MzIodCl7bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5zZXRJbnQzMigwLHQpLHRoaXMub2Zmc2V0Kz00fWludDMyKHQpe3RoaXMubG9nKCJpbnQzMiIsdCksdGhpcy5faW50MzIodCksdGhpcy53YWl0UmVhZCgiaW50MzIiKX1ieXRlcyh0KXt0aGlzLmxvZygiYnl0ZXMiLHQpO2xldCBlPXQuYnl0ZUxlbmd0aDt0aGlzLl9pbnQzMihlKSxuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcix0aGlzLm9mZnNldCkuc2V0KG5ldyBVaW50OEFycmF5KHQpKSx0aGlzLm9mZnNldCs9ZSx0aGlzLndhaXRSZWFkKCJieXRlcyIpfX1sZXQgcz0wLHI9MSxuPTIsbz00O2xldCBhPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbD1uZXcgTWFwLGM9bmV3IE1hcDtmdW5jdGlvbiBoKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWNsYXNzIGZ7Y29uc3RydWN0b3IodCxlPSJyZWFkb25seSIpe3RoaXMuZGI9dCx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sZSksdGhpcy5zdG9yZT10aGlzLnRyYW5zLm9iamVjdFN0b3JlKCJkYXRhIiksdGhpcy5sb2NrVHlwZT0icmVhZG9ubHkiPT09ZT9yOm8sdGhpcy5jYWNoZWRGaXJzdEJsb2NrPW51bGwsdGhpcy5jdXJzb3I9bnVsbCx0aGlzLnByZXZSZWFkcz1udWxsfWFzeW5jIHByZWZldGNoRmlyc3RCbG9jayh0KXtsZXQgZT1hd2FpdCB0aGlzLmdldCgwKTtyZXR1cm4gdGhpcy5jYWNoZWRGaXJzdEJsb2NrPWUsZX1hc3luYyB3YWl0Q29tcGxldGUoKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGUpPT57dGhpcy5jb21taXQoKSx0aGlzLmxvY2tUeXBlPT09bz8odGhpcy50cmFucy5vbmNvbXBsZXRlPWU9PnQoKSx0aGlzLnRyYW5zLm9uZXJyb3I9dD0+ZSh0KSk6YT90aGlzLnRyYW5zLm9uY29tcGxldGU9ZT0+dCgpOnQoKX0pKX1jb21taXQoKXt0aGlzLnRyYW5zLmNvbW1pdCYmdGhpcy50cmFucy5jb21taXQoKX1hc3luYyB1cGdyYWRlRXhjbHVzaXZlKCl7dGhpcy5jb21taXQoKSx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sInJlYWR3cml0ZSIpLHRoaXMuc3RvcmU9dGhpcy50cmFucy5vYmplY3RTdG9yZSgiZGF0YSIpLHRoaXMubG9ja1R5cGU9bztsZXQgdD10aGlzLmNhY2hlZEZpcnN0QmxvY2s7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCYmbnVsbCE9ZSl7bGV0IGk9bmV3IFVpbnQ4QXJyYXkodCkscz1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHQ9MjQ7dDw0MDt0KyspaWYoaVt0XSE9PXNbdF0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIG51bGw9PXQmJm51bGw9PWV9KGF3YWl0IHRoaXMucHJlZmV0Y2hGaXJzdEJsb2NrKDUwMCksdCl9ZG93bmdyYWRlU2hhcmVkKCl7dGhpcy5jb21taXQoKSx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sInJlYWRvbmx5IiksdGhpcy5zdG9yZT10aGlzLnRyYW5zLm9iamVjdFN0b3JlKCJkYXRhIiksdGhpcy5sb2NrVHlwZT1yfWFzeW5jIGdldCh0KXtyZXR1cm4gbmV3IFByb21pc2UoKChlLGkpPT57bGV0IHM9dGhpcy5zdG9yZS5nZXQodCk7cy5vbnN1Y2Nlc3M9dD0+e2Uocy5yZXN1bHQpfSxzLm9uZXJyb3I9dD0+aSh0KX0pKX1nZXRSZWFkRGlyZWN0aW9uKCl7bGV0IHQ9dGhpcy5wcmV2UmVhZHM7aWYodCl7aWYodFswXTx0WzFdJiZ0WzFdPHRbMl0mJnRbMl0tdFswXTwxMClyZXR1cm4ibmV4dCI7aWYodFswXT50WzFdJiZ0WzFdPnRbMl0mJnRbMF0tdFsyXTwxMClyZXR1cm4icHJldiJ9cmV0dXJuIG51bGx9cmVhZCh0KXtsZXQgZT0oKT0+bmV3IFByb21pc2UoKCh0LGUpPT57aWYobnVsbCE9dGhpcy5jdXJzb3JQcm9taXNlKXRocm93IG5ldyBFcnJvcigid2FpdEN1cnNvcigpIGNhbGxlZCBidXQgc29tZXRoaW5nIGVsc2UgaXMgYWxyZWFkeSB3YWl0aW5nIik7dGhpcy5jdXJzb3JQcm9taXNlPXtyZXNvbHZlOnQscmVqZWN0OmV9fSkpO2lmKHRoaXMuY3Vyc29yKXtsZXQgaT10aGlzLmN1cnNvcjtyZXR1cm4ibmV4dCI9PT1pLmRpcmVjdGlvbiYmdD5pLmtleSYmdDxpLmtleSsxMDA/KGkuYWR2YW5jZSh0LWkua2V5KSxlKCkpOiJwcmV2Ij09PWkuZGlyZWN0aW9uJiZ0PGkua2V5JiZ0Pmkua2V5LTEwMD8oaS5hZHZhbmNlKGkua2V5LXQpLGUoKSk6KHRoaXMuY3Vyc29yPW51bGwsdGhpcy5yZWFkKHQpKX17bGV0IGk9dGhpcy5nZXRSZWFkRGlyZWN0aW9uKCk7aWYoaSl7bGV0IHM7dGhpcy5wcmV2UmVhZHM9bnVsbCxzPSJwcmV2Ij09PWk/SURCS2V5UmFuZ2UudXBwZXJCb3VuZCh0KTpJREJLZXlSYW5nZS5sb3dlckJvdW5kKHQpO2xldCByPXRoaXMuc3RvcmUub3BlbkN1cnNvcihzLGkpO3JldHVybiByLm9uc3VjY2Vzcz10PT57bGV0IGU9dC50YXJnZXQucmVzdWx0O2lmKHRoaXMuY3Vyc29yPWUsbnVsbD09dGhpcy5jdXJzb3JQcm9taXNlKXRocm93IG5ldyBFcnJvcigiR290IGRhdGEgZnJvbSBjdXJzb3IgYnV0IG5vdGhpbmcgaXMgd2FpdGluZyBpdCIpO3RoaXMuY3Vyc29yUHJvbWlzZS5yZXNvbHZlKGU/ZS52YWx1ZTpudWxsKSx0aGlzLmN1cnNvclByb21pc2U9bnVsbH0sci5vbmVycm9yPXQ9PntpZihjb25zb2xlLmxvZygiQ3Vyc29yIGZhaWx1cmU6Iix0KSxudWxsPT10aGlzLmN1cnNvclByb21pc2UpdGhyb3cgbmV3IEVycm9yKCJHb3QgZGF0YSBmcm9tIGN1cnNvciBidXQgbm90aGluZyBpcyB3YWl0aW5nIGl0Iik7dGhpcy5jdXJzb3JQcm9taXNlLnJlamVjdCh0KSx0aGlzLmN1cnNvclByb21pc2U9bnVsbH0sZSgpfXJldHVybiBudWxsPT10aGlzLnByZXZSZWFkcyYmKHRoaXMucHJldlJlYWRzPVswLDAsMF0pLHRoaXMucHJldlJlYWRzLnB1c2godCksdGhpcy5wcmV2UmVhZHMuc2hpZnQoKSx0aGlzLmdldCh0KX19YXN5bmMgc2V0KHQpe3JldHVybiB0aGlzLnByZXZSZWFkcz1udWxsLG5ldyBQcm9taXNlKCgoZSxpKT0+e2xldCBzPXRoaXMuc3RvcmUucHV0KHQudmFsdWUsdC5rZXkpO3Mub25zdWNjZXNzPXQ9PmUocy5yZXN1bHQpLHMub25lcnJvcj10PT5pKHQpfSkpfWFzeW5jIGJ1bGtTZXQodCl7dGhpcy5wcmV2UmVhZHM9bnVsbDtmb3IobGV0IGUgb2YgdCl0aGlzLnN0b3JlLnB1dChlLnZhbHVlLGUua2V5KX19YXN5bmMgZnVuY3Rpb24gdSh0KXtyZXR1cm4gbmV3IFByb21pc2UoKChlLGkpPT57aWYobC5nZXQodCkpcmV0dXJuIHZvaWQgZShsLmdldCh0KSk7bGV0IHM9Z2xvYmFsVGhpcy5pbmRleGVkREIub3Blbih0LDIpO3Mub25zdWNjZXNzPWk9PntsZXQgcz1pLnRhcmdldC5yZXN1bHQ7cy5vbnZlcnNpb25jaGFuZ2U9KCk9Pntjb25zb2xlLmxvZygiY2xvc2luZyBiZWNhdXNlIHZlcnNpb24gY2hhbmdlZCIpLHMuY2xvc2UoKSxsLmRlbGV0ZSh0KX0scy5vbmNsb3NlPSgpPT57bC5kZWxldGUodCl9LGwuc2V0KHQscyksZShzKX0scy5vbnVwZ3JhZGVuZWVkZWQ9dD0+e2xldCBlPXQudGFyZ2V0LnJlc3VsdDtlLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoImRhdGEiKXx8ZS5jcmVhdGVPYmplY3RTdG9yZSgiZGF0YSIpfSxzLm9uYmxvY2tlZD10PT5jb25zb2xlLmxvZygiYmxvY2tlZCIsdCkscy5vbmVycm9yPXMub25hYm9ydD10PT5pKHQudGFyZ2V0LmVycm9yKX0pKX1hc3luYyBmdW5jdGlvbiB3KHQsZSxpKXtsZXQgcz1jLmdldCh0KTtpZihzKXtpZigicmVhZHdyaXRlIj09PWUmJnMubG9ja1R5cGU9PT1yKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHdyaXRlIGJ1dCBvbmx5IGhhcyBTSEFSRUQgbG9jayIpO3JldHVybiBpKHMpfXM9bmV3IGYoYXdhaXQgdSh0KSxlKSxhd2FpdCBpKHMpLGF3YWl0IHMud2FpdENvbXBsZXRlKCl9YXN5bmMgZnVuY3Rpb24gZCh0LGUsaSl7bGV0IG49ZnVuY3Rpb24odCl7cmV0dXJuIGMuZ2V0KHQpfShlKTtpZihpPT09cil7aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoIlVubG9jayBlcnJvciAoU0hBUkVEKTogbm8gdHJhbnNhY3Rpb24gcnVubmluZyIpO24ubG9ja1R5cGU9PT1vJiZuLmRvd25ncmFkZVNoYXJlZCgpfWVsc2UgaT09PXMmJm4mJihhd2FpdCBuLndhaXRDb21wbGV0ZSgpLGMuZGVsZXRlKGUpKTt0LmludDMyKDApLHQuZmluYWxpemUoKX1hc3luYyBmdW5jdGlvbiBnKHQsZSl7bGV0IGk9dC5zdHJpbmcoKTtzd2l0Y2goaSl7Y2FzZSJwcm9maWxlLXN0YXJ0Ijp0LmRvbmUoKSxlLmludDMyKDApLGUuZmluYWxpemUoKSxnKHQsZSk7YnJlYWs7Y2FzZSJwcm9maWxlLXN0b3AiOnQuZG9uZSgpLGF3YWl0IG5ldyBQcm9taXNlKCh0PT5zZXRUaW1lb3V0KHQsMWUzKSkpLGUuaW50MzIoMCksZS5maW5hbGl6ZSgpLGcodCxlKTticmVhaztjYXNlIndyaXRlQmxvY2tzIjp7bGV0IGk9dC5zdHJpbmcoKSxzPVtdO2Zvcig7IXQuZG9uZSgpOyl7bGV0IGU9dC5pbnQzMigpLGk9dC5ieXRlcygpO3MucHVzaCh7cG9zOmUsZGF0YTppfSl9YXdhaXQgYXN5bmMgZnVuY3Rpb24odCxlLGkpe3JldHVybiB3KGUsInJlYWR3cml0ZSIsKGFzeW5jIGU9Pnthd2FpdCBlLmJ1bGtTZXQoaS5tYXAoKHQ9Pih7a2V5OnQucG9zLHZhbHVlOnQuZGF0YX0pKSkpLHQuaW50MzIoMCksdC5maW5hbGl6ZSgpfSkpfShlLGkscyksZyh0LGUpO2JyZWFrfWNhc2UicmVhZEJsb2NrIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHcoZSwicmVhZG9ubHkiLChhc3luYyBlPT57bGV0IHM9YXdhaXQgZS5yZWFkKGkpO251bGw9PXM/dC5ieXRlcyhuZXcgQXJyYXlCdWZmZXIoMCkpOnQuYnl0ZXMocyksdC5maW5hbGl6ZSgpfSkpfShlLGkscyksZyh0LGUpO2JyZWFrfWNhc2UicmVhZE1ldGEiOntsZXQgaT10LnN0cmluZygpO3QuZG9uZSgpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHcoZSwicmVhZG9ubHkiLChhc3luYyBpPT57dHJ5e2NvbnNvbGUubG9nKCJSZWFkaW5nIG1ldGEuLi4iKTtsZXQgcz1hd2FpdCBpLmdldCgtMSk7aWYoY29uc29sZS5sb2coYEdvdCBtZXRhIGZvciAke2V9OmAscyksbnVsbD09cyl0LmludDMyKC0xKSx0LmludDMyKDQwOTYpLHQuZmluYWxpemUoKTtlbHNle2xldCBlPWF3YWl0IGkuZ2V0KDApLHI9NDA5NjtlJiYocj0yNTYqbmV3IFVpbnQxNkFycmF5KGUpWzhdKSx0LmludDMyKHMuc2l6ZSksdC5pbnQzMihyKSx0LmZpbmFsaXplKCl9fWNhdGNoKGUpe2NvbnNvbGUubG9nKGUpLHQuaW50MzIoLTEpLHQuaW50MzIoLTEpLHQuZmluYWxpemUoKX19KSl9KGUsaSksZyh0LGUpO2JyZWFrfWNhc2Uid3JpdGVNZXRhIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHcoZSwicmVhZHdyaXRlIiwoYXN5bmMgZT0+e3RyeXthd2FpdCBlLnNldCh7a2V5Oi0xLHZhbHVlOml9KSx0LmludDMyKDApLHQuZmluYWxpemUoKX1jYXRjaChlKXtjb25zb2xlLmxvZyhlKSx0LmludDMyKC0xKSx0LmZpbmFsaXplKCl9fSkpfShlLGkse3NpemU6c30pLGcodCxlKTticmVha31jYXNlImNsb3NlRmlsZSI6e2xldCBpPXQuc3RyaW5nKCk7dC5kb25lKCksZS5pbnQzMigwKSxlLmZpbmFsaXplKCksZnVuY3Rpb24odCl7bGV0IGU9bC5nZXQodCk7ZSYmKGUuY2xvc2UoKSxsLmRlbGV0ZSh0KSl9KGkpLHNlbGYuY2xvc2UoKTticmVha31jYXNlImxvY2tGaWxlIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7bGV0IHM9Yy5nZXQoZSk7aWYocylpZihpPnMubG9ja1R5cGUpe2gocy5sb2NrVHlwZT09PXIsYFVwcmFkaW5nIGxvY2sgdHlwZSBmcm9tICR7cy5sb2NrVHlwZX0gaXMgaW52YWxpZGApLGgoaT09PW58fGk9PT1vLGBVcGdyYWRpbmcgbG9jayB0eXBlIHRvICR7aX0gaXMgaW52YWxpZGApO2xldCBlPWF3YWl0IHMudXBncmFkZUV4Y2x1c2l2ZSgpO3QuaW50MzIoZT8wOi0xKSx0LmZpbmFsaXplKCl9ZWxzZSBoKHMubG9ja1R5cGU9PT1pLGBEb3duZ3JhZGluZyBsb2NrIHRvICR7aX0gaXMgaW52YWxpZGApLHQuaW50MzIoMCksdC5maW5hbGl6ZSgpO2Vsc2V7aChpPT09cixgTmV3IGxvY2tzIG11c3Qgc3RhcnQgYXMgU0hBUkVEIGluc3RlYWQgb2YgJHtpfWApO2xldCBzPW5ldyBmKGF3YWl0IHUoZSkpO2F3YWl0IHMucHJlZmV0Y2hGaXJzdEJsb2NrKDUwMCksYy5zZXQoZSxzKSx0LmludDMyKDApLHQuZmluYWxpemUoKX19KGUsaSxzKSxnKHQsZSk7YnJlYWt9Y2FzZSJ1bmxvY2tGaWxlIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBkKGUsaSxzKSxnKHQsZSk7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbWV0aG9kOiAiK2kpfX1zZWxmLm9ubWVzc2FnZT10PT57c3dpdGNoKHQuZGF0YS50eXBlKXtjYXNlImluaXQiOntsZXRbcyxyXT10LmRhdGEuYnVmZmVycztnKG5ldyBlKHMse25hbWU6ImFyZ3MiLGRlYnVnOiExfSksbmV3IGkocix7bmFtZToicmVzdWx0cyIsZGVidWc6ITF9KSk7YnJlYWt9fX19KCk7Cgo=",pe=null,ge=!1,function(e){return ue=ue||le(ce,pe,ge),new Worker(ue,e)}),he=Object.freeze({__proto__:null,default:we})}}}));
