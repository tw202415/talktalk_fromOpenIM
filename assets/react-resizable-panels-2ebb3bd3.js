import{a as Oe}from"./react-11ad9974.js";const{createElement:fe,createContext:xn,createRef:Qn,forwardRef:Ye,useCallback:H,useContext:Ze,useEffect:oe,useImperativeHandle:Qe,useLayoutEffect:vn,useMemo:Sn,useRef:G,useState:ce}=Oe,Ke=Oe["useId".toString()],Pn=vn,Ce=xn(null);Ce.displayName="PanelGroupContext";const re=Pn,bn=typeof Ke=="function"?Ke:()=>null;let wn=0;function _e(e=null){const n=bn(),t=G(e||n||null);return t.current===null&&(t.current=""+wn++),e!=null?e:t.current}function en({children:e,className:n="",collapsedSize:t,collapsible:o,defaultSize:i,forwardedRef:r,id:l,maxSize:a,minSize:s,onCollapse:p,onExpand:b,onResize:f,order:u,style:y,tagName:d="div",...E}){const w=Ze(Ce);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:M,getPanelSize:R,getPanelStyle:$,groupId:V,isPanelCollapsed:C,reevaluatePanelConstraints:g,registerPanel:B,resizePanel:K,unregisterPanel:Z}=w,W=_e(l),A=G({callbacks:{onCollapse:p,onExpand:b,onResize:f},constraints:{collapsedSize:t,collapsible:o,defaultSize:i,maxSize:a,minSize:s},id:W,idIsFromProps:l!==void 0,order:u});G({didLogMissingDefaultSizeWarning:!1}),re(()=>{const{callbacks:N,constraints:k}=A.current,_={...k};A.current.id=W,A.current.idIsFromProps=l!==void 0,A.current.order=u,N.onCollapse=p,N.onExpand=b,N.onResize=f,k.collapsedSize=t,k.collapsible=o,k.defaultSize=i,k.maxSize=a,k.minSize=s,(_.collapsedSize!==k.collapsedSize||_.collapsible!==k.collapsible||_.maxSize!==k.maxSize||_.minSize!==k.minSize)&&g(A.current,_)}),re(()=>{const N=A.current;return B(N),()=>{Z(N)}},[u,W,B,Z]),Qe(r,()=>({collapse:()=>{S(A.current)},expand:N=>{M(A.current,N)},getId(){return W},getSize(){return R(A.current)},isCollapsed(){return C(A.current)},isExpanded(){return!C(A.current)},resize:N=>{K(A.current,N)}}),[S,M,R,C,W,K]);const j=$(A.current,i);return fe(d,{...E,children:e,className:n,id:l,style:{...j,...y},"data-panel":"","data-panel-collapsible":o||void 0,"data-panel-group-id":V,"data-panel-id":W,"data-panel-size":parseFloat(""+j.flexGrow).toFixed(1)})}const En=Ye((e,n)=>fe(en,{...e,forwardedRef:n}));en.displayName="Panel";En.displayName="forwardRef(Panel)";let ke=null,te=null;function Cn(e,n){if(n){const t=(n&ln)!==0,o=(n&an)!==0,i=(n&sn)!==0,r=(n&un)!==0;if(t)return i?"se-resize":r?"ne-resize":"e-resize";if(o)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ln(){te!==null&&(document.head.removeChild(te),ke=null,te=null)}function De(e,n){const t=Cn(e,n);ke!==t&&(ke=t,te===null&&(te=document.createElement("style"),document.head.appendChild(te)),te.innerHTML="*{cursor: ".concat(t,"!important;}"))}function nn(e){return e.type==="keydown"}function tn(e){return e.type.startsWith("pointer")}function on(e){return e.type.startsWith("mouse")}function Le(e){if(tn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(on(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function In(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Rn(e,n,t){return t?e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y:e.x<=n.x+n.width&&e.x+e.width>=n.x&&e.y<=n.y+n.height&&e.y+e.height>=n.y}function An(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Ve(e),b:Ve(n)};let o;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),o=e;v(o,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ue(We(t.a)),b:Ue(We(t.b))};if(i.a===i.b){const r=o.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let a=r.length;for(;a--;){const s=r[a];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}const Mn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $n(e){var n;const t=getComputedStyle((n=rn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Dn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||$n(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Mn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function We(e){let n=e.length;for(;n--;){const t=e[n];if(v(t,"Missing node"),Dn(t))return t}return null}function Ue(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ve(e){const n=[];for(;e;)n.push(e),e=rn(e);return n}function rn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const ln=1,an=2,sn=4,un=8,Nn=In()==="coarse";let T=[],me=!1,Y=new Map,Ie=new Map;const ye=new Set;function kn(e,n,t,o,i){var r;const{ownerDocument:l}=n,a={direction:t,element:n,hitAreaMargins:o,setResizeHandlerState:i},s=(r=Y.get(l))!==null&&r!==void 0?r:0;return Y.set(l,s+1),ye.add(a),we(),function(){var b;Ie.delete(e),ye.delete(a);const f=(b=Y.get(l))!==null&&b!==void 0?b:1;if(Y.set(l,f-1),we(),f===1&&Y.delete(l),T.includes(a)){const u=T.indexOf(a);u>=0&&T.splice(u,1),Ge()}}}function qe(e){const{target:n}=e,{x:t,y:o}=Le(e);me=!0,He({target:n,x:t,y:o}),we(),T.length>0&&(Ee("down",e),e.preventDefault(),e.stopPropagation())}function pe(e){const{x:n,y:t}=Le(e);if(e.buttons===0&&(me=!1,Ee("up",e)),!me){const{target:o}=e;He({target:o,x:n,y:t})}Ee("move",e),Ge(),T.length>0&&e.preventDefault()}function le(e){const{target:n}=e,{x:t,y:o}=Le(e);Ie.clear(),me=!1,T.length>0&&e.preventDefault(),Ee("up",e),He({target:n,x:t,y:o}),Ge(),we()}function He({target:e,x:n,y:t}){T.splice(0);let o=null;e instanceof HTMLElement&&(o=e),ye.forEach(i=>{const{element:r,hitAreaMargins:l}=i,a=r.getBoundingClientRect(),{bottom:s,left:p,right:b,top:f}=a,u=Nn?l.coarse:l.fine;if(n>=p-u&&n<=b+u&&t>=f-u&&t<=s+u){if(o!==null&&r!==o&&!r.contains(o)&&!o.contains(r)&&An(o,r)>0){let d=o,E=!1;for(;d&&!d.contains(r);){if(Rn(d.getBoundingClientRect(),a,!0)){E=!0;break}d=d.parentElement}if(E)return}T.push(i)}})}function Ne(e,n){Ie.set(e,n)}function Ge(){let e=!1,n=!1;T.forEach(o=>{const{direction:i}=o;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(o=>{t|=o}),e&&n?De("intersection",t):e?De("horizontal",t):n?De("vertical",t):Ln()}function we(){Y.forEach((e,n)=>{const{body:t}=n;t.removeEventListener("contextmenu",le),t.removeEventListener("pointerdown",qe),t.removeEventListener("pointerleave",pe),t.removeEventListener("pointermove",pe)}),window.removeEventListener("pointerup",le),window.removeEventListener("pointercancel",le),ye.size>0&&(me?(T.length>0&&Y.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("contextmenu",le),t.addEventListener("pointerleave",pe),t.addEventListener("pointermove",pe))}),window.addEventListener("pointerup",le),window.addEventListener("pointercancel",le)):Y.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("pointerdown",qe,{capture:!0}),t.addEventListener("pointermove",pe))}))}function Ee(e,n){ye.forEach(t=>{const{setResizeHandlerState:o}=t,i=T.includes(t);o(e,i,n)})}function _n(){const[e,n]=ce(0);return H(()=>n(t=>t+1),[])}function v(e,n){if(!e)throw console.error(n),Error(n)}const Be=10;function ie(e,n,t=Be){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function J(e,n,t=Be){return ie(e,n,t)===0}function F(e,n,t){return ie(e,n,t)===0}function Hn(e,n,t){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){const i=e[o],r=n[o];if(!F(i,r,t))return!1}return!0}function ue({panelConstraints:e,panelIndex:n,size:t}){const o=e[n];v(o!=null,"Panel constraints not found for index ".concat(n));let{collapsedSize:i=0,collapsible:r,maxSize:l=100,minSize:a=0}=o;if(ie(t,a)<0)if(r){const s=(i+a)/2;ie(t,s)<0?t=i:t=a}else t=a;return t=Math.min(l,t),t=parseFloat(t.toFixed(Be)),t}function ge({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:o,prevLayout:i,trigger:r}){if(F(e,0))return n;const l=[...n],[a,s]=o;v(a!=null,"Invalid first pivot index"),v(s!=null,"Invalid second pivot index");let p=0;if(r==="keyboard"){{const f=e<0?s:a,u=t[f];v(u,"Panel constraints not found for index ".concat(f));const{collapsedSize:y=0,collapsible:d,minSize:E=0}=u;if(d){const w=n[f];if(v(w!=null,"Previous layout not found for panel index ".concat(f)),F(w,y)){const S=E-w;ie(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const f=e<0?a:s,u=t[f];v(u,"No panel constraints found for index ".concat(f));const{collapsedSize:y=0,collapsible:d,minSize:E=0}=u;if(d){const w=n[f];if(v(w!=null,"Previous layout not found for panel index ".concat(f)),F(w,E)){const S=w-y;ie(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const f=e<0?1:-1;let u=e<0?s:a,y=0;for(;;){const E=n[u];v(E!=null,"Previous layout not found for panel index ".concat(u));const S=ue({panelConstraints:t,panelIndex:u,size:100})-E;if(y+=S,u+=f,u<0||u>=t.length)break}const d=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-d:d}{let u=e<0?a:s;for(;u>=0&&u<t.length;){const y=Math.abs(e)-Math.abs(p),d=n[u];v(d!=null,"Previous layout not found for panel index ".concat(u));const E=d-y,w=ue({panelConstraints:t,panelIndex:u,size:E});if(!F(d,w)&&(p+=d-w,l[u]=w,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(Hn(i,l))return i;{const f=e<0?s:a,u=n[f];v(u!=null,"Previous layout not found for panel index ".concat(f));const y=u+p,d=ue({panelConstraints:t,panelIndex:f,size:y});if(l[f]=d,!F(d,y)){let E=y-d,S=e<0?s:a;for(;S>=0&&S<t.length;){const M=l[S];v(M!=null,"Previous layout not found for panel index ".concat(S));const R=M+E,$=ue({panelConstraints:t,panelIndex:S,size:R});if(F(M,$)||(E-=$-M,l[S]=$),F(E,0))break;e>0?S--:S++}}}const b=l.reduce((f,u)=>u+f,0);return F(b,100)?l:i}function Gn({layout:e,panelsArray:n,pivotIndices:t}){let o=0,i=100,r=0,l=0;const a=t[0];v(a!=null,"No pivot index found"),n.forEach((f,u)=>{const{constraints:y}=f,{maxSize:d=100,minSize:E=0}=y;u===a?(o=E,i=d):(r+=E,l+=d)});const s=Math.min(i,100-r),p=Math.max(o,100-l),b=e[a];return{valueMax:s,valueMin:p,valueNow:b}}function ze(e,n=document){return Array.from(n.querySelectorAll('[data-panel-resize-handle-id][data-panel-group-id="'.concat(e,'"]')))}function cn(e,n,t=document){const i=ze(e,t).findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===n);return i!=null?i:null}function fn(e,n,t){const o=cn(e,n,t);return o!=null?[o,o+1]:[-1,-1]}function dn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const o=n.querySelector('[data-panel-group][data-panel-group-id="'.concat(e,'"]'));return o||null}function Re(e,n=document){const t=n.querySelector('[data-panel-resize-handle-id="'.concat(e,'"]'));return t||null}function Bn(e,n,t,o=document){var i,r,l,a;const s=Re(n,o),p=ze(e,o),b=s?p.indexOf(s):-1,f=(i=(r=t[b])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,u=(l=(a=t[b+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[f,u]}function Fn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:o,panelDataArray:i,panelGroupElement:r,setLayout:l}){G({didWarnAboutMissingResizeHandle:!1}),re(()=>{if(!r)return;const a=ze(t,r);for(let s=0;s<i.length-1;s++){const{valueMax:p,valueMin:b,valueNow:f}=Gn({layout:o,panelsArray:i,pivotIndices:[s,s+1]}),u=a[s];if(u!=null){const y=i[s];v(y,'No panel data found for index "'.concat(s,'"')),u.setAttribute("aria-controls",y.id),u.setAttribute("aria-valuemax",""+Math.round(p)),u.setAttribute("aria-valuemin",""+Math.round(b)),u.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((s,p)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[t,o,i,r]),oe(()=>{if(!r)return;const a=n.current;v(a,"Eager values not found");const{panelDataArray:s}=a,p=dn(t,r);v(p!=null,'No group found for id "'.concat(t,'"'));const b=ze(t,r);v(b,'No resize handles found for group id "'.concat(t,'"'));const f=b.map(u=>{const y=u.getAttribute("data-panel-resize-handle-id");v(y,"Resize handle element has no handle id attribute");const[d,E]=Bn(t,y,s,r);if(d==null||E==null)return()=>{};const w=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const M=s.findIndex(R=>R.id===d);if(M>=0){const R=s[M];v(R,"No panel data found for index ".concat(M));const $=o[M],{collapsedSize:V=0,collapsible:C,minSize:g=0}=R.constraints;if($!=null&&C){const B=ge({delta:F($,V)?g-V:V-$,initialLayout:o,panelConstraints:s.map(K=>K.constraints),pivotIndices:fn(t,y,r),prevLayout:o,trigger:"keyboard"});o!==B&&l(B)}}break}}};return u.addEventListener("keydown",w),()=>{u.removeEventListener("keydown",w)}});return()=>{f.forEach(u=>u())}},[r,e,n,t,o,i,l])}function Xe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function pn(e,n){const t=e==="horizontal",{x:o,y:i}=Le(n);return t?o:i}function Kn(e,n,t,o,i){const r=t==="horizontal",l=Re(n,i);v(l,'No resize handle element found for id "'.concat(n,'"'));const a=l.getAttribute("data-panel-group-id");v(a,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=o;const p=pn(t,e),b=dn(a,i);v(b,'No group element found for id "'.concat(a,'"'));const f=b.getBoundingClientRect(),u=r?f.width:f.height;return(p-s)/u*100}function Wn(e,n,t,o,i,r){if(nn(e)){const l=t==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let s=0;switch(e.key){case"ArrowDown":s=l?0:a;break;case"ArrowLeft":s=l?-a:0;break;case"ArrowRight":s=l?a:0;break;case"ArrowUp":s=l?0:-a;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return o==null?0:Kn(e,n,t,o,r)}function Un({panelDataArray:e}){const n=Array(e.length),t=e.map(r=>r.constraints);let o=0,i=100;for(let r=0;r<e.length;r++){const l=t[r];v(l,"Panel constraints not found for index ".concat(r));const{defaultSize:a}=l;a!=null&&(o++,n[r]=a,i-=a)}for(let r=0;r<e.length;r++){const l=t[r];v(l,"Panel constraints not found for index ".concat(r));const{defaultSize:a}=l;if(a!=null)continue;const s=e.length-o,p=i/s;o++,n[r]=p,i-=p}return n}function ae(e,n,t){n.forEach((o,i)=>{const r=e[i];v(r,"Panel data not found for index ".concat(i));const{callbacks:l,constraints:a,id:s}=r,{collapsedSize:p=0,collapsible:b}=a,f=t[s];if(f==null||o!==f){t[s]=o;const{onCollapse:u,onExpand:y,onResize:d}=l;d&&d(o,f),b&&(u||y)&&(y&&(f==null||J(f,p))&&!J(o,p)&&y(),u&&(f==null||!J(f,p))&&J(o,p)&&u())}})}function be(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Vn({defaultSize:e,dragState:n,layout:t,panelData:o,panelIndex:i,precision:r=3}){const l=t[i];let a;return l==null?a=e!=null?e.toPrecision(r):"1":o.length===1?a="1":a=l.toPrecision(r),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function qn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Te(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function gn(e){return"react-resizable-panels:".concat(e)}function hn(e){return e.map(n=>{const{constraints:t,id:o,idIsFromProps:i,order:r}=n;return i?o:r?"".concat(r,":").concat(JSON.stringify(t)):JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function mn(e,n){try{const t=gn(e),o=n.getItem(t);if(o){const i=JSON.parse(o);if(typeof i=="object"&&i!=null)return i}}catch(t){}return null}function Xn(e,n,t){var o,i;const r=(o=mn(e,t))!==null&&o!==void 0?o:{},l=hn(n);return(i=r[l])!==null&&i!==void 0?i:null}function Tn(e,n,t,o,i){var r;const l=gn(e),a=hn(n),s=(r=mn(e,i))!==null&&r!==void 0?r:{};s[a]={expandToSizes:Object.fromEntries(t.entries()),layout:o};try{i.setItem(l,JSON.stringify(s))}catch(p){console.error(p)}}function Je({layout:e,panelConstraints:n}){const t=[...e],o=t.reduce((r,l)=>r+l,0);if(t.length!==n.length)throw Error("Invalid ".concat(n.length," panel layout: ").concat(t.map(r=>"".concat(r,"%")).join(", ")));if(!F(o,100))for(let r=0;r<n.length;r++){const l=t[r];v(l!=null,"No layout data found for index ".concat(r));const a=100/o*l;t[r]=a}let i=0;for(let r=0;r<n.length;r++){const l=t[r];v(l!=null,"No layout data found for index ".concat(r));const a=ue({panelConstraints:n,panelIndex:r,size:l});l!=a&&(i+=l-a,t[r]=a)}if(!F(i,0))for(let r=0;r<n.length;r++){const l=t[r];v(l!=null,"No layout data found for index ".concat(r));const a=l+i,s=ue({panelConstraints:n,panelIndex:r,size:a});if(l!==s&&(i-=s-l,t[r]=s,F(i,0)))break}return t}const Jn=100,he={getItem:e=>(Te(he),he.getItem(e)),setItem:(e,n)=>{Te(he),he.setItem(e,n)}},je={};function yn({autoSaveId:e=null,children:n,className:t="",direction:o,forwardedRef:i,id:r=null,onLayout:l=null,keyboardResizeBy:a=null,storage:s=he,style:p,tagName:b="div",...f}){const u=_e(r),y=G(null),[d,E]=ce(null),[w,S]=ce([]),M=_n(),R=G({}),$=G(new Map),V=G(0),C=G({autoSaveId:e,direction:o,dragState:d,id:u,keyboardResizeBy:a,onLayout:l,storage:s}),g=G({layout:w,panelDataArray:[],panelDataArrayChanged:!1});G({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Qe(i,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:c}=g.current;return c},setLayout:c=>{const{onLayout:x}=C.current,{layout:z,panelDataArray:h}=g.current,m=Je({layout:c,panelConstraints:h.map(P=>P.constraints)});Xe(z,m)||(S(m),g.current.layout=m,x&&x(m),ae(h,m,R.current))}}),[]),re(()=>{C.current.autoSaveId=e,C.current.direction=o,C.current.dragState=d,C.current.id=u,C.current.onLayout=l,C.current.storage=s}),Fn({committedValuesRef:C,eagerValuesRef:g,groupId:u,layout:w,panelDataArray:g.current.panelDataArray,setLayout:S,panelGroupElement:y.current}),oe(()=>{const{panelDataArray:c}=g.current;if(e){if(w.length===0||w.length!==c.length)return;let x=je[e];x==null&&(x=qn(Tn,Jn),je[e]=x);const z=[...c],h=new Map($.current);x(e,z,h,w,s)}},[e,w,s]),oe(()=>{});const B=H(c=>{const{onLayout:x}=C.current,{layout:z,panelDataArray:h}=g.current;if(c.constraints.collapsible){const m=h.map(q=>q.constraints),{collapsedSize:P=0,panelSize:L,pivotIndices:D}=ne(h,c,z);if(v(L!=null,'Panel size not found for panel "'.concat(c.id,'"')),!J(L,P)){$.current.set(c.id,L);const U=se(h,c)===h.length-1?L-P:P-L,I=ge({delta:U,initialLayout:z,panelConstraints:m,pivotIndices:D,prevLayout:z,trigger:"imperative-api"});be(z,I)||(S(I),g.current.layout=I,x&&x(I),ae(h,I,R.current))}}},[]),K=H((c,x)=>{const{onLayout:z}=C.current,{layout:h,panelDataArray:m}=g.current;if(c.constraints.collapsible){const P=m.map(X=>X.constraints),{collapsedSize:L=0,panelSize:D=0,minSize:q=0,pivotIndices:U}=ne(m,c,h),I=x!=null?x:q;if(J(D,L)){const X=$.current.get(c.id),Se=X!=null&&X>=I?X:I,Pe=se(m,c)===m.length-1?D-Se:Se-D,ee=ge({delta:Pe,initialLayout:h,panelConstraints:P,pivotIndices:U,prevLayout:h,trigger:"imperative-api"});be(h,ee)||(S(ee),g.current.layout=ee,z&&z(ee),ae(m,ee,R.current))}}},[]),Z=H(c=>{const{layout:x,panelDataArray:z}=g.current,{panelSize:h}=ne(z,c,x);return v(h!=null,'Panel size not found for panel "'.concat(c.id,'"')),h},[]),W=H((c,x)=>{const{panelDataArray:z}=g.current,h=se(z,c);return Vn({defaultSize:x,dragState:d,layout:w,panelData:z,panelIndex:h})},[d,w]),A=H(c=>{const{layout:x,panelDataArray:z}=g.current,{collapsedSize:h=0,collapsible:m,panelSize:P}=ne(z,c,x);return v(P!=null,'Panel size not found for panel "'.concat(c.id,'"')),m===!0&&J(P,h)},[]),j=H(c=>{const{layout:x,panelDataArray:z}=g.current,{collapsedSize:h=0,collapsible:m,panelSize:P}=ne(z,c,x);return v(P!=null,'Panel size not found for panel "'.concat(c.id,'"')),!m||ie(P,h)>0},[]),N=H(c=>{const{panelDataArray:x}=g.current;x.push(c),x.sort((z,h)=>{const m=z.order,P=h.order;return m==null&&P==null?0:m==null?-1:P==null?1:m-P}),g.current.panelDataArrayChanged=!0,M()},[M]);re(()=>{if(g.current.panelDataArrayChanged){g.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:x,storage:z}=C.current,{layout:h,panelDataArray:m}=g.current;let P=null;if(c){const D=Xn(c,m,z);D&&($.current=new Map(Object.entries(D.expandToSizes)),P=D.layout)}P==null&&(P=Un({panelDataArray:m}));const L=Je({layout:P,panelConstraints:m.map(D=>D.constraints)});Xe(h,L)||(S(L),g.current.layout=L,x&&x(L),ae(m,L,R.current))}}),re(()=>{const c=g.current;return()=>{c.layout=[]}},[]);const k=H(c=>function(z){z.preventDefault();const h=y.current;if(!h)return()=>null;const{direction:m,dragState:P,id:L,keyboardResizeBy:D,onLayout:q}=C.current,{layout:U,panelDataArray:I}=g.current,{initialLayout:X}=P!=null?P:{},Se=fn(L,c,h);let O=Wn(z,c,m,P,D,h);const Pe=m==="horizontal";document.dir==="rtl"&&Pe&&(O=-O);const ee=I.map(zn=>zn.constraints),de=ge({delta:O,initialLayout:X!=null?X:U,panelConstraints:ee,pivotIndices:Se,prevLayout:U,trigger:nn(z)?"keyboard":"mouse-or-touch"}),Fe=!be(U,de);(tn(z)||on(z))&&V.current!=O&&(V.current=O,Fe?Ne(c,0):Pe?Ne(c,O<0?ln:an):Ne(c,O<0?sn:un)),Fe&&(S(de),g.current.layout=de,q&&q(de),ae(I,de,R.current))},[]),_=H((c,x)=>{const{onLayout:z}=C.current,{layout:h,panelDataArray:m}=g.current,P=m.map(X=>X.constraints),{panelSize:L,pivotIndices:D}=ne(m,c,h);v(L!=null,'Panel size not found for panel "'.concat(c.id,'"'));const U=se(m,c)===m.length-1?L-x:x-L,I=ge({delta:U,initialLayout:h,panelConstraints:P,pivotIndices:D,prevLayout:h,trigger:"imperative-api"});be(h,I)||(S(I),g.current.layout=I,z&&z(I),ae(m,I,R.current))},[]),Ae=H((c,x)=>{const{layout:z,panelDataArray:h}=g.current,{collapsedSize:m=0,collapsible:P}=x,{collapsedSize:L=0,collapsible:D,maxSize:q=100,minSize:U=0}=c.constraints,{panelSize:I}=ne(h,c,z);I!=null&&(P&&D&&J(I,m)?J(m,L)||_(c,L):I<U?_(c,U):I>q&&_(c,q))},[_]),Q=H((c,x)=>{const{direction:z}=C.current,{layout:h}=g.current;if(!y.current)return;const m=Re(c,y.current);v(m,'Drag handle element not found for id "'.concat(c,'"'));const P=pn(z,x);E({dragHandleId:c,dragHandleRect:m.getBoundingClientRect(),initialCursorPosition:P,initialLayout:h})},[]),Me=H(()=>{E(null)},[]),xe=H(c=>{const{panelDataArray:x}=g.current,z=se(x,c);z>=0&&(x.splice(z,1),delete R.current[c.id],g.current.panelDataArrayChanged=!0,M())},[M]),$e=Sn(()=>({collapsePanel:B,direction:o,dragState:d,expandPanel:K,getPanelSize:Z,getPanelStyle:W,groupId:u,isPanelCollapsed:A,isPanelExpanded:j,reevaluatePanelConstraints:Ae,registerPanel:N,registerResizeHandle:k,resizePanel:_,startDragging:Q,stopDragging:Me,unregisterPanel:xe,panelGroupElement:y.current}),[B,d,o,K,Z,W,u,A,j,Ae,N,k,_,Q,Me,xe]),ve={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return fe(Ce.Provider,{value:$e},fe(b,{...f,children:n,className:t,id:r,ref:y,style:{...ve,...p},"data-panel-group":"","data-panel-group-direction":o,"data-panel-group-id":u}))}const jn=Ye((e,n)=>fe(yn,{...e,forwardedRef:n}));yn.displayName="PanelGroup";jn.displayName="forwardRef(PanelGroup)";function se(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const o=se(e,n),r=o===e.length-1?[o-1,o]:[o,o+1],l=t[o];return{...n.constraints,panelSize:l,pivotIndices:r}}function On({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:o}){oe(()=>{if(e||t==null||o==null)return;const i=Re(n,o);if(i==null)return;const r=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const a=i.getAttribute("data-panel-group-id");v(a,'No group element found for id "'.concat(a,'"'));const s=ze(a,o),p=cn(a,n,o);v(p!==null,'No resize element found for id "'.concat(n,'"'));const b=l.shiftKey?p>0?p-1:s.length-1:p+1<s.length?p+1:0;s[b].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[o,e,n,t])}function Yn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:o,id:i,onBlur:r,onDragging:l,onFocus:a,style:s={},tabIndex:p=0,tagName:b="div",...f}){var u,y;const d=G(null),E=G({onDragging:l});oe(()=>{E.current.onDragging=l});const w=Ze(Ce);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:M,registerResizeHandle:R,startDragging:$,stopDragging:V,panelGroupElement:C}=w,g=_e(i),[B,K]=ce("inactive"),[Z,W]=ce(!1),[A,j]=ce(null),N=G({state:B});re(()=>{N.current.state=B}),oe(()=>{if(t)j(null);else{const Q=R(g);j(()=>Q)}},[t,g,R]);const k=(u=o==null?void 0:o.coarse)!==null&&u!==void 0?u:15,_=(y=o==null?void 0:o.fine)!==null&&y!==void 0?y:5;return oe(()=>{if(t||A==null)return;const Q=d.current;return v(Q,"Element ref not attached"),kn(g,Q,S,{coarse:k,fine:_},(xe,$e,ve)=>{if($e)switch(xe){case"down":{K("drag"),$(g,ve);const{onDragging:c}=E.current;c&&c(!0);break}case"move":{const{state:c}=N.current;c!=="drag"&&K("hover"),A(ve);break}case"up":{K("hover"),V();const{onDragging:c}=E.current;c&&c(!1);break}}else K("inactive")})},[k,S,t,_,R,g,A,$,V]),On({disabled:t,handleId:g,resizeHandler:A,panelGroupElement:C}),fe(b,{...f,children:e,className:n,id:i,onBlur:()=>{W(!1),r==null||r()},onFocus:()=>{W(!0),a==null||a()},ref:d,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...s},tabIndex:p,"data-panel-group-direction":S,"data-panel-group-id":M,"data-resize-handle":"","data-resize-handle-active":B==="drag"?"pointer":Z?"keyboard":void 0,"data-resize-handle-state":B,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":g})}Yn.displayName="PanelResizeHandle";export{jn as P,En as a,Yn as b};
